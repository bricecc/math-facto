(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function s(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=s(a);fetch(a.href,o)}})();function getDefaultExportFromCjs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function getAugmentedNamespace(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var r=t.default;if(typeof r=="function"){var s=function n(){return this instanceof n?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};s.prototype=r.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var a=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(s,n,a.get?a:{enumerable:!0,get:function(){return t[n]}})}),s}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReact_production_min;function requireReact_production_min(){if(hasRequiredReact_production_min)return react_production_min;hasRequiredReact_production_min=1;var t=Symbol.for("react.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;function p(K){return K===null||typeof K!="object"?null:(K=d&&K[d]||K["@@iterator"],typeof K=="function"?K:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,b={};function w(K,te,ae){this.props=K,this.context=te,this.refs=b,this.updater=ae||v}w.prototype.isReactComponent={},w.prototype.setState=function(K,te){if(typeof K!="object"&&typeof K!="function"&&K!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,te,"setState")},w.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};function x(){}x.prototype=w.prototype;function A(K,te,ae){this.props=K,this.context=te,this.refs=b,this.updater=ae||v}var S=A.prototype=new x;S.constructor=A,y(S,w.prototype),S.isPureReactComponent=!0;var _=Array.isArray,$=Object.prototype.hasOwnProperty,M={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function O(K,te,ae){var ee,de={},ce=null,xe=null;if(te!=null)for(ee in te.ref!==void 0&&(xe=te.ref),te.key!==void 0&&(ce=""+te.key),te)$.call(te,ee)&&!T.hasOwnProperty(ee)&&(de[ee]=te[ee]);var Me=arguments.length-2;if(Me===1)de.children=ae;else if(1<Me){for(var Ae=Array(Me),Xe=0;Xe<Me;Xe++)Ae[Xe]=arguments[Xe+2];de.children=Ae}if(K&&K.defaultProps)for(ee in Me=K.defaultProps,Me)de[ee]===void 0&&(de[ee]=Me[ee]);return{$$typeof:t,type:K,key:ce,ref:xe,props:de,_owner:M.current}}function B(K,te){return{$$typeof:t,type:K.type,key:te,ref:K.ref,props:K.props,_owner:K._owner}}function J(K){return typeof K=="object"&&K!==null&&K.$$typeof===t}function F(K){var te={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(ae){return te[ae]})}var z=/\/+/g;function Z(K,te){return typeof K=="object"&&K!==null&&K.key!=null?F(""+K.key):te.toString(36)}function se(K,te,ae,ee,de){var ce=typeof K;(ce==="undefined"||ce==="boolean")&&(K=null);var xe=!1;if(K===null)xe=!0;else switch(ce){case"string":case"number":xe=!0;break;case"object":switch(K.$$typeof){case t:case r:xe=!0}}if(xe)return xe=K,de=de(xe),K=ee===""?"."+Z(xe,0):ee,_(de)?(ae="",K!=null&&(ae=K.replace(z,"$&/")+"/"),se(de,te,ae,"",function(Xe){return Xe})):de!=null&&(J(de)&&(de=B(de,ae+(!de.key||xe&&xe.key===de.key?"":(""+de.key).replace(z,"$&/")+"/")+K)),te.push(de)),1;if(xe=0,ee=ee===""?".":ee+":",_(K))for(var Me=0;Me<K.length;Me++){ce=K[Me];var Ae=ee+Z(ce,Me);xe+=se(ce,te,ae,Ae,de)}else if(Ae=p(K),typeof Ae=="function")for(K=Ae.call(K),Me=0;!(ce=K.next()).done;)ce=ce.value,Ae=ee+Z(ce,Me++),xe+=se(ce,te,ae,Ae,de);else if(ce==="object")throw te=String(K),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.");return xe}function ie(K,te,ae){if(K==null)return K;var ee=[],de=0;return se(K,ee,"","",function(ce){return te.call(ae,ce,de++)}),ee}function U(K){if(K._status===-1){var te=K._result;te=te(),te.then(function(ae){(K._status===0||K._status===-1)&&(K._status=1,K._result=ae)},function(ae){(K._status===0||K._status===-1)&&(K._status=2,K._result=ae)}),K._status===-1&&(K._status=0,K._result=te)}if(K._status===1)return K._result.default;throw K._result}var H={current:null},ue={transition:null},Y={ReactCurrentDispatcher:H,ReactCurrentBatchConfig:ue,ReactCurrentOwner:M};return react_production_min.Children={map:ie,forEach:function(K,te,ae){ie(K,function(){te.apply(this,arguments)},ae)},count:function(K){var te=0;return ie(K,function(){te++}),te},toArray:function(K){return ie(K,function(te){return te})||[]},only:function(K){if(!J(K))throw Error("React.Children.only expected to receive a single React element child.");return K}},react_production_min.Component=w,react_production_min.Fragment=s,react_production_min.Profiler=a,react_production_min.PureComponent=A,react_production_min.StrictMode=n,react_production_min.Suspense=f,react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,react_production_min.cloneElement=function(K,te,ae){if(K==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+K+".");var ee=y({},K.props),de=K.key,ce=K.ref,xe=K._owner;if(te!=null){if(te.ref!==void 0&&(ce=te.ref,xe=M.current),te.key!==void 0&&(de=""+te.key),K.type&&K.type.defaultProps)var Me=K.type.defaultProps;for(Ae in te)$.call(te,Ae)&&!T.hasOwnProperty(Ae)&&(ee[Ae]=te[Ae]===void 0&&Me!==void 0?Me[Ae]:te[Ae])}var Ae=arguments.length-2;if(Ae===1)ee.children=ae;else if(1<Ae){Me=Array(Ae);for(var Xe=0;Xe<Ae;Xe++)Me[Xe]=arguments[Xe+2];ee.children=Me}return{$$typeof:t,type:K.type,key:de,ref:ce,props:ee,_owner:xe}},react_production_min.createContext=function(K){return K={$$typeof:l,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},K.Provider={$$typeof:o,_context:K},K.Consumer=K},react_production_min.createElement=O,react_production_min.createFactory=function(K){var te=O.bind(null,K);return te.type=K,te},react_production_min.createRef=function(){return{current:null}},react_production_min.forwardRef=function(K){return{$$typeof:u,render:K}},react_production_min.isValidElement=J,react_production_min.lazy=function(K){return{$$typeof:h,_payload:{_status:-1,_result:K},_init:U}},react_production_min.memo=function(K,te){return{$$typeof:c,type:K,compare:te===void 0?null:te}},react_production_min.startTransition=function(K){var te=ue.transition;ue.transition={};try{K()}finally{ue.transition=te}},react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},react_production_min.useCallback=function(K,te){return H.current.useCallback(K,te)},react_production_min.useContext=function(K){return H.current.useContext(K)},react_production_min.useDebugValue=function(){},react_production_min.useDeferredValue=function(K){return H.current.useDeferredValue(K)},react_production_min.useEffect=function(K,te){return H.current.useEffect(K,te)},react_production_min.useId=function(){return H.current.useId()},react_production_min.useImperativeHandle=function(K,te,ae){return H.current.useImperativeHandle(K,te,ae)},react_production_min.useInsertionEffect=function(K,te){return H.current.useInsertionEffect(K,te)},react_production_min.useLayoutEffect=function(K,te){return H.current.useLayoutEffect(K,te)},react_production_min.useMemo=function(K,te){return H.current.useMemo(K,te)},react_production_min.useReducer=function(K,te,ae){return H.current.useReducer(K,te,ae)},react_production_min.useRef=function(K){return H.current.useRef(K)},react_production_min.useState=function(K){return H.current.useState(K)},react_production_min.useSyncExternalStore=function(K,te,ae){return H.current.useSyncExternalStore(K,te,ae)},react_production_min.useTransition=function(){return H.current.useTransition()},react_production_min.version="18.2.0",react_production_min}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production_min()),react.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactJsxRuntime_production_min;function requireReactJsxRuntime_production_min(){if(hasRequiredReactJsxRuntime_production_min)return reactJsxRuntime_production_min;hasRequiredReactJsxRuntime_production_min=1;var t=requireReact(),r=Symbol.for("react.element"),s=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(u,f,c){var h,d={},p=null,v=null;c!==void 0&&(p=""+c),f.key!==void 0&&(p=""+f.key),f.ref!==void 0&&(v=f.ref);for(h in f)n.call(f,h)&&!o.hasOwnProperty(h)&&(d[h]=f[h]);if(u&&u.defaultProps)for(h in f=u.defaultProps,f)d[h]===void 0&&(d[h]=f[h]);return{$$typeof:r,type:u,key:p,ref:v,props:d,_owner:a.current}}return reactJsxRuntime_production_min.Fragment=s,reactJsxRuntime_production_min.jsx=l,reactJsxRuntime_production_min.jsxs=l,reactJsxRuntime_production_min}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production_min()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime(),reactExports=requireReact();const React=getDefaultExportFromCjs(reactExports);var client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production_min;function requireScheduler_production_min(){return hasRequiredScheduler_production_min||(hasRequiredScheduler_production_min=1,(function(t){function r(ue,Y){var K=ue.length;ue.push(Y);e:for(;0<K;){var te=K-1>>>1,ae=ue[te];if(0<a(ae,Y))ue[te]=Y,ue[K]=ae,K=te;else break e}}function s(ue){return ue.length===0?null:ue[0]}function n(ue){if(ue.length===0)return null;var Y=ue[0],K=ue.pop();if(K!==Y){ue[0]=K;e:for(var te=0,ae=ue.length,ee=ae>>>1;te<ee;){var de=2*(te+1)-1,ce=ue[de],xe=de+1,Me=ue[xe];if(0>a(ce,K))xe<ae&&0>a(Me,ce)?(ue[te]=Me,ue[xe]=K,te=xe):(ue[te]=ce,ue[de]=K,te=de);else if(xe<ae&&0>a(Me,K))ue[te]=Me,ue[xe]=K,te=xe;else break e}}return Y}function a(ue,Y){var K=ue.sortIndex-Y.sortIndex;return K!==0?K:ue.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var f=[],c=[],h=1,d=null,p=3,v=!1,y=!1,b=!1,w=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(ue){for(var Y=s(c);Y!==null;){if(Y.callback===null)n(c);else if(Y.startTime<=ue)n(c),Y.sortIndex=Y.expirationTime,r(f,Y);else break;Y=s(c)}}function _(ue){if(b=!1,S(ue),!y)if(s(f)!==null)y=!0,U($);else{var Y=s(c);Y!==null&&H(_,Y.startTime-ue)}}function $(ue,Y){y=!1,b&&(b=!1,x(O),O=-1),v=!0;var K=p;try{for(S(Y),d=s(f);d!==null&&(!(d.expirationTime>Y)||ue&&!F());){var te=d.callback;if(typeof te=="function"){d.callback=null,p=d.priorityLevel;var ae=te(d.expirationTime<=Y);Y=t.unstable_now(),typeof ae=="function"?d.callback=ae:d===s(f)&&n(f),S(Y)}else n(f);d=s(f)}if(d!==null)var ee=!0;else{var de=s(c);de!==null&&H(_,de.startTime-Y),ee=!1}return ee}finally{d=null,p=K,v=!1}}var M=!1,T=null,O=-1,B=5,J=-1;function F(){return!(t.unstable_now()-J<B)}function z(){if(T!==null){var ue=t.unstable_now();J=ue;var Y=!0;try{Y=T(!0,ue)}finally{Y?Z():(M=!1,T=null)}}else M=!1}var Z;if(typeof A=="function")Z=function(){A(z)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,ie=se.port2;se.port1.onmessage=z,Z=function(){ie.postMessage(null)}}else Z=function(){w(z,0)};function U(ue){T=ue,M||(M=!0,Z())}function H(ue,Y){O=w(function(){ue(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ue){ue.callback=null},t.unstable_continueExecution=function(){y||v||(y=!0,U($))},t.unstable_forceFrameRate=function(ue){0>ue||125<ue?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<ue?Math.floor(1e3/ue):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return s(f)},t.unstable_next=function(ue){switch(p){case 1:case 2:case 3:var Y=3;break;default:Y=p}var K=p;p=Y;try{return ue()}finally{p=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ue,Y){switch(ue){case 1:case 2:case 3:case 4:case 5:break;default:ue=3}var K=p;p=ue;try{return Y()}finally{p=K}},t.unstable_scheduleCallback=function(ue,Y,K){var te=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?te+K:te):K=te,ue){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=K+ae,ue={id:h++,callback:Y,priorityLevel:ue,startTime:K,expirationTime:ae,sortIndex:-1},K>te?(ue.sortIndex=K,r(c,ue),s(f)===null&&ue===s(c)&&(b?(x(O),O=-1):b=!0,H(_,K-te))):(ue.sortIndex=ae,r(f,ue),y||v||(y=!0,U($))),ue},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(ue){var Y=p;return function(){var K=p;p=Y;try{return ue.apply(this,arguments)}finally{p=K}}}})(scheduler_production_min)),scheduler_production_min}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production_min()),scheduler.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDom_production_min;function requireReactDom_production_min(){if(hasRequiredReactDom_production_min)return reactDom_production_min;hasRequiredReactDom_production_min=1;var t=requireReact(),r=requireScheduler();function s(m){for(var g="https://reactjs.org/docs/error-decoder.html?invariant="+m,N=1;N<arguments.length;N++)g+="&args[]="+encodeURIComponent(arguments[N]);return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,a={};function o(m,g){l(m,g),l(m+"Capture",g)}function l(m,g){for(a[m]=g,m=0;m<g.length;m++)n.add(g[m])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},d={};function p(m){return f.call(d,m)?!0:f.call(h,m)?!1:c.test(m)?d[m]=!0:(h[m]=!0,!1)}function v(m,g,N,X){if(N!==null&&N.type===0)return!1;switch(typeof g){case"function":case"symbol":return!0;case"boolean":return X?!1:N!==null?!N.acceptsBooleans:(m=m.toLowerCase().slice(0,5),m!=="data-"&&m!=="aria-");default:return!1}}function y(m,g,N,X){if(g===null||typeof g>"u"||v(m,g,N,X))return!0;if(X)return!1;if(N!==null)switch(N.type){case 3:return!g;case 4:return g===!1;case 5:return isNaN(g);case 6:return isNaN(g)||1>g}return!1}function b(m,g,N,X,R,j,le){this.acceptsBooleans=g===2||g===3||g===4,this.attributeName=X,this.attributeNamespace=R,this.mustUseProperty=N,this.propertyName=m,this.type=g,this.sanitizeURL=j,this.removeEmptyString=le}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(m){w[m]=new b(m,0,!1,m,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(m){var g=m[0];w[g]=new b(g,1,!1,m[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(m){w[m]=new b(m,2,!1,m.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(m){w[m]=new b(m,2,!1,m,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(m){w[m]=new b(m,3,!1,m.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(m){w[m]=new b(m,3,!0,m,null,!1,!1)}),["capture","download"].forEach(function(m){w[m]=new b(m,4,!1,m,null,!1,!1)}),["cols","rows","size","span"].forEach(function(m){w[m]=new b(m,6,!1,m,null,!1,!1)}),["rowSpan","start"].forEach(function(m){w[m]=new b(m,5,!1,m.toLowerCase(),null,!1,!1)});var x=/[\-:]([a-z])/g;function A(m){return m[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(m){var g=m.replace(x,A);w[g]=new b(g,1,!1,m,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(m){var g=m.replace(x,A);w[g]=new b(g,1,!1,m,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(m){var g=m.replace(x,A);w[g]=new b(g,1,!1,m,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(m){w[m]=new b(m,1,!1,m.toLowerCase(),null,!1,!1)}),w.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(m){w[m]=new b(m,1,!1,m.toLowerCase(),null,!0,!0)});function S(m,g,N,X){var R=w.hasOwnProperty(g)?w[g]:null;(R!==null?R.type!==0:X||!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(y(g,N,R,X)&&(N=null),X||R===null?p(g)&&(N===null?m.removeAttribute(g):m.setAttribute(g,""+N)):R.mustUseProperty?m[R.propertyName]=N===null?R.type===3?!1:"":N:(g=R.attributeName,X=R.attributeNamespace,N===null?m.removeAttribute(g):(R=R.type,N=R===3||R===4&&N===!0?"":""+N,X?m.setAttributeNS(X,g,N):m.setAttribute(g,N))))}var _=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$=Symbol.for("react.element"),M=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),J=Symbol.for("react.provider"),F=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),se=Symbol.for("react.suspense_list"),ie=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),H=Symbol.for("react.offscreen"),ue=Symbol.iterator;function Y(m){return m===null||typeof m!="object"?null:(m=ue&&m[ue]||m["@@iterator"],typeof m=="function"?m:null)}var K=Object.assign,te;function ae(m){if(te===void 0)try{throw Error()}catch(N){var g=N.stack.trim().match(/\n( *(at )?)/);te=g&&g[1]||""}return`
`+te+m}var ee=!1;function de(m,g){if(!m||ee)return"";ee=!0;var N=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(g)if(g=function(){throw Error()},Object.defineProperty(g.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(g,[])}catch(We){var X=We}Reflect.construct(m,[],g)}else{try{g.call()}catch(We){X=We}m.call(g.prototype)}else{try{throw Error()}catch(We){X=We}m()}}catch(We){if(We&&X&&typeof We.stack=="string"){for(var R=We.stack.split(`
`),j=X.stack.split(`
`),le=R.length-1,Ne=j.length-1;1<=le&&0<=Ne&&R[le]!==j[Ne];)Ne--;for(;1<=le&&0<=Ne;le--,Ne--)if(R[le]!==j[Ne]){if(le!==1||Ne!==1)do if(le--,Ne--,0>Ne||R[le]!==j[Ne]){var Pe=`
`+R[le].replace(" at new "," at ");return m.displayName&&Pe.includes("<anonymous>")&&(Pe=Pe.replace("<anonymous>",m.displayName)),Pe}while(1<=le&&0<=Ne);break}}}finally{ee=!1,Error.prepareStackTrace=N}return(m=m?m.displayName||m.name:"")?ae(m):""}function ce(m){switch(m.tag){case 5:return ae(m.type);case 16:return ae("Lazy");case 13:return ae("Suspense");case 19:return ae("SuspenseList");case 0:case 2:case 15:return m=de(m.type,!1),m;case 11:return m=de(m.type.render,!1),m;case 1:return m=de(m.type,!0),m;default:return""}}function xe(m){if(m==null)return null;if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m;switch(m){case T:return"Fragment";case M:return"Portal";case B:return"Profiler";case O:return"StrictMode";case Z:return"Suspense";case se:return"SuspenseList"}if(typeof m=="object")switch(m.$$typeof){case F:return(m.displayName||"Context")+".Consumer";case J:return(m._context.displayName||"Context")+".Provider";case z:var g=m.render;return m=m.displayName,m||(m=g.displayName||g.name||"",m=m!==""?"ForwardRef("+m+")":"ForwardRef"),m;case ie:return g=m.displayName||null,g!==null?g:xe(m.type)||"Memo";case U:g=m._payload,m=m._init;try{return xe(m(g))}catch{}}return null}function Me(m){var g=m.type;switch(m.tag){case 24:return"Cache";case 9:return(g.displayName||"Context")+".Consumer";case 10:return(g._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return m=g.render,m=m.displayName||m.name||"",g.displayName||(m!==""?"ForwardRef("+m+")":"ForwardRef");case 7:return"Fragment";case 5:return g;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xe(g);case 8:return g===O?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof g=="function")return g.displayName||g.name||null;if(typeof g=="string")return g}return null}function Ae(m){switch(typeof m){case"boolean":case"number":case"string":case"undefined":return m;case"object":return m;default:return""}}function Xe(m){var g=m.type;return(m=m.nodeName)&&m.toLowerCase()==="input"&&(g==="checkbox"||g==="radio")}function Be(m){var g=Xe(m)?"checked":"value",N=Object.getOwnPropertyDescriptor(m.constructor.prototype,g),X=""+m[g];if(!m.hasOwnProperty(g)&&typeof N<"u"&&typeof N.get=="function"&&typeof N.set=="function"){var R=N.get,j=N.set;return Object.defineProperty(m,g,{configurable:!0,get:function(){return R.call(this)},set:function(le){X=""+le,j.call(this,le)}}),Object.defineProperty(m,g,{enumerable:N.enumerable}),{getValue:function(){return X},setValue:function(le){X=""+le},stopTracking:function(){m._valueTracker=null,delete m[g]}}}}function Ze(m){m._valueTracker||(m._valueTracker=Be(m))}function nt(m){if(!m)return!1;var g=m._valueTracker;if(!g)return!0;var N=g.getValue(),X="";return m&&(X=Xe(m)?m.checked?"true":"false":m.value),m=X,m!==N?(g.setValue(m),!0):!1}function rt(m){if(m=m||(typeof document<"u"?document:void 0),typeof m>"u")return null;try{return m.activeElement||m.body}catch{return m.body}}function it(m,g){var N=g.checked;return K({},g,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:N??m._wrapperState.initialChecked})}function me(m,g){var N=g.defaultValue==null?"":g.defaultValue,X=g.checked!=null?g.checked:g.defaultChecked;N=Ae(g.value!=null?g.value:N),m._wrapperState={initialChecked:X,initialValue:N,controlled:g.type==="checkbox"||g.type==="radio"?g.checked!=null:g.value!=null}}function be(m,g){g=g.checked,g!=null&&S(m,"checked",g,!1)}function Re(m,g){be(m,g);var N=Ae(g.value),X=g.type;if(N!=null)X==="number"?(N===0&&m.value===""||m.value!=N)&&(m.value=""+N):m.value!==""+N&&(m.value=""+N);else if(X==="submit"||X==="reset"){m.removeAttribute("value");return}g.hasOwnProperty("value")?$e(m,g.type,N):g.hasOwnProperty("defaultValue")&&$e(m,g.type,Ae(g.defaultValue)),g.checked==null&&g.defaultChecked!=null&&(m.defaultChecked=!!g.defaultChecked)}function ye(m,g,N){if(g.hasOwnProperty("value")||g.hasOwnProperty("defaultValue")){var X=g.type;if(!(X!=="submit"&&X!=="reset"||g.value!==void 0&&g.value!==null))return;g=""+m._wrapperState.initialValue,N||g===m.value||(m.value=g),m.defaultValue=g}N=m.name,N!==""&&(m.name=""),m.defaultChecked=!!m._wrapperState.initialChecked,N!==""&&(m.name=N)}function $e(m,g,N){(g!=="number"||rt(m.ownerDocument)!==m)&&(N==null?m.defaultValue=""+m._wrapperState.initialValue:m.defaultValue!==""+N&&(m.defaultValue=""+N))}var Te=Array.isArray;function et(m,g,N,X){if(m=m.options,g){g={};for(var R=0;R<N.length;R++)g["$"+N[R]]=!0;for(N=0;N<m.length;N++)R=g.hasOwnProperty("$"+m[N].value),m[N].selected!==R&&(m[N].selected=R),R&&X&&(m[N].defaultSelected=!0)}else{for(N=""+Ae(N),g=null,R=0;R<m.length;R++){if(m[R].value===N){m[R].selected=!0,X&&(m[R].defaultSelected=!0);return}g!==null||m[R].disabled||(g=m[R])}g!==null&&(g.selected=!0)}}function Ke(m,g){if(g.dangerouslySetInnerHTML!=null)throw Error(s(91));return K({},g,{value:void 0,defaultValue:void 0,children:""+m._wrapperState.initialValue})}function pe(m,g){var N=g.value;if(N==null){if(N=g.children,g=g.defaultValue,N!=null){if(g!=null)throw Error(s(92));if(Te(N)){if(1<N.length)throw Error(s(93));N=N[0]}g=N}g==null&&(g=""),N=g}m._wrapperState={initialValue:Ae(N)}}function ve(m,g){var N=Ae(g.value),X=Ae(g.defaultValue);N!=null&&(N=""+N,N!==m.value&&(m.value=N),g.defaultValue==null&&m.defaultValue!==N&&(m.defaultValue=N)),X!=null&&(m.defaultValue=""+X)}function De(m){var g=m.textContent;g===m._wrapperState.initialValue&&g!==""&&g!==null&&(m.value=g)}function _e(m){switch(m){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Oe(m,g){return m==null||m==="http://www.w3.org/1999/xhtml"?_e(g):m==="http://www.w3.org/2000/svg"&&g==="foreignObject"?"http://www.w3.org/1999/xhtml":m}var Ye,tt=(function(m){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(g,N,X,R){MSApp.execUnsafeLocalFunction(function(){return m(g,N,X,R)})}:m})(function(m,g){if(m.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in m)m.innerHTML=g;else{for(Ye=Ye||document.createElement("div"),Ye.innerHTML="<svg>"+g.valueOf().toString()+"</svg>",g=Ye.firstChild;m.firstChild;)m.removeChild(m.firstChild);for(;g.firstChild;)m.appendChild(g.firstChild)}});function Ve(m,g){if(g){var N=m.firstChild;if(N&&N===m.lastChild&&N.nodeType===3){N.nodeValue=g;return}}m.textContent=g}var qe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Fe=["Webkit","ms","Moz","O"];Object.keys(qe).forEach(function(m){Fe.forEach(function(g){g=g+m.charAt(0).toUpperCase()+m.substring(1),qe[g]=qe[m]})});function at(m,g,N){return g==null||typeof g=="boolean"||g===""?"":N||typeof g!="number"||g===0||qe.hasOwnProperty(m)&&qe[m]?(""+g).trim():g+"px"}function vt(m,g){m=m.style;for(var N in g)if(g.hasOwnProperty(N)){var X=N.indexOf("--")===0,R=at(N,g[N],X);N==="float"&&(N="cssFloat"),X?m.setProperty(N,R):m[N]=R}}var pt=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function He(m,g){if(g){if(pt[m]&&(g.children!=null||g.dangerouslySetInnerHTML!=null))throw Error(s(137,m));if(g.dangerouslySetInnerHTML!=null){if(g.children!=null)throw Error(s(60));if(typeof g.dangerouslySetInnerHTML!="object"||!("__html"in g.dangerouslySetInnerHTML))throw Error(s(61))}if(g.style!=null&&typeof g.style!="object")throw Error(s(62))}}function ht(m,g){if(m.indexOf("-")===-1)return typeof g.is=="string";switch(m){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var L=null;function we(m){return m=m.target||m.srcElement||window,m.correspondingUseElement&&(m=m.correspondingUseElement),m.nodeType===3?m.parentNode:m}var Ie=null,k=null,q=null;function Le(m){if(m=rs(m)){if(typeof Ie!="function")throw Error(s(280));var g=m.stateNode;g&&(g=Js(g),Ie(m.stateNode,m.type,g))}}function oe(m){k?q?q.push(m):q=[m]:k=m}function Ce(){if(k){var m=k,g=q;if(q=k=null,Le(m),g)for(m=0;m<g.length;m++)Le(g[m])}}function Lt(m,g){return m(g)}function yt(){}var sr=!1;function Kt(m,g,N){if(sr)return m(g,N);sr=!0;try{return Lt(m,g,N)}finally{sr=!1,(k!==null||q!==null)&&(yt(),Ce())}}function Ct(m,g){var N=m.stateNode;if(N===null)return null;var X=Js(N);if(X===null)return null;N=X[g];e:switch(g){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(X=!X.disabled)||(m=m.type,X=!(m==="button"||m==="input"||m==="select"||m==="textarea")),m=!X;break e;default:m=!1}if(m)return null;if(N&&typeof N!="function")throw Error(s(231,g,typeof N));return N}var Jt=!1;if(u)try{var ir={};Object.defineProperty(ir,"passive",{get:function(){Jt=!0}}),window.addEventListener("test",ir,ir),window.removeEventListener("test",ir,ir)}catch{Jt=!1}function Ur(m,g,N,X,R,j,le,Ne,Pe){var We=Array.prototype.slice.call(arguments,3);try{g.apply(N,We)}catch(ut){this.onError(ut)}}var Se=!1,Ht=null,Ge=!1,ui=null,Oi={onError:function(m){Se=!0,Ht=m}};function ei(m,g,N,X,R,j,le,Ne,Pe){Se=!1,Ht=null,Ur.apply(Oi,arguments)}function ps(m,g,N,X,R,j,le,Ne,Pe){if(ei.apply(this,arguments),Se){if(Se){var We=Ht;Se=!1,Ht=null}else throw Error(s(198));Ge||(Ge=!0,ui=We)}}function gi(m){var g=m,N=m;if(m.alternate)for(;g.return;)g=g.return;else{m=g;do g=m,(g.flags&4098)!==0&&(N=g.return),m=g.return;while(m)}return g.tag===3?N:null}function cn(m){if(m.tag===13){var g=m.memoizedState;if(g===null&&(m=m.alternate,m!==null&&(g=m.memoizedState)),g!==null)return g.dehydrated}return null}function Rn(m){if(gi(m)!==m)throw Error(s(188))}function fn(m){var g=m.alternate;if(!g){if(g=gi(m),g===null)throw Error(s(188));return g!==m?null:m}for(var N=m,X=g;;){var R=N.return;if(R===null)break;var j=R.alternate;if(j===null){if(X=R.return,X!==null){N=X;continue}break}if(R.child===j.child){for(j=R.child;j;){if(j===N)return Rn(R),m;if(j===X)return Rn(R),g;j=j.sibling}throw Error(s(188))}if(N.return!==X.return)N=R,X=j;else{for(var le=!1,Ne=R.child;Ne;){if(Ne===N){le=!0,N=R,X=j;break}if(Ne===X){le=!0,X=R,N=j;break}Ne=Ne.sibling}if(!le){for(Ne=j.child;Ne;){if(Ne===N){le=!0,N=j,X=R;break}if(Ne===X){le=!0,X=j,N=R;break}Ne=Ne.sibling}if(!le)throw Error(s(189))}}if(N.alternate!==X)throw Error(s(190))}if(N.tag!==3)throw Error(s(188));return N.stateNode.current===N?m:g}function hn(m){return m=fn(m),m!==null?Qi(m):null}function Qi(m){if(m.tag===5||m.tag===6)return m;for(m=m.child;m!==null;){var g=Qi(m);if(g!==null)return g;m=m.sibling}return null}var Xt=r.unstable_scheduleCallback,mr=r.unstable_cancelCallback,nr=r.unstable_shouldYield,Yr=r.unstable_requestPaint,Et=r.unstable_now,hr=r.unstable_getCurrentPriorityLevel,Ki=r.unstable_ImmediatePriority,yi=r.unstable_UserBlockingPriority,jr=r.unstable_NormalPriority,ms=r.unstable_LowPriority,Ha=r.unstable_IdlePriority,vs=null,ci=null;function Va(m){if(ci&&typeof ci.onCommitFiberRoot=="function")try{ci.onCommitFiberRoot(vs,m,void 0,(m.current.flags&128)===128)}catch{}}var ti=Math.clz32?Math.clz32:hl,fl=Math.log,Ws=Math.LN2;function hl(m){return m>>>=0,m===0?32:31-(fl(m)/Ws|0)|0}var In=64,Vt=4194304;function Ji(m){switch(m&-m){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return m&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return m}}function Br(m,g){var N=m.pendingLanes;if(N===0)return 0;var X=0,R=m.suspendedLanes,j=m.pingedLanes,le=N&268435455;if(le!==0){var Ne=le&~R;Ne!==0?X=Ji(Ne):(j&=le,j!==0&&(X=Ji(j)))}else le=N&~R,le!==0?X=Ji(le):j!==0&&(X=Ji(j));if(X===0)return 0;if(g!==0&&g!==X&&(g&R)===0&&(R=X&-X,j=g&-g,R>=j||R===16&&(j&4194240)!==0))return g;if((X&4)!==0&&(X|=N&16),g=m.entangledLanes,g!==0)for(m=m.entanglements,g&=X;0<g;)N=31-ti(g),R=1<<N,X|=m[N],g&=~R;return X}function dl(m,g){switch(m){case 1:case 2:case 4:return g+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return g+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pl(m,g){for(var N=m.suspendedLanes,X=m.pingedLanes,R=m.expirationTimes,j=m.pendingLanes;0<j;){var le=31-ti(j),Ne=1<<le,Pe=R[le];Pe===-1?((Ne&N)===0||(Ne&X)!==0)&&(R[le]=dl(Ne,g)):Pe<=g&&(m.expiredLanes|=Ne),j&=~Ne}}function Zs(m){return m=m.pendingLanes&-1073741825,m!==0?m:m&1073741824?1073741824:0}function Wa(){var m=In;return In<<=1,(In&4194240)===0&&(In=64),m}function Qs(m){for(var g=[],N=0;31>N;N++)g.push(m);return g}function en(m,g,N){m.pendingLanes|=g,g!==536870912&&(m.suspendedLanes=0,m.pingedLanes=0),m=m.eventTimes,g=31-ti(g),m[g]=N}function kr(m,g){var N=m.pendingLanes&~g;m.pendingLanes=g,m.suspendedLanes=0,m.pingedLanes=0,m.expiredLanes&=g,m.mutableReadLanes&=g,m.entangledLanes&=g,g=m.entanglements;var X=m.eventTimes;for(m=m.expirationTimes;0<N;){var R=31-ti(N),j=1<<R;g[R]=0,X[R]=-1,m[R]=-1,N&=~j}}function gs(m,g){var N=m.entangledLanes|=g;for(m=m.entanglements;N;){var X=31-ti(N),R=1<<X;R&g|m[X]&g&&(m[X]|=g),N&=~R}}var qt=0;function Za(m){return m&=-m,1<m?4<m?(m&268435455)!==0?16:536870912:4:1}var Ks,ea,Qa,Ka,eo,dn=!1,Fn=[],Ei=null,Bi=null,Ue=null,jt=new Map,fi=new Map,wr=[],ml="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ro(m,g){switch(m){case"focusin":case"focusout":Ei=null;break;case"dragenter":case"dragleave":Bi=null;break;case"mouseover":case"mouseout":Ue=null;break;case"pointerover":case"pointerout":jt.delete(g.pointerId);break;case"gotpointercapture":case"lostpointercapture":fi.delete(g.pointerId)}}function pn(m,g,N,X,R,j){return m===null||m.nativeEvent!==j?(m={blockedOn:g,domEventName:N,eventSystemFlags:X,nativeEvent:j,targetContainers:[R]},g!==null&&(g=rs(g),g!==null&&ea(g)),m):(m.eventSystemFlags|=X,g=m.targetContainers,R!==null&&g.indexOf(R)===-1&&g.push(R),m)}function ys(m,g,N,X,R){switch(g){case"focusin":return Ei=pn(Ei,m,g,N,X,R),!0;case"dragenter":return Bi=pn(Bi,m,g,N,X,R),!0;case"mouseover":return Ue=pn(Ue,m,g,N,X,R),!0;case"pointerover":var j=R.pointerId;return jt.set(j,pn(jt.get(j)||null,m,g,N,X,R)),!0;case"gotpointercapture":return j=R.pointerId,fi.set(j,pn(fi.get(j)||null,m,g,N,X,R)),!0}return!1}function Ln(m){var g=nn(m.target);if(g!==null){var N=gi(g);if(N!==null){if(g=N.tag,g===13){if(g=cn(N),g!==null){m.blockedOn=g,eo(m.priority,function(){Qa(N)});return}}else if(g===3&&N.stateNode.current.memoizedState.isDehydrated){m.blockedOn=N.tag===3?N.stateNode.containerInfo:null;return}}}m.blockedOn=null}function bt(m){if(m.blockedOn!==null)return!1;for(var g=m.targetContainers;0<g.length;){var N=Cs(m.domEventName,m.eventSystemFlags,g[0],m.nativeEvent);if(N===null){N=m.nativeEvent;var X=new N.constructor(N.type,N);L=X,N.target.dispatchEvent(X),L=null}else return g=rs(N),g!==null&&ea(g),m.blockedOn=N,!1;g.shift()}return!0}function ki(m,g,N){bt(m)&&N.delete(g)}function bs(){dn=!1,Ei!==null&&bt(Ei)&&(Ei=null),Bi!==null&&bt(Bi)&&(Bi=null),Ue!==null&&bt(Ue)&&(Ue=null),jt.forEach(ki),fi.forEach(ki)}function er(m,g){m.blockedOn===g&&(m.blockedOn=null,dn||(dn=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,bs)))}function Hr(m){function g(R){return er(R,m)}if(0<Fn.length){er(Fn[0],m);for(var N=1;N<Fn.length;N++){var X=Fn[N];X.blockedOn===m&&(X.blockedOn=null)}}for(Ei!==null&&er(Ei,m),Bi!==null&&er(Bi,m),Ue!==null&&er(Ue,m),jt.forEach(g),fi.forEach(g),N=0;N<wr.length;N++)X=wr[N],X.blockedOn===m&&(X.blockedOn=null);for(;0<wr.length&&(N=wr[0],N.blockedOn===null);)Ln(N),N.blockedOn===null&&wr.shift()}var mn=_.ReactCurrentBatchConfig,xs=!0;function vl(m,g,N,X){var R=qt,j=mn.transition;mn.transition=null;try{qt=1,cr(m,g,N,X)}finally{qt=R,mn.transition=j}}function gl(m,g,N,X){var R=qt,j=mn.transition;mn.transition=null;try{qt=4,cr(m,g,N,X)}finally{qt=R,mn.transition=j}}function cr(m,g,N,X){if(xs){var R=Cs(m,g,N,X);if(R===null)Xs(m,g,X,zn,N),ro(m,X);else if(ys(R,m,g,N,X))X.stopPropagation();else if(ro(m,X),g&4&&-1<ml.indexOf(m)){for(;R!==null;){var j=rs(R);if(j!==null&&Ks(j),j=Cs(m,g,N,X),j===null&&Xs(m,g,X,zn,N),j===R)break;R=j}R!==null&&X.stopPropagation()}else Xs(m,g,X,null,N)}}var zn=null;function Cs(m,g,N,X){if(zn=null,m=we(X),m=nn(m),m!==null)if(g=gi(m),g===null)m=null;else if(N=g.tag,N===13){if(m=cn(g),m!==null)return m;m=null}else if(N===3){if(g.stateNode.current.memoizedState.isDehydrated)return g.tag===3?g.stateNode.containerInfo:null;m=null}else g!==m&&(m=null);return zn=m,null}function io(m){switch(m){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hr()){case Ki:return 1;case yi:return 4;case jr:case ms:return 16;case Ha:return 536870912;default:return 16}default:return 16}}var bi=null,tn=null,Bt=null;function Un(){if(Bt)return Bt;var m,g=tn,N=g.length,X,R="value"in bi?bi.value:bi.textContent,j=R.length;for(m=0;m<N&&g[m]===R[m];m++);var le=N-m;for(X=1;X<=le&&g[N-X]===R[j-X];X++);return Bt=R.slice(m,1<X?1-X:void 0)}function vn(m){var g=m.keyCode;return"charCode"in m?(m=m.charCode,m===0&&g===13&&(m=13)):m=g,m===10&&(m=13),32<=m||m===13?m:0}function Yn(){return!0}function Vr(){return!1}function vr(m){function g(N,X,R,j,le){this._reactName=N,this._targetInst=R,this.type=X,this.nativeEvent=j,this.target=le,this.currentTarget=null;for(var Ne in m)m.hasOwnProperty(Ne)&&(N=m[Ne],this[Ne]=N?N(j):j[Ne]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?Yn:Vr,this.isPropagationStopped=Vr,this}return K(g.prototype,{preventDefault:function(){this.defaultPrevented=!0;var N=this.nativeEvent;N&&(N.preventDefault?N.preventDefault():typeof N.returnValue!="unknown"&&(N.returnValue=!1),this.isDefaultPrevented=Yn)},stopPropagation:function(){var N=this.nativeEvent;N&&(N.stopPropagation?N.stopPropagation():typeof N.cancelBubble!="unknown"&&(N.cancelBubble=!0),this.isPropagationStopped=Yn)},persist:function(){},isPersistent:Yn}),g}var gn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(m){return m.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ct=vr(gn),Sr=K({},gn,{view:0,detail:0}),ta=vr(Sr),qn,Ar,ri,zt=K({},Sr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jn,button:0,buttons:0,relatedTarget:function(m){return m.relatedTarget===void 0?m.fromElement===m.srcElement?m.toElement:m.fromElement:m.relatedTarget},movementX:function(m){return"movementX"in m?m.movementX:(m!==ri&&(ri&&m.type==="mousemove"?(qn=m.screenX-ri.screenX,Ar=m.screenY-ri.screenY):Ar=qn=0,ri=m),qn)},movementY:function(m){return"movementY"in m?m.movementY:Ar}}),ra=vr(zt),no=K({},zt,{dataTransfer:0}),so=vr(no),yl=K({},Sr,{relatedTarget:0}),ia=vr(yl),bl=K({},gn,{animationName:0,elapsedTime:0,pseudoElement:0}),xl=vr(bl),Cl=K({},gn,{clipboardData:function(m){return"clipboardData"in m?m.clipboardData:window.clipboardData}}),wl=vr(Cl),Sl=K({},gn,{data:0}),ao=vr(Sl),_i={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},na={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ws(m){var g=this.nativeEvent;return g.getModifierState?g.getModifierState(m):(m=na[m])?!!g[m]:!1}function jn(){return ws}var oo=K({},Sr,{key:function(m){if(m.key){var g=_i[m.key]||m.key;if(g!=="Unidentified")return g}return m.type==="keypress"?(m=vn(m),m===13?"Enter":String.fromCharCode(m)):m.type==="keydown"||m.type==="keyup"?Tt[m.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jn,charCode:function(m){return m.type==="keypress"?vn(m):0},keyCode:function(m){return m.type==="keydown"||m.type==="keyup"?m.keyCode:0},which:function(m){return m.type==="keypress"?vn(m):m.type==="keydown"||m.type==="keyup"?m.keyCode:0}}),Nl=vr(oo),Ss=K({},zt,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lo=vr(Ss),uo=K({},Sr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jn}),co=vr(uo),$l=K({},gn,{propertyName:0,elapsedTime:0,pseudoElement:0}),El=vr($l),_l=K({},zt,{deltaX:function(m){return"deltaX"in m?m.deltaX:"wheelDeltaX"in m?-m.wheelDeltaX:0},deltaY:function(m){return"deltaY"in m?m.deltaY:"wheelDeltaY"in m?-m.wheelDeltaY:"wheelDelta"in m?-m.wheelDelta:0},deltaZ:0,deltaMode:0}),fo=vr(_l),ho=[9,13,27,32],Hn=u&&"CompositionEvent"in window,yn=null;u&&"documentMode"in document&&(yn=document.documentMode);var Ml=u&&"TextEvent"in window&&!yn,sa=u&&(!Hn||yn&&8<yn&&11>=yn),bn=" ",Ns=!1;function aa(m,g){switch(m){case"keyup":return ho.indexOf(g.keyCode)!==-1;case"keydown":return g.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function po(m){return m=m.detail,typeof m=="object"&&"data"in m?m.data:null}var xn=!1;function mo(m,g){switch(m){case"compositionend":return po(g);case"keypress":return g.which!==32?null:(Ns=!0,bn);case"textInput":return m=g.data,m===bn&&Ns?null:m;default:return null}}function oa(m,g){if(xn)return m==="compositionend"||!Hn&&aa(m,g)?(m=Un(),Bt=tn=bi=null,xn=!1,m):null;switch(m){case"paste":return null;case"keypress":if(!(g.ctrlKey||g.altKey||g.metaKey)||g.ctrlKey&&g.altKey){if(g.char&&1<g.char.length)return g.char;if(g.which)return String.fromCharCode(g.which)}return null;case"compositionend":return sa&&g.locale!=="ko"?null:g.data;default:return null}}var la={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $s(m){var g=m&&m.nodeName&&m.nodeName.toLowerCase();return g==="input"?!!la[m.type]:g==="textarea"}function Vn(m,g,N,X){oe(X),g=Fi(g,"onChange"),0<g.length&&(N=new ct("onChange","change",null,N,X),m.push({event:N,listeners:g}))}var Wn=null,Zn=null;function vo(m){xa(m,0)}function Cn(m){var g=Li(m);if(nt(g))return m}function ua(m,g){if(m==="change")return g}var Es=!1;if(u){var ca;if(u){var _s="oninput"in document;if(!_s){var go=document.createElement("div");go.setAttribute("oninput","return;"),_s=typeof go.oninput=="function"}ca=_s}else ca=!1;Es=ca&&(!document.documentMode||9<document.documentMode)}function fa(){Wn&&(Wn.detachEvent("onpropertychange",wn),Zn=Wn=null)}function wn(m){if(m.propertyName==="value"&&Cn(Zn)){var g=[];Vn(g,Zn,m,we(m)),Kt(vo,g)}}function Al(m,g,N){m==="focusin"?(fa(),Wn=g,Zn=N,Wn.attachEvent("onpropertychange",wn)):m==="focusout"&&fa()}function Dl(m){if(m==="selectionchange"||m==="keyup"||m==="keydown")return Cn(Zn)}function Pl(m,g){if(m==="click")return Cn(g)}function yo(m,g){if(m==="input"||m==="change")return Cn(g)}function Xl(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var ii=typeof Object.is=="function"?Object.is:Xl;function Sn(m,g){if(ii(m,g))return!0;if(typeof m!="object"||m===null||typeof g!="object"||g===null)return!1;var N=Object.keys(m),X=Object.keys(g);if(N.length!==X.length)return!1;for(X=0;X<N.length;X++){var R=N[X];if(!f.call(g,R)||!ii(m[R],g[R]))return!1}return!0}function bo(m){for(;m&&m.firstChild;)m=m.firstChild;return m}function hi(m,g){var N=bo(m);m=0;for(var X;N;){if(N.nodeType===3){if(X=m+N.textContent.length,m<=g&&X>=g)return{node:N,offset:g-m};m=X}e:{for(;N;){if(N.nextSibling){N=N.nextSibling;break e}N=N.parentNode}N=void 0}N=bo(N)}}function ha(m,g){return m&&g?m===g?!0:m&&m.nodeType===3?!1:g&&g.nodeType===3?ha(m,g.parentNode):"contains"in m?m.contains(g):m.compareDocumentPosition?!!(m.compareDocumentPosition(g)&16):!1:!1}function xo(){for(var m=window,g=rt();g instanceof m.HTMLIFrameElement;){try{var N=typeof g.contentWindow.location.href=="string"}catch{N=!1}if(N)m=g.contentWindow;else break;g=rt(m.document)}return g}function Nn(m){var g=m&&m.nodeName&&m.nodeName.toLowerCase();return g&&(g==="input"&&(m.type==="text"||m.type==="search"||m.type==="tel"||m.type==="url"||m.type==="password")||g==="textarea"||m.contentEditable==="true")}function Co(m){var g=xo(),N=m.focusedElem,X=m.selectionRange;if(g!==N&&N&&N.ownerDocument&&ha(N.ownerDocument.documentElement,N)){if(X!==null&&Nn(N)){if(g=X.start,m=X.end,m===void 0&&(m=g),"selectionStart"in N)N.selectionStart=g,N.selectionEnd=Math.min(m,N.value.length);else if(m=(g=N.ownerDocument||document)&&g.defaultView||window,m.getSelection){m=m.getSelection();var R=N.textContent.length,j=Math.min(X.start,R);X=X.end===void 0?j:Math.min(X.end,R),!m.extend&&j>X&&(R=X,X=j,j=R),R=hi(N,j);var le=hi(N,X);R&&le&&(m.rangeCount!==1||m.anchorNode!==R.node||m.anchorOffset!==R.offset||m.focusNode!==le.node||m.focusOffset!==le.offset)&&(g=g.createRange(),g.setStart(R.node,R.offset),m.removeAllRanges(),j>X?(m.addRange(g),m.extend(le.node,le.offset)):(g.setEnd(le.node,le.offset),m.addRange(g)))}}for(g=[],m=N;m=m.parentNode;)m.nodeType===1&&g.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<g.length;N++)m=g[N],m.element.scrollLeft=m.left,m.element.scrollTop=m.top}}var da=u&&"documentMode"in document&&11>=document.documentMode,Ri=null,Ms=null,Rr=null,As=!1;function Qn(m,g,N){var X=N.window===N?N.document:N.nodeType===9?N:N.ownerDocument;As||Ri==null||Ri!==rt(X)||(X=Ri,"selectionStart"in X&&Nn(X)?X={start:X.selectionStart,end:X.selectionEnd}:(X=(X.ownerDocument&&X.ownerDocument.defaultView||window).getSelection(),X={anchorNode:X.anchorNode,anchorOffset:X.anchorOffset,focusNode:X.focusNode,focusOffset:X.focusOffset}),Rr&&Sn(Rr,X)||(Rr=X,X=Fi(Ms,"onSelect"),0<X.length&&(g=new ct("onSelect","select",null,g,N),m.push({event:g,listeners:X}),g.target=Ri)))}function di(m,g){var N={};return N[m.toLowerCase()]=g.toLowerCase(),N["Webkit"+m]="webkit"+g,N["Moz"+m]="moz"+g,N}var Ii={animationend:di("Animation","AnimationEnd"),animationiteration:di("Animation","AnimationIteration"),animationstart:di("Animation","AnimationStart"),transitionend:di("Transition","TransitionEnd")},ni={},wo={};u&&(wo=document.createElement("div").style,"AnimationEvent"in window||(delete Ii.animationend.animation,delete Ii.animationiteration.animation,delete Ii.animationstart.animation),"TransitionEvent"in window||delete Ii.transitionend.transition);function Wr(m){if(ni[m])return ni[m];if(!Ii[m])return m;var g=Ii[m],N;for(N in g)if(g.hasOwnProperty(N)&&N in wo)return ni[m]=g[N];return m}var pa=Wr("animationend"),So=Wr("animationiteration"),ma=Wr("animationstart"),No=Wr("transitionend"),va=new Map,ga="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xi(m,g){va.set(m,g),o(g,[m])}for(var Ds=0;Ds<ga.length;Ds++){var Ps=ga[Ds],$o=Ps.toLowerCase(),Eo=Ps[0].toUpperCase()+Ps.slice(1);xi($o,"on"+Eo)}xi(pa,"onAnimationEnd"),xi(So,"onAnimationIteration"),xi(ma,"onAnimationStart"),xi("dblclick","onDoubleClick"),xi("focusin","onFocus"),xi("focusout","onBlur"),xi(No,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ya=new Set("cancel close invalid load scroll toggle".split(" ").concat(rn));function ba(m,g,N){var X=m.type||"unknown-event";m.currentTarget=N,ps(X,g,void 0,m),m.currentTarget=null}function xa(m,g){g=(g&4)!==0;for(var N=0;N<m.length;N++){var X=m[N],R=X.event;X=X.listeners;e:{var j=void 0;if(g)for(var le=X.length-1;0<=le;le--){var Ne=X[le],Pe=Ne.instance,We=Ne.currentTarget;if(Ne=Ne.listener,Pe!==j&&R.isPropagationStopped())break e;ba(R,Ne,We),j=Pe}else for(le=0;le<X.length;le++){if(Ne=X[le],Pe=Ne.instance,We=Ne.currentTarget,Ne=Ne.listener,Pe!==j&&R.isPropagationStopped())break e;ba(R,Ne,We),j=Pe}}}if(Ge)throw m=ui,Ge=!1,ui=null,m}function Wt(m,g){var N=g[ts];N===void 0&&(N=g[ts]=new Set);var X=m+"__bubble";N.has(X)||(wa(g,m,2,!1),N.add(X))}function Ca(m,g,N){var X=0;g&&(X|=4),wa(N,m,X,g)}var $n="_reactListening"+Math.random().toString(36).slice(2);function En(m){if(!m[$n]){m[$n]=!0,n.forEach(function(N){N!=="selectionchange"&&(ya.has(N)||Ca(N,!1,m),Ca(N,!0,m))});var g=m.nodeType===9?m:m.ownerDocument;g===null||g[$n]||(g[$n]=!0,Ca("selectionchange",!1,g))}}function wa(m,g,N,X){switch(io(g)){case 1:var R=vl;break;case 4:R=gl;break;default:R=cr}N=R.bind(null,g,N,m),R=void 0,!Jt||g!=="touchstart"&&g!=="touchmove"&&g!=="wheel"||(R=!0),X?R!==void 0?m.addEventListener(g,N,{capture:!0,passive:R}):m.addEventListener(g,N,!0):R!==void 0?m.addEventListener(g,N,{passive:R}):m.addEventListener(g,N,!1)}function Xs(m,g,N,X,R){var j=X;if((g&1)===0&&(g&2)===0&&X!==null)e:for(;;){if(X===null)return;var le=X.tag;if(le===3||le===4){var Ne=X.stateNode.containerInfo;if(Ne===R||Ne.nodeType===8&&Ne.parentNode===R)break;if(le===4)for(le=X.return;le!==null;){var Pe=le.tag;if((Pe===3||Pe===4)&&(Pe=le.stateNode.containerInfo,Pe===R||Pe.nodeType===8&&Pe.parentNode===R))return;le=le.return}for(;Ne!==null;){if(le=nn(Ne),le===null)return;if(Pe=le.tag,Pe===5||Pe===6){X=j=le;continue e}Ne=Ne.parentNode}}X=X.return}Kt(function(){var We=j,ut=we(N),ft=[];e:{var ot=va.get(m);if(ot!==void 0){var xt=ct,Nt=m;switch(m){case"keypress":if(vn(N)===0)break e;case"keydown":case"keyup":xt=Nl;break;case"focusin":Nt="focus",xt=ia;break;case"focusout":Nt="blur",xt=ia;break;case"beforeblur":case"afterblur":xt=ia;break;case"click":if(N.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":xt=ra;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":xt=so;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":xt=co;break;case pa:case So:case ma:xt=xl;break;case No:xt=El;break;case"scroll":xt=ta;break;case"wheel":xt=fo;break;case"copy":case"cut":case"paste":xt=wl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":xt=lo}var $t=(g&4)!==0,fr=!$t&&m==="scroll",ze=$t?ot!==null?ot+"Capture":null:ot;$t=[];for(var Je=We,je;Je!==null;){je=Je;var dt=je.stateNode;if(je.tag===5&&dt!==null&&(je=dt,ze!==null&&(dt=Ct(Je,ze),dt!=null&&$t.push(Ci(Je,dt,je)))),fr)break;Je=Je.return}0<$t.length&&(ot=new xt(ot,Nt,null,N,ut),ft.push({event:ot,listeners:$t}))}}if((g&7)===0){e:{if(ot=m==="mouseover"||m==="pointerover",xt=m==="mouseout"||m==="pointerout",ot&&N!==L&&(Nt=N.relatedTarget||N.fromElement)&&(nn(Nt)||Nt[Pr]))break e;if((xt||ot)&&(ot=ut.window===ut?ut:(ot=ut.ownerDocument)?ot.defaultView||ot.parentWindow:window,xt?(Nt=N.relatedTarget||N.toElement,xt=We,Nt=Nt?nn(Nt):null,Nt!==null&&(fr=gi(Nt),Nt!==fr||Nt.tag!==5&&Nt.tag!==6)&&(Nt=null)):(xt=null,Nt=We),xt!==Nt)){if($t=ra,dt="onMouseLeave",ze="onMouseEnter",Je="mouse",(m==="pointerout"||m==="pointerover")&&($t=lo,dt="onPointerLeave",ze="onPointerEnter",Je="pointer"),fr=xt==null?ot:Li(xt),je=Nt==null?ot:Li(Nt),ot=new $t(dt,Je+"leave",xt,N,ut),ot.target=fr,ot.relatedTarget=je,dt=null,nn(ut)===We&&($t=new $t(ze,Je+"enter",Nt,N,ut),$t.target=je,$t.relatedTarget=fr,dt=$t),fr=dt,xt&&Nt)t:{for($t=xt,ze=Nt,Je=0,je=$t;je;je=_n(je))Je++;for(je=0,dt=ze;dt;dt=_n(dt))je++;for(;0<Je-je;)$t=_n($t),Je--;for(;0<je-Je;)ze=_n(ze),je--;for(;Je--;){if($t===ze||ze!==null&&$t===ze.alternate)break t;$t=_n($t),ze=_n(ze)}$t=null}else $t=null;xt!==null&&_o(ft,ot,xt,$t,!1),Nt!==null&&fr!==null&&_o(ft,fr,Nt,$t,!0)}}e:{if(ot=We?Li(We):window,xt=ot.nodeName&&ot.nodeName.toLowerCase(),xt==="select"||xt==="input"&&ot.type==="file")var _t=ua;else if($s(ot))if(Es)_t=yo;else{_t=Dl;var Dt=Al}else(xt=ot.nodeName)&&xt.toLowerCase()==="input"&&(ot.type==="checkbox"||ot.type==="radio")&&(_t=Pl);if(_t&&(_t=_t(m,We))){Vn(ft,_t,N,ut);break e}Dt&&Dt(m,ot,We),m==="focusout"&&(Dt=ot._wrapperState)&&Dt.controlled&&ot.type==="number"&&$e(ot,"number",ot.value)}switch(Dt=We?Li(We):window,m){case"focusin":($s(Dt)||Dt.contentEditable==="true")&&(Ri=Dt,Ms=We,Rr=null);break;case"focusout":Rr=Ms=Ri=null;break;case"mousedown":As=!0;break;case"contextmenu":case"mouseup":case"dragend":As=!1,Qn(ft,N,ut);break;case"selectionchange":if(da)break;case"keydown":case"keyup":Qn(ft,N,ut)}var Pt;if(Hn)e:{switch(m){case"compositionstart":var Gt="onCompositionStart";break e;case"compositionend":Gt="onCompositionEnd";break e;case"compositionupdate":Gt="onCompositionUpdate";break e}Gt=void 0}else xn?aa(m,N)&&(Gt="onCompositionEnd"):m==="keydown"&&N.keyCode===229&&(Gt="onCompositionStart");Gt&&(sa&&N.locale!=="ko"&&(xn||Gt!=="onCompositionStart"?Gt==="onCompositionEnd"&&xn&&(Pt=Un()):(bi=ut,tn="value"in bi?bi.value:bi.textContent,xn=!0)),Dt=Fi(We,Gt),0<Dt.length&&(Gt=new ao(Gt,m,null,N,ut),ft.push({event:Gt,listeners:Dt}),Pt?Gt.data=Pt:(Pt=po(N),Pt!==null&&(Gt.data=Pt)))),(Pt=Ml?mo(m,N):oa(m,N))&&(We=Fi(We,"onBeforeInput"),0<We.length&&(ut=new ao("onBeforeInput","beforeinput",null,N,ut),ft.push({event:ut,listeners:We}),ut.data=Pt))}xa(ft,g)})}function Ci(m,g,N){return{instance:m,listener:g,currentTarget:N}}function Fi(m,g){for(var N=g+"Capture",X=[];m!==null;){var R=m,j=R.stateNode;R.tag===5&&j!==null&&(R=j,j=Ct(m,N),j!=null&&X.unshift(Ci(m,j,R)),j=Ct(m,g),j!=null&&X.push(Ci(m,j,R))),m=m.return}return X}function _n(m){if(m===null)return null;do m=m.return;while(m&&m.tag!==5);return m||null}function _o(m,g,N,X,R){for(var j=g._reactName,le=[];N!==null&&N!==X;){var Ne=N,Pe=Ne.alternate,We=Ne.stateNode;if(Pe!==null&&Pe===X)break;Ne.tag===5&&We!==null&&(Ne=We,R?(Pe=Ct(N,j),Pe!=null&&le.unshift(Ci(N,Pe,Ne))):R||(Pe=Ct(N,j),Pe!=null&&le.push(Ci(N,Pe,Ne)))),N=N.return}le.length!==0&&m.push({event:g,listeners:le})}var Mo=/\r\n?/g,Gl=/\u0000|\uFFFD/g;function Sa(m){return(typeof m=="string"?m:""+m).replace(Mo,`
`).replace(Gl,"")}function Kn(m,g,N){if(g=Sa(g),Sa(m)!==g&&N)throw Error(s(425))}function Gs(){}var Ts=null,Na=null;function Os(m,g){return m==="textarea"||m==="noscript"||typeof g.children=="string"||typeof g.children=="number"||typeof g.dangerouslySetInnerHTML=="object"&&g.dangerouslySetInnerHTML!==null&&g.dangerouslySetInnerHTML.__html!=null}var es=typeof setTimeout=="function"?setTimeout:void 0,$a=typeof clearTimeout=="function"?clearTimeout:void 0,Ea=typeof Promise=="function"?Promise:void 0,Ao=typeof queueMicrotask=="function"?queueMicrotask:typeof Ea<"u"?function(m){return Ea.resolve(null).then(m).catch(Do)}:es;function Do(m){setTimeout(function(){throw m})}function _a(m,g){var N=g,X=0;do{var R=N.nextSibling;if(m.removeChild(N),R&&R.nodeType===8)if(N=R.data,N==="/$"){if(X===0){m.removeChild(R),Hr(g);return}X--}else N!=="$"&&N!=="$?"&&N!=="$!"||X++;N=R}while(N);Hr(g)}function Mi(m){for(;m!=null;m=m.nextSibling){var g=m.nodeType;if(g===1||g===3)break;if(g===8){if(g=m.data,g==="$"||g==="$!"||g==="$?")break;if(g==="/$")return null}}return m}function Ma(m){m=m.previousSibling;for(var g=0;m;){if(m.nodeType===8){var N=m.data;if(N==="$"||N==="$!"||N==="$?"){if(g===0)return m;g--}else N==="/$"&&g++}m=m.previousSibling}return null}var Mn=Math.random().toString(36).slice(2),gr="__reactFiber$"+Mn,Dr="__reactProps$"+Mn,Pr="__reactContainer$"+Mn,ts="__reactEvents$"+Mn,Po="__reactListeners$"+Mn,Tl="__reactHandles$"+Mn;function nn(m){var g=m[gr];if(g)return g;for(var N=m.parentNode;N;){if(g=N[Pr]||N[gr]){if(N=g.alternate,g.child!==null||N!==null&&N.child!==null)for(m=Ma(m);m!==null;){if(N=m[gr])return N;m=Ma(m)}return g}m=N,N=m.parentNode}return null}function rs(m){return m=m[gr]||m[Pr],!m||m.tag!==5&&m.tag!==6&&m.tag!==13&&m.tag!==3?null:m}function Li(m){if(m.tag===5||m.tag===6)return m.stateNode;throw Error(s(33))}function Js(m){return m[Dr]||null}var Aa=[],sn=-1;function zi(m){return{current:m}}function Zt(m){0>sn||(m.current=Aa[sn],Aa[sn]=null,sn--)}function Qt(m,g){sn++,Aa[sn]=m.current,m.current=g}var he={},yr=zi(he),Nr=zi(!1),Ui=he;function Yi(m,g){var N=m.type.contextTypes;if(!N)return he;var X=m.stateNode;if(X&&X.__reactInternalMemoizedUnmaskedChildContext===g)return X.__reactInternalMemoizedMaskedChildContext;var R={},j;for(j in N)R[j]=g[j];return X&&(m=m.stateNode,m.__reactInternalMemoizedUnmaskedChildContext=g,m.__reactInternalMemoizedMaskedChildContext=R),R}function Xr(m){return m=m.childContextTypes,m!=null}function is(){Zt(Nr),Zt(yr)}function Xo(m,g,N){if(yr.current!==he)throw Error(s(168));Qt(yr,g),Qt(Nr,N)}function Da(m,g,N){var X=m.stateNode;if(g=g.childContextTypes,typeof X.getChildContext!="function")return N;X=X.getChildContext();for(var R in X)if(!(R in g))throw Error(s(108,Me(m)||"Unknown",R));return K({},N,X)}function ns(m){return m=(m=m.stateNode)&&m.__reactInternalMemoizedMergedChildContext||he,Ui=yr.current,Qt(yr,m),Qt(Nr,Nr.current),!0}function Pa(m,g,N){var X=m.stateNode;if(!X)throw Error(s(169));N?(m=Da(m,g,Ui),X.__reactInternalMemoizedMergedChildContext=m,Zt(Nr),Zt(yr),Qt(yr,m)):Zt(Nr),Qt(Nr,N)}var Ai=null,An=!1,Bs=!1;function Go(m){Ai===null?Ai=[m]:Ai.push(m)}function Ol(m){An=!0,Go(m)}function Di(){if(!Bs&&Ai!==null){Bs=!0;var m=0,g=qt;try{var N=Ai;for(qt=1;m<N.length;m++){var X=N[m];do X=X(!0);while(X!==null)}Ai=null,An=!1}catch(R){throw Ai!==null&&(Ai=Ai.slice(m+1)),Xt(Ki,Di),R}finally{qt=g,Bs=!1}}return null}var qi=[],Dn=0,ks=null,Rs=0,V=[],C=0,E=null,D=1,G="";function I(m,g){qi[Dn++]=Rs,qi[Dn++]=ks,ks=m,Rs=g}function W(m,g,N){V[C++]=D,V[C++]=G,V[C++]=E,E=m;var X=D;m=G;var R=32-ti(X)-1;X&=~(1<<R),N+=1;var j=32-ti(g)+R;if(30<j){var le=R-R%5;j=(X&(1<<le)-1).toString(32),X>>=le,R-=le,D=1<<32-ti(g)+R|N<<R|X,G=j+m}else D=1<<j|N<<R|X,G=m}function ne(m){m.return!==null&&(I(m,1),W(m,1,0))}function fe(m){for(;m===ks;)ks=qi[--Dn],qi[Dn]=null,Rs=qi[--Dn],qi[Dn]=null;for(;m===E;)E=V[--C],V[C]=null,G=V[--C],V[C]=null,D=V[--C],V[C]=null}var ge=null,Ee=null,ke=!1,Qe=null;function st(m,g){var N=$i(5,null,null,0);N.elementType="DELETED",N.stateNode=g,N.return=m,g=m.deletions,g===null?(m.deletions=[N],m.flags|=16):g.push(N)}function lt(m,g){switch(m.tag){case 5:var N=m.type;return g=g.nodeType!==1||N.toLowerCase()!==g.nodeName.toLowerCase()?null:g,g!==null?(m.stateNode=g,ge=m,Ee=Mi(g.firstChild),!0):!1;case 6:return g=m.pendingProps===""||g.nodeType!==3?null:g,g!==null?(m.stateNode=g,ge=m,Ee=null,!0):!1;case 13:return g=g.nodeType!==8?null:g,g!==null?(N=E!==null?{id:D,overflow:G}:null,m.memoizedState={dehydrated:g,treeContext:N,retryLane:1073741824},N=$i(18,null,null,0),N.stateNode=g,N.return=m,m.child=N,ge=m,Ee=null,!0):!1;default:return!1}}function gt(m){return(m.mode&1)!==0&&(m.flags&128)===0}function mt(m){if(ke){var g=Ee;if(g){var N=g;if(!lt(m,g)){if(gt(m))throw Error(s(418));g=Mi(N.nextSibling);var X=ge;g&&lt(m,g)?st(X,N):(m.flags=m.flags&-4097|2,ke=!1,ge=m)}}else{if(gt(m))throw Error(s(418));m.flags=m.flags&-4097|2,ke=!1,ge=m}}}function wt(m){for(m=m.return;m!==null&&m.tag!==5&&m.tag!==3&&m.tag!==13;)m=m.return;ge=m}function At(m){if(m!==ge)return!1;if(!ke)return wt(m),ke=!0,!1;var g;if((g=m.tag!==3)&&!(g=m.tag!==5)&&(g=m.type,g=g!=="head"&&g!=="body"&&!Os(m.type,m.memoizedProps)),g&&(g=Ee)){if(gt(m))throw Mt(),Error(s(418));for(;g;)st(m,g),g=Mi(g.nextSibling)}if(wt(m),m.tag===13){if(m=m.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(s(317));e:{for(m=m.nextSibling,g=0;m;){if(m.nodeType===8){var N=m.data;if(N==="/$"){if(g===0){Ee=Mi(m.nextSibling);break e}g--}else N!=="$"&&N!=="$!"&&N!=="$?"||g++}m=m.nextSibling}Ee=null}}else Ee=ge?Mi(m.stateNode.nextSibling):null;return!0}function Mt(){for(var m=Ee;m;)m=Mi(m.nextSibling)}function kt(){Ee=ge=null,ke=!1}function Ut(m){Qe===null?Qe=[m]:Qe.push(m)}var tr=_.ReactCurrentBatchConfig;function Ot(m,g){if(m&&m.defaultProps){g=K({},g),m=m.defaultProps;for(var N in m)g[N]===void 0&&(g[N]=m[N]);return g}return g}var Rt=zi(null),rr=null,It=null,Gr=null;function Tr(){Gr=It=rr=null}function wi(m){var g=Rt.current;Zt(Rt),m._currentValue=g}function si(m,g,N){for(;m!==null;){var X=m.alternate;if((m.childLanes&g)!==g?(m.childLanes|=g,X!==null&&(X.childLanes|=g)):X!==null&&(X.childLanes&g)!==g&&(X.childLanes|=g),m===N)break;m=m.return}}function dr(m,g){rr=m,Gr=It=null,m=m.dependencies,m!==null&&m.firstContext!==null&&((m.lanes&g)!==0&&(ai=!0),m.firstContext=null)}function br(m){var g=m._currentValue;if(Gr!==m)if(m={context:m,memoizedValue:g,next:null},It===null){if(rr===null)throw Error(s(308));It=m,rr.dependencies={lanes:0,firstContext:m}}else It=It.next=m;return g}var ji=null;function ss(m){ji===null?ji=[m]:ji.push(m)}function To(m,g,N,X){var R=g.interleaved;return R===null?(N.next=N,ss(g)):(N.next=R.next,R.next=N),g.interleaved=N,mi(m,X)}function mi(m,g){m.lanes|=g;var N=m.alternate;for(N!==null&&(N.lanes|=g),N=m,m=m.return;m!==null;)m.childLanes|=g,N=m.alternate,N!==null&&(N.childLanes|=g),N=m,m=m.return;return N.tag===3?N.stateNode:null}var $r=!1;function Is(m){m.updateQueue={baseState:m.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oo(m,g){m=m.updateQueue,g.updateQueue===m&&(g.updateQueue={baseState:m.baseState,firstBaseUpdate:m.firstBaseUpdate,lastBaseUpdate:m.lastBaseUpdate,shared:m.shared,effects:m.effects})}function Ir(m,g){return{eventTime:m,lane:g,tag:0,payload:null,callback:null,next:null}}function Zr(m,g,N){var X=m.updateQueue;if(X===null)return null;if(X=X.shared,(Ft&2)!==0){var R=X.pending;return R===null?g.next=g:(g.next=R.next,R.next=g),X.pending=g,mi(m,N)}return R=X.interleaved,R===null?(g.next=g,ss(X)):(g.next=R.next,R.next=g),X.interleaved=g,mi(m,N)}function Pi(m,g,N){if(g=g.updateQueue,g!==null&&(g=g.shared,(N&4194240)!==0)){var X=g.lanes;X&=m.pendingLanes,N|=X,g.lanes=N,gs(m,N)}}function as(m,g){var N=m.updateQueue,X=m.alternate;if(X!==null&&(X=X.updateQueue,N===X)){var R=null,j=null;if(N=N.firstBaseUpdate,N!==null){do{var le={eventTime:N.eventTime,lane:N.lane,tag:N.tag,payload:N.payload,callback:N.callback,next:null};j===null?R=j=le:j=j.next=le,N=N.next}while(N!==null);j===null?R=j=g:j=j.next=g}else R=j=g;N={baseState:X.baseState,firstBaseUpdate:R,lastBaseUpdate:j,shared:X.shared,effects:X.effects},m.updateQueue=N;return}m=N.lastBaseUpdate,m===null?N.firstBaseUpdate=g:m.next=g,N.lastBaseUpdate=g}function an(m,g,N,X){var R=m.updateQueue;$r=!1;var j=R.firstBaseUpdate,le=R.lastBaseUpdate,Ne=R.shared.pending;if(Ne!==null){R.shared.pending=null;var Pe=Ne,We=Pe.next;Pe.next=null,le===null?j=We:le.next=We,le=Pe;var ut=m.alternate;ut!==null&&(ut=ut.updateQueue,Ne=ut.lastBaseUpdate,Ne!==le&&(Ne===null?ut.firstBaseUpdate=We:Ne.next=We,ut.lastBaseUpdate=Pe))}if(j!==null){var ft=R.baseState;le=0,ut=We=Pe=null,Ne=j;do{var ot=Ne.lane,xt=Ne.eventTime;if((X&ot)===ot){ut!==null&&(ut=ut.next={eventTime:xt,lane:0,tag:Ne.tag,payload:Ne.payload,callback:Ne.callback,next:null});e:{var Nt=m,$t=Ne;switch(ot=g,xt=N,$t.tag){case 1:if(Nt=$t.payload,typeof Nt=="function"){ft=Nt.call(xt,ft,ot);break e}ft=Nt;break e;case 3:Nt.flags=Nt.flags&-65537|128;case 0:if(Nt=$t.payload,ot=typeof Nt=="function"?Nt.call(xt,ft,ot):Nt,ot==null)break e;ft=K({},ft,ot);break e;case 2:$r=!0}}Ne.callback!==null&&Ne.lane!==0&&(m.flags|=64,ot=R.effects,ot===null?R.effects=[Ne]:ot.push(Ne))}else xt={eventTime:xt,lane:ot,tag:Ne.tag,payload:Ne.payload,callback:Ne.callback,next:null},ut===null?(We=ut=xt,Pe=ft):ut=ut.next=xt,le|=ot;if(Ne=Ne.next,Ne===null){if(Ne=R.shared.pending,Ne===null)break;ot=Ne,Ne=ot.next,ot.next=null,R.lastBaseUpdate=ot,R.shared.pending=null}}while(!0);if(ut===null&&(Pe=ft),R.baseState=Pe,R.firstBaseUpdate=We,R.lastBaseUpdate=ut,g=R.shared.interleaved,g!==null){R=g;do le|=R.lane,R=R.next;while(R!==g)}else j===null&&(R.shared.lanes=0);us|=le,m.lanes=le,m.memoizedState=ft}}function Jo(m,g,N){if(m=g.effects,g.effects=null,m!==null)for(g=0;g<m.length;g++){var X=m[g],R=X.callback;if(R!==null){if(X.callback=null,X=N,typeof R!="function")throw Error(s(191,R));R.call(X)}}}var Bo=new t.Component().refs;function Xa(m,g,N,X){g=m.memoizedState,N=N(X,g),N=N==null?g:K({},g,N),m.memoizedState=N,m.lanes===0&&(m.updateQueue.baseState=N)}var Pn={isMounted:function(m){return(m=m._reactInternals)?gi(m)===m:!1},enqueueSetState:function(m,g,N){m=m._reactInternals;var X=Kr(),R=On(m),j=Ir(X,R);j.payload=g,N!=null&&(j.callback=N),g=Zr(m,j,R),g!==null&&(Ti(g,m,R,X),Pi(g,m,R))},enqueueReplaceState:function(m,g,N){m=m._reactInternals;var X=Kr(),R=On(m),j=Ir(X,R);j.tag=1,j.payload=g,N!=null&&(j.callback=N),g=Zr(m,j,R),g!==null&&(Ti(g,m,R,X),Pi(g,m,R))},enqueueForceUpdate:function(m,g){m=m._reactInternals;var N=Kr(),X=On(m),R=Ir(N,X);R.tag=2,g!=null&&(R.callback=g),g=Zr(m,R,X),g!==null&&(Ti(g,m,X,N),Pi(g,m,X))}};function Ga(m,g,N,X,R,j,le){return m=m.stateNode,typeof m.shouldComponentUpdate=="function"?m.shouldComponentUpdate(X,j,le):g.prototype&&g.prototype.isPureReactComponent?!Sn(N,X)||!Sn(R,j):!0}function Ta(m,g,N){var X=!1,R=he,j=g.contextType;return typeof j=="object"&&j!==null?j=br(j):(R=Xr(g)?Ui:yr.current,X=g.contextTypes,j=(X=X!=null)?Yi(m,R):he),g=new g(N,j),m.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Pn,m.stateNode=g,g._reactInternals=m,X&&(m=m.stateNode,m.__reactInternalMemoizedUnmaskedChildContext=R,m.__reactInternalMemoizedMaskedChildContext=j),g}function Fs(m,g,N,X){m=g.state,typeof g.componentWillReceiveProps=="function"&&g.componentWillReceiveProps(N,X),typeof g.UNSAFE_componentWillReceiveProps=="function"&&g.UNSAFE_componentWillReceiveProps(N,X),g.state!==m&&Pn.enqueueReplaceState(g,g.state,null)}function Ls(m,g,N,X){var R=m.stateNode;R.props=N,R.state=m.memoizedState,R.refs=Bo,Is(m);var j=g.contextType;typeof j=="object"&&j!==null?R.context=br(j):(j=Xr(g)?Ui:yr.current,R.context=Yi(m,j)),R.state=m.memoizedState,j=g.getDerivedStateFromProps,typeof j=="function"&&(Xa(m,g,j,N),R.state=m.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof R.getSnapshotBeforeUpdate=="function"||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(g=R.state,typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount(),g!==R.state&&Pn.enqueueReplaceState(R,R.state,null),an(m,N,R,X),R.state=m.memoizedState),typeof R.componentDidMount=="function"&&(m.flags|=4194308)}function Hi(m,g,N){if(m=N.ref,m!==null&&typeof m!="function"&&typeof m!="object"){if(N._owner){if(N=N._owner,N){if(N.tag!==1)throw Error(s(309));var X=N.stateNode}if(!X)throw Error(s(147,m));var R=X,j=""+m;return g!==null&&g.ref!==null&&typeof g.ref=="function"&&g.ref._stringRef===j?g.ref:(g=function(le){var Ne=R.refs;Ne===Bo&&(Ne=R.refs={}),le===null?delete Ne[j]:Ne[j]=le},g._stringRef=j,g)}if(typeof m!="string")throw Error(s(284));if(!N._owner)throw Error(s(290,m))}return m}function ko(m,g){throw m=Object.prototype.toString.call(g),Error(s(31,m==="[object Object]"?"object with keys {"+Object.keys(g).join(", ")+"}":m))}function Nu(m){var g=m._init;return g(m._payload)}function $u(m){function g(ze,Je){if(m){var je=ze.deletions;je===null?(ze.deletions=[Je],ze.flags|=16):je.push(Je)}}function N(ze,Je){if(!m)return null;for(;Je!==null;)g(ze,Je),Je=Je.sibling;return null}function X(ze,Je){for(ze=new Map;Je!==null;)Je.key!==null?ze.set(Je.key,Je):ze.set(Je.index,Je),Je=Je.sibling;return ze}function R(ze,Je){return ze=Bn(ze,Je),ze.index=0,ze.sibling=null,ze}function j(ze,Je,je){return ze.index=je,m?(je=ze.alternate,je!==null?(je=je.index,je<Je?(ze.flags|=2,Je):je):(ze.flags|=2,Je)):(ze.flags|=1048576,Je)}function le(ze){return m&&ze.alternate===null&&(ze.flags|=2),ze}function Ne(ze,Je,je,dt){return Je===null||Je.tag!==6?(Je=yu(je,ze.mode,dt),Je.return=ze,Je):(Je=R(Je,je),Je.return=ze,Je)}function Pe(ze,Je,je,dt){var _t=je.type;return _t===T?ut(ze,Je,je.props.children,dt,je.key):Je!==null&&(Je.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===U&&Nu(_t)===Je.type)?(dt=R(Je,je.props),dt.ref=Hi(ze,Je,je),dt.return=ze,dt):(dt=il(je.type,je.key,je.props,null,ze.mode,dt),dt.ref=Hi(ze,Je,je),dt.return=ze,dt)}function We(ze,Je,je,dt){return Je===null||Je.tag!==4||Je.stateNode.containerInfo!==je.containerInfo||Je.stateNode.implementation!==je.implementation?(Je=bu(je,ze.mode,dt),Je.return=ze,Je):(Je=R(Je,je.children||[]),Je.return=ze,Je)}function ut(ze,Je,je,dt,_t){return Je===null||Je.tag!==7?(Je=ds(je,ze.mode,dt,_t),Je.return=ze,Je):(Je=R(Je,je),Je.return=ze,Je)}function ft(ze,Je,je){if(typeof Je=="string"&&Je!==""||typeof Je=="number")return Je=yu(""+Je,ze.mode,je),Je.return=ze,Je;if(typeof Je=="object"&&Je!==null){switch(Je.$$typeof){case $:return je=il(Je.type,Je.key,Je.props,null,ze.mode,je),je.ref=Hi(ze,null,Je),je.return=ze,je;case M:return Je=bu(Je,ze.mode,je),Je.return=ze,Je;case U:var dt=Je._init;return ft(ze,dt(Je._payload),je)}if(Te(Je)||Y(Je))return Je=ds(Je,ze.mode,je,null),Je.return=ze,Je;ko(ze,Je)}return null}function ot(ze,Je,je,dt){var _t=Je!==null?Je.key:null;if(typeof je=="string"&&je!==""||typeof je=="number")return _t!==null?null:Ne(ze,Je,""+je,dt);if(typeof je=="object"&&je!==null){switch(je.$$typeof){case $:return je.key===_t?Pe(ze,Je,je,dt):null;case M:return je.key===_t?We(ze,Je,je,dt):null;case U:return _t=je._init,ot(ze,Je,_t(je._payload),dt)}if(Te(je)||Y(je))return _t!==null?null:ut(ze,Je,je,dt,null);ko(ze,je)}return null}function xt(ze,Je,je,dt,_t){if(typeof dt=="string"&&dt!==""||typeof dt=="number")return ze=ze.get(je)||null,Ne(Je,ze,""+dt,_t);if(typeof dt=="object"&&dt!==null){switch(dt.$$typeof){case $:return ze=ze.get(dt.key===null?je:dt.key)||null,Pe(Je,ze,dt,_t);case M:return ze=ze.get(dt.key===null?je:dt.key)||null,We(Je,ze,dt,_t);case U:var Dt=dt._init;return xt(ze,Je,je,Dt(dt._payload),_t)}if(Te(dt)||Y(dt))return ze=ze.get(je)||null,ut(Je,ze,dt,_t,null);ko(Je,dt)}return null}function Nt(ze,Je,je,dt){for(var _t=null,Dt=null,Pt=Je,Gt=Je=0,Mr=null;Pt!==null&&Gt<je.length;Gt++){Pt.index>Gt?(Mr=Pt,Pt=null):Mr=Pt.sibling;var Yt=ot(ze,Pt,je[Gt],dt);if(Yt===null){Pt===null&&(Pt=Mr);break}m&&Pt&&Yt.alternate===null&&g(ze,Pt),Je=j(Yt,Je,Gt),Dt===null?_t=Yt:Dt.sibling=Yt,Dt=Yt,Pt=Mr}if(Gt===je.length)return N(ze,Pt),ke&&I(ze,Gt),_t;if(Pt===null){for(;Gt<je.length;Gt++)Pt=ft(ze,je[Gt],dt),Pt!==null&&(Je=j(Pt,Je,Gt),Dt===null?_t=Pt:Dt.sibling=Pt,Dt=Pt);return ke&&I(ze,Gt),_t}for(Pt=X(ze,Pt);Gt<je.length;Gt++)Mr=xt(Pt,ze,Gt,je[Gt],dt),Mr!==null&&(m&&Mr.alternate!==null&&Pt.delete(Mr.key===null?Gt:Mr.key),Je=j(Mr,Je,Gt),Dt===null?_t=Mr:Dt.sibling=Mr,Dt=Mr);return m&&Pt.forEach(function(kn){return g(ze,kn)}),ke&&I(ze,Gt),_t}function $t(ze,Je,je,dt){var _t=Y(je);if(typeof _t!="function")throw Error(s(150));if(je=_t.call(je),je==null)throw Error(s(151));for(var Dt=_t=null,Pt=Je,Gt=Je=0,Mr=null,Yt=je.next();Pt!==null&&!Yt.done;Gt++,Yt=je.next()){Pt.index>Gt?(Mr=Pt,Pt=null):Mr=Pt.sibling;var kn=ot(ze,Pt,Yt.value,dt);if(kn===null){Pt===null&&(Pt=Mr);break}m&&Pt&&kn.alternate===null&&g(ze,Pt),Je=j(kn,Je,Gt),Dt===null?_t=kn:Dt.sibling=kn,Dt=kn,Pt=Mr}if(Yt.done)return N(ze,Pt),ke&&I(ze,Gt),_t;if(Pt===null){for(;!Yt.done;Gt++,Yt=je.next())Yt=ft(ze,Yt.value,dt),Yt!==null&&(Je=j(Yt,Je,Gt),Dt===null?_t=Yt:Dt.sibling=Yt,Dt=Yt);return ke&&I(ze,Gt),_t}for(Pt=X(ze,Pt);!Yt.done;Gt++,Yt=je.next())Yt=xt(Pt,ze,Gt,Yt.value,dt),Yt!==null&&(m&&Yt.alternate!==null&&Pt.delete(Yt.key===null?Gt:Yt.key),Je=j(Yt,Je,Gt),Dt===null?_t=Yt:Dt.sibling=Yt,Dt=Yt);return m&&Pt.forEach(function(b0){return g(ze,b0)}),ke&&I(ze,Gt),_t}function fr(ze,Je,je,dt){if(typeof je=="object"&&je!==null&&je.type===T&&je.key===null&&(je=je.props.children),typeof je=="object"&&je!==null){switch(je.$$typeof){case $:e:{for(var _t=je.key,Dt=Je;Dt!==null;){if(Dt.key===_t){if(_t=je.type,_t===T){if(Dt.tag===7){N(ze,Dt.sibling),Je=R(Dt,je.props.children),Je.return=ze,ze=Je;break e}}else if(Dt.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===U&&Nu(_t)===Dt.type){N(ze,Dt.sibling),Je=R(Dt,je.props),Je.ref=Hi(ze,Dt,je),Je.return=ze,ze=Je;break e}N(ze,Dt);break}else g(ze,Dt);Dt=Dt.sibling}je.type===T?(Je=ds(je.props.children,ze.mode,dt,je.key),Je.return=ze,ze=Je):(dt=il(je.type,je.key,je.props,null,ze.mode,dt),dt.ref=Hi(ze,Je,je),dt.return=ze,ze=dt)}return le(ze);case M:e:{for(Dt=je.key;Je!==null;){if(Je.key===Dt)if(Je.tag===4&&Je.stateNode.containerInfo===je.containerInfo&&Je.stateNode.implementation===je.implementation){N(ze,Je.sibling),Je=R(Je,je.children||[]),Je.return=ze,ze=Je;break e}else{N(ze,Je);break}else g(ze,Je);Je=Je.sibling}Je=bu(je,ze.mode,dt),Je.return=ze,ze=Je}return le(ze);case U:return Dt=je._init,fr(ze,Je,Dt(je._payload),dt)}if(Te(je))return Nt(ze,Je,je,dt);if(Y(je))return $t(ze,Je,je,dt);ko(ze,je)}return typeof je=="string"&&je!==""||typeof je=="number"?(je=""+je,Je!==null&&Je.tag===6?(N(ze,Je.sibling),Je=R(Je,je),Je.return=ze,ze=Je):(N(ze,Je),Je=yu(je,ze.mode,dt),Je.return=ze,ze=Je),le(ze)):N(ze,Je)}return fr}var zs=$u(!0),Eu=$u(!1),Oa={},Vi=zi(Oa),Ja=zi(Oa),Ba=zi(Oa);function os(m){if(m===Oa)throw Error(s(174));return m}function Jl(m,g){switch(Qt(Ba,g),Qt(Ja,m),Qt(Vi,Oa),m=g.nodeType,m){case 9:case 11:g=(g=g.documentElement)?g.namespaceURI:Oe(null,"");break;default:m=m===8?g.parentNode:g,g=m.namespaceURI||null,m=m.tagName,g=Oe(g,m)}Zt(Vi),Qt(Vi,g)}function Us(){Zt(Vi),Zt(Ja),Zt(Ba)}function _u(m){os(Ba.current);var g=os(Vi.current),N=Oe(g,m.type);g!==N&&(Qt(Ja,m),Qt(Vi,N))}function Bl(m){Ja.current===m&&(Zt(Vi),Zt(Ja))}var ar=zi(0);function Ro(m){for(var g=m;g!==null;){if(g.tag===13){var N=g.memoizedState;if(N!==null&&(N=N.dehydrated,N===null||N.data==="$?"||N.data==="$!"))return g}else if(g.tag===19&&g.memoizedProps.revealOrder!==void 0){if((g.flags&128)!==0)return g}else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===m)break;for(;g.sibling===null;){if(g.return===null||g.return===m)return null;g=g.return}g.sibling.return=g.return,g=g.sibling}return null}var kl=[];function Rl(){for(var m=0;m<kl.length;m++)kl[m]._workInProgressVersionPrimary=null;kl.length=0}var Io=_.ReactCurrentDispatcher,Il=_.ReactCurrentBatchConfig,ls=0,lr=null,xr=null,Er=null,Fo=!1,ka=!1,Ra=0,Ic=0;function Fr(){throw Error(s(321))}function Fl(m,g){if(g===null)return!1;for(var N=0;N<g.length&&N<m.length;N++)if(!ii(m[N],g[N]))return!1;return!0}function Ll(m,g,N,X,R,j){if(ls=j,lr=g,g.memoizedState=null,g.updateQueue=null,g.lanes=0,Io.current=m===null||m.memoizedState===null?Uc:Yc,m=N(X,R),ka){j=0;do{if(ka=!1,Ra=0,25<=j)throw Error(s(301));j+=1,Er=xr=null,g.updateQueue=null,Io.current=qc,m=N(X,R)}while(ka)}if(Io.current=Uo,g=xr!==null&&xr.next!==null,ls=0,Er=xr=lr=null,Fo=!1,g)throw Error(s(300));return m}function zl(){var m=Ra!==0;return Ra=0,m}function Wi(){var m={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Er===null?lr.memoizedState=Er=m:Er=Er.next=m,Er}function Si(){if(xr===null){var m=lr.alternate;m=m!==null?m.memoizedState:null}else m=xr.next;var g=Er===null?lr.memoizedState:Er.next;if(g!==null)Er=g,xr=m;else{if(m===null)throw Error(s(310));xr=m,m={memoizedState:xr.memoizedState,baseState:xr.baseState,baseQueue:xr.baseQueue,queue:xr.queue,next:null},Er===null?lr.memoizedState=Er=m:Er=Er.next=m}return Er}function Ia(m,g){return typeof g=="function"?g(m):g}function Ul(m){var g=Si(),N=g.queue;if(N===null)throw Error(s(311));N.lastRenderedReducer=m;var X=xr,R=X.baseQueue,j=N.pending;if(j!==null){if(R!==null){var le=R.next;R.next=j.next,j.next=le}X.baseQueue=R=j,N.pending=null}if(R!==null){j=R.next,X=X.baseState;var Ne=le=null,Pe=null,We=j;do{var ut=We.lane;if((ls&ut)===ut)Pe!==null&&(Pe=Pe.next={lane:0,action:We.action,hasEagerState:We.hasEagerState,eagerState:We.eagerState,next:null}),X=We.hasEagerState?We.eagerState:m(X,We.action);else{var ft={lane:ut,action:We.action,hasEagerState:We.hasEagerState,eagerState:We.eagerState,next:null};Pe===null?(Ne=Pe=ft,le=X):Pe=Pe.next=ft,lr.lanes|=ut,us|=ut}We=We.next}while(We!==null&&We!==j);Pe===null?le=X:Pe.next=Ne,ii(X,g.memoizedState)||(ai=!0),g.memoizedState=X,g.baseState=le,g.baseQueue=Pe,N.lastRenderedState=X}if(m=N.interleaved,m!==null){R=m;do j=R.lane,lr.lanes|=j,us|=j,R=R.next;while(R!==m)}else R===null&&(N.lanes=0);return[g.memoizedState,N.dispatch]}function Yl(m){var g=Si(),N=g.queue;if(N===null)throw Error(s(311));N.lastRenderedReducer=m;var X=N.dispatch,R=N.pending,j=g.memoizedState;if(R!==null){N.pending=null;var le=R=R.next;do j=m(j,le.action),le=le.next;while(le!==R);ii(j,g.memoizedState)||(ai=!0),g.memoizedState=j,g.baseQueue===null&&(g.baseState=j),N.lastRenderedState=j}return[j,X]}function Mu(){}function Au(m,g){var N=lr,X=Si(),R=g(),j=!ii(X.memoizedState,R);if(j&&(X.memoizedState=R,ai=!0),X=X.queue,ql(Xu.bind(null,N,X,m),[m]),X.getSnapshot!==g||j||Er!==null&&Er.memoizedState.tag&1){if(N.flags|=2048,Fa(9,Pu.bind(null,N,X,R,g),void 0,null),_r===null)throw Error(s(349));(ls&30)!==0||Du(N,g,R)}return R}function Du(m,g,N){m.flags|=16384,m={getSnapshot:g,value:N},g=lr.updateQueue,g===null?(g={lastEffect:null,stores:null},lr.updateQueue=g,g.stores=[m]):(N=g.stores,N===null?g.stores=[m]:N.push(m))}function Pu(m,g,N,X){g.value=N,g.getSnapshot=X,Gu(g)&&Tu(m)}function Xu(m,g,N){return N(function(){Gu(g)&&Tu(m)})}function Gu(m){var g=m.getSnapshot;m=m.value;try{var N=g();return!ii(m,N)}catch{return!0}}function Tu(m){var g=mi(m,1);g!==null&&Ti(g,m,1,-1)}function Ou(m){var g=Wi();return typeof m=="function"&&(m=m()),g.memoizedState=g.baseState=m,m={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ia,lastRenderedState:m},g.queue=m,m=m.dispatch=zc.bind(null,lr,m),[g.memoizedState,m]}function Fa(m,g,N,X){return m={tag:m,create:g,destroy:N,deps:X,next:null},g=lr.updateQueue,g===null?(g={lastEffect:null,stores:null},lr.updateQueue=g,g.lastEffect=m.next=m):(N=g.lastEffect,N===null?g.lastEffect=m.next=m:(X=N.next,N.next=m,m.next=X,g.lastEffect=m)),m}function Ju(){return Si().memoizedState}function Lo(m,g,N,X){var R=Wi();lr.flags|=m,R.memoizedState=Fa(1|g,N,void 0,X===void 0?null:X)}function zo(m,g,N,X){var R=Si();X=X===void 0?null:X;var j=void 0;if(xr!==null){var le=xr.memoizedState;if(j=le.destroy,X!==null&&Fl(X,le.deps)){R.memoizedState=Fa(g,N,j,X);return}}lr.flags|=m,R.memoizedState=Fa(1|g,N,j,X)}function Bu(m,g){return Lo(8390656,8,m,g)}function ql(m,g){return zo(2048,8,m,g)}function ku(m,g){return zo(4,2,m,g)}function Ru(m,g){return zo(4,4,m,g)}function Iu(m,g){if(typeof g=="function")return m=m(),g(m),function(){g(null)};if(g!=null)return m=m(),g.current=m,function(){g.current=null}}function Fu(m,g,N){return N=N!=null?N.concat([m]):null,zo(4,4,Iu.bind(null,g,m),N)}function jl(){}function Lu(m,g){var N=Si();g=g===void 0?null:g;var X=N.memoizedState;return X!==null&&g!==null&&Fl(g,X[1])?X[0]:(N.memoizedState=[m,g],m)}function zu(m,g){var N=Si();g=g===void 0?null:g;var X=N.memoizedState;return X!==null&&g!==null&&Fl(g,X[1])?X[0]:(m=m(),N.memoizedState=[m,g],m)}function Uu(m,g,N){return(ls&21)===0?(m.baseState&&(m.baseState=!1,ai=!0),m.memoizedState=N):(ii(N,g)||(N=Wa(),lr.lanes|=N,us|=N,m.baseState=!0),g)}function Fc(m,g){var N=qt;qt=N!==0&&4>N?N:4,m(!0);var X=Il.transition;Il.transition={};try{m(!1),g()}finally{qt=N,Il.transition=X}}function Yu(){return Si().memoizedState}function Lc(m,g,N){var X=On(m);if(N={lane:X,action:N,hasEagerState:!1,eagerState:null,next:null},qu(m))ju(g,N);else if(N=To(m,g,N,X),N!==null){var R=Kr();Ti(N,m,X,R),Hu(N,g,X)}}function zc(m,g,N){var X=On(m),R={lane:X,action:N,hasEagerState:!1,eagerState:null,next:null};if(qu(m))ju(g,R);else{var j=m.alternate;if(m.lanes===0&&(j===null||j.lanes===0)&&(j=g.lastRenderedReducer,j!==null))try{var le=g.lastRenderedState,Ne=j(le,N);if(R.hasEagerState=!0,R.eagerState=Ne,ii(Ne,le)){var Pe=g.interleaved;Pe===null?(R.next=R,ss(g)):(R.next=Pe.next,Pe.next=R),g.interleaved=R;return}}catch{}finally{}N=To(m,g,R,X),N!==null&&(R=Kr(),Ti(N,m,X,R),Hu(N,g,X))}}function qu(m){var g=m.alternate;return m===lr||g!==null&&g===lr}function ju(m,g){ka=Fo=!0;var N=m.pending;N===null?g.next=g:(g.next=N.next,N.next=g),m.pending=g}function Hu(m,g,N){if((N&4194240)!==0){var X=g.lanes;X&=m.pendingLanes,N|=X,g.lanes=N,gs(m,N)}}var Uo={readContext:br,useCallback:Fr,useContext:Fr,useEffect:Fr,useImperativeHandle:Fr,useInsertionEffect:Fr,useLayoutEffect:Fr,useMemo:Fr,useReducer:Fr,useRef:Fr,useState:Fr,useDebugValue:Fr,useDeferredValue:Fr,useTransition:Fr,useMutableSource:Fr,useSyncExternalStore:Fr,useId:Fr,unstable_isNewReconciler:!1},Uc={readContext:br,useCallback:function(m,g){return Wi().memoizedState=[m,g===void 0?null:g],m},useContext:br,useEffect:Bu,useImperativeHandle:function(m,g,N){return N=N!=null?N.concat([m]):null,Lo(4194308,4,Iu.bind(null,g,m),N)},useLayoutEffect:function(m,g){return Lo(4194308,4,m,g)},useInsertionEffect:function(m,g){return Lo(4,2,m,g)},useMemo:function(m,g){var N=Wi();return g=g===void 0?null:g,m=m(),N.memoizedState=[m,g],m},useReducer:function(m,g,N){var X=Wi();return g=N!==void 0?N(g):g,X.memoizedState=X.baseState=g,m={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:m,lastRenderedState:g},X.queue=m,m=m.dispatch=Lc.bind(null,lr,m),[X.memoizedState,m]},useRef:function(m){var g=Wi();return m={current:m},g.memoizedState=m},useState:Ou,useDebugValue:jl,useDeferredValue:function(m){return Wi().memoizedState=m},useTransition:function(){var m=Ou(!1),g=m[0];return m=Fc.bind(null,m[1]),Wi().memoizedState=m,[g,m]},useMutableSource:function(){},useSyncExternalStore:function(m,g,N){var X=lr,R=Wi();if(ke){if(N===void 0)throw Error(s(407));N=N()}else{if(N=g(),_r===null)throw Error(s(349));(ls&30)!==0||Du(X,g,N)}R.memoizedState=N;var j={value:N,getSnapshot:g};return R.queue=j,Bu(Xu.bind(null,X,j,m),[m]),X.flags|=2048,Fa(9,Pu.bind(null,X,j,N,g),void 0,null),N},useId:function(){var m=Wi(),g=_r.identifierPrefix;if(ke){var N=G,X=D;N=(X&~(1<<32-ti(X)-1)).toString(32)+N,g=":"+g+"R"+N,N=Ra++,0<N&&(g+="H"+N.toString(32)),g+=":"}else N=Ic++,g=":"+g+"r"+N.toString(32)+":";return m.memoizedState=g},unstable_isNewReconciler:!1},Yc={readContext:br,useCallback:Lu,useContext:br,useEffect:ql,useImperativeHandle:Fu,useInsertionEffect:ku,useLayoutEffect:Ru,useMemo:zu,useReducer:Ul,useRef:Ju,useState:function(){return Ul(Ia)},useDebugValue:jl,useDeferredValue:function(m){var g=Si();return Uu(g,xr.memoizedState,m)},useTransition:function(){var m=Ul(Ia)[0],g=Si().memoizedState;return[m,g]},useMutableSource:Mu,useSyncExternalStore:Au,useId:Yu,unstable_isNewReconciler:!1},qc={readContext:br,useCallback:Lu,useContext:br,useEffect:ql,useImperativeHandle:Fu,useInsertionEffect:ku,useLayoutEffect:Ru,useMemo:zu,useReducer:Yl,useRef:Ju,useState:function(){return Yl(Ia)},useDebugValue:jl,useDeferredValue:function(m){var g=Si();return xr===null?g.memoizedState=m:Uu(g,xr.memoizedState,m)},useTransition:function(){var m=Yl(Ia)[0],g=Si().memoizedState;return[m,g]},useMutableSource:Mu,useSyncExternalStore:Au,useId:Yu,unstable_isNewReconciler:!1};function Ys(m,g){try{var N="",X=g;do N+=ce(X),X=X.return;while(X);var R=N}catch(j){R=`
Error generating stack: `+j.message+`
`+j.stack}return{value:m,source:g,stack:R,digest:null}}function Hl(m,g,N){return{value:m,source:null,stack:N??null,digest:g??null}}function Vl(m,g){try{console.error(g.value)}catch(N){setTimeout(function(){throw N})}}var Hc=typeof WeakMap=="function"?WeakMap:Map;function Vu(m,g,N){N=Ir(-1,N),N.tag=3,N.payload={element:null};var X=g.value;return N.callback=function(){Zo||(Zo=!0,cu=X),Vl(m,g)},N}function Wu(m,g,N){N=Ir(-1,N),N.tag=3;var X=m.type.getDerivedStateFromError;if(typeof X=="function"){var R=g.value;N.payload=function(){return X(R)},N.callback=function(){Vl(m,g)}}var j=m.stateNode;return j!==null&&typeof j.componentDidCatch=="function"&&(N.callback=function(){Vl(m,g),typeof X!="function"&&(Gn===null?Gn=new Set([this]):Gn.add(this));var le=g.stack;this.componentDidCatch(g.value,{componentStack:le!==null?le:""})}),N}function Zu(m,g,N){var X=m.pingCache;if(X===null){X=m.pingCache=new Hc;var R=new Set;X.set(g,R)}else R=X.get(g),R===void 0&&(R=new Set,X.set(g,R));R.has(N)||(R.add(N),m=l0.bind(null,m,g,N),g.then(m,m))}function Qu(m){do{var g;if((g=m.tag===13)&&(g=m.memoizedState,g=g!==null?g.dehydrated!==null:!0),g)return m;m=m.return}while(m!==null);return null}function Ku(m,g,N,X,R){return(m.mode&1)===0?(m===g?m.flags|=65536:(m.flags|=128,N.flags|=131072,N.flags&=-52805,N.tag===1&&(N.alternate===null?N.tag=17:(g=Ir(-1,1),g.tag=2,Zr(N,g,1))),N.lanes|=1),m):(m.flags|=65536,m.lanes=R,m)}var Vc=_.ReactCurrentOwner,ai=!1;function Qr(m,g,N,X){g.child=m===null?Eu(g,null,N,X):zs(g,m.child,N,X)}function ec(m,g,N,X,R){N=N.render;var j=g.ref;return dr(g,R),X=Ll(m,g,N,X,j,R),N=zl(),m!==null&&!ai?(g.updateQueue=m.updateQueue,g.flags&=-2053,m.lanes&=~R,on(m,g,R)):(ke&&N&&ne(g),g.flags|=1,Qr(m,g,X,R),g.child)}function tc(m,g,N,X,R){if(m===null){var j=N.type;return typeof j=="function"&&!gu(j)&&j.defaultProps===void 0&&N.compare===null&&N.defaultProps===void 0?(g.tag=15,g.type=j,rc(m,g,j,X,R)):(m=il(N.type,null,X,g,g.mode,R),m.ref=g.ref,m.return=g,g.child=m)}if(j=m.child,(m.lanes&R)===0){var le=j.memoizedProps;if(N=N.compare,N=N!==null?N:Sn,N(le,X)&&m.ref===g.ref)return on(m,g,R)}return g.flags|=1,m=Bn(j,X),m.ref=g.ref,m.return=g,g.child=m}function rc(m,g,N,X,R){if(m!==null){var j=m.memoizedProps;if(Sn(j,X)&&m.ref===g.ref)if(ai=!1,g.pendingProps=X=j,(m.lanes&R)!==0)(m.flags&131072)!==0&&(ai=!0);else return g.lanes=m.lanes,on(m,g,R)}return Wl(m,g,N,X,R)}function ic(m,g,N){var X=g.pendingProps,R=X.children,j=m!==null?m.memoizedState:null;if(X.mode==="hidden")if((g.mode&1)===0)g.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qt(js,vi),vi|=N;else{if((N&1073741824)===0)return m=j!==null?j.baseLanes|N:N,g.lanes=g.childLanes=1073741824,g.memoizedState={baseLanes:m,cachePool:null,transitions:null},g.updateQueue=null,Qt(js,vi),vi|=m,null;g.memoizedState={baseLanes:0,cachePool:null,transitions:null},X=j!==null?j.baseLanes:N,Qt(js,vi),vi|=X}else j!==null?(X=j.baseLanes|N,g.memoizedState=null):X=N,Qt(js,vi),vi|=X;return Qr(m,g,R,N),g.child}function nc(m,g){var N=g.ref;(m===null&&N!==null||m!==null&&m.ref!==N)&&(g.flags|=512,g.flags|=2097152)}function Wl(m,g,N,X,R){var j=Xr(N)?Ui:yr.current;return j=Yi(g,j),dr(g,R),N=Ll(m,g,N,X,j,R),X=zl(),m!==null&&!ai?(g.updateQueue=m.updateQueue,g.flags&=-2053,m.lanes&=~R,on(m,g,R)):(ke&&X&&ne(g),g.flags|=1,Qr(m,g,N,R),g.child)}function sc(m,g,N,X,R){if(Xr(N)){var j=!0;ns(g)}else j=!1;if(dr(g,R),g.stateNode===null)qo(m,g),Ta(g,N,X),Ls(g,N,X,R),X=!0;else if(m===null){var le=g.stateNode,Ne=g.memoizedProps;le.props=Ne;var Pe=le.context,We=N.contextType;typeof We=="object"&&We!==null?We=br(We):(We=Xr(N)?Ui:yr.current,We=Yi(g,We));var ut=N.getDerivedStateFromProps,ft=typeof ut=="function"||typeof le.getSnapshotBeforeUpdate=="function";ft||typeof le.UNSAFE_componentWillReceiveProps!="function"&&typeof le.componentWillReceiveProps!="function"||(Ne!==X||Pe!==We)&&Fs(g,le,X,We),$r=!1;var ot=g.memoizedState;le.state=ot,an(g,X,le,R),Pe=g.memoizedState,Ne!==X||ot!==Pe||Nr.current||$r?(typeof ut=="function"&&(Xa(g,N,ut,X),Pe=g.memoizedState),(Ne=$r||Ga(g,N,Ne,X,ot,Pe,We))?(ft||typeof le.UNSAFE_componentWillMount!="function"&&typeof le.componentWillMount!="function"||(typeof le.componentWillMount=="function"&&le.componentWillMount(),typeof le.UNSAFE_componentWillMount=="function"&&le.UNSAFE_componentWillMount()),typeof le.componentDidMount=="function"&&(g.flags|=4194308)):(typeof le.componentDidMount=="function"&&(g.flags|=4194308),g.memoizedProps=X,g.memoizedState=Pe),le.props=X,le.state=Pe,le.context=We,X=Ne):(typeof le.componentDidMount=="function"&&(g.flags|=4194308),X=!1)}else{le=g.stateNode,Oo(m,g),Ne=g.memoizedProps,We=g.type===g.elementType?Ne:Ot(g.type,Ne),le.props=We,ft=g.pendingProps,ot=le.context,Pe=N.contextType,typeof Pe=="object"&&Pe!==null?Pe=br(Pe):(Pe=Xr(N)?Ui:yr.current,Pe=Yi(g,Pe));var xt=N.getDerivedStateFromProps;(ut=typeof xt=="function"||typeof le.getSnapshotBeforeUpdate=="function")||typeof le.UNSAFE_componentWillReceiveProps!="function"&&typeof le.componentWillReceiveProps!="function"||(Ne!==ft||ot!==Pe)&&Fs(g,le,X,Pe),$r=!1,ot=g.memoizedState,le.state=ot,an(g,X,le,R);var Nt=g.memoizedState;Ne!==ft||ot!==Nt||Nr.current||$r?(typeof xt=="function"&&(Xa(g,N,xt,X),Nt=g.memoizedState),(We=$r||Ga(g,N,We,X,ot,Nt,Pe)||!1)?(ut||typeof le.UNSAFE_componentWillUpdate!="function"&&typeof le.componentWillUpdate!="function"||(typeof le.componentWillUpdate=="function"&&le.componentWillUpdate(X,Nt,Pe),typeof le.UNSAFE_componentWillUpdate=="function"&&le.UNSAFE_componentWillUpdate(X,Nt,Pe)),typeof le.componentDidUpdate=="function"&&(g.flags|=4),typeof le.getSnapshotBeforeUpdate=="function"&&(g.flags|=1024)):(typeof le.componentDidUpdate!="function"||Ne===m.memoizedProps&&ot===m.memoizedState||(g.flags|=4),typeof le.getSnapshotBeforeUpdate!="function"||Ne===m.memoizedProps&&ot===m.memoizedState||(g.flags|=1024),g.memoizedProps=X,g.memoizedState=Nt),le.props=X,le.state=Nt,le.context=Pe,X=We):(typeof le.componentDidUpdate!="function"||Ne===m.memoizedProps&&ot===m.memoizedState||(g.flags|=4),typeof le.getSnapshotBeforeUpdate!="function"||Ne===m.memoizedProps&&ot===m.memoizedState||(g.flags|=1024),X=!1)}return Zl(m,g,N,X,j,R)}function Zl(m,g,N,X,R,j){nc(m,g);var le=(g.flags&128)!==0;if(!X&&!le)return R&&Pa(g,N,!1),on(m,g,j);X=g.stateNode,Vc.current=g;var Ne=le&&typeof N.getDerivedStateFromError!="function"?null:X.render();return g.flags|=1,m!==null&&le?(g.child=zs(g,m.child,null,j),g.child=zs(g,null,Ne,j)):Qr(m,g,Ne,j),g.memoizedState=X.state,R&&Pa(g,N,!0),g.child}function ac(m){var g=m.stateNode;g.pendingContext?Xo(m,g.pendingContext,g.pendingContext!==g.context):g.context&&Xo(m,g.context,!1),Jl(m,g.containerInfo)}function oc(m,g,N,X,R){return kt(),Ut(R),g.flags|=256,Qr(m,g,N,X),g.child}var Ql={dehydrated:null,treeContext:null,retryLane:0};function Kl(m){return{baseLanes:m,cachePool:null,transitions:null}}function lc(m,g,N){var X=g.pendingProps,R=ar.current,j=!1,le=(g.flags&128)!==0,Ne;if((Ne=le)||(Ne=m!==null&&m.memoizedState===null?!1:(R&2)!==0),Ne?(j=!0,g.flags&=-129):(m===null||m.memoizedState!==null)&&(R|=1),Qt(ar,R&1),m===null)return mt(g),m=g.memoizedState,m!==null&&(m=m.dehydrated,m!==null)?((g.mode&1)===0?g.lanes=1:m.data==="$!"?g.lanes=8:g.lanes=1073741824,null):(le=X.children,m=X.fallback,j?(X=g.mode,j=g.child,le={mode:"hidden",children:le},(X&1)===0&&j!==null?(j.childLanes=0,j.pendingProps=le):j=nl(le,X,0,null),m=ds(m,X,N,null),j.return=g,m.return=g,j.sibling=m,g.child=j,g.child.memoizedState=Kl(N),g.memoizedState=Ql,m):eu(g,le));if(R=m.memoizedState,R!==null&&(Ne=R.dehydrated,Ne!==null))return Wc(m,g,le,X,Ne,R,N);if(j){j=X.fallback,le=g.mode,R=m.child,Ne=R.sibling;var Pe={mode:"hidden",children:X.children};return(le&1)===0&&g.child!==R?(X=g.child,X.childLanes=0,X.pendingProps=Pe,g.deletions=null):(X=Bn(R,Pe),X.subtreeFlags=R.subtreeFlags&14680064),Ne!==null?j=Bn(Ne,j):(j=ds(j,le,N,null),j.flags|=2),j.return=g,X.return=g,X.sibling=j,g.child=X,X=j,j=g.child,le=m.child.memoizedState,le=le===null?Kl(N):{baseLanes:le.baseLanes|N,cachePool:null,transitions:le.transitions},j.memoizedState=le,j.childLanes=m.childLanes&~N,g.memoizedState=Ql,X}return j=m.child,m=j.sibling,X=Bn(j,{mode:"visible",children:X.children}),(g.mode&1)===0&&(X.lanes=N),X.return=g,X.sibling=null,m!==null&&(N=g.deletions,N===null?(g.deletions=[m],g.flags|=16):N.push(m)),g.child=X,g.memoizedState=null,X}function eu(m,g){return g=nl({mode:"visible",children:g},m.mode,0,null),g.return=m,m.child=g}function Yo(m,g,N,X){return X!==null&&Ut(X),zs(g,m.child,null,N),m=eu(g,g.pendingProps.children),m.flags|=2,g.memoizedState=null,m}function Wc(m,g,N,X,R,j,le){if(N)return g.flags&256?(g.flags&=-257,X=Hl(Error(s(422))),Yo(m,g,le,X)):g.memoizedState!==null?(g.child=m.child,g.flags|=128,null):(j=X.fallback,R=g.mode,X=nl({mode:"visible",children:X.children},R,0,null),j=ds(j,R,le,null),j.flags|=2,X.return=g,j.return=g,X.sibling=j,g.child=X,(g.mode&1)!==0&&zs(g,m.child,null,le),g.child.memoizedState=Kl(le),g.memoizedState=Ql,j);if((g.mode&1)===0)return Yo(m,g,le,null);if(R.data==="$!"){if(X=R.nextSibling&&R.nextSibling.dataset,X)var Ne=X.dgst;return X=Ne,j=Error(s(419)),X=Hl(j,X,void 0),Yo(m,g,le,X)}if(Ne=(le&m.childLanes)!==0,ai||Ne){if(X=_r,X!==null){switch(le&-le){case 4:R=2;break;case 16:R=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:R=32;break;case 536870912:R=268435456;break;default:R=0}R=(R&(X.suspendedLanes|le))!==0?0:R,R!==0&&R!==j.retryLane&&(j.retryLane=R,mi(m,R),Ti(X,m,R,-1))}return vu(),X=Hl(Error(s(421))),Yo(m,g,le,X)}return R.data==="$?"?(g.flags|=128,g.child=m.child,g=u0.bind(null,m),R._reactRetry=g,null):(m=j.treeContext,Ee=Mi(R.nextSibling),ge=g,ke=!0,Qe=null,m!==null&&(V[C++]=D,V[C++]=G,V[C++]=E,D=m.id,G=m.overflow,E=g),g=eu(g,X.children),g.flags|=4096,g)}function uc(m,g,N){m.lanes|=g;var X=m.alternate;X!==null&&(X.lanes|=g),si(m.return,g,N)}function tu(m,g,N,X,R){var j=m.memoizedState;j===null?m.memoizedState={isBackwards:g,rendering:null,renderingStartTime:0,last:X,tail:N,tailMode:R}:(j.isBackwards=g,j.rendering=null,j.renderingStartTime=0,j.last=X,j.tail=N,j.tailMode=R)}function cc(m,g,N){var X=g.pendingProps,R=X.revealOrder,j=X.tail;if(Qr(m,g,X.children,N),X=ar.current,(X&2)!==0)X=X&1|2,g.flags|=128;else{if(m!==null&&(m.flags&128)!==0)e:for(m=g.child;m!==null;){if(m.tag===13)m.memoizedState!==null&&uc(m,N,g);else if(m.tag===19)uc(m,N,g);else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===g)break e;for(;m.sibling===null;){if(m.return===null||m.return===g)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}X&=1}if(Qt(ar,X),(g.mode&1)===0)g.memoizedState=null;else switch(R){case"forwards":for(N=g.child,R=null;N!==null;)m=N.alternate,m!==null&&Ro(m)===null&&(R=N),N=N.sibling;N=R,N===null?(R=g.child,g.child=null):(R=N.sibling,N.sibling=null),tu(g,!1,R,N,j);break;case"backwards":for(N=null,R=g.child,g.child=null;R!==null;){if(m=R.alternate,m!==null&&Ro(m)===null){g.child=R;break}m=R.sibling,R.sibling=N,N=R,R=m}tu(g,!0,N,null,j);break;case"together":tu(g,!1,null,null,void 0);break;default:g.memoizedState=null}return g.child}function qo(m,g){(g.mode&1)===0&&m!==null&&(m.alternate=null,g.alternate=null,g.flags|=2)}function on(m,g,N){if(m!==null&&(g.dependencies=m.dependencies),us|=g.lanes,(N&g.childLanes)===0)return null;if(m!==null&&g.child!==m.child)throw Error(s(153));if(g.child!==null){for(m=g.child,N=Bn(m,m.pendingProps),g.child=N,N.return=g;m.sibling!==null;)m=m.sibling,N=N.sibling=Bn(m,m.pendingProps),N.return=g;N.sibling=null}return g.child}function Zc(m,g,N){switch(g.tag){case 3:ac(g),kt();break;case 5:_u(g);break;case 1:Xr(g.type)&&ns(g);break;case 4:Jl(g,g.stateNode.containerInfo);break;case 10:var X=g.type._context,R=g.memoizedProps.value;Qt(Rt,X._currentValue),X._currentValue=R;break;case 13:if(X=g.memoizedState,X!==null)return X.dehydrated!==null?(Qt(ar,ar.current&1),g.flags|=128,null):(N&g.child.childLanes)!==0?lc(m,g,N):(Qt(ar,ar.current&1),m=on(m,g,N),m!==null?m.sibling:null);Qt(ar,ar.current&1);break;case 19:if(X=(N&g.childLanes)!==0,(m.flags&128)!==0){if(X)return cc(m,g,N);g.flags|=128}if(R=g.memoizedState,R!==null&&(R.rendering=null,R.tail=null,R.lastEffect=null),Qt(ar,ar.current),X)break;return null;case 22:case 23:return g.lanes=0,ic(m,g,N)}return on(m,g,N)}var fc,ru,hc,dc;fc=function(m,g){for(var N=g.child;N!==null;){if(N.tag===5||N.tag===6)m.appendChild(N.stateNode);else if(N.tag!==4&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===g)break;for(;N.sibling===null;){if(N.return===null||N.return===g)return;N=N.return}N.sibling.return=N.return,N=N.sibling}},ru=function(){},hc=function(m,g,N,X){var R=m.memoizedProps;if(R!==X){m=g.stateNode,os(Vi.current);var j=null;switch(N){case"input":R=it(m,R),X=it(m,X),j=[];break;case"select":R=K({},R,{value:void 0}),X=K({},X,{value:void 0}),j=[];break;case"textarea":R=Ke(m,R),X=Ke(m,X),j=[];break;default:typeof R.onClick!="function"&&typeof X.onClick=="function"&&(m.onclick=Gs)}He(N,X);var le;N=null;for(We in R)if(!X.hasOwnProperty(We)&&R.hasOwnProperty(We)&&R[We]!=null)if(We==="style"){var Ne=R[We];for(le in Ne)Ne.hasOwnProperty(le)&&(N||(N={}),N[le]="")}else We!=="dangerouslySetInnerHTML"&&We!=="children"&&We!=="suppressContentEditableWarning"&&We!=="suppressHydrationWarning"&&We!=="autoFocus"&&(a.hasOwnProperty(We)?j||(j=[]):(j=j||[]).push(We,null));for(We in X){var Pe=X[We];if(Ne=R!=null?R[We]:void 0,X.hasOwnProperty(We)&&Pe!==Ne&&(Pe!=null||Ne!=null))if(We==="style")if(Ne){for(le in Ne)!Ne.hasOwnProperty(le)||Pe&&Pe.hasOwnProperty(le)||(N||(N={}),N[le]="");for(le in Pe)Pe.hasOwnProperty(le)&&Ne[le]!==Pe[le]&&(N||(N={}),N[le]=Pe[le])}else N||(j||(j=[]),j.push(We,N)),N=Pe;else We==="dangerouslySetInnerHTML"?(Pe=Pe?Pe.__html:void 0,Ne=Ne?Ne.__html:void 0,Pe!=null&&Ne!==Pe&&(j=j||[]).push(We,Pe)):We==="children"?typeof Pe!="string"&&typeof Pe!="number"||(j=j||[]).push(We,""+Pe):We!=="suppressContentEditableWarning"&&We!=="suppressHydrationWarning"&&(a.hasOwnProperty(We)?(Pe!=null&&We==="onScroll"&&Wt("scroll",m),j||Ne===Pe||(j=[])):(j=j||[]).push(We,Pe))}N&&(j=j||[]).push("style",N);var We=j;(g.updateQueue=We)&&(g.flags|=4)}},dc=function(m,g,N,X){N!==X&&(g.flags|=4)};function La(m,g){if(!ke)switch(m.tailMode){case"hidden":g=m.tail;for(var N=null;g!==null;)g.alternate!==null&&(N=g),g=g.sibling;N===null?m.tail=null:N.sibling=null;break;case"collapsed":N=m.tail;for(var X=null;N!==null;)N.alternate!==null&&(X=N),N=N.sibling;X===null?g||m.tail===null?m.tail=null:m.tail.sibling=null:X.sibling=null}}function Lr(m){var g=m.alternate!==null&&m.alternate.child===m.child,N=0,X=0;if(g)for(var R=m.child;R!==null;)N|=R.lanes|R.childLanes,X|=R.subtreeFlags&14680064,X|=R.flags&14680064,R.return=m,R=R.sibling;else for(R=m.child;R!==null;)N|=R.lanes|R.childLanes,X|=R.subtreeFlags,X|=R.flags,R.return=m,R=R.sibling;return m.subtreeFlags|=X,m.childLanes=N,g}function Qc(m,g,N){var X=g.pendingProps;switch(fe(g),g.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lr(g),null;case 1:return Xr(g.type)&&is(),Lr(g),null;case 3:return X=g.stateNode,Us(),Zt(Nr),Zt(yr),Rl(),X.pendingContext&&(X.context=X.pendingContext,X.pendingContext=null),(m===null||m.child===null)&&(At(g)?g.flags|=4:m===null||m.memoizedState.isDehydrated&&(g.flags&256)===0||(g.flags|=1024,Qe!==null&&(du(Qe),Qe=null))),ru(m,g),Lr(g),null;case 5:Bl(g);var R=os(Ba.current);if(N=g.type,m!==null&&g.stateNode!=null)hc(m,g,N,X,R),m.ref!==g.ref&&(g.flags|=512,g.flags|=2097152);else{if(!X){if(g.stateNode===null)throw Error(s(166));return Lr(g),null}if(m=os(Vi.current),At(g)){X=g.stateNode,N=g.type;var j=g.memoizedProps;switch(X[gr]=g,X[Dr]=j,m=(g.mode&1)!==0,N){case"dialog":Wt("cancel",X),Wt("close",X);break;case"iframe":case"object":case"embed":Wt("load",X);break;case"video":case"audio":for(R=0;R<rn.length;R++)Wt(rn[R],X);break;case"source":Wt("error",X);break;case"img":case"image":case"link":Wt("error",X),Wt("load",X);break;case"details":Wt("toggle",X);break;case"input":me(X,j),Wt("invalid",X);break;case"select":X._wrapperState={wasMultiple:!!j.multiple},Wt("invalid",X);break;case"textarea":pe(X,j),Wt("invalid",X)}He(N,j),R=null;for(var le in j)if(j.hasOwnProperty(le)){var Ne=j[le];le==="children"?typeof Ne=="string"?X.textContent!==Ne&&(j.suppressHydrationWarning!==!0&&Kn(X.textContent,Ne,m),R=["children",Ne]):typeof Ne=="number"&&X.textContent!==""+Ne&&(j.suppressHydrationWarning!==!0&&Kn(X.textContent,Ne,m),R=["children",""+Ne]):a.hasOwnProperty(le)&&Ne!=null&&le==="onScroll"&&Wt("scroll",X)}switch(N){case"input":Ze(X),ye(X,j,!0);break;case"textarea":Ze(X),De(X);break;case"select":case"option":break;default:typeof j.onClick=="function"&&(X.onclick=Gs)}X=R,g.updateQueue=X,X!==null&&(g.flags|=4)}else{le=R.nodeType===9?R:R.ownerDocument,m==="http://www.w3.org/1999/xhtml"&&(m=_e(N)),m==="http://www.w3.org/1999/xhtml"?N==="script"?(m=le.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild)):typeof X.is=="string"?m=le.createElement(N,{is:X.is}):(m=le.createElement(N),N==="select"&&(le=m,X.multiple?le.multiple=!0:X.size&&(le.size=X.size))):m=le.createElementNS(m,N),m[gr]=g,m[Dr]=X,fc(m,g,!1,!1),g.stateNode=m;e:{switch(le=ht(N,X),N){case"dialog":Wt("cancel",m),Wt("close",m),R=X;break;case"iframe":case"object":case"embed":Wt("load",m),R=X;break;case"video":case"audio":for(R=0;R<rn.length;R++)Wt(rn[R],m);R=X;break;case"source":Wt("error",m),R=X;break;case"img":case"image":case"link":Wt("error",m),Wt("load",m),R=X;break;case"details":Wt("toggle",m),R=X;break;case"input":me(m,X),R=it(m,X),Wt("invalid",m);break;case"option":R=X;break;case"select":m._wrapperState={wasMultiple:!!X.multiple},R=K({},X,{value:void 0}),Wt("invalid",m);break;case"textarea":pe(m,X),R=Ke(m,X),Wt("invalid",m);break;default:R=X}He(N,R),Ne=R;for(j in Ne)if(Ne.hasOwnProperty(j)){var Pe=Ne[j];j==="style"?vt(m,Pe):j==="dangerouslySetInnerHTML"?(Pe=Pe?Pe.__html:void 0,Pe!=null&&tt(m,Pe)):j==="children"?typeof Pe=="string"?(N!=="textarea"||Pe!=="")&&Ve(m,Pe):typeof Pe=="number"&&Ve(m,""+Pe):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(a.hasOwnProperty(j)?Pe!=null&&j==="onScroll"&&Wt("scroll",m):Pe!=null&&S(m,j,Pe,le))}switch(N){case"input":Ze(m),ye(m,X,!1);break;case"textarea":Ze(m),De(m);break;case"option":X.value!=null&&m.setAttribute("value",""+Ae(X.value));break;case"select":m.multiple=!!X.multiple,j=X.value,j!=null?et(m,!!X.multiple,j,!1):X.defaultValue!=null&&et(m,!!X.multiple,X.defaultValue,!0);break;default:typeof R.onClick=="function"&&(m.onclick=Gs)}switch(N){case"button":case"input":case"select":case"textarea":X=!!X.autoFocus;break e;case"img":X=!0;break e;default:X=!1}}X&&(g.flags|=4)}g.ref!==null&&(g.flags|=512,g.flags|=2097152)}return Lr(g),null;case 6:if(m&&g.stateNode!=null)dc(m,g,m.memoizedProps,X);else{if(typeof X!="string"&&g.stateNode===null)throw Error(s(166));if(N=os(Ba.current),os(Vi.current),At(g)){if(X=g.stateNode,N=g.memoizedProps,X[gr]=g,(j=X.nodeValue!==N)&&(m=ge,m!==null))switch(m.tag){case 3:Kn(X.nodeValue,N,(m.mode&1)!==0);break;case 5:m.memoizedProps.suppressHydrationWarning!==!0&&Kn(X.nodeValue,N,(m.mode&1)!==0)}j&&(g.flags|=4)}else X=(N.nodeType===9?N:N.ownerDocument).createTextNode(X),X[gr]=g,g.stateNode=X}return Lr(g),null;case 13:if(Zt(ar),X=g.memoizedState,m===null||m.memoizedState!==null&&m.memoizedState.dehydrated!==null){if(ke&&Ee!==null&&(g.mode&1)!==0&&(g.flags&128)===0)Mt(),kt(),g.flags|=98560,j=!1;else if(j=At(g),X!==null&&X.dehydrated!==null){if(m===null){if(!j)throw Error(s(318));if(j=g.memoizedState,j=j!==null?j.dehydrated:null,!j)throw Error(s(317));j[gr]=g}else kt(),(g.flags&128)===0&&(g.memoizedState=null),g.flags|=4;Lr(g),j=!1}else Qe!==null&&(du(Qe),Qe=null),j=!0;if(!j)return g.flags&65536?g:null}return(g.flags&128)!==0?(g.lanes=N,g):(X=X!==null,X!==(m!==null&&m.memoizedState!==null)&&X&&(g.child.flags|=8192,(g.mode&1)!==0&&(m===null||(ar.current&1)!==0?Cr===0&&(Cr=3):vu())),g.updateQueue!==null&&(g.flags|=4),Lr(g),null);case 4:return Us(),ru(m,g),m===null&&En(g.stateNode.containerInfo),Lr(g),null;case 10:return wi(g.type._context),Lr(g),null;case 17:return Xr(g.type)&&is(),Lr(g),null;case 19:if(Zt(ar),j=g.memoizedState,j===null)return Lr(g),null;if(X=(g.flags&128)!==0,le=j.rendering,le===null)if(X)La(j,!1);else{if(Cr!==0||m!==null&&(m.flags&128)!==0)for(m=g.child;m!==null;){if(le=Ro(m),le!==null){for(g.flags|=128,La(j,!1),X=le.updateQueue,X!==null&&(g.updateQueue=X,g.flags|=4),g.subtreeFlags=0,X=N,N=g.child;N!==null;)j=N,m=X,j.flags&=14680066,le=j.alternate,le===null?(j.childLanes=0,j.lanes=m,j.child=null,j.subtreeFlags=0,j.memoizedProps=null,j.memoizedState=null,j.updateQueue=null,j.dependencies=null,j.stateNode=null):(j.childLanes=le.childLanes,j.lanes=le.lanes,j.child=le.child,j.subtreeFlags=0,j.deletions=null,j.memoizedProps=le.memoizedProps,j.memoizedState=le.memoizedState,j.updateQueue=le.updateQueue,j.type=le.type,m=le.dependencies,j.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext}),N=N.sibling;return Qt(ar,ar.current&1|2),g.child}m=m.sibling}j.tail!==null&&Et()>Hs&&(g.flags|=128,X=!0,La(j,!1),g.lanes=4194304)}else{if(!X)if(m=Ro(le),m!==null){if(g.flags|=128,X=!0,N=m.updateQueue,N!==null&&(g.updateQueue=N,g.flags|=4),La(j,!0),j.tail===null&&j.tailMode==="hidden"&&!le.alternate&&!ke)return Lr(g),null}else 2*Et()-j.renderingStartTime>Hs&&N!==1073741824&&(g.flags|=128,X=!0,La(j,!1),g.lanes=4194304);j.isBackwards?(le.sibling=g.child,g.child=le):(N=j.last,N!==null?N.sibling=le:g.child=le,j.last=le)}return j.tail!==null?(g=j.tail,j.rendering=g,j.tail=g.sibling,j.renderingStartTime=Et(),g.sibling=null,N=ar.current,Qt(ar,X?N&1|2:N&1),g):(Lr(g),null);case 22:case 23:return mu(),X=g.memoizedState!==null,m!==null&&m.memoizedState!==null!==X&&(g.flags|=8192),X&&(g.mode&1)!==0?(vi&1073741824)!==0&&(Lr(g),g.subtreeFlags&6&&(g.flags|=8192)):Lr(g),null;case 24:return null;case 25:return null}throw Error(s(156,g.tag))}function Kc(m,g){switch(fe(g),g.tag){case 1:return Xr(g.type)&&is(),m=g.flags,m&65536?(g.flags=m&-65537|128,g):null;case 3:return Us(),Zt(Nr),Zt(yr),Rl(),m=g.flags,(m&65536)!==0&&(m&128)===0?(g.flags=m&-65537|128,g):null;case 5:return Bl(g),null;case 13:if(Zt(ar),m=g.memoizedState,m!==null&&m.dehydrated!==null){if(g.alternate===null)throw Error(s(340));kt()}return m=g.flags,m&65536?(g.flags=m&-65537|128,g):null;case 19:return Zt(ar),null;case 4:return Us(),null;case 10:return wi(g.type._context),null;case 22:case 23:return mu(),null;case 24:return null;default:return null}}var jo=!1,zr=!1,e0=typeof WeakSet=="function"?WeakSet:Set,St=null;function qs(m,g){var N=m.ref;if(N!==null)if(typeof N=="function")try{N(null)}catch(X){ur(m,g,X)}else N.current=null}function iu(m,g,N){try{N()}catch(X){ur(m,g,X)}}var pc=!1;function t0(m,g){if(Ts=xs,m=xo(),Nn(m)){if("selectionStart"in m)var N={start:m.selectionStart,end:m.selectionEnd};else e:{N=(N=m.ownerDocument)&&N.defaultView||window;var X=N.getSelection&&N.getSelection();if(X&&X.rangeCount!==0){N=X.anchorNode;var R=X.anchorOffset,j=X.focusNode;X=X.focusOffset;try{N.nodeType,j.nodeType}catch{N=null;break e}var le=0,Ne=-1,Pe=-1,We=0,ut=0,ft=m,ot=null;t:for(;;){for(var xt;ft!==N||R!==0&&ft.nodeType!==3||(Ne=le+R),ft!==j||X!==0&&ft.nodeType!==3||(Pe=le+X),ft.nodeType===3&&(le+=ft.nodeValue.length),(xt=ft.firstChild)!==null;)ot=ft,ft=xt;for(;;){if(ft===m)break t;if(ot===N&&++We===R&&(Ne=le),ot===j&&++ut===X&&(Pe=le),(xt=ft.nextSibling)!==null)break;ft=ot,ot=ft.parentNode}ft=xt}N=Ne===-1||Pe===-1?null:{start:Ne,end:Pe}}else N=null}N=N||{start:0,end:0}}else N=null;for(Na={focusedElem:m,selectionRange:N},xs=!1,St=g;St!==null;)if(g=St,m=g.child,(g.subtreeFlags&1028)!==0&&m!==null)m.return=g,St=m;else for(;St!==null;){g=St;try{var Nt=g.alternate;if((g.flags&1024)!==0)switch(g.tag){case 0:case 11:case 15:break;case 1:if(Nt!==null){var $t=Nt.memoizedProps,fr=Nt.memoizedState,ze=g.stateNode,Je=ze.getSnapshotBeforeUpdate(g.elementType===g.type?$t:Ot(g.type,$t),fr);ze.__reactInternalSnapshotBeforeUpdate=Je}break;case 3:var je=g.stateNode.containerInfo;je.nodeType===1?je.textContent="":je.nodeType===9&&je.documentElement&&je.removeChild(je.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(dt){ur(g,g.return,dt)}if(m=g.sibling,m!==null){m.return=g.return,St=m;break}St=g.return}return Nt=pc,pc=!1,Nt}function za(m,g,N){var X=g.updateQueue;if(X=X!==null?X.lastEffect:null,X!==null){var R=X=X.next;do{if((R.tag&m)===m){var j=R.destroy;R.destroy=void 0,j!==void 0&&iu(g,N,j)}R=R.next}while(R!==X)}}function Ho(m,g){if(g=g.updateQueue,g=g!==null?g.lastEffect:null,g!==null){var N=g=g.next;do{if((N.tag&m)===m){var X=N.create;N.destroy=X()}N=N.next}while(N!==g)}}function nu(m){var g=m.ref;if(g!==null){var N=m.stateNode;switch(m.tag){case 5:m=N;break;default:m=N}typeof g=="function"?g(m):g.current=m}}function mc(m){var g=m.alternate;g!==null&&(m.alternate=null,mc(g)),m.child=null,m.deletions=null,m.sibling=null,m.tag===5&&(g=m.stateNode,g!==null&&(delete g[gr],delete g[Dr],delete g[ts],delete g[Po],delete g[Tl])),m.stateNode=null,m.return=null,m.dependencies=null,m.memoizedProps=null,m.memoizedState=null,m.pendingProps=null,m.stateNode=null,m.updateQueue=null}function vc(m){return m.tag===5||m.tag===3||m.tag===4}function gc(m){e:for(;;){for(;m.sibling===null;){if(m.return===null||vc(m.return))return null;m=m.return}for(m.sibling.return=m.return,m=m.sibling;m.tag!==5&&m.tag!==6&&m.tag!==18;){if(m.flags&2||m.child===null||m.tag===4)continue e;m.child.return=m,m=m.child}if(!(m.flags&2))return m.stateNode}}function su(m,g,N){var X=m.tag;if(X===5||X===6)m=m.stateNode,g?N.nodeType===8?N.parentNode.insertBefore(m,g):N.insertBefore(m,g):(N.nodeType===8?(g=N.parentNode,g.insertBefore(m,N)):(g=N,g.appendChild(m)),N=N._reactRootContainer,N!=null||g.onclick!==null||(g.onclick=Gs));else if(X!==4&&(m=m.child,m!==null))for(su(m,g,N),m=m.sibling;m!==null;)su(m,g,N),m=m.sibling}function au(m,g,N){var X=m.tag;if(X===5||X===6)m=m.stateNode,g?N.insertBefore(m,g):N.appendChild(m);else if(X!==4&&(m=m.child,m!==null))for(au(m,g,N),m=m.sibling;m!==null;)au(m,g,N),m=m.sibling}var Or=null,Xi=!1;function Xn(m,g,N){for(N=N.child;N!==null;)yc(m,g,N),N=N.sibling}function yc(m,g,N){if(ci&&typeof ci.onCommitFiberUnmount=="function")try{ci.onCommitFiberUnmount(vs,N)}catch{}switch(N.tag){case 5:zr||qs(N,g);case 6:var X=Or,R=Xi;Or=null,Xn(m,g,N),Or=X,Xi=R,Or!==null&&(Xi?(m=Or,N=N.stateNode,m.nodeType===8?m.parentNode.removeChild(N):m.removeChild(N)):Or.removeChild(N.stateNode));break;case 18:Or!==null&&(Xi?(m=Or,N=N.stateNode,m.nodeType===8?_a(m.parentNode,N):m.nodeType===1&&_a(m,N),Hr(m)):_a(Or,N.stateNode));break;case 4:X=Or,R=Xi,Or=N.stateNode.containerInfo,Xi=!0,Xn(m,g,N),Or=X,Xi=R;break;case 0:case 11:case 14:case 15:if(!zr&&(X=N.updateQueue,X!==null&&(X=X.lastEffect,X!==null))){R=X=X.next;do{var j=R,le=j.destroy;j=j.tag,le!==void 0&&((j&2)!==0||(j&4)!==0)&&iu(N,g,le),R=R.next}while(R!==X)}Xn(m,g,N);break;case 1:if(!zr&&(qs(N,g),X=N.stateNode,typeof X.componentWillUnmount=="function"))try{X.props=N.memoizedProps,X.state=N.memoizedState,X.componentWillUnmount()}catch(Ne){ur(N,g,Ne)}Xn(m,g,N);break;case 21:Xn(m,g,N);break;case 22:N.mode&1?(zr=(X=zr)||N.memoizedState!==null,Xn(m,g,N),zr=X):Xn(m,g,N);break;default:Xn(m,g,N)}}function bc(m){var g=m.updateQueue;if(g!==null){m.updateQueue=null;var N=m.stateNode;N===null&&(N=m.stateNode=new e0),g.forEach(function(X){var R=c0.bind(null,m,X);N.has(X)||(N.add(X),X.then(R,R))})}}function Gi(m,g){var N=g.deletions;if(N!==null)for(var X=0;X<N.length;X++){var R=N[X];try{var j=m,le=g,Ne=le;e:for(;Ne!==null;){switch(Ne.tag){case 5:Or=Ne.stateNode,Xi=!1;break e;case 3:Or=Ne.stateNode.containerInfo,Xi=!0;break e;case 4:Or=Ne.stateNode.containerInfo,Xi=!0;break e}Ne=Ne.return}if(Or===null)throw Error(s(160));yc(j,le,R),Or=null,Xi=!1;var Pe=R.alternate;Pe!==null&&(Pe.return=null),R.return=null}catch(We){ur(R,g,We)}}if(g.subtreeFlags&12854)for(g=g.child;g!==null;)xc(g,m),g=g.sibling}function xc(m,g){var N=m.alternate,X=m.flags;switch(m.tag){case 0:case 11:case 14:case 15:if(Gi(g,m),Zi(m),X&4){try{za(3,m,m.return),Ho(3,m)}catch($t){ur(m,m.return,$t)}try{za(5,m,m.return)}catch($t){ur(m,m.return,$t)}}break;case 1:Gi(g,m),Zi(m),X&512&&N!==null&&qs(N,N.return);break;case 5:if(Gi(g,m),Zi(m),X&512&&N!==null&&qs(N,N.return),m.flags&32){var R=m.stateNode;try{Ve(R,"")}catch($t){ur(m,m.return,$t)}}if(X&4&&(R=m.stateNode,R!=null)){var j=m.memoizedProps,le=N!==null?N.memoizedProps:j,Ne=m.type,Pe=m.updateQueue;if(m.updateQueue=null,Pe!==null)try{Ne==="input"&&j.type==="radio"&&j.name!=null&&be(R,j),ht(Ne,le);var We=ht(Ne,j);for(le=0;le<Pe.length;le+=2){var ut=Pe[le],ft=Pe[le+1];ut==="style"?vt(R,ft):ut==="dangerouslySetInnerHTML"?tt(R,ft):ut==="children"?Ve(R,ft):S(R,ut,ft,We)}switch(Ne){case"input":Re(R,j);break;case"textarea":ve(R,j);break;case"select":var ot=R._wrapperState.wasMultiple;R._wrapperState.wasMultiple=!!j.multiple;var xt=j.value;xt!=null?et(R,!!j.multiple,xt,!1):ot!==!!j.multiple&&(j.defaultValue!=null?et(R,!!j.multiple,j.defaultValue,!0):et(R,!!j.multiple,j.multiple?[]:"",!1))}R[Dr]=j}catch($t){ur(m,m.return,$t)}}break;case 6:if(Gi(g,m),Zi(m),X&4){if(m.stateNode===null)throw Error(s(162));R=m.stateNode,j=m.memoizedProps;try{R.nodeValue=j}catch($t){ur(m,m.return,$t)}}break;case 3:if(Gi(g,m),Zi(m),X&4&&N!==null&&N.memoizedState.isDehydrated)try{Hr(g.containerInfo)}catch($t){ur(m,m.return,$t)}break;case 4:Gi(g,m),Zi(m);break;case 13:Gi(g,m),Zi(m),R=m.child,R.flags&8192&&(j=R.memoizedState!==null,R.stateNode.isHidden=j,!j||R.alternate!==null&&R.alternate.memoizedState!==null||(uu=Et())),X&4&&bc(m);break;case 22:if(ut=N!==null&&N.memoizedState!==null,m.mode&1?(zr=(We=zr)||ut,Gi(g,m),zr=We):Gi(g,m),Zi(m),X&8192){if(We=m.memoizedState!==null,(m.stateNode.isHidden=We)&&!ut&&(m.mode&1)!==0)for(St=m,ut=m.child;ut!==null;){for(ft=St=ut;St!==null;){switch(ot=St,xt=ot.child,ot.tag){case 0:case 11:case 14:case 15:za(4,ot,ot.return);break;case 1:qs(ot,ot.return);var Nt=ot.stateNode;if(typeof Nt.componentWillUnmount=="function"){X=ot,N=ot.return;try{g=X,Nt.props=g.memoizedProps,Nt.state=g.memoizedState,Nt.componentWillUnmount()}catch($t){ur(X,N,$t)}}break;case 5:qs(ot,ot.return);break;case 22:if(ot.memoizedState!==null){Sc(ft);continue}}xt!==null?(xt.return=ot,St=xt):Sc(ft)}ut=ut.sibling}e:for(ut=null,ft=m;;){if(ft.tag===5){if(ut===null){ut=ft;try{R=ft.stateNode,We?(j=R.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none"):(Ne=ft.stateNode,Pe=ft.memoizedProps.style,le=Pe!=null&&Pe.hasOwnProperty("display")?Pe.display:null,Ne.style.display=at("display",le))}catch($t){ur(m,m.return,$t)}}}else if(ft.tag===6){if(ut===null)try{ft.stateNode.nodeValue=We?"":ft.memoizedProps}catch($t){ur(m,m.return,$t)}}else if((ft.tag!==22&&ft.tag!==23||ft.memoizedState===null||ft===m)&&ft.child!==null){ft.child.return=ft,ft=ft.child;continue}if(ft===m)break e;for(;ft.sibling===null;){if(ft.return===null||ft.return===m)break e;ut===ft&&(ut=null),ft=ft.return}ut===ft&&(ut=null),ft.sibling.return=ft.return,ft=ft.sibling}}break;case 19:Gi(g,m),Zi(m),X&4&&bc(m);break;case 21:break;default:Gi(g,m),Zi(m)}}function Zi(m){var g=m.flags;if(g&2){try{e:{for(var N=m.return;N!==null;){if(vc(N)){var X=N;break e}N=N.return}throw Error(s(160))}switch(X.tag){case 5:var R=X.stateNode;X.flags&32&&(Ve(R,""),X.flags&=-33);var j=gc(m);au(m,j,R);break;case 3:case 4:var le=X.stateNode.containerInfo,Ne=gc(m);su(m,Ne,le);break;default:throw Error(s(161))}}catch(Pe){ur(m,m.return,Pe)}m.flags&=-3}g&4096&&(m.flags&=-4097)}function r0(m,g,N){St=m,Cc(m)}function Cc(m,g,N){for(var X=(m.mode&1)!==0;St!==null;){var R=St,j=R.child;if(R.tag===22&&X){var le=R.memoizedState!==null||jo;if(!le){var Ne=R.alternate,Pe=Ne!==null&&Ne.memoizedState!==null||zr;Ne=jo;var We=zr;if(jo=le,(zr=Pe)&&!We)for(St=R;St!==null;)le=St,Pe=le.child,le.tag===22&&le.memoizedState!==null?Nc(R):Pe!==null?(Pe.return=le,St=Pe):Nc(R);for(;j!==null;)St=j,Cc(j),j=j.sibling;St=R,jo=Ne,zr=We}wc(m)}else(R.subtreeFlags&8772)!==0&&j!==null?(j.return=R,St=j):wc(m)}}function wc(m){for(;St!==null;){var g=St;if((g.flags&8772)!==0){var N=g.alternate;try{if((g.flags&8772)!==0)switch(g.tag){case 0:case 11:case 15:zr||Ho(5,g);break;case 1:var X=g.stateNode;if(g.flags&4&&!zr)if(N===null)X.componentDidMount();else{var R=g.elementType===g.type?N.memoizedProps:Ot(g.type,N.memoizedProps);X.componentDidUpdate(R,N.memoizedState,X.__reactInternalSnapshotBeforeUpdate)}var j=g.updateQueue;j!==null&&Jo(g,j,X);break;case 3:var le=g.updateQueue;if(le!==null){if(N=null,g.child!==null)switch(g.child.tag){case 5:N=g.child.stateNode;break;case 1:N=g.child.stateNode}Jo(g,le,N)}break;case 5:var Ne=g.stateNode;if(N===null&&g.flags&4){N=Ne;var Pe=g.memoizedProps;switch(g.type){case"button":case"input":case"select":case"textarea":Pe.autoFocus&&N.focus();break;case"img":Pe.src&&(N.src=Pe.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(g.memoizedState===null){var We=g.alternate;if(We!==null){var ut=We.memoizedState;if(ut!==null){var ft=ut.dehydrated;ft!==null&&Hr(ft)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}zr||g.flags&512&&nu(g)}catch(ot){ur(g,g.return,ot)}}if(g===m){St=null;break}if(N=g.sibling,N!==null){N.return=g.return,St=N;break}St=g.return}}function Sc(m){for(;St!==null;){var g=St;if(g===m){St=null;break}var N=g.sibling;if(N!==null){N.return=g.return,St=N;break}St=g.return}}function Nc(m){for(;St!==null;){var g=St;try{switch(g.tag){case 0:case 11:case 15:var N=g.return;try{Ho(4,g)}catch(Pe){ur(g,N,Pe)}break;case 1:var X=g.stateNode;if(typeof X.componentDidMount=="function"){var R=g.return;try{X.componentDidMount()}catch(Pe){ur(g,R,Pe)}}var j=g.return;try{nu(g)}catch(Pe){ur(g,j,Pe)}break;case 5:var le=g.return;try{nu(g)}catch(Pe){ur(g,le,Pe)}}}catch(Pe){ur(g,g.return,Pe)}if(g===m){St=null;break}var Ne=g.sibling;if(Ne!==null){Ne.return=g.return,St=Ne;break}St=g.return}}var i0=Math.ceil,Vo=_.ReactCurrentDispatcher,ou=_.ReactCurrentOwner,Ni=_.ReactCurrentBatchConfig,Ft=0,_r=null,pr=null,Jr=0,vi=0,js=zi(0),Cr=0,Ua=null,us=0,Wo=0,lu=0,Ya=null,oi=null,uu=0,Hs=1/0,un=null,Zo=!1,cu=null,Gn=null,Qo=!1,Tn=null,Ko=0,qa=0,fu=null,el=-1,tl=0;function Kr(){return(Ft&6)!==0?Et():el!==-1?el:el=Et()}function On(m){return(m.mode&1)===0?1:(Ft&2)!==0&&Jr!==0?Jr&-Jr:tr.transition!==null?(tl===0&&(tl=Wa()),tl):(m=qt,m!==0||(m=window.event,m=m===void 0?16:io(m.type)),m)}function Ti(m,g,N,X){if(50<qa)throw qa=0,fu=null,Error(s(185));en(m,N,X),((Ft&2)===0||m!==_r)&&(m===_r&&((Ft&2)===0&&(Wo|=N),Cr===4&&Jn(m,Jr)),li(m,X),N===1&&Ft===0&&(g.mode&1)===0&&(Hs=Et()+500,An&&Di()))}function li(m,g){var N=m.callbackNode;pl(m,g);var X=Br(m,m===_r?Jr:0);if(X===0)N!==null&&mr(N),m.callbackNode=null,m.callbackPriority=0;else if(g=X&-X,m.callbackPriority!==g){if(N!=null&&mr(N),g===1)m.tag===0?Ol(Ec.bind(null,m)):Go(Ec.bind(null,m)),Ao(function(){(Ft&6)===0&&Di()}),N=null;else{switch(Za(X)){case 1:N=Ki;break;case 4:N=yi;break;case 16:N=jr;break;case 536870912:N=Ha;break;default:N=jr}N=Tc(N,$c.bind(null,m))}m.callbackPriority=g,m.callbackNode=N}}function $c(m,g){if(el=-1,tl=0,(Ft&6)!==0)throw Error(s(327));var N=m.callbackNode;if(Vs()&&m.callbackNode!==N)return null;var X=Br(m,m===_r?Jr:0);if(X===0)return null;if((X&30)!==0||(X&m.expiredLanes)!==0||g)g=rl(m,X);else{g=X;var R=Ft;Ft|=2;var j=Mc();(_r!==m||Jr!==g)&&(un=null,Hs=Et()+500,fs(m,g));do try{a0();break}catch(Ne){_c(m,Ne)}while(!0);Tr(),Vo.current=j,Ft=R,pr!==null?g=0:(_r=null,Jr=0,g=Cr)}if(g!==0){if(g===2&&(R=Zs(m),R!==0&&(X=R,g=hu(m,R))),g===1)throw N=Ua,fs(m,0),Jn(m,X),li(m,Et()),N;if(g===6)Jn(m,X);else{if(R=m.current.alternate,(X&30)===0&&!n0(R)&&(g=rl(m,X),g===2&&(j=Zs(m),j!==0&&(X=j,g=hu(m,j))),g===1))throw N=Ua,fs(m,0),Jn(m,X),li(m,Et()),N;switch(m.finishedWork=R,m.finishedLanes=X,g){case 0:case 1:throw Error(s(345));case 2:hs(m,oi,un);break;case 3:if(Jn(m,X),(X&130023424)===X&&(g=uu+500-Et(),10<g)){if(Br(m,0)!==0)break;if(R=m.suspendedLanes,(R&X)!==X){Kr(),m.pingedLanes|=m.suspendedLanes&R;break}m.timeoutHandle=es(hs.bind(null,m,oi,un),g);break}hs(m,oi,un);break;case 4:if(Jn(m,X),(X&4194240)===X)break;for(g=m.eventTimes,R=-1;0<X;){var le=31-ti(X);j=1<<le,le=g[le],le>R&&(R=le),X&=~j}if(X=R,X=Et()-X,X=(120>X?120:480>X?480:1080>X?1080:1920>X?1920:3e3>X?3e3:4320>X?4320:1960*i0(X/1960))-X,10<X){m.timeoutHandle=es(hs.bind(null,m,oi,un),X);break}hs(m,oi,un);break;case 5:hs(m,oi,un);break;default:throw Error(s(329))}}}return li(m,Et()),m.callbackNode===N?$c.bind(null,m):null}function hu(m,g){var N=Ya;return m.current.memoizedState.isDehydrated&&(fs(m,g).flags|=256),m=rl(m,g),m!==2&&(g=oi,oi=N,g!==null&&du(g)),m}function du(m){oi===null?oi=m:oi.push.apply(oi,m)}function n0(m){for(var g=m;;){if(g.flags&16384){var N=g.updateQueue;if(N!==null&&(N=N.stores,N!==null))for(var X=0;X<N.length;X++){var R=N[X],j=R.getSnapshot;R=R.value;try{if(!ii(j(),R))return!1}catch{return!1}}}if(N=g.child,g.subtreeFlags&16384&&N!==null)N.return=g,g=N;else{if(g===m)break;for(;g.sibling===null;){if(g.return===null||g.return===m)return!0;g=g.return}g.sibling.return=g.return,g=g.sibling}}return!0}function Jn(m,g){for(g&=~lu,g&=~Wo,m.suspendedLanes|=g,m.pingedLanes&=~g,m=m.expirationTimes;0<g;){var N=31-ti(g),X=1<<N;m[N]=-1,g&=~X}}function Ec(m){if((Ft&6)!==0)throw Error(s(327));Vs();var g=Br(m,0);if((g&1)===0)return li(m,Et()),null;var N=rl(m,g);if(m.tag!==0&&N===2){var X=Zs(m);X!==0&&(g=X,N=hu(m,X))}if(N===1)throw N=Ua,fs(m,0),Jn(m,g),li(m,Et()),N;if(N===6)throw Error(s(345));return m.finishedWork=m.current.alternate,m.finishedLanes=g,hs(m,oi,un),li(m,Et()),null}function pu(m,g){var N=Ft;Ft|=1;try{return m(g)}finally{Ft=N,Ft===0&&(Hs=Et()+500,An&&Di())}}function cs(m){Tn!==null&&Tn.tag===0&&(Ft&6)===0&&Vs();var g=Ft;Ft|=1;var N=Ni.transition,X=qt;try{if(Ni.transition=null,qt=1,m)return m()}finally{qt=X,Ni.transition=N,Ft=g,(Ft&6)===0&&Di()}}function mu(){vi=js.current,Zt(js)}function fs(m,g){m.finishedWork=null,m.finishedLanes=0;var N=m.timeoutHandle;if(N!==-1&&(m.timeoutHandle=-1,$a(N)),pr!==null)for(N=pr.return;N!==null;){var X=N;switch(fe(X),X.tag){case 1:X=X.type.childContextTypes,X!=null&&is();break;case 3:Us(),Zt(Nr),Zt(yr),Rl();break;case 5:Bl(X);break;case 4:Us();break;case 13:Zt(ar);break;case 19:Zt(ar);break;case 10:wi(X.type._context);break;case 22:case 23:mu()}N=N.return}if(_r=m,pr=m=Bn(m.current,null),Jr=vi=g,Cr=0,Ua=null,lu=Wo=us=0,oi=Ya=null,ji!==null){for(g=0;g<ji.length;g++)if(N=ji[g],X=N.interleaved,X!==null){N.interleaved=null;var R=X.next,j=N.pending;if(j!==null){var le=j.next;j.next=R,X.next=le}N.pending=X}ji=null}return m}function _c(m,g){do{var N=pr;try{if(Tr(),Io.current=Uo,Fo){for(var X=lr.memoizedState;X!==null;){var R=X.queue;R!==null&&(R.pending=null),X=X.next}Fo=!1}if(ls=0,Er=xr=lr=null,ka=!1,Ra=0,ou.current=null,N===null||N.return===null){Cr=1,Ua=g,pr=null;break}e:{var j=m,le=N.return,Ne=N,Pe=g;if(g=Jr,Ne.flags|=32768,Pe!==null&&typeof Pe=="object"&&typeof Pe.then=="function"){var We=Pe,ut=Ne,ft=ut.tag;if((ut.mode&1)===0&&(ft===0||ft===11||ft===15)){var ot=ut.alternate;ot?(ut.updateQueue=ot.updateQueue,ut.memoizedState=ot.memoizedState,ut.lanes=ot.lanes):(ut.updateQueue=null,ut.memoizedState=null)}var xt=Qu(le);if(xt!==null){xt.flags&=-257,Ku(xt,le,Ne,j,g),xt.mode&1&&Zu(j,We,g),g=xt,Pe=We;var Nt=g.updateQueue;if(Nt===null){var $t=new Set;$t.add(Pe),g.updateQueue=$t}else Nt.add(Pe);break e}else{if((g&1)===0){Zu(j,We,g),vu();break e}Pe=Error(s(426))}}else if(ke&&Ne.mode&1){var fr=Qu(le);if(fr!==null){(fr.flags&65536)===0&&(fr.flags|=256),Ku(fr,le,Ne,j,g),Ut(Ys(Pe,Ne));break e}}j=Pe=Ys(Pe,Ne),Cr!==4&&(Cr=2),Ya===null?Ya=[j]:Ya.push(j),j=le;do{switch(j.tag){case 3:j.flags|=65536,g&=-g,j.lanes|=g;var ze=Vu(j,Pe,g);as(j,ze);break e;case 1:Ne=Pe;var Je=j.type,je=j.stateNode;if((j.flags&128)===0&&(typeof Je.getDerivedStateFromError=="function"||je!==null&&typeof je.componentDidCatch=="function"&&(Gn===null||!Gn.has(je)))){j.flags|=65536,g&=-g,j.lanes|=g;var dt=Wu(j,Ne,g);as(j,dt);break e}}j=j.return}while(j!==null)}Dc(N)}catch(_t){g=_t,pr===N&&N!==null&&(pr=N=N.return);continue}break}while(!0)}function Mc(){var m=Vo.current;return Vo.current=Uo,m===null?Uo:m}function vu(){(Cr===0||Cr===3||Cr===2)&&(Cr=4),_r===null||(us&268435455)===0&&(Wo&268435455)===0||Jn(_r,Jr)}function rl(m,g){var N=Ft;Ft|=2;var X=Mc();(_r!==m||Jr!==g)&&(un=null,fs(m,g));do try{s0();break}catch(R){_c(m,R)}while(!0);if(Tr(),Ft=N,Vo.current=X,pr!==null)throw Error(s(261));return _r=null,Jr=0,Cr}function s0(){for(;pr!==null;)Ac(pr)}function a0(){for(;pr!==null&&!nr();)Ac(pr)}function Ac(m){var g=Gc(m.alternate,m,vi);m.memoizedProps=m.pendingProps,g===null?Dc(m):pr=g,ou.current=null}function Dc(m){var g=m;do{var N=g.alternate;if(m=g.return,(g.flags&32768)===0){if(N=Qc(N,g,vi),N!==null){pr=N;return}}else{if(N=Kc(N,g),N!==null){N.flags&=32767,pr=N;return}if(m!==null)m.flags|=32768,m.subtreeFlags=0,m.deletions=null;else{Cr=6,pr=null;return}}if(g=g.sibling,g!==null){pr=g;return}pr=g=m}while(g!==null);Cr===0&&(Cr=5)}function hs(m,g,N){var X=qt,R=Ni.transition;try{Ni.transition=null,qt=1,o0(m,g,N,X)}finally{Ni.transition=R,qt=X}return null}function o0(m,g,N,X){do Vs();while(Tn!==null);if((Ft&6)!==0)throw Error(s(327));N=m.finishedWork;var R=m.finishedLanes;if(N===null)return null;if(m.finishedWork=null,m.finishedLanes=0,N===m.current)throw Error(s(177));m.callbackNode=null,m.callbackPriority=0;var j=N.lanes|N.childLanes;if(kr(m,j),m===_r&&(pr=_r=null,Jr=0),(N.subtreeFlags&2064)===0&&(N.flags&2064)===0||Qo||(Qo=!0,Tc(jr,function(){return Vs(),null})),j=(N.flags&15990)!==0,(N.subtreeFlags&15990)!==0||j){j=Ni.transition,Ni.transition=null;var le=qt;qt=1;var Ne=Ft;Ft|=4,ou.current=null,t0(m,N),xc(N,m),Co(Na),xs=!!Ts,Na=Ts=null,m.current=N,r0(N),Yr(),Ft=Ne,qt=le,Ni.transition=j}else m.current=N;if(Qo&&(Qo=!1,Tn=m,Ko=R),j=m.pendingLanes,j===0&&(Gn=null),Va(N.stateNode),li(m,Et()),g!==null)for(X=m.onRecoverableError,N=0;N<g.length;N++)R=g[N],X(R.value,{componentStack:R.stack,digest:R.digest});if(Zo)throw Zo=!1,m=cu,cu=null,m;return(Ko&1)!==0&&m.tag!==0&&Vs(),j=m.pendingLanes,(j&1)!==0?m===fu?qa++:(qa=0,fu=m):qa=0,Di(),null}function Vs(){if(Tn!==null){var m=Za(Ko),g=Ni.transition,N=qt;try{if(Ni.transition=null,qt=16>m?16:m,Tn===null)var X=!1;else{if(m=Tn,Tn=null,Ko=0,(Ft&6)!==0)throw Error(s(331));var R=Ft;for(Ft|=4,St=m.current;St!==null;){var j=St,le=j.child;if((St.flags&16)!==0){var Ne=j.deletions;if(Ne!==null){for(var Pe=0;Pe<Ne.length;Pe++){var We=Ne[Pe];for(St=We;St!==null;){var ut=St;switch(ut.tag){case 0:case 11:case 15:za(8,ut,j)}var ft=ut.child;if(ft!==null)ft.return=ut,St=ft;else for(;St!==null;){ut=St;var ot=ut.sibling,xt=ut.return;if(mc(ut),ut===We){St=null;break}if(ot!==null){ot.return=xt,St=ot;break}St=xt}}}var Nt=j.alternate;if(Nt!==null){var $t=Nt.child;if($t!==null){Nt.child=null;do{var fr=$t.sibling;$t.sibling=null,$t=fr}while($t!==null)}}St=j}}if((j.subtreeFlags&2064)!==0&&le!==null)le.return=j,St=le;else e:for(;St!==null;){if(j=St,(j.flags&2048)!==0)switch(j.tag){case 0:case 11:case 15:za(9,j,j.return)}var ze=j.sibling;if(ze!==null){ze.return=j.return,St=ze;break e}St=j.return}}var Je=m.current;for(St=Je;St!==null;){le=St;var je=le.child;if((le.subtreeFlags&2064)!==0&&je!==null)je.return=le,St=je;else e:for(le=Je;St!==null;){if(Ne=St,(Ne.flags&2048)!==0)try{switch(Ne.tag){case 0:case 11:case 15:Ho(9,Ne)}}catch(_t){ur(Ne,Ne.return,_t)}if(Ne===le){St=null;break e}var dt=Ne.sibling;if(dt!==null){dt.return=Ne.return,St=dt;break e}St=Ne.return}}if(Ft=R,Di(),ci&&typeof ci.onPostCommitFiberRoot=="function")try{ci.onPostCommitFiberRoot(vs,m)}catch{}X=!0}return X}finally{qt=N,Ni.transition=g}}return!1}function Pc(m,g,N){g=Ys(N,g),g=Vu(m,g,1),m=Zr(m,g,1),g=Kr(),m!==null&&(en(m,1,g),li(m,g))}function ur(m,g,N){if(m.tag===3)Pc(m,m,N);else for(;g!==null;){if(g.tag===3){Pc(g,m,N);break}else if(g.tag===1){var X=g.stateNode;if(typeof g.type.getDerivedStateFromError=="function"||typeof X.componentDidCatch=="function"&&(Gn===null||!Gn.has(X))){m=Ys(N,m),m=Wu(g,m,1),g=Zr(g,m,1),m=Kr(),g!==null&&(en(g,1,m),li(g,m));break}}g=g.return}}function l0(m,g,N){var X=m.pingCache;X!==null&&X.delete(g),g=Kr(),m.pingedLanes|=m.suspendedLanes&N,_r===m&&(Jr&N)===N&&(Cr===4||Cr===3&&(Jr&130023424)===Jr&&500>Et()-uu?fs(m,0):lu|=N),li(m,g)}function Xc(m,g){g===0&&((m.mode&1)===0?g=1:(g=Vt,Vt<<=1,(Vt&130023424)===0&&(Vt=4194304)));var N=Kr();m=mi(m,g),m!==null&&(en(m,g,N),li(m,N))}function u0(m){var g=m.memoizedState,N=0;g!==null&&(N=g.retryLane),Xc(m,N)}function c0(m,g){var N=0;switch(m.tag){case 13:var X=m.stateNode,R=m.memoizedState;R!==null&&(N=R.retryLane);break;case 19:X=m.stateNode;break;default:throw Error(s(314))}X!==null&&X.delete(g),Xc(m,N)}var Gc;Gc=function(m,g,N){if(m!==null)if(m.memoizedProps!==g.pendingProps||Nr.current)ai=!0;else{if((m.lanes&N)===0&&(g.flags&128)===0)return ai=!1,Zc(m,g,N);ai=(m.flags&131072)!==0}else ai=!1,ke&&(g.flags&1048576)!==0&&W(g,Rs,g.index);switch(g.lanes=0,g.tag){case 2:var X=g.type;qo(m,g),m=g.pendingProps;var R=Yi(g,yr.current);dr(g,N),R=Ll(null,g,X,m,R,N);var j=zl();return g.flags|=1,typeof R=="object"&&R!==null&&typeof R.render=="function"&&R.$$typeof===void 0?(g.tag=1,g.memoizedState=null,g.updateQueue=null,Xr(X)?(j=!0,ns(g)):j=!1,g.memoizedState=R.state!==null&&R.state!==void 0?R.state:null,Is(g),R.updater=Pn,g.stateNode=R,R._reactInternals=g,Ls(g,X,m,N),g=Zl(null,g,X,!0,j,N)):(g.tag=0,ke&&j&&ne(g),Qr(null,g,R,N),g=g.child),g;case 16:X=g.elementType;e:{switch(qo(m,g),m=g.pendingProps,R=X._init,X=R(X._payload),g.type=X,R=g.tag=h0(X),m=Ot(X,m),R){case 0:g=Wl(null,g,X,m,N);break e;case 1:g=sc(null,g,X,m,N);break e;case 11:g=ec(null,g,X,m,N);break e;case 14:g=tc(null,g,X,Ot(X.type,m),N);break e}throw Error(s(306,X,""))}return g;case 0:return X=g.type,R=g.pendingProps,R=g.elementType===X?R:Ot(X,R),Wl(m,g,X,R,N);case 1:return X=g.type,R=g.pendingProps,R=g.elementType===X?R:Ot(X,R),sc(m,g,X,R,N);case 3:e:{if(ac(g),m===null)throw Error(s(387));X=g.pendingProps,j=g.memoizedState,R=j.element,Oo(m,g),an(g,X,null,N);var le=g.memoizedState;if(X=le.element,j.isDehydrated)if(j={element:X,isDehydrated:!1,cache:le.cache,pendingSuspenseBoundaries:le.pendingSuspenseBoundaries,transitions:le.transitions},g.updateQueue.baseState=j,g.memoizedState=j,g.flags&256){R=Ys(Error(s(423)),g),g=oc(m,g,X,N,R);break e}else if(X!==R){R=Ys(Error(s(424)),g),g=oc(m,g,X,N,R);break e}else for(Ee=Mi(g.stateNode.containerInfo.firstChild),ge=g,ke=!0,Qe=null,N=Eu(g,null,X,N),g.child=N;N;)N.flags=N.flags&-3|4096,N=N.sibling;else{if(kt(),X===R){g=on(m,g,N);break e}Qr(m,g,X,N)}g=g.child}return g;case 5:return _u(g),m===null&&mt(g),X=g.type,R=g.pendingProps,j=m!==null?m.memoizedProps:null,le=R.children,Os(X,R)?le=null:j!==null&&Os(X,j)&&(g.flags|=32),nc(m,g),Qr(m,g,le,N),g.child;case 6:return m===null&&mt(g),null;case 13:return lc(m,g,N);case 4:return Jl(g,g.stateNode.containerInfo),X=g.pendingProps,m===null?g.child=zs(g,null,X,N):Qr(m,g,X,N),g.child;case 11:return X=g.type,R=g.pendingProps,R=g.elementType===X?R:Ot(X,R),ec(m,g,X,R,N);case 7:return Qr(m,g,g.pendingProps,N),g.child;case 8:return Qr(m,g,g.pendingProps.children,N),g.child;case 12:return Qr(m,g,g.pendingProps.children,N),g.child;case 10:e:{if(X=g.type._context,R=g.pendingProps,j=g.memoizedProps,le=R.value,Qt(Rt,X._currentValue),X._currentValue=le,j!==null)if(ii(j.value,le)){if(j.children===R.children&&!Nr.current){g=on(m,g,N);break e}}else for(j=g.child,j!==null&&(j.return=g);j!==null;){var Ne=j.dependencies;if(Ne!==null){le=j.child;for(var Pe=Ne.firstContext;Pe!==null;){if(Pe.context===X){if(j.tag===1){Pe=Ir(-1,N&-N),Pe.tag=2;var We=j.updateQueue;if(We!==null){We=We.shared;var ut=We.pending;ut===null?Pe.next=Pe:(Pe.next=ut.next,ut.next=Pe),We.pending=Pe}}j.lanes|=N,Pe=j.alternate,Pe!==null&&(Pe.lanes|=N),si(j.return,N,g),Ne.lanes|=N;break}Pe=Pe.next}}else if(j.tag===10)le=j.type===g.type?null:j.child;else if(j.tag===18){if(le=j.return,le===null)throw Error(s(341));le.lanes|=N,Ne=le.alternate,Ne!==null&&(Ne.lanes|=N),si(le,N,g),le=j.sibling}else le=j.child;if(le!==null)le.return=j;else for(le=j;le!==null;){if(le===g){le=null;break}if(j=le.sibling,j!==null){j.return=le.return,le=j;break}le=le.return}j=le}Qr(m,g,R.children,N),g=g.child}return g;case 9:return R=g.type,X=g.pendingProps.children,dr(g,N),R=br(R),X=X(R),g.flags|=1,Qr(m,g,X,N),g.child;case 14:return X=g.type,R=Ot(X,g.pendingProps),R=Ot(X.type,R),tc(m,g,X,R,N);case 15:return rc(m,g,g.type,g.pendingProps,N);case 17:return X=g.type,R=g.pendingProps,R=g.elementType===X?R:Ot(X,R),qo(m,g),g.tag=1,Xr(X)?(m=!0,ns(g)):m=!1,dr(g,N),Ta(g,X,R),Ls(g,X,R,N),Zl(null,g,X,!0,m,N);case 19:return cc(m,g,N);case 22:return ic(m,g,N)}throw Error(s(156,g.tag))};function Tc(m,g){return Xt(m,g)}function f0(m,g,N,X){this.tag=m,this.key=N,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=g,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=X,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $i(m,g,N,X){return new f0(m,g,N,X)}function gu(m){return m=m.prototype,!(!m||!m.isReactComponent)}function h0(m){if(typeof m=="function")return gu(m)?1:0;if(m!=null){if(m=m.$$typeof,m===z)return 11;if(m===ie)return 14}return 2}function Bn(m,g){var N=m.alternate;return N===null?(N=$i(m.tag,g,m.key,m.mode),N.elementType=m.elementType,N.type=m.type,N.stateNode=m.stateNode,N.alternate=m,m.alternate=N):(N.pendingProps=g,N.type=m.type,N.flags=0,N.subtreeFlags=0,N.deletions=null),N.flags=m.flags&14680064,N.childLanes=m.childLanes,N.lanes=m.lanes,N.child=m.child,N.memoizedProps=m.memoizedProps,N.memoizedState=m.memoizedState,N.updateQueue=m.updateQueue,g=m.dependencies,N.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext},N.sibling=m.sibling,N.index=m.index,N.ref=m.ref,N}function il(m,g,N,X,R,j){var le=2;if(X=m,typeof m=="function")gu(m)&&(le=1);else if(typeof m=="string")le=5;else e:switch(m){case T:return ds(N.children,R,j,g);case O:le=8,R|=8;break;case B:return m=$i(12,N,g,R|2),m.elementType=B,m.lanes=j,m;case Z:return m=$i(13,N,g,R),m.elementType=Z,m.lanes=j,m;case se:return m=$i(19,N,g,R),m.elementType=se,m.lanes=j,m;case H:return nl(N,R,j,g);default:if(typeof m=="object"&&m!==null)switch(m.$$typeof){case J:le=10;break e;case F:le=9;break e;case z:le=11;break e;case ie:le=14;break e;case U:le=16,X=null;break e}throw Error(s(130,m==null?m:typeof m,""))}return g=$i(le,N,g,R),g.elementType=m,g.type=X,g.lanes=j,g}function ds(m,g,N,X){return m=$i(7,m,X,g),m.lanes=N,m}function nl(m,g,N,X){return m=$i(22,m,X,g),m.elementType=H,m.lanes=N,m.stateNode={isHidden:!1},m}function yu(m,g,N){return m=$i(6,m,null,g),m.lanes=N,m}function bu(m,g,N){return g=$i(4,m.children!==null?m.children:[],m.key,g),g.lanes=N,g.stateNode={containerInfo:m.containerInfo,pendingChildren:null,implementation:m.implementation},g}function d0(m,g,N,X,R){this.tag=g,this.containerInfo=m,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qs(0),this.expirationTimes=Qs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qs(0),this.identifierPrefix=X,this.onRecoverableError=R,this.mutableSourceEagerHydrationData=null}function xu(m,g,N,X,R,j,le,Ne,Pe){return m=new d0(m,g,N,Ne,Pe),g===1?(g=1,j===!0&&(g|=8)):g=0,j=$i(3,null,null,g),m.current=j,j.stateNode=m,j.memoizedState={element:X,isDehydrated:N,cache:null,transitions:null,pendingSuspenseBoundaries:null},Is(j),m}function p0(m,g,N){var X=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:M,key:X==null?null:""+X,children:m,containerInfo:g,implementation:N}}function Oc(m){if(!m)return he;m=m._reactInternals;e:{if(gi(m)!==m||m.tag!==1)throw Error(s(170));var g=m;do{switch(g.tag){case 3:g=g.stateNode.context;break e;case 1:if(Xr(g.type)){g=g.stateNode.__reactInternalMemoizedMergedChildContext;break e}}g=g.return}while(g!==null);throw Error(s(171))}if(m.tag===1){var N=m.type;if(Xr(N))return Da(m,N,g)}return g}function Jc(m,g,N,X,R,j,le,Ne,Pe){return m=xu(N,X,!0,m,R,j,le,Ne,Pe),m.context=Oc(null),N=m.current,X=Kr(),R=On(N),j=Ir(X,R),j.callback=g??null,Zr(N,j,R),m.current.lanes=R,en(m,R,X),li(m,X),m}function sl(m,g,N,X){var R=g.current,j=Kr(),le=On(R);return N=Oc(N),g.context===null?g.context=N:g.pendingContext=N,g=Ir(j,le),g.payload={element:m},X=X===void 0?null:X,X!==null&&(g.callback=X),m=Zr(R,g,le),m!==null&&(Ti(m,R,le,j),Pi(m,R,le)),le}function al(m){if(m=m.current,!m.child)return null;switch(m.child.tag){case 5:return m.child.stateNode;default:return m.child.stateNode}}function Bc(m,g){if(m=m.memoizedState,m!==null&&m.dehydrated!==null){var N=m.retryLane;m.retryLane=N!==0&&N<g?N:g}}function Cu(m,g){Bc(m,g),(m=m.alternate)&&Bc(m,g)}function m0(){return null}var kc=typeof reportError=="function"?reportError:function(m){console.error(m)};function wu(m){this._internalRoot=m}ol.prototype.render=wu.prototype.render=function(m){var g=this._internalRoot;if(g===null)throw Error(s(409));sl(m,g,null,null)},ol.prototype.unmount=wu.prototype.unmount=function(){var m=this._internalRoot;if(m!==null){this._internalRoot=null;var g=m.containerInfo;cs(function(){sl(null,m,null,null)}),g[Pr]=null}};function ol(m){this._internalRoot=m}ol.prototype.unstable_scheduleHydration=function(m){if(m){var g=Ka();m={blockedOn:null,target:m,priority:g};for(var N=0;N<wr.length&&g!==0&&g<wr[N].priority;N++);wr.splice(N,0,m),N===0&&Ln(m)}};function Su(m){return!(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)}function ll(m){return!(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11&&(m.nodeType!==8||m.nodeValue!==" react-mount-point-unstable "))}function Rc(){}function v0(m,g,N,X,R){if(R){if(typeof X=="function"){var j=X;X=function(){var We=al(le);j.call(We)}}var le=Jc(g,X,m,0,null,!1,!1,"",Rc);return m._reactRootContainer=le,m[Pr]=le.current,En(m.nodeType===8?m.parentNode:m),cs(),le}for(;R=m.lastChild;)m.removeChild(R);if(typeof X=="function"){var Ne=X;X=function(){var We=al(Pe);Ne.call(We)}}var Pe=xu(m,0,!1,null,null,!1,!1,"",Rc);return m._reactRootContainer=Pe,m[Pr]=Pe.current,En(m.nodeType===8?m.parentNode:m),cs(function(){sl(g,Pe,N,X)}),Pe}function ul(m,g,N,X,R){var j=N._reactRootContainer;if(j){var le=j;if(typeof R=="function"){var Ne=R;R=function(){var Pe=al(le);Ne.call(Pe)}}sl(g,le,m,R)}else le=v0(N,g,m,R,X);return al(le)}Ks=function(m){switch(m.tag){case 3:var g=m.stateNode;if(g.current.memoizedState.isDehydrated){var N=Ji(g.pendingLanes);N!==0&&(gs(g,N|1),li(g,Et()),(Ft&6)===0&&(Hs=Et()+500,Di()))}break;case 13:cs(function(){var X=mi(m,1);if(X!==null){var R=Kr();Ti(X,m,1,R)}}),Cu(m,1)}},ea=function(m){if(m.tag===13){var g=mi(m,134217728);if(g!==null){var N=Kr();Ti(g,m,134217728,N)}Cu(m,134217728)}},Qa=function(m){if(m.tag===13){var g=On(m),N=mi(m,g);if(N!==null){var X=Kr();Ti(N,m,g,X)}Cu(m,g)}},Ka=function(){return qt},eo=function(m,g){var N=qt;try{return qt=m,g()}finally{qt=N}},Ie=function(m,g,N){switch(g){case"input":if(Re(m,N),g=N.name,N.type==="radio"&&g!=null){for(N=m;N.parentNode;)N=N.parentNode;for(N=N.querySelectorAll("input[name="+JSON.stringify(""+g)+'][type="radio"]'),g=0;g<N.length;g++){var X=N[g];if(X!==m&&X.form===m.form){var R=Js(X);if(!R)throw Error(s(90));nt(X),Re(X,R)}}}break;case"textarea":ve(m,N);break;case"select":g=N.value,g!=null&&et(m,!!N.multiple,g,!1)}},Lt=pu,yt=cs;var g0={usingClientEntryPoint:!1,Events:[rs,Li,Js,oe,Ce,pu]},ja={findFiberByHostInstance:nn,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},y0={bundleType:ja.bundleType,version:ja.version,rendererPackageName:ja.rendererPackageName,rendererConfig:ja.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(m){return m=hn(m),m===null?null:m.stateNode},findFiberByHostInstance:ja.findFiberByHostInstance||m0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cl.isDisabled&&cl.supportsFiber)try{vs=cl.inject(y0),ci=cl}catch{}}return reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=g0,reactDom_production_min.createPortal=function(m,g){var N=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Su(g))throw Error(s(200));return p0(m,g,null,N)},reactDom_production_min.createRoot=function(m,g){if(!Su(m))throw Error(s(299));var N=!1,X="",R=kc;return g!=null&&(g.unstable_strictMode===!0&&(N=!0),g.identifierPrefix!==void 0&&(X=g.identifierPrefix),g.onRecoverableError!==void 0&&(R=g.onRecoverableError)),g=xu(m,1,!1,null,null,N,!1,X,R),m[Pr]=g.current,En(m.nodeType===8?m.parentNode:m),new wu(g)},reactDom_production_min.findDOMNode=function(m){if(m==null)return null;if(m.nodeType===1)return m;var g=m._reactInternals;if(g===void 0)throw typeof m.render=="function"?Error(s(188)):(m=Object.keys(m).join(","),Error(s(268,m)));return m=hn(g),m=m===null?null:m.stateNode,m},reactDom_production_min.flushSync=function(m){return cs(m)},reactDom_production_min.hydrate=function(m,g,N){if(!ll(g))throw Error(s(200));return ul(null,m,g,!0,N)},reactDom_production_min.hydrateRoot=function(m,g,N){if(!Su(m))throw Error(s(405));var X=N!=null&&N.hydratedSources||null,R=!1,j="",le=kc;if(N!=null&&(N.unstable_strictMode===!0&&(R=!0),N.identifierPrefix!==void 0&&(j=N.identifierPrefix),N.onRecoverableError!==void 0&&(le=N.onRecoverableError)),g=Jc(g,null,m,1,N??null,R,!1,j,le),m[Pr]=g.current,En(m),X)for(m=0;m<X.length;m++)N=X[m],R=N._getVersion,R=R(N._source),g.mutableSourceEagerHydrationData==null?g.mutableSourceEagerHydrationData=[N,R]:g.mutableSourceEagerHydrationData.push(N,R);return new ol(g)},reactDom_production_min.render=function(m,g,N){if(!ll(g))throw Error(s(200));return ul(null,m,g,!1,N)},reactDom_production_min.unmountComponentAtNode=function(m){if(!ll(m))throw Error(s(40));return m._reactRootContainer?(cs(function(){ul(null,null,m,!1,function(){m._reactRootContainer=null,m[Pr]=null})}),!0):!1},reactDom_production_min.unstable_batchedUpdates=pu,reactDom_production_min.unstable_renderSubtreeIntoContainer=function(m,g,N,X){if(!ll(N))throw Error(s(200));if(m==null||m._reactInternals===void 0)throw Error(s(38));return ul(m,g,N,!1,X)},reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608",reactDom_production_min}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(r){console.error(r)}}return t(),reactDom.exports=requireReactDom_production_min(),reactDom.exports}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client;hasRequiredClient=1;var t=requireReactDom();return client.createRoot=t.createRoot,client.hydrateRoot=t.hydrateRoot,client}var clientExports=requireClient();const ReactDOM=getDefaultExportFromCjs(clientExports);var ExerciseType=(t=>(t.FACTORISATION="FACTORISATION",t.EQUATION="EQUATION",t.DEVELOPMENT="DEVELOPMENT",t))(ExerciseType||{}),ExerciseCategory=(t=>(t.COMMON_FACTOR="Facteur Commun",t.IDENTITY="Identits Remarquables",t.DIFF_SQUARES="Diffrence de Carrs",t.RATIONAL_EQ="quations Rationnelles",t.TRINOMIAL="Trinmes",t.MIX="Mlange",t))(ExerciseCategory||{}),Difficulty=(t=>(t.EASY="Facile",t.MEDIUM="Moyen",t.HARD="Difficile",t))(Difficulty||{});const EXERCISES=[{id:"cf1",type:ExerciseType.FACTORISATION,category:ExerciseCategory.COMMON_FACTOR,title:"Mise en vidence simple",instruction:"Factorise l'expression en trouvant le facteur commun :",expression:"(x+3)(2x-5) - (x+3)(x+1)",displayExpression:"(x+3)(2x-5) - (x+3)(x+1)",target:"(x+3)(x-6)",difficulty:Difficulty.MEDIUM,hint:"Le terme (x+3) apparat deux fois. Mets-le en vidence."},{id:"cf2",type:ExerciseType.FACTORISATION,category:ExerciseCategory.COMMON_FACTOR,title:"Facteur cach",instruction:"Factorise avec facteur cach :",expression:"(6x+3)(x-2) + (2x+1)(x+5)",displayExpression:"(6x+3)(x-2) + (2x+1)(x+5)",target:"(2x+1)(4x-1)",difficulty:Difficulty.HARD,hint:"Regarde le terme (6x+3). Tu peux factoriser 3 pour faire apparatre (2x+1)."},{id:"cf3",type:ExerciseType.FACTORISATION,category:ExerciseCategory.COMMON_FACTOR,title:"Mise en vidence multiple",instruction:"Factorise l'expression suivante :",expression:"x^2(x-1) + 4x(x-1)",displayExpression:"x^2(x-1) + 4x(x-1)",target:"x(x-1)(x+4)",difficulty:Difficulty.MEDIUM,hint:"Mets d'abord (x-1) en vidence, puis regarde s'il reste un facteur commun x."},{id:"id1",type:ExerciseType.FACTORISATION,category:ExerciseCategory.IDENTITY,title:"Carr parfait",instruction:"Factorise au maximum l'expression suivante :",expression:"16x^2 - 24x + 9",displayExpression:"16x^2 - 24x + 9",target:"(4x-3)^2",difficulty:Difficulty.MEDIUM,hint:"Observe les coefficients. Est-ce une identit remarquable du type a - 2ab + b ?"},{id:"id2",type:ExerciseType.FACTORISATION,category:ExerciseCategory.IDENTITY,title:"Identit remarquable",instruction:"Factorise l'expression :",expression:"x^2 + 10x + 25",displayExpression:"x^2 + 10x + 25",target:"(x+5)^2",difficulty:Difficulty.EASY,hint:"Cherche la forme a + 2ab + b."},{id:"id3",type:ExerciseType.FACTORISATION,category:ExerciseCategory.IDENTITY,title:"Somme de cubes",instruction:"Factorise (Somme de cubes) :",expression:"64x^3 + 27",displayExpression:"64x^3 + 27",target:"(4x+3)(16x^2-12x+9)",difficulty:Difficulty.HARD,hint:"C'est une somme de cubes : a + b = (a+b)(a-ab+b). Ici a=4x et b=3."},{id:"ds1",type:ExerciseType.FACTORISATION,category:ExerciseCategory.DIFF_SQUARES,title:"Diffrence de carrs complexe",instruction:"Factorise (Diffrence de carrs) :",expression:"(3x+4)^2 - (2x-1)^2",displayExpression:"(3x+4)^2 - (2x-1)^2",target:"(5x+3)(x+5)",difficulty:Difficulty.HARD,hint:"Utilise l'identit remarquable a - b = (a+b)(a-b). Ici a=(3x+4) et b=(2x-1)."},{id:"ds2",type:ExerciseType.FACTORISATION,category:ExerciseCategory.DIFF_SQUARES,title:"Diffrence de carrs simple",instruction:"Factorise :",expression:"25x^2 - 49",displayExpression:"25x^2 - 49",target:"(5x-7)(5x+7)",difficulty:Difficulty.EASY,hint:"a - b = (a-b)(a+b)"},{id:"ds3",type:ExerciseType.FACTORISATION,category:ExerciseCategory.DIFF_SQUARES,title:"Diffrence de carrs avec facteur",instruction:"Factorise compltement :",expression:"2x^2 - 18",displayExpression:"2x^2 - 18",target:"2(x-3)(x+3)",difficulty:Difficulty.MEDIUM,hint:"Commence par mettre 2 en vidence."},{id:"tr1",type:ExerciseType.FACTORISATION,category:ExerciseCategory.TRINOMIAL,title:"Trinme unitaire",instruction:"Factorise ce trinme :",expression:"x^2 - 7x + 12",displayExpression:"x^2 - 7x + 12",target:"(x-3)(x-4)",difficulty:Difficulty.MEDIUM,hint:"Trouve deux nombres dont le produit est 12 et la somme est -7."},{id:"tr2",type:ExerciseType.FACTORISATION,category:ExerciseCategory.TRINOMIAL,title:"Trinme non-unitaire",instruction:"Factorise :",expression:"2x^2 + 7x + 3",displayExpression:"2x^2 + 7x + 3",target:"(2x+1)(x+3)",difficulty:Difficulty.HARD,hint:"Cherche deux nombres dont le produit est 6 (2*3) et la somme est 7."},{id:"re1",type:ExerciseType.EQUATION,category:ExerciseCategory.RATIONAL_EQ,title:"quation Rationnelle",instruction:"Rsous l'quation suivante.",expression:"2/(x-3) - 4/(x^2-9) - 1/(x+3)",initialValue:"2/(x-3) - 4/(x^2-9) = 1/(x+3)",displayExpression:"\\frac{2}{x-3} - \\frac{4}{x^2-9} = \\frac{1}{x+3}",target:"x=-5",difficulty:Difficulty.HARD,hint:"Factorise x-9 en (x-3)(x+3). Mets tout au mme dnominateur."},{id:"re2",type:ExerciseType.EQUATION,category:ExerciseCategory.RATIONAL_EQ,title:"quation Simple",instruction:"Rsous l'quation :",expression:"1/(x+1) - 2",initialValue:"1/(x+1) = 2",displayExpression:"\\frac{1}{x+1} = 2",target:"x=-0.5",difficulty:Difficulty.MEDIUM,hint:"Multiplie chaque ct par (x+1)."}];function _extends(){return _extends=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var n in s)({}).hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},_extends.apply(null,arguments)}var DEFAULT_CONFIG={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function isNumber(t){return typeof t=="number"}function isBigNumber(t){return!t||typeof t!="object"||typeof t.constructor!="function"?!1:t.isBigNumber===!0&&typeof t.constructor.prototype=="object"&&t.constructor.prototype.isBigNumber===!0||typeof t.constructor.isDecimal=="function"&&t.constructor.isDecimal(t)===!0}function isComplex(t){return t&&typeof t=="object"&&Object.getPrototypeOf(t).isComplex===!0||!1}function isFraction(t){return t&&typeof t=="object"&&Object.getPrototypeOf(t).isFraction===!0||!1}function isUnit(t){return t&&t.constructor.prototype.isUnit===!0||!1}function isString(t){return typeof t=="string"}var isArray=Array.isArray;function isMatrix(t){return t&&t.constructor.prototype.isMatrix===!0||!1}function isCollection(t){return Array.isArray(t)||isMatrix(t)}function isDenseMatrix(t){return t&&t.isDenseMatrix&&t.constructor.prototype.isMatrix===!0||!1}function isSparseMatrix(t){return t&&t.isSparseMatrix&&t.constructor.prototype.isMatrix===!0||!1}function isRange(t){return t&&t.constructor.prototype.isRange===!0||!1}function isIndex(t){return t&&t.constructor.prototype.isIndex===!0||!1}function isBoolean(t){return typeof t=="boolean"}function isResultSet(t){return t&&t.constructor.prototype.isResultSet===!0||!1}function isHelp(t){return t&&t.constructor.prototype.isHelp===!0||!1}function isFunction(t){return typeof t=="function"}function isDate(t){return t instanceof Date}function isRegExp(t){return t instanceof RegExp}function isObject(t){return!!(t&&typeof t=="object"&&t.constructor===Object&&!isComplex(t)&&!isFraction(t))}function isNull(t){return t===null}function isUndefined(t){return t===void 0}function isAccessorNode(t){return t&&t.isAccessorNode===!0&&t.constructor.prototype.isNode===!0||!1}function isArrayNode(t){return t&&t.isArrayNode===!0&&t.constructor.prototype.isNode===!0||!1}function isAssignmentNode(t){return t&&t.isAssignmentNode===!0&&t.constructor.prototype.isNode===!0||!1}function isBlockNode(t){return t&&t.isBlockNode===!0&&t.constructor.prototype.isNode===!0||!1}function isConditionalNode(t){return t&&t.isConditionalNode===!0&&t.constructor.prototype.isNode===!0||!1}function isConstantNode(t){return t&&t.isConstantNode===!0&&t.constructor.prototype.isNode===!0||!1}function rule2Node(t){return isConstantNode(t)||isOperatorNode(t)&&t.args.length===1&&isConstantNode(t.args[0])&&"-+~".includes(t.op)}function isFunctionAssignmentNode(t){return t&&t.isFunctionAssignmentNode===!0&&t.constructor.prototype.isNode===!0||!1}function isFunctionNode(t){return t&&t.isFunctionNode===!0&&t.constructor.prototype.isNode===!0||!1}function isIndexNode(t){return t&&t.isIndexNode===!0&&t.constructor.prototype.isNode===!0||!1}function isNode(t){return t&&t.isNode===!0&&t.constructor.prototype.isNode===!0||!1}function isObjectNode(t){return t&&t.isObjectNode===!0&&t.constructor.prototype.isNode===!0||!1}function isOperatorNode(t){return t&&t.isOperatorNode===!0&&t.constructor.prototype.isNode===!0||!1}function isParenthesisNode(t){return t&&t.isParenthesisNode===!0&&t.constructor.prototype.isNode===!0||!1}function isRangeNode(t){return t&&t.isRangeNode===!0&&t.constructor.prototype.isNode===!0||!1}function isRelationalNode(t){return t&&t.isRelationalNode===!0&&t.constructor.prototype.isNode===!0||!1}function isSymbolNode(t){return t&&t.isSymbolNode===!0&&t.constructor.prototype.isNode===!0||!1}function isChain(t){return t&&t.constructor.prototype.isChain===!0||!1}function typeOf$1(t){var r=typeof t;return r==="object"?t===null?"null":isBigNumber(t)?"BigNumber":t.constructor&&t.constructor.name?t.constructor.name:"Object":r}function clone$2(t){var r=typeof t;if(r==="number"||r==="string"||r==="boolean"||t===null||t===void 0)return t;if(typeof t.clone=="function")return t.clone();if(Array.isArray(t))return t.map(function(s){return clone$2(s)});if(t instanceof Date)return new Date(t.valueOf());if(isBigNumber(t))return t;if(t instanceof RegExp)throw new TypeError("Cannot clone "+t);return mapObject(t,clone$2)}function mapObject(t,r){var s={};for(var n in t)hasOwnProperty$1(t,n)&&(s[n]=r(t[n]));return s}function extend(t,r){for(var s in r)hasOwnProperty$1(r,s)&&(t[s]=r[s]);return t}function deepStrictEqual(t,r){var s,n,a;if(Array.isArray(t)){if(!Array.isArray(r)||t.length!==r.length)return!1;for(n=0,a=t.length;n<a;n++)if(!deepStrictEqual(t[n],r[n]))return!1;return!0}else{if(typeof t=="function")return t===r;if(t instanceof Object){if(Array.isArray(r)||!(r instanceof Object))return!1;for(s in t)if(!(s in r)||!deepStrictEqual(t[s],r[s]))return!1;for(s in r)if(!(s in t))return!1;return!0}else return t===r}}function lazy(t,r,s){var n=!0,a;Object.defineProperty(t,r,{get:function(){return n&&(a=s(),n=!1),a},set:function(l){a=l,n=!1},configurable:!0,enumerable:!0})}function hasOwnProperty$1(t,r){return t&&Object.hasOwnProperty.call(t,r)}function pickShallow(t,r){for(var s={},n=0;n<r.length;n++){var a=r[n],o=t[a];o!==void 0&&(s[a]=o)}return s}var MATRIX_OPTIONS=["Matrix","Array"],NUMBER_OPTIONS=["number","BigNumber","Fraction"],config$1=function(r){if(r)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(DEFAULT_CONFIG)};_extends(config$1,DEFAULT_CONFIG,{MATRIX_OPTIONS,NUMBER_OPTIONS});function ok(){return!0}function notOk(){return!1}function undef$2(){}const NOT_TYPED_FUNCTION="Argument is not a typed-function.";function create(){function t(pe){return typeof pe=="object"&&pe!==null&&pe.constructor===Object}const r=[{name:"number",test:function(pe){return typeof pe=="number"}},{name:"string",test:function(pe){return typeof pe=="string"}},{name:"boolean",test:function(pe){return typeof pe=="boolean"}},{name:"Function",test:function(pe){return typeof pe=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(pe){return pe instanceof Date}},{name:"RegExp",test:function(pe){return pe instanceof RegExp}},{name:"Object",test:t},{name:"null",test:function(pe){return pe===null}},{name:"undefined",test:function(pe){return pe===void 0}}],s={name:"any",test:ok,isAny:!0};let n,a,o=0,l={createCount:0};function u(pe){const ve=n.get(pe);if(ve)return ve;let De='Unknown type "'+pe+'"';const _e=pe.toLowerCase();let Oe;for(Oe of a)if(Oe.toLowerCase()===_e){De+='. Did you mean "'+Oe+'" ?';break}throw new TypeError(De)}function f(pe){let ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any";const De=ve?u(ve).index:a.length,_e=[];for(let Ye=0;Ye<pe.length;++Ye){if(!pe[Ye]||typeof pe[Ye].name!="string"||typeof pe[Ye].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");const tt=pe[Ye].name;if(n.has(tt))throw new TypeError('Duplicate type name "'+tt+'"');_e.push(tt),n.set(tt,{name:tt,test:pe[Ye].test,isAny:pe[Ye].isAny,index:De+Ye,conversionsTo:[]})}const Oe=a.slice(De);a=a.slice(0,De).concat(_e).concat(Oe);for(let Ye=De+_e.length;Ye<a.length;++Ye)n.get(a[Ye]).index=Ye}function c(){n=new Map,a=[],o=0,f([s],!1)}c(),f(r);function h(){let pe;for(pe of a)n.get(pe).conversionsTo=[];o=0}function d(pe){const ve=a.filter(De=>{const _e=n.get(De);return!_e.isAny&&_e.test(pe)});return ve.length?ve:["any"]}function p(pe){return pe&&typeof pe=="function"&&"_typedFunctionData"in pe}function v(pe,ve,De){if(!p(pe))throw new TypeError(NOT_TYPED_FUNCTION);const _e=De&&De.exact,Oe=Array.isArray(ve)?ve.join(","):ve,Ye=_(Oe),tt=w(Ye);if(!_e||tt in pe.signatures){const at=pe._typedFunctionData.signatureMap.get(tt);if(at)return at}const Ve=Ye.length;let qe;if(_e){qe=[];let at;for(at in pe.signatures)qe.push(pe._typedFunctionData.signatureMap.get(at))}else qe=pe._typedFunctionData.signatures;for(let at=0;at<Ve;++at){const vt=Ye[at],pt=[];let He;for(He of qe){const ht=O(He.params,at);if(!(!ht||vt.restParam&&!ht.restParam)){if(!ht.hasAny){const L=S(ht);if(vt.types.some(we=>!L.has(we.name)))continue}pt.push(He)}}if(qe=pt,qe.length===0)break}let Fe;for(Fe of qe)if(Fe.params.length<=Ve)return Fe;throw new TypeError("Signature not found (signature: "+(pe.name||"unnamed")+"("+w(Ye,", ")+"))")}function y(pe,ve,De){return v(pe,ve,De).implementation}function b(pe,ve){const De=u(ve);if(De.test(pe))return pe;const _e=De.conversionsTo;if(_e.length===0)throw new Error("There are no conversions to "+ve+" defined.");for(let Oe=0;Oe<_e.length;Oe++)if(u(_e[Oe].from).test(pe))return _e[Oe].convert(pe);throw new Error("Cannot convert "+pe+" to "+ve)}function w(pe){let ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return pe.map(De=>De.name).join(ve)}function x(pe){const ve=pe.indexOf("...")===0,_e=(ve?pe.length>3?pe.slice(3):"any":pe).split("|").map(Ve=>u(Ve.trim()));let Oe=!1,Ye=ve?"...":"";return{types:_e.map(function(Ve){return Oe=Ve.isAny||Oe,Ye+=Ve.name+"|",{name:Ve.name,typeIndex:Ve.index,test:Ve.test,isAny:Ve.isAny,conversion:null,conversionIndex:-1}}),name:Ye.slice(0,-1),hasAny:Oe,hasConversion:!1,restParam:ve}}function A(pe){const ve=pe.types.map(tt=>tt.name),De=H(ve);let _e=pe.hasAny,Oe=pe.name;const Ye=De.map(function(tt){const Ve=u(tt.from);return _e=Ve.isAny||_e,Oe+="|"+tt.from,{name:tt.from,typeIndex:Ve.index,test:Ve.test,isAny:Ve.isAny,conversion:tt,conversionIndex:tt.index}});return{types:pe.types.concat(Ye),name:Oe,hasAny:_e,hasConversion:Ye.length>0,restParam:pe.restParam}}function S(pe){return pe.typeSet||(pe.typeSet=new Set,pe.types.forEach(ve=>pe.typeSet.add(ve.name))),pe.typeSet}function _(pe){const ve=[];if(typeof pe!="string")throw new TypeError("Signatures must be strings");const De=pe.trim();if(De==="")return ve;const _e=De.split(",");for(let Oe=0;Oe<_e.length;++Oe){const Ye=x(_e[Oe].trim());if(Ye.restParam&&Oe!==_e.length-1)throw new SyntaxError('Unexpected rest parameter "'+_e[Oe]+'": only allowed for the last parameter');if(Ye.types.length===0)return null;ve.push(Ye)}return ve}function $(pe){const ve=Xe(pe);return ve?ve.restParam:!1}function M(pe){if(!pe||pe.types.length===0)return ok;if(pe.types.length===1)return u(pe.types[0].name).test;if(pe.types.length===2){const ve=u(pe.types[0].name).test,De=u(pe.types[1].name).test;return function(Oe){return ve(Oe)||De(Oe)}}else{const ve=pe.types.map(function(De){return u(De.name).test});return function(_e){for(let Oe=0;Oe<ve.length;Oe++)if(ve[Oe](_e))return!0;return!1}}}function T(pe){let ve,De,_e;if($(pe)){ve=Ae(pe).map(M);const Oe=ve.length,Ye=M(Xe(pe)),tt=function(Ve){for(let qe=Oe;qe<Ve.length;qe++)if(!Ye(Ve[qe]))return!1;return!0};return function(qe){for(let Fe=0;Fe<ve.length;Fe++)if(!ve[Fe](qe[Fe]))return!1;return tt(qe)&&qe.length>=Oe+1}}else return pe.length===0?function(Ye){return Ye.length===0}:pe.length===1?(De=M(pe[0]),function(Ye){return De(Ye[0])&&Ye.length===1}):pe.length===2?(De=M(pe[0]),_e=M(pe[1]),function(Ye){return De(Ye[0])&&_e(Ye[1])&&Ye.length===2}):(ve=pe.map(M),function(Ye){for(let tt=0;tt<ve.length;tt++)if(!ve[tt](Ye[tt]))return!1;return Ye.length===ve.length})}function O(pe,ve){return ve<pe.length?pe[ve]:$(pe)?Xe(pe):null}function B(pe,ve){const De=O(pe,ve);return De?S(De):new Set}function J(pe){return pe.conversion===null||pe.conversion===void 0}function F(pe,ve){const De=new Set;return pe.forEach(_e=>{const Oe=B(_e.params,ve);let Ye;for(Ye of Oe)De.add(Ye)}),De.has("any")?["any"]:Array.from(De)}function z(pe,ve,De){let _e,Oe;const Ye=pe||"unnamed";let tt=De,Ve;for(Ve=0;Ve<ve.length;Ve++){const vt=[];if(tt.forEach(pt=>{const He=O(pt.params,Ve),ht=M(He);(Ve<pt.params.length||$(pt.params))&&ht(ve[Ve])&&vt.push(pt)}),vt.length===0){if(Oe=F(tt,Ve),Oe.length>0){const pt=d(ve[Ve]);return _e=new TypeError("Unexpected type of argument in function "+Ye+" (expected: "+Oe.join(" or ")+", actual: "+pt.join(" | ")+", index: "+Ve+")"),_e.data={category:"wrongType",fn:Ye,index:Ve,actual:pt,expected:Oe},_e}}else tt=vt}const qe=tt.map(function(vt){return $(vt.params)?1/0:vt.params.length});if(ve.length<Math.min.apply(null,qe))return Oe=F(tt,Ve),_e=new TypeError("Too few arguments in function "+Ye+" (expected: "+Oe.join(" or ")+", index: "+ve.length+")"),_e.data={category:"tooFewArgs",fn:Ye,index:ve.length,expected:Oe},_e;const Fe=Math.max.apply(null,qe);if(ve.length>Fe)return _e=new TypeError("Too many arguments in function "+Ye+" (expected: "+Fe+", actual: "+ve.length+")"),_e.data={category:"tooManyArgs",fn:Ye,index:ve.length,expectedLength:Fe},_e;const at=[];for(let vt=0;vt<ve.length;++vt)at.push(d(ve[vt]).join("|"));return _e=new TypeError('Arguments of type "'+at.join(", ")+'" do not match any of the defined signatures of function '+Ye+"."),_e.data={category:"mismatch",actual:at},_e}function Z(pe){let ve=a.length+1;for(let De=0;De<pe.types.length;De++)ve=Math.min(ve,pe.types[De].typeIndex);return ve}function se(pe){let ve=o+1;for(let De=0;De<pe.types.length;De++)J(pe.types[De])||(ve=Math.min(ve,pe.types[De].conversionIndex));return ve}function ie(pe,ve){if(pe.hasAny){if(!ve.hasAny)return .1}else if(ve.hasAny)return-.1;if(pe.restParam){if(!ve.restParam)return .01}else if(ve.restParam)return-.01;const De=Z(pe)-Z(ve);if(De<0)return-.001;if(De>0)return .001;const _e=se(pe),Oe=se(ve);if(pe.hasConversion){if(!ve.hasConversion)return(1+_e)*1e-6}else if(ve.hasConversion)return-(1+Oe)*1e-6;const Ye=_e-Oe;return Ye<0?-1e-7:Ye>0?1e-7:0}function U(pe,ve){const De=pe.params,_e=ve.params,Oe=Xe(De),Ye=Xe(_e),tt=$(De),Ve=$(_e);if(tt&&Oe.hasAny){if(!Ve||!Ye.hasAny)return 1e7}else if(Ve&&Ye.hasAny)return-1e7;let qe=0,Fe=0,at;for(at of De)at.hasAny&&++qe,at.hasConversion&&++Fe;let vt=0,pt=0;for(at of _e)at.hasAny&&++vt,at.hasConversion&&++pt;if(qe!==vt)return(qe-vt)*1e6;if(tt&&Oe.hasConversion){if(!Ve||!Ye.hasConversion)return 1e5}else if(Ve&&Ye.hasConversion)return-1e5;if(Fe!==pt)return(Fe-pt)*1e4;if(tt){if(!Ve)return 1e3}else if(Ve)return-1e3;const He=(De.length-_e.length)*(tt?-100:100);if(He!==0)return He;const ht=[];let L=0;for(let q=0;q<De.length;++q){const Le=ie(De[q],_e[q]);ht.push(Le),L+=Le}if(L!==0)return(L<0?-10:10)+L;let we,Ie=9;const k=Ie/(ht.length+1);for(we of ht){if(we!==0)return(we<0?-Ie:Ie)+we;Ie-=k}return 0}function H(pe){if(pe.length===0)return[];const ve=pe.map(u);if(pe.length===1)return ve[0].conversionsTo;const De=new Set(pe),_e=new Set;for(let Ye=0;Ye<ve.length;++Ye)for(const tt of ve[Ye].conversionsTo)De.has(tt.from)||_e.add(tt.from);const Oe=[];for(const Ye of _e){let tt=o+1,Ve=null;for(let qe=0;qe<ve.length;++qe)for(const Fe of ve[qe].conversionsTo)Fe.from===Ye&&Fe.index<tt&&(tt=Fe.index,Ve=Fe);Oe.push(Ve)}return Oe}function ue(pe,ve){let De=ve,_e="";if(pe.some(Ye=>Ye.hasConversion)){const Ye=$(pe),tt=pe.map(Y);_e=tt.map(Ve=>Ve.name).join(";"),De=function(){const qe=[],Fe=Ye?arguments.length-1:arguments.length;for(let at=0;at<Fe;at++)qe[at]=tt[at](arguments[at]);return Ye&&(qe[Fe]=arguments[Fe].map(tt[Fe])),ve.apply(this,qe)}}let Oe=De;if($(pe)){const Ye=pe.length-1;Oe=function(){return De.apply(this,Be(arguments,0,Ye).concat([Be(arguments,Ye)]))}}return _e&&Object.defineProperty(Oe,"name",{value:_e}),Oe}function Y(pe){let ve,De,_e,Oe;const Ye=[],tt=[];let Ve="";pe.types.forEach(function(Fe){Fe.conversion&&(Ve+=Fe.conversion.from+"~>"+Fe.conversion.to+",",Ye.push(u(Fe.conversion.from).test),tt.push(Fe.conversion.convert))}),Ve?Ve=Ve.slice(0,-1):Ve="pass";let qe=Fe=>Fe;switch(tt.length){case 0:break;case 1:ve=Ye[0],_e=tt[0],qe=function(at){return ve(at)?_e(at):at};break;case 2:ve=Ye[0],De=Ye[1],_e=tt[0],Oe=tt[1],qe=function(at){return ve(at)?_e(at):De(at)?Oe(at):at};break;default:qe=function(at){for(let vt=0;vt<tt.length;vt++)if(Ye[vt](at))return tt[vt](at);return at}}return Object.defineProperty(qe,"name",{value:Ve}),qe}function K(pe){function ve(De,_e,Oe){if(_e<De.length){const Ye=De[_e];let tt=[];if(Ye.restParam){const Ve=Ye.types.filter(J);Ve.length<Ye.types.length&&tt.push({types:Ve,name:"..."+Ve.map(qe=>qe.name).join("|"),hasAny:Ve.some(qe=>qe.isAny),hasConversion:!1,restParam:!0}),tt.push(Ye)}else tt=Ye.types.map(function(Ve){return{types:[Ve],name:Ve.name,hasAny:Ve.isAny,hasConversion:Ve.conversion,restParam:!1}});return nt(tt,function(Ve){return ve(De,_e+1,Oe.concat([Ve]))})}else return[Oe]}return ve(pe,0,[])}function te(pe,ve){const De=Math.max(pe.length,ve.length);for(let Ve=0;Ve<De;Ve++){const qe=B(pe,Ve),Fe=B(ve,Ve);let at=!1,vt;for(vt of Fe)if(qe.has(vt)){at=!0;break}if(!at)return!1}const _e=pe.length,Oe=ve.length,Ye=$(pe),tt=$(ve);return Ye?tt?_e===Oe:Oe>=_e:tt?_e>=Oe:_e===Oe}function ae(pe){return pe.map(ve=>Re(ve)?me(ve.referToSelf.callback):be(ve)?it(ve.referTo.references,ve.referTo.callback):ve)}function ee(pe,ve,De){const _e=[];let Oe;for(Oe of pe){let Ye=De[Oe];if(typeof Ye!="number")throw new TypeError('No definition for referenced signature "'+Oe+'"');if(Ye=ve[Ye],typeof Ye!="function")return!1;_e.push(Ye)}return _e}function de(pe,ve,De){const _e=ae(pe),Oe=new Array(_e.length).fill(!1);let Ye=!0;for(;Ye;){Ye=!1;let tt=!0;for(let Ve=0;Ve<_e.length;++Ve){if(Oe[Ve])continue;const qe=_e[Ve];if(Re(qe))_e[Ve]=qe.referToSelf.callback(De),_e[Ve].referToSelf=qe.referToSelf,Oe[Ve]=!0,tt=!1;else if(be(qe)){const Fe=ee(qe.referTo.references,_e,ve);Fe?(_e[Ve]=qe.referTo.callback.apply(this,Fe),_e[Ve].referTo=qe.referTo,Oe[Ve]=!0,tt=!1):Ye=!0}}if(tt&&Ye)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return _e}function ce(pe){const ve=/\bthis(\(|\.signatures\b)/;Object.keys(pe).forEach(De=>{const _e=pe[De];if(ve.test(_e.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function xe(pe,ve){if(l.createCount++,Object.keys(ve).length===0)throw new SyntaxError("No signatures provided");l.warnAgainstDeprecatedThis&&ce(ve);const De=[],_e=[],Oe={},Ye=[];let tt;for(tt in ve){if(!Object.prototype.hasOwnProperty.call(ve,tt))continue;const Et=_(tt);if(!Et)continue;De.forEach(function(jr){if(te(jr,Et))throw new TypeError('Conflicting signatures "'+w(jr)+'" and "'+w(Et)+'".')}),De.push(Et);const hr=_e.length;_e.push(ve[tt]);const Ki=Et.map(A);let yi;for(yi of K(Ki)){const jr=w(yi);Ye.push({params:yi,name:jr,fn:hr}),yi.every(ms=>!ms.hasConversion)&&(Oe[jr]=hr)}}Ye.sort(U);const Ve=de(_e,Oe,Yr);let qe;for(qe in Oe)Object.prototype.hasOwnProperty.call(Oe,qe)&&(Oe[qe]=Ve[Oe[qe]]);const Fe=[],at=new Map;for(qe of Ye)at.has(qe.name)||(qe.fn=Ve[qe.fn],Fe.push(qe),at.set(qe.name,qe));const vt=Fe[0]&&Fe[0].params.length<=2&&!$(Fe[0].params),pt=Fe[1]&&Fe[1].params.length<=2&&!$(Fe[1].params),He=Fe[2]&&Fe[2].params.length<=2&&!$(Fe[2].params),ht=Fe[3]&&Fe[3].params.length<=2&&!$(Fe[3].params),L=Fe[4]&&Fe[4].params.length<=2&&!$(Fe[4].params),we=Fe[5]&&Fe[5].params.length<=2&&!$(Fe[5].params),Ie=vt&&pt&&He&&ht&&L&&we;for(let Et=0;Et<Fe.length;++Et)Fe[Et].test=T(Fe[Et].params);const k=vt?M(Fe[0].params[0]):notOk,q=pt?M(Fe[1].params[0]):notOk,Le=He?M(Fe[2].params[0]):notOk,oe=ht?M(Fe[3].params[0]):notOk,Ce=L?M(Fe[4].params[0]):notOk,Lt=we?M(Fe[5].params[0]):notOk,yt=vt?M(Fe[0].params[1]):notOk,sr=pt?M(Fe[1].params[1]):notOk,Kt=He?M(Fe[2].params[1]):notOk,Ct=ht?M(Fe[3].params[1]):notOk,Jt=L?M(Fe[4].params[1]):notOk,ir=we?M(Fe[5].params[1]):notOk;for(let Et=0;Et<Fe.length;++Et)Fe[Et].implementation=ue(Fe[Et].params,Fe[Et].fn);const Ur=vt?Fe[0].implementation:undef$2,Se=pt?Fe[1].implementation:undef$2,Ht=He?Fe[2].implementation:undef$2,Ge=ht?Fe[3].implementation:undef$2,ui=L?Fe[4].implementation:undef$2,Oi=we?Fe[5].implementation:undef$2,ei=vt?Fe[0].params.length:-1,ps=pt?Fe[1].params.length:-1,gi=He?Fe[2].params.length:-1,cn=ht?Fe[3].params.length:-1,Rn=L?Fe[4].params.length:-1,fn=we?Fe[5].params.length:-1,hn=Ie?6:0,Qi=Fe.length,Xt=Fe.map(Et=>Et.test),mr=Fe.map(Et=>Et.implementation),nr=function(){for(let hr=hn;hr<Qi;hr++)if(Xt[hr](arguments))return mr[hr].apply(this,arguments);return l.onMismatch(pe,arguments,Fe)};function Yr(Et,hr){return arguments.length===ei&&k(Et)&&yt(hr)?Ur.apply(this,arguments):arguments.length===ps&&q(Et)&&sr(hr)?Se.apply(this,arguments):arguments.length===gi&&Le(Et)&&Kt(hr)?Ht.apply(this,arguments):arguments.length===cn&&oe(Et)&&Ct(hr)?Ge.apply(this,arguments):arguments.length===Rn&&Ce(Et)&&Jt(hr)?ui.apply(this,arguments):arguments.length===fn&&Lt(Et)&&ir(hr)?Oi.apply(this,arguments):nr.apply(this,arguments)}try{Object.defineProperty(Yr,"name",{value:pe})}catch{}return Yr.signatures=Oe,Yr._typedFunctionData={signatures:Fe,signatureMap:at},Yr}function Me(pe,ve,De){throw z(pe,ve,De)}function Ae(pe){return Be(pe,0,pe.length-1)}function Xe(pe){return pe[pe.length-1]}function Be(pe,ve,De){return Array.prototype.slice.call(pe,ve,De)}function Ze(pe,ve){for(let De=0;De<pe.length;De++)if(ve(pe[De]))return pe[De]}function nt(pe,ve){return Array.prototype.concat.apply([],pe.map(ve))}function rt(){const pe=Ae(arguments).map(De=>w(_(De))),ve=Xe(arguments);if(typeof ve!="function")throw new TypeError("Callback function expected as last argument");return it(pe,ve)}function it(pe,ve){return{referTo:{references:pe,callback:ve}}}function me(pe){if(typeof pe!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:pe}}}function be(pe){return pe&&typeof pe.referTo=="object"&&Array.isArray(pe.referTo.references)&&typeof pe.referTo.callback=="function"}function Re(pe){return pe&&typeof pe.referToSelf=="object"&&typeof pe.referToSelf.callback=="function"}function ye(pe,ve){if(!pe)return ve;if(ve&&ve!==pe){const De=new Error("Function names do not match (expected: "+pe+", actual: "+ve+")");throw De.data={actual:ve,expected:pe},De}return pe}function $e(pe){let ve;for(const De in pe)Object.prototype.hasOwnProperty.call(pe,De)&&(p(pe[De])||typeof pe[De].signature=="string")&&(ve=ye(ve,pe[De].name));return ve}function Te(pe,ve){let De;for(De in ve)if(Object.prototype.hasOwnProperty.call(ve,De)){if(De in pe&&ve[De]!==pe[De]){const _e=new Error('Signature "'+De+'" is defined twice');throw _e.data={signature:De,sourceFunction:ve[De],destFunction:pe[De]},_e}pe[De]=ve[De]}}const et=l;l=function(pe){const ve=typeof pe=="string",De=ve?1:0;let _e=ve?pe:"";const Oe={};for(let Ye=De;Ye<arguments.length;++Ye){const tt=arguments[Ye];let Ve={},qe;if(typeof tt=="function"?(qe=tt.name,typeof tt.signature=="string"?Ve[tt.signature]=tt:p(tt)&&(Ve=tt.signatures)):t(tt)&&(Ve=tt,ve||(qe=$e(tt))),Object.keys(Ve).length===0){const Fe=new TypeError("Argument to 'typed' at index "+Ye+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw Fe.data={index:Ye,argument:tt},Fe}ve||(_e=ye(_e,qe)),Te(Oe,Ve)}return xe(_e||"",Oe)},l.create=create,l.createCount=et.createCount,l.onMismatch=Me,l.throwMismatchError=Me,l.createError=z,l.clear=c,l.clearConversions=h,l.addTypes=f,l._findType=u,l.referTo=rt,l.referToSelf=me,l.convert=b,l.findSignature=v,l.find=y,l.isTypedFunction=p,l.warnAgainstDeprecatedThis=!0,l.addType=function(pe,ve){let De="any";ve!==!1&&n.has("Object")&&(De="Object"),l.addTypes([pe],De)};function Ke(pe){if(!pe||typeof pe.from!="string"||typeof pe.to!="string"||typeof pe.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(pe.to===pe.from)throw new SyntaxError('Illegal to define conversion from "'+pe.from+'" to itself.')}return l.addConversion=function(pe){let ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{override:!1};Ke(pe);const De=u(pe.to),_e=De.conversionsTo.find(Oe=>Oe.from===pe.from);if(_e)if(ve&&ve.override)l.removeConversion({from:_e.from,to:pe.to,convert:_e.convert});else throw new Error('There is already a conversion from "'+pe.from+'" to "'+De.name+'"');De.conversionsTo.push({from:pe.from,to:De.name,convert:pe.convert,index:o++})},l.addConversions=function(pe,ve){pe.forEach(De=>l.addConversion(De,ve))},l.removeConversion=function(pe){Ke(pe);const ve=u(pe.to),De=Ze(ve.conversionsTo,Oe=>Oe.from===pe.from);if(!De)throw new Error("Attempt to remove nonexistent conversion from "+pe.from+" to "+pe.to);if(De.convert!==pe.convert)throw new Error("Conversion to remove does not match existing conversion");const _e=ve.conversionsTo.indexOf(De);ve.conversionsTo.splice(_e,1)},l.resolve=function(pe,ve){if(!p(pe))throw new TypeError(NOT_TYPED_FUNCTION);const De=pe._typedFunctionData.signatures;for(let _e=0;_e<De.length;++_e)if(De[_e].test(ve))return De[_e];return null},l}const typedFunction=create();function isInteger$1(t){return typeof t=="boolean"?!0:isFinite(t)?t===Math.round(t):!1}var sign$2=Math.sign||function(t){return t>0?1:t<0?-1:0},log2$2=Math.log2||function(r){return Math.log(r)/Math.LN2},log10$2=Math.log10||function(r){return Math.log(r)/Math.LN10},log1p$1=Math.log1p||function(t){return Math.log(t+1)},cbrt$2=Math.cbrt||function(r){if(r===0)return r;var s=r<0,n;return s&&(r=-r),isFinite(r)?(n=Math.exp(Math.log(r)/3),n=(r/(n*n)+2*n)/3):n=r,s?-n:n},expm1$1=Math.expm1||function(r){return r>=2e-4||r<=-2e-4?Math.exp(r)-1:r+r*r/2+r*r*r/6};function formatNumberToBase(t,r,s){var n={2:"0b",8:"0o",16:"0x"},a=n[r],o="";if(s){if(s<1)throw new Error("size must be in greater than 0");if(!isInteger$1(s))throw new Error("size must be an integer");if(t>2**(s-1)-1||t<-(2**(s-1)))throw new Error("Value must be in range [-2^".concat(s-1,", 2^").concat(s-1,"-1]"));if(!isInteger$1(t))throw new Error("Value must be an integer");t<0&&(t=t+2**s),o="i".concat(s)}var l="";return t<0&&(t=-t,l="-"),"".concat(l).concat(a).concat(t.toString(r)).concat(o)}function format$3(t,r){if(typeof r=="function")return r(t);if(t===1/0)return"Infinity";if(t===-1/0)return"-Infinity";if(isNaN(t))return"NaN";var s="auto",n,a;if(r&&(r.notation&&(s=r.notation),isNumber(r)?n=r:isNumber(r.precision)&&(n=r.precision),r.wordSize&&(a=r.wordSize,typeof a!="number")))throw new Error('Option "wordSize" must be a number');switch(s){case"fixed":return toFixed$1(t,n);case"exponential":return toExponential$1(t,n);case"engineering":return toEngineering$1(t,n);case"bin":return formatNumberToBase(t,2,a);case"oct":return formatNumberToBase(t,8,a);case"hex":return formatNumberToBase(t,16,a);case"auto":return toPrecision(t,n,r&&r).replace(/((\.\d*?)(0+))($|e)/,function(){var o=arguments[2],l=arguments[4];return o!=="."?o+l:l});default:throw new Error('Unknown notation "'+s+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function splitNumber(t){var r=String(t).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!r)throw new SyntaxError("Invalid number "+t);var s=r[1],n=r[2],a=parseFloat(r[4]||"0"),o=n.indexOf(".");a+=o!==-1?o-1:n.length-1;var l=n.replace(".","").replace(/^0*/,function(u){return a-=u.length,""}).replace(/0*$/,"").split("").map(function(u){return parseInt(u)});return l.length===0&&(l.push(0),a++),{sign:s,coefficients:l,exponent:a}}function toEngineering$1(t,r){if(isNaN(t)||!isFinite(t))return String(t);var s=splitNumber(t),n=roundDigits(s,r),a=n.exponent,o=n.coefficients,l=a%3===0?a:a<0?a-3-a%3:a-a%3;if(isNumber(r))for(;r>o.length||a-l+1>o.length;)o.push(0);else for(var u=Math.abs(a-l)-(o.length-1),f=0;f<u;f++)o.push(0);for(var c=Math.abs(a-l),h=1;c>0;)h++,c--;var d=o.slice(h).join(""),p=isNumber(r)&&d.length||d.match(/[1-9]/)?"."+d:"",v=o.slice(0,h).join("")+p+"e"+(a>=0?"+":"")+l.toString();return n.sign+v}function toFixed$1(t,r){if(isNaN(t)||!isFinite(t))return String(t);var s=splitNumber(t),n=typeof r=="number"?roundDigits(s,s.exponent+1+r):s,a=n.coefficients,o=n.exponent+1,l=o+(r||0);return a.length<l&&(a=a.concat(zeros$1(l-a.length))),o<0&&(a=zeros$1(-o+1).concat(a),o=1),o<a.length&&a.splice(o,0,o===0?"0.":"."),n.sign+a.join("")}function toExponential$1(t,r){if(isNaN(t)||!isFinite(t))return String(t);var s=splitNumber(t),n=r?roundDigits(s,r):s,a=n.coefficients,o=n.exponent;a.length<r&&(a=a.concat(zeros$1(r-a.length)));var l=a.shift();return n.sign+l+(a.length>0?"."+a.join(""):"")+"e"+(o>=0?"+":"")+o}function toPrecision(t,r,s){if(isNaN(t)||!isFinite(t))return String(t);var n=s&&s.lowerExp!==void 0?s.lowerExp:-3,a=s&&s.upperExp!==void 0?s.upperExp:5,o=splitNumber(t),l=r?roundDigits(o,r):o;if(l.exponent<n||l.exponent>=a)return toExponential$1(t,r);var u=l.coefficients,f=l.exponent;u.length<r&&(u=u.concat(zeros$1(r-u.length))),u=u.concat(zeros$1(f-u.length+1+(u.length<r?r-u.length:0))),u=zeros$1(-f).concat(u);var c=f>0?f:0;return c<u.length-1&&u.splice(c+1,0,"."),l.sign+u.join("")}function roundDigits(t,r){for(var s={sign:t.sign,coefficients:t.coefficients,exponent:t.exponent},n=s.coefficients;r<=0;)n.unshift(0),s.exponent++,r++;if(n.length>r){var a=n.splice(r,n.length-r);if(a[0]>=5){var o=r-1;for(n[o]++;n[o]===10;)n.pop(),o===0&&(n.unshift(0),s.exponent++,o++),o--,n[o]++}}return s}function zeros$1(t){for(var r=[],s=0;s<t;s++)r.push(0);return r}function digits(t){return t.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}var DBL_EPSILON=Number.EPSILON||2220446049250313e-31;function nearlyEqual$1(t,r,s){if(s==null)return t===r;if(t===r)return!0;if(isNaN(t)||isNaN(r))return!1;if(isFinite(t)&&isFinite(r)){var n=Math.abs(t-r);return n<DBL_EPSILON?!0:n<=Math.max(Math.abs(t),Math.abs(r))*s}return!1}var acosh$2=Math.acosh||function(t){return Math.log(Math.sqrt(t*t-1)+t)},asinh$2=Math.asinh||function(t){return Math.log(Math.sqrt(t*t+1)+t)},atanh$2=Math.atanh||function(t){return Math.log((1+t)/(1-t))/2},cosh$3=Math.cosh||function(t){return(Math.exp(t)+Math.exp(-t))/2},sinh$3=Math.sinh||function(t){return(Math.exp(t)-Math.exp(-t))/2},tanh$2=Math.tanh||function(t){var r=Math.exp(2*t);return(r-1)/(r+1)};function copysign(t,r){var s=!0,n=r>0?!0:r<0?!1:1/r===1/0;return s^n?-t:t}function formatBigNumberToBase(t,r,s){var n=t.constructor,a=new n(2),o="";if(s){if(s<1)throw new Error("size must be in greater than 0");if(!isInteger$1(s))throw new Error("size must be an integer");if(t.greaterThan(a.pow(s-1).sub(1))||t.lessThan(a.pow(s-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(s-1,", 2^").concat(s-1,"-1]"));if(!t.isInteger())throw new Error("Value must be an integer");t.lessThan(0)&&(t=t.add(a.pow(s))),o="i".concat(s)}switch(r){case 2:return"".concat(t.toBinary()).concat(o);case 8:return"".concat(t.toOctal()).concat(o);case 16:return"".concat(t.toHexadecimal()).concat(o);default:throw new Error("Base ".concat(r," not supported "))}}function format$2(t,r){if(typeof r=="function")return r(t);if(!t.isFinite())return t.isNaN()?"NaN":t.gt(0)?"Infinity":"-Infinity";var s="auto",n,a;if(r!==void 0&&(r.notation&&(s=r.notation),typeof r=="number"?n=r:r.precision&&(n=r.precision),r.wordSize&&(a=r.wordSize,typeof a!="number")))throw new Error('Option "wordSize" must be a number');switch(s){case"fixed":return toFixed(t,n);case"exponential":return toExponential(t,n);case"engineering":return toEngineering(t,n);case"bin":return formatBigNumberToBase(t,2,a);case"oct":return formatBigNumberToBase(t,8,a);case"hex":return formatBigNumberToBase(t,16,a);case"auto":{var o=r&&r.lowerExp!==void 0?r.lowerExp:-3,l=r&&r.upperExp!==void 0?r.upperExp:5;if(t.isZero())return"0";var u,f=t.toSignificantDigits(n),c=f.e;return c>=o&&c<l?u=f.toFixed():u=toExponential(t,n),u.replace(/((\.\d*?)(0+))($|e)/,function(){var h=arguments[2],d=arguments[4];return h!=="."?h+d:d})}default:throw new Error('Unknown notation "'+s+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function toEngineering(t,r){var s=t.e,n=s%3===0?s:s<0?s-3-s%3:s-s%3,a=t.mul(Math.pow(10,-n)),o=a.toPrecision(r);return o.indexOf("e")!==-1&&(o=a.toString()),o+"e"+(s>=0?"+":"")+n.toString()}function toExponential(t,r){return r!==void 0?t.toExponential(r-1):t.toExponential()}function toFixed(t,r){return t.toFixed(r)}function endsWith(t,r){var s=t.length-r.length,n=t.length;return t.substring(s,n)===r}function format$1(t,r){var s=_format(t,r);return r&&typeof r=="object"&&"truncate"in r&&s.length>r.truncate?s.substring(0,r.truncate-3)+"...":s}function _format(t,r){if(typeof t=="number")return format$3(t,r);if(isBigNumber(t))return format$2(t,r);if(looksLikeFraction(t))return!r||r.fraction!=="decimal"?t.s*t.n+"/"+t.d:t.toString();if(Array.isArray(t))return formatArray(t,r);if(isString(t))return'"'+t+'"';if(typeof t=="function")return t.syntax?String(t.syntax):"function";if(t&&typeof t=="object"){if(typeof t.format=="function")return t.format(r);if(t&&t.toString(r)!=={}.toString())return t.toString(r);var s=Object.keys(t).map(n=>'"'+n+'": '+format$1(t[n],r));return"{"+s.join(", ")+"}"}return String(t)}function stringify(t){for(var r=String(t),s="",n=0;n<r.length;){var a=r.charAt(n);a==="\\"?(s+=a,n++,a=r.charAt(n),(a===""||'"\\/bfnrtu'.indexOf(a)===-1)&&(s+="\\"),s+=a):a==='"'?s+='\\"':s+=a,n++}return'"'+s+'"'}function escape$1(t){var r=String(t);return r=r.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),r}function formatArray(t,r){if(Array.isArray(t)){for(var s="[",n=t.length,a=0;a<n;a++)a!==0&&(s+=", "),s+=formatArray(t[a],r);return s+="]",s}else return format$1(t,r)}function looksLikeFraction(t){return t&&typeof t=="object"&&typeof t.s=="number"&&typeof t.n=="number"&&typeof t.d=="number"||!1}function compareText$1(t,r){if(!isString(t))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+typeOf$1(t)+", index: 0)");if(!isString(r))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+typeOf$1(r)+", index: 1)");return t===r?0:t>r?1:-1}function DimensionError(t,r,s){if(!(this instanceof DimensionError))throw new SyntaxError("Constructor must be called with the new operator");this.actual=t,this.expected=r,this.relation=s,this.message="Dimension mismatch ("+(Array.isArray(t)?"["+t.join(", ")+"]":t)+" "+(this.relation||"!=")+" "+(Array.isArray(r)?"["+r.join(", ")+"]":r)+")",this.stack=new Error().stack}DimensionError.prototype=new RangeError;DimensionError.prototype.constructor=RangeError;DimensionError.prototype.name="DimensionError";DimensionError.prototype.isDimensionError=!0;function IndexError(t,r,s){if(!(this instanceof IndexError))throw new SyntaxError("Constructor must be called with the new operator");this.index=t,arguments.length<3?(this.min=0,this.max=r):(this.min=r,this.max=s),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}IndexError.prototype=new RangeError;IndexError.prototype.constructor=RangeError;IndexError.prototype.name="IndexError";IndexError.prototype.isIndexError=!0;function arraySize(t){for(var r=[];Array.isArray(t);)r.push(t.length),t=t[0];return r}function _validate(t,r,s){var n,a=t.length;if(a!==r[s])throw new DimensionError(a,r[s]);if(s<r.length-1){var o=s+1;for(n=0;n<a;n++){var l=t[n];if(!Array.isArray(l))throw new DimensionError(r.length-1,r.length,"<");_validate(t[n],r,o)}}else for(n=0;n<a;n++)if(Array.isArray(t[n]))throw new DimensionError(r.length+1,r.length,">")}function validate(t,r){var s=r.length===0;if(s){if(Array.isArray(t))throw new DimensionError(t.length,0)}else _validate(t,r,0)}function validateIndex(t,r){if(!isNumber(t)||!isInteger$1(t))throw new TypeError("Index must be an integer (value: "+t+")");if(t<0||typeof r=="number"&&t>=r)throw new IndexError(t,r)}function resize$1(t,r,s){if(!Array.isArray(t)||!Array.isArray(r))throw new TypeError("Array expected");if(r.length===0)throw new Error("Resizing to scalar is not supported");r.forEach(function(a){if(!isNumber(a)||!isInteger$1(a)||a<0)throw new TypeError("Invalid size, must contain positive integers (size: "+format$1(r)+")")});var n=s!==void 0?s:0;return _resize(t,r,0,n),t}function _resize(t,r,s,n){var a,o,l=t.length,u=r[s],f=Math.min(l,u);if(t.length=u,s<r.length-1){var c=s+1;for(a=0;a<f;a++)o=t[a],Array.isArray(o)||(o=[o],t[a]=o),_resize(o,r,c,n);for(a=f;a<u;a++)o=[],t[a]=o,_resize(o,r,c,n)}else{for(a=0;a<f;a++)for(;Array.isArray(t[a]);)t[a]=t[a][0];for(a=f;a<u;a++)t[a]=n}}function reshape$1(t,r){var s=flatten$1(t),n=s.length;if(!Array.isArray(t)||!Array.isArray(r))throw new TypeError("Array expected");if(r.length===0)throw new DimensionError(0,n,"!=");r=processSizesWildcard(r,n);var a=product$1(r);if(n!==a)throw new DimensionError(a,n,"!=");try{return _reshape(s,r)}catch(o){throw o instanceof DimensionError?new DimensionError(a,n,"!="):o}}function processSizesWildcard(t,r){var s=product$1(t),n=t.slice(),a=-1,o=t.indexOf(a),l=t.indexOf(a,o+1)>=0;if(l)throw new Error("More than one wildcard in sizes");var u=o>=0,f=r%s===0;if(u)if(f)n[o]=-r/s;else throw new Error("Could not replace wildcard, since "+r+" is no multiple of "+-s);return n}function product$1(t){return t.reduce((r,s)=>r*s,1)}function _reshape(t,r){for(var s=t,n,a=r.length-1;a>0;a--){var o=r[a];n=[];for(var l=s.length/o,u=0;u<l;u++)n.push(s.slice(u*o,(u+1)*o));s=n}return s}function squeeze$1(t,r){for(var s=arraySize(t);Array.isArray(t)&&t.length===1;)t=t[0],s.shift();for(var n=s.length;s[n-1]===1;)n--;return n<s.length&&(t=_squeeze(t,n,0),s.length=n),t}function _squeeze(t,r,s){var n,a;if(s<r){var o=s+1;for(n=0,a=t.length;n<a;n++)t[n]=_squeeze(t[n],r,o)}else for(;Array.isArray(t);)t=t[0];return t}function unsqueeze(t,r,s,n){var a=n||arraySize(t);if(s)for(var o=0;o<s;o++)t=[t],a.unshift(1);for(t=_unsqueeze(t,r,0);a.length<r;)a.push(1);return t}function _unsqueeze(t,r,s){var n,a;if(Array.isArray(t)){var o=s+1;for(n=0,a=t.length;n<a;n++)t[n]=_unsqueeze(t[n],r,o)}else for(var l=s;l<r;l++)t=[t];return t}function flatten$1(t){if(!Array.isArray(t))return t;var r=[];return t.forEach(function s(n){Array.isArray(n)?n.forEach(s):r.push(n)}),r}function map$1(t,r){return Array.prototype.map.call(t,r)}function forEach$1(t,r){Array.prototype.forEach.call(t,r)}function filter$1(t,r){if(arraySize(t).length!==1)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(t,r)}function filterRegExp(t,r){if(arraySize(t).length!==1)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(t,s=>r.test(s))}function join(t,r){return Array.prototype.join.call(t,r)}function identify(t){if(!Array.isArray(t))throw new TypeError("Array input expected");if(t.length===0)return t;var r=[],s=0;r[0]={value:t[0],identifier:0};for(var n=1;n<t.length;n++)t[n]===t[n-1]?s++:s=0,r.push({value:t[n],identifier:s});return r}function generalize(t){if(!Array.isArray(t))throw new TypeError("Array input expected");if(t.length===0)return t;for(var r=[],s=0;s<t.length;s++)r.push(t[s].value);return r}function getArrayDataType(t,r){for(var s,n=0,a=0;a<t.length;a++){var o=t[a],l=Array.isArray(o);if(a===0&&l&&(n=o.length),l&&o.length!==n)return;var u=l?getArrayDataType(o,r):r(o);if(s===void 0)s=u;else if(s!==u)return"mixed"}return s}function factory(t,r,s,n){function a(o){var l=pickShallow(o,r.map(stripOptionalNotation));return assertDependencies(t,r,o),s(l)}return a.isFactory=!0,a.fn=t,a.dependencies=r.slice().sort(),n&&(a.meta=n),a}function assertDependencies(t,r,s){var n=r.filter(o=>!isOptionalDependency(o)).every(o=>s[o]!==void 0);if(!n){var a=r.filter(o=>s[o]===void 0);throw new Error('Cannot create function "'.concat(t,'", ')+"some dependencies are missing: ".concat(a.map(o=>'"'.concat(o,'"')).join(", "),"."))}}function isOptionalDependency(t){return t&&t[0]==="?"}function stripOptionalNotation(t){return t&&t[0]==="?"?t.slice(1):t}function getSafeProperty(t,r){if(isPlainObject(t)&&isSafeProperty(t,r))return t[r];throw typeof t[r]=="function"&&isSafeMethod(t,r)?new Error('Cannot access method "'+r+'" as a property'):new Error('No access to property "'+r+'"')}function setSafeProperty(t,r,s){if(isPlainObject(t)&&isSafeProperty(t,r))return t[r]=s,s;throw new Error('No access to property "'+r+'"')}function hasSafeProperty(t,r){return r in t}function isSafeProperty(t,r){return!t||typeof t!="object"?!1:hasOwnProperty$1(safeNativeProperties,r)?!0:!(r in Object.prototype||r in Function.prototype)}function validateSafeMethod(t,r){if(!isSafeMethod(t,r))throw new Error('No access to method "'+r+'"')}function isSafeMethod(t,r){return t==null||typeof t[r]!="function"||hasOwnProperty$1(t,r)&&Object.getPrototypeOf&&r in Object.getPrototypeOf(t)?!1:hasOwnProperty$1(safeNativeMethods,r)?!0:!(r in Object.prototype||r in Function.prototype)}function isPlainObject(t){return typeof t=="object"&&t&&t.constructor===Object}var safeNativeProperties={length:!0,name:!0},safeNativeMethods={toString:!0,valueOf:!0,toLocaleString:!0};class ObjectWrappingMap{constructor(r){this.wrappedObject=r}keys(){return Object.keys(this.wrappedObject)}get(r){return getSafeProperty(this.wrappedObject,r)}set(r,s){return setSafeProperty(this.wrappedObject,r,s),this}has(r){return hasSafeProperty(this.wrappedObject,r)}}function createEmptyMap(){return new Map}function createMap$1(t){if(!t)return createEmptyMap();if(isMap(t))return t;if(isObject(t))return new ObjectWrappingMap(t);throw new Error("createMap can create maps from objects or Maps")}function toObject(t){if(t instanceof ObjectWrappingMap)return t.wrappedObject;var r={};for(var s of t.keys()){var n=t.get(s);setSafeProperty(r,s,n)}return r}function isMap(t){return t?t instanceof Map||t instanceof ObjectWrappingMap||typeof t.set=="function"&&typeof t.get=="function"&&typeof t.keys=="function"&&typeof t.has=="function":!1}function assign$1(t){for(var r=arguments.length,s=new Array(r>1?r-1:0),n=1;n<r;n++)s[n-1]=arguments[n];for(var a of s)if(a){if(isMap(a))for(var o of a.keys())t.set(o,a.get(o));else if(isObject(a))for(var l of Object.keys(a))t.set(l,a[l])}return t}var _createTyped2=function(){return _createTyped2=typedFunction.create,typedFunction},dependencies$4I=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],createTyped=factory("typed",dependencies$4I,function(r){var{BigNumber:s,Complex:n,DenseMatrix:a,Fraction:o}=r,l=_createTyped2();return l.clear(),l.addTypes([{name:"number",test:isNumber},{name:"Complex",test:isComplex},{name:"BigNumber",test:isBigNumber},{name:"Fraction",test:isFraction},{name:"Unit",test:isUnit},{name:"identifier",test:u=>isString&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(u)},{name:"string",test:isString},{name:"Chain",test:isChain},{name:"Array",test:isArray},{name:"Matrix",test:isMatrix},{name:"DenseMatrix",test:isDenseMatrix},{name:"SparseMatrix",test:isSparseMatrix},{name:"Range",test:isRange},{name:"Index",test:isIndex},{name:"boolean",test:isBoolean},{name:"ResultSet",test:isResultSet},{name:"Help",test:isHelp},{name:"function",test:isFunction},{name:"Date",test:isDate},{name:"RegExp",test:isRegExp},{name:"null",test:isNull},{name:"undefined",test:isUndefined},{name:"AccessorNode",test:isAccessorNode},{name:"ArrayNode",test:isArrayNode},{name:"AssignmentNode",test:isAssignmentNode},{name:"BlockNode",test:isBlockNode},{name:"ConditionalNode",test:isConditionalNode},{name:"ConstantNode",test:isConstantNode},{name:"FunctionNode",test:isFunctionNode},{name:"FunctionAssignmentNode",test:isFunctionAssignmentNode},{name:"IndexNode",test:isIndexNode},{name:"Node",test:isNode},{name:"ObjectNode",test:isObjectNode},{name:"OperatorNode",test:isOperatorNode},{name:"ParenthesisNode",test:isParenthesisNode},{name:"RangeNode",test:isRangeNode},{name:"RelationalNode",test:isRelationalNode},{name:"SymbolNode",test:isSymbolNode},{name:"Map",test:isMap},{name:"Object",test:isObject}]),l.addConversions([{from:"number",to:"BigNumber",convert:function(f){if(s||throwNoBignumber(f),digits(f)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+f+"). Use function bignumber(x) to convert to BigNumber.");return new s(f)}},{from:"number",to:"Complex",convert:function(f){return n||throwNoComplex(f),new n(f,0)}},{from:"BigNumber",to:"Complex",convert:function(f){return n||throwNoComplex(f),new n(f.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(f){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(f){return n||throwNoComplex(f),new n(f.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(f){o||throwNoFraction(f);var c=new o(f);if(c.valueOf()!==f)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+f+"). Use function fraction(x) to convert to Fraction.");return c}},{from:"string",to:"number",convert:function(f){var c=Number(f);if(isNaN(c))throw new Error('Cannot convert "'+f+'" to a number');return c}},{from:"string",to:"BigNumber",convert:function(f){s||throwNoBignumber(f);try{return new s(f)}catch{throw new Error('Cannot convert "'+f+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(f){o||throwNoFraction(f);try{return new o(f)}catch{throw new Error('Cannot convert "'+f+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(f){n||throwNoComplex(f);try{return new n(f)}catch{throw new Error('Cannot convert "'+f+'" to Complex')}}},{from:"boolean",to:"number",convert:function(f){return+f}},{from:"boolean",to:"BigNumber",convert:function(f){return s||throwNoBignumber(f),new s(+f)}},{from:"boolean",to:"Fraction",convert:function(f){return o||throwNoFraction(f),new o(+f)}},{from:"boolean",to:"string",convert:function(f){return String(f)}},{from:"Array",to:"Matrix",convert:function(f){return a||throwNoMatrix(),new a(f)}},{from:"Matrix",to:"Array",convert:function(f){return f.valueOf()}}]),l.onMismatch=(u,f,c)=>{var h=l.createError(u,f,c);if(["wrongType","mismatch"].includes(h.data.category)&&f.length===1&&isCollection(f[0])&&c.some(p=>!p.params.includes(","))){var d=new TypeError("Function '".concat(u,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(u,")'."));throw d.data=h.data,d}throw h},l.onMismatch=(u,f,c)=>{var h=l.createError(u,f,c);if(["wrongType","mismatch"].includes(h.data.category)&&f.length===1&&isCollection(f[0])&&c.some(p=>!p.params.includes(","))){var d=new TypeError("Function '".concat(u,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(u,")'."));throw d.data=h.data,d}throw h},l});function throwNoBignumber(t){throw new Error("Cannot convert value ".concat(t," into a BigNumber: no class 'BigNumber' provided"))}function throwNoComplex(t){throw new Error("Cannot convert value ".concat(t," into a Complex number: no class 'Complex' provided"))}function throwNoMatrix(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function throwNoFraction(t){throw new Error("Cannot convert value ".concat(t," into a Fraction, no class 'Fraction' provided."))}var name$4I="ResultSet",dependencies$4H=[],createResultSet=factory(name$4I,dependencies$4H,()=>{function t(r){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");this.entries=r||[]}return t.prototype.type="ResultSet",t.prototype.isResultSet=!0,t.prototype.valueOf=function(){return this.entries},t.prototype.toString=function(){return"["+this.entries.join(", ")+"]"},t.prototype.toJSON=function(){return{mathjs:"ResultSet",entries:this.entries}},t.fromJSON=function(r){return new t(r.entries)},t},{isClass:!0});/*!
 *  decimal.js v10.6.0
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2025 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var EXP_LIMIT=9e15,MAX_DIGITS=1e9,NUMERALS="0123456789abcdef",LN10$1="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",PI="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",DEFAULTS={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-EXP_LIMIT,maxE:EXP_LIMIT,crypto:!1},inexact,quadrant,external=!0,decimalError="[DecimalError] ",invalidArgument=decimalError+"Invalid argument: ",precisionLimitExceeded=decimalError+"Precision limit exceeded",cryptoUnavailable=decimalError+"crypto unavailable",tag="[object Decimal]",mathfloor=Math.floor,mathpow=Math.pow,isBinary=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,isHex=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,isOctal=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,isDecimal=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,BASE=1e7,LOG_BASE=7,MAX_SAFE_INTEGER=9007199254740991,LN10_PRECISION=LN10$1.length-1,PI_PRECISION=PI.length-1,P$3={toStringTag:tag};P$3.absoluteValue=P$3.abs=function(){var t=new this.constructor(this);return t.s<0&&(t.s=1),finalise(t)};P$3.ceil=function(){return finalise(new this.constructor(this),this.e+1,2)};P$3.clampedTo=P$3.clamp=function(t,r){var s,n=this,a=n.constructor;if(t=new a(t),r=new a(r),!t.s||!r.s)return new a(NaN);if(t.gt(r))throw Error(invalidArgument+r);return s=n.cmp(t),s<0?t:n.cmp(r)>0?r:new a(n)};P$3.comparedTo=P$3.cmp=function(t){var r,s,n,a,o=this,l=o.d,u=(t=new o.constructor(t)).d,f=o.s,c=t.s;if(!l||!u)return!f||!c?NaN:f!==c?f:l===u?0:!l^f<0?1:-1;if(!l[0]||!u[0])return l[0]?f:u[0]?-c:0;if(f!==c)return f;if(o.e!==t.e)return o.e>t.e^f<0?1:-1;for(n=l.length,a=u.length,r=0,s=n<a?n:a;r<s;++r)if(l[r]!==u[r])return l[r]>u[r]^f<0?1:-1;return n===a?0:n>a^f<0?1:-1};P$3.cosine=P$3.cos=function(){var t,r,s=this,n=s.constructor;return s.d?s.d[0]?(t=n.precision,r=n.rounding,n.precision=t+Math.max(s.e,s.sd())+LOG_BASE,n.rounding=1,s=cosine(n,toLessThanHalfPi(n,s)),n.precision=t,n.rounding=r,finalise(quadrant==2||quadrant==3?s.neg():s,t,r,!0)):new n(1):new n(NaN)};P$3.cubeRoot=P$3.cbrt=function(){var t,r,s,n,a,o,l,u,f,c,h=this,d=h.constructor;if(!h.isFinite()||h.isZero())return new d(h);for(external=!1,o=h.s*mathpow(h.s*h,1/3),!o||Math.abs(o)==1/0?(s=digitsToString(h.d),t=h.e,(o=(t-s.length+1)%3)&&(s+=o==1||o==-2?"0":"00"),o=mathpow(s,1/3),t=mathfloor((t+1)/3)-(t%3==(t<0?-1:2)),o==1/0?s="5e"+t:(s=o.toExponential(),s=s.slice(0,s.indexOf("e")+1)+t),n=new d(s),n.s=h.s):n=new d(o.toString()),l=(t=d.precision)+3;;)if(u=n,f=u.times(u).times(u),c=f.plus(h),n=divide$1(c.plus(h).times(u),c.plus(f),l+2,1),digitsToString(u.d).slice(0,l)===(s=digitsToString(n.d)).slice(0,l))if(s=s.slice(l-3,l+1),s=="9999"||!a&&s=="4999"){if(!a&&(finalise(u,t+1,0),u.times(u).times(u).eq(h))){n=u;break}l+=4,a=1}else{(!+s||!+s.slice(1)&&s.charAt(0)=="5")&&(finalise(n,t+1,1),r=!n.times(n).times(n).eq(h));break}return external=!0,finalise(n,t,d.rounding,r)};P$3.decimalPlaces=P$3.dp=function(){var t,r=this.d,s=NaN;if(r){if(t=r.length-1,s=(t-mathfloor(this.e/LOG_BASE))*LOG_BASE,t=r[t],t)for(;t%10==0;t/=10)s--;s<0&&(s=0)}return s};P$3.dividedBy=P$3.div=function(t){return divide$1(this,new this.constructor(t))};P$3.dividedToIntegerBy=P$3.divToInt=function(t){var r=this,s=r.constructor;return finalise(divide$1(r,new s(t),0,1,1),s.precision,s.rounding)};P$3.equals=P$3.eq=function(t){return this.cmp(t)===0};P$3.floor=function(){return finalise(new this.constructor(this),this.e+1,3)};P$3.greaterThan=P$3.gt=function(t){return this.cmp(t)>0};P$3.greaterThanOrEqualTo=P$3.gte=function(t){var r=this.cmp(t);return r==1||r===0};P$3.hyperbolicCosine=P$3.cosh=function(){var t,r,s,n,a,o=this,l=o.constructor,u=new l(1);if(!o.isFinite())return new l(o.s?1/0:NaN);if(o.isZero())return u;s=l.precision,n=l.rounding,l.precision=s+Math.max(o.e,o.sd())+4,l.rounding=1,a=o.d.length,a<32?(t=Math.ceil(a/3),r=(1/tinyPow(4,t)).toString()):(t=16,r="2.3283064365386962890625e-10"),o=taylorSeries(l,1,o.times(r),new l(1),!0);for(var f,c=t,h=new l(8);c--;)f=o.times(o),o=u.minus(f.times(h.minus(f.times(h))));return finalise(o,l.precision=s,l.rounding=n,!0)};P$3.hyperbolicSine=P$3.sinh=function(){var t,r,s,n,a=this,o=a.constructor;if(!a.isFinite()||a.isZero())return new o(a);if(r=o.precision,s=o.rounding,o.precision=r+Math.max(a.e,a.sd())+4,o.rounding=1,n=a.d.length,n<3)a=taylorSeries(o,2,a,a,!0);else{t=1.4*Math.sqrt(n),t=t>16?16:t|0,a=a.times(1/tinyPow(5,t)),a=taylorSeries(o,2,a,a,!0);for(var l,u=new o(5),f=new o(16),c=new o(20);t--;)l=a.times(a),a=a.times(u.plus(l.times(f.times(l).plus(c))))}return o.precision=r,o.rounding=s,finalise(a,r,s,!0)};P$3.hyperbolicTangent=P$3.tanh=function(){var t,r,s=this,n=s.constructor;return s.isFinite()?s.isZero()?new n(s):(t=n.precision,r=n.rounding,n.precision=t+7,n.rounding=1,divide$1(s.sinh(),s.cosh(),n.precision=t,n.rounding=r)):new n(s.s)};P$3.inverseCosine=P$3.acos=function(){var t=this,r=t.constructor,s=t.abs().cmp(1),n=r.precision,a=r.rounding;return s!==-1?s===0?t.isNeg()?getPi(r,n,a):new r(0):new r(NaN):t.isZero()?getPi(r,n+4,a).times(.5):(r.precision=n+6,r.rounding=1,t=new r(1).minus(t).div(t.plus(1)).sqrt().atan(),r.precision=n,r.rounding=a,t.times(2))};P$3.inverseHyperbolicCosine=P$3.acosh=function(){var t,r,s=this,n=s.constructor;return s.lte(1)?new n(s.eq(1)?0:NaN):s.isFinite()?(t=n.precision,r=n.rounding,n.precision=t+Math.max(Math.abs(s.e),s.sd())+4,n.rounding=1,external=!1,s=s.times(s).minus(1).sqrt().plus(s),external=!0,n.precision=t,n.rounding=r,s.ln()):new n(s)};P$3.inverseHyperbolicSine=P$3.asinh=function(){var t,r,s=this,n=s.constructor;return!s.isFinite()||s.isZero()?new n(s):(t=n.precision,r=n.rounding,n.precision=t+2*Math.max(Math.abs(s.e),s.sd())+6,n.rounding=1,external=!1,s=s.times(s).plus(1).sqrt().plus(s),external=!0,n.precision=t,n.rounding=r,s.ln())};P$3.inverseHyperbolicTangent=P$3.atanh=function(){var t,r,s,n,a=this,o=a.constructor;return a.isFinite()?a.e>=0?new o(a.abs().eq(1)?a.s/0:a.isZero()?a:NaN):(t=o.precision,r=o.rounding,n=a.sd(),Math.max(n,t)<2*-a.e-1?finalise(new o(a),t,r,!0):(o.precision=s=n-a.e,a=divide$1(a.plus(1),new o(1).minus(a),s+t,1),o.precision=t+4,o.rounding=1,a=a.ln(),o.precision=t,o.rounding=r,a.times(.5))):new o(NaN)};P$3.inverseSine=P$3.asin=function(){var t,r,s,n,a=this,o=a.constructor;return a.isZero()?new o(a):(r=a.abs().cmp(1),s=o.precision,n=o.rounding,r!==-1?r===0?(t=getPi(o,s+4,n).times(.5),t.s=a.s,t):new o(NaN):(o.precision=s+6,o.rounding=1,a=a.div(new o(1).minus(a.times(a)).sqrt().plus(1)).atan(),o.precision=s,o.rounding=n,a.times(2)))};P$3.inverseTangent=P$3.atan=function(){var t,r,s,n,a,o,l,u,f,c=this,h=c.constructor,d=h.precision,p=h.rounding;if(c.isFinite()){if(c.isZero())return new h(c);if(c.abs().eq(1)&&d+4<=PI_PRECISION)return l=getPi(h,d+4,p).times(.25),l.s=c.s,l}else{if(!c.s)return new h(NaN);if(d+4<=PI_PRECISION)return l=getPi(h,d+4,p).times(.5),l.s=c.s,l}for(h.precision=u=d+10,h.rounding=1,s=Math.min(28,u/LOG_BASE+2|0),t=s;t;--t)c=c.div(c.times(c).plus(1).sqrt().plus(1));for(external=!1,r=Math.ceil(u/LOG_BASE),n=1,f=c.times(c),l=new h(c),a=c;t!==-1;)if(a=a.times(f),o=l.minus(a.div(n+=2)),a=a.times(f),l=o.plus(a.div(n+=2)),l.d[r]!==void 0)for(t=r;l.d[t]===o.d[t]&&t--;);return s&&(l=l.times(2<<s-1)),external=!0,finalise(l,h.precision=d,h.rounding=p,!0)};P$3.isFinite=function(){return!!this.d};P$3.isInteger=P$3.isInt=function(){return!!this.d&&mathfloor(this.e/LOG_BASE)>this.d.length-2};P$3.isNaN=function(){return!this.s};P$3.isNegative=P$3.isNeg=function(){return this.s<0};P$3.isPositive=P$3.isPos=function(){return this.s>0};P$3.isZero=function(){return!!this.d&&this.d[0]===0};P$3.lessThan=P$3.lt=function(t){return this.cmp(t)<0};P$3.lessThanOrEqualTo=P$3.lte=function(t){return this.cmp(t)<1};P$3.logarithm=P$3.log=function(t){var r,s,n,a,o,l,u,f,c=this,h=c.constructor,d=h.precision,p=h.rounding,v=5;if(t==null)t=new h(10),r=!0;else{if(t=new h(t),s=t.d,t.s<0||!s||!s[0]||t.eq(1))return new h(NaN);r=t.eq(10)}if(s=c.d,c.s<0||!s||!s[0]||c.eq(1))return new h(s&&!s[0]?-1/0:c.s!=1?NaN:s?0:1/0);if(r)if(s.length>1)o=!0;else{for(a=s[0];a%10===0;)a/=10;o=a!==1}if(external=!1,u=d+v,l=naturalLogarithm(c,u),n=r?getLn10(h,u+10):naturalLogarithm(t,u),f=divide$1(l,n,u,1),checkRoundingDigits(f.d,a=d,p))do if(u+=10,l=naturalLogarithm(c,u),n=r?getLn10(h,u+10):naturalLogarithm(t,u),f=divide$1(l,n,u,1),!o){+digitsToString(f.d).slice(a+1,a+15)+1==1e14&&(f=finalise(f,d+1,0));break}while(checkRoundingDigits(f.d,a+=10,p));return external=!0,finalise(f,d,p)};P$3.minus=P$3.sub=function(t){var r,s,n,a,o,l,u,f,c,h,d,p,v=this,y=v.constructor;if(t=new y(t),!v.d||!t.d)return!v.s||!t.s?t=new y(NaN):v.d?t.s=-t.s:t=new y(t.d||v.s!==t.s?v:NaN),t;if(v.s!=t.s)return t.s=-t.s,v.plus(t);if(c=v.d,p=t.d,u=y.precision,f=y.rounding,!c[0]||!p[0]){if(p[0])t.s=-t.s;else if(c[0])t=new y(v);else return new y(f===3?-0:0);return external?finalise(t,u,f):t}if(s=mathfloor(t.e/LOG_BASE),h=mathfloor(v.e/LOG_BASE),c=c.slice(),o=h-s,o){for(d=o<0,d?(r=c,o=-o,l=p.length):(r=p,s=h,l=c.length),n=Math.max(Math.ceil(u/LOG_BASE),l)+2,o>n&&(o=n,r.length=1),r.reverse(),n=o;n--;)r.push(0);r.reverse()}else{for(n=c.length,l=p.length,d=n<l,d&&(l=n),n=0;n<l;n++)if(c[n]!=p[n]){d=c[n]<p[n];break}o=0}for(d&&(r=c,c=p,p=r,t.s=-t.s),l=c.length,n=p.length-l;n>0;--n)c[l++]=0;for(n=p.length;n>o;){if(c[--n]<p[n]){for(a=n;a&&c[--a]===0;)c[a]=BASE-1;--c[a],c[n]+=BASE}c[n]-=p[n]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--s;return c[0]?(t.d=c,t.e=getBase10Exponent(c,s),external?finalise(t,u,f):t):new y(f===3?-0:0)};P$3.modulo=P$3.mod=function(t){var r,s=this,n=s.constructor;return t=new n(t),!s.d||!t.s||t.d&&!t.d[0]?new n(NaN):!t.d||s.d&&!s.d[0]?finalise(new n(s),n.precision,n.rounding):(external=!1,n.modulo==9?(r=divide$1(s,t.abs(),0,3,1),r.s*=t.s):r=divide$1(s,t,0,n.modulo,1),r=r.times(t),external=!0,s.minus(r))};P$3.naturalExponential=P$3.exp=function(){return naturalExponential(this)};P$3.naturalLogarithm=P$3.ln=function(){return naturalLogarithm(this)};P$3.negated=P$3.neg=function(){var t=new this.constructor(this);return t.s=-t.s,finalise(t)};P$3.plus=P$3.add=function(t){var r,s,n,a,o,l,u,f,c,h,d=this,p=d.constructor;if(t=new p(t),!d.d||!t.d)return!d.s||!t.s?t=new p(NaN):d.d||(t=new p(t.d||d.s===t.s?d:NaN)),t;if(d.s!=t.s)return t.s=-t.s,d.minus(t);if(c=d.d,h=t.d,u=p.precision,f=p.rounding,!c[0]||!h[0])return h[0]||(t=new p(d)),external?finalise(t,u,f):t;if(o=mathfloor(d.e/LOG_BASE),n=mathfloor(t.e/LOG_BASE),c=c.slice(),a=o-n,a){for(a<0?(s=c,a=-a,l=h.length):(s=h,n=o,l=c.length),o=Math.ceil(u/LOG_BASE),l=o>l?o+1:l+1,a>l&&(a=l,s.length=1),s.reverse();a--;)s.push(0);s.reverse()}for(l=c.length,a=h.length,l-a<0&&(a=l,s=h,h=c,c=s),r=0;a;)r=(c[--a]=c[a]+h[a]+r)/BASE|0,c[a]%=BASE;for(r&&(c.unshift(r),++n),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=getBase10Exponent(c,n),external?finalise(t,u,f):t};P$3.precision=P$3.sd=function(t){var r,s=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(invalidArgument+t);return s.d?(r=getPrecision(s.d),t&&s.e+1>r&&(r=s.e+1)):r=NaN,r};P$3.round=function(){var t=this,r=t.constructor;return finalise(new r(t),t.e+1,r.rounding)};P$3.sine=P$3.sin=function(){var t,r,s=this,n=s.constructor;return s.isFinite()?s.isZero()?new n(s):(t=n.precision,r=n.rounding,n.precision=t+Math.max(s.e,s.sd())+LOG_BASE,n.rounding=1,s=sine(n,toLessThanHalfPi(n,s)),n.precision=t,n.rounding=r,finalise(quadrant>2?s.neg():s,t,r,!0)):new n(NaN)};P$3.squareRoot=P$3.sqrt=function(){var t,r,s,n,a,o,l=this,u=l.d,f=l.e,c=l.s,h=l.constructor;if(c!==1||!u||!u[0])return new h(!c||c<0&&(!u||u[0])?NaN:u?l:1/0);for(external=!1,c=Math.sqrt(+l),c==0||c==1/0?(r=digitsToString(u),(r.length+f)%2==0&&(r+="0"),c=Math.sqrt(r),f=mathfloor((f+1)/2)-(f<0||f%2),c==1/0?r="5e"+f:(r=c.toExponential(),r=r.slice(0,r.indexOf("e")+1)+f),n=new h(r)):n=new h(c.toString()),s=(f=h.precision)+3;;)if(o=n,n=o.plus(divide$1(l,o,s+2,1)).times(.5),digitsToString(o.d).slice(0,s)===(r=digitsToString(n.d)).slice(0,s))if(r=r.slice(s-3,s+1),r=="9999"||!a&&r=="4999"){if(!a&&(finalise(o,f+1,0),o.times(o).eq(l))){n=o;break}s+=4,a=1}else{(!+r||!+r.slice(1)&&r.charAt(0)=="5")&&(finalise(n,f+1,1),t=!n.times(n).eq(l));break}return external=!0,finalise(n,f,h.rounding,t)};P$3.tangent=P$3.tan=function(){var t,r,s=this,n=s.constructor;return s.isFinite()?s.isZero()?new n(s):(t=n.precision,r=n.rounding,n.precision=t+10,n.rounding=1,s=s.sin(),s.s=1,s=divide$1(s,new n(1).minus(s.times(s)).sqrt(),t+10,0),n.precision=t,n.rounding=r,finalise(quadrant==2||quadrant==4?s.neg():s,t,r,!0)):new n(NaN)};P$3.times=P$3.mul=function(t){var r,s,n,a,o,l,u,f,c,h=this,d=h.constructor,p=h.d,v=(t=new d(t)).d;if(t.s*=h.s,!p||!p[0]||!v||!v[0])return new d(!t.s||p&&!p[0]&&!v||v&&!v[0]&&!p?NaN:!p||!v?t.s/0:t.s*0);for(s=mathfloor(h.e/LOG_BASE)+mathfloor(t.e/LOG_BASE),f=p.length,c=v.length,f<c&&(o=p,p=v,v=o,l=f,f=c,c=l),o=[],l=f+c,n=l;n--;)o.push(0);for(n=c;--n>=0;){for(r=0,a=f+n;a>n;)u=o[a]+v[n]*p[a-n-1]+r,o[a--]=u%BASE|0,r=u/BASE|0;o[a]=(o[a]+r)%BASE|0}for(;!o[--l];)o.pop();return r?++s:o.shift(),t.d=o,t.e=getBase10Exponent(o,s),external?finalise(t,d.precision,d.rounding):t};P$3.toBinary=function(t,r){return toStringBinary(this,2,t,r)};P$3.toDecimalPlaces=P$3.toDP=function(t,r){var s=this,n=s.constructor;return s=new n(s),t===void 0?s:(checkInt32(t,0,MAX_DIGITS),r===void 0?r=n.rounding:checkInt32(r,0,8),finalise(s,t+s.e+1,r))};P$3.toExponential=function(t,r){var s,n=this,a=n.constructor;return t===void 0?s=finiteToString(n,!0):(checkInt32(t,0,MAX_DIGITS),r===void 0?r=a.rounding:checkInt32(r,0,8),n=finalise(new a(n),t+1,r),s=finiteToString(n,!0,t+1)),n.isNeg()&&!n.isZero()?"-"+s:s};P$3.toFixed=function(t,r){var s,n,a=this,o=a.constructor;return t===void 0?s=finiteToString(a):(checkInt32(t,0,MAX_DIGITS),r===void 0?r=o.rounding:checkInt32(r,0,8),n=finalise(new o(a),t+a.e+1,r),s=finiteToString(n,!1,t+n.e+1)),a.isNeg()&&!a.isZero()?"-"+s:s};P$3.toFraction=function(t){var r,s,n,a,o,l,u,f,c,h,d,p,v=this,y=v.d,b=v.constructor;if(!y)return new b(v);if(c=s=new b(1),n=f=new b(0),r=new b(n),o=r.e=getPrecision(y)-v.e-1,l=o%LOG_BASE,r.d[0]=mathpow(10,l<0?LOG_BASE+l:l),t==null)t=o>0?r:c;else{if(u=new b(t),!u.isInt()||u.lt(c))throw Error(invalidArgument+u);t=u.gt(r)?o>0?r:c:u}for(external=!1,u=new b(digitsToString(y)),h=b.precision,b.precision=o=y.length*LOG_BASE*2;d=divide$1(u,r,0,1,1),a=s.plus(d.times(n)),a.cmp(t)!=1;)s=n,n=a,a=c,c=f.plus(d.times(a)),f=a,a=r,r=u.minus(d.times(a)),u=a;return a=divide$1(t.minus(s),n,0,1,1),f=f.plus(a.times(c)),s=s.plus(a.times(n)),f.s=c.s=v.s,p=divide$1(c,n,o,1).minus(v).abs().cmp(divide$1(f,s,o,1).minus(v).abs())<1?[c,n]:[f,s],b.precision=h,external=!0,p};P$3.toHexadecimal=P$3.toHex=function(t,r){return toStringBinary(this,16,t,r)};P$3.toNearest=function(t,r){var s=this,n=s.constructor;if(s=new n(s),t==null){if(!s.d)return s;t=new n(1),r=n.rounding}else{if(t=new n(t),r===void 0?r=n.rounding:checkInt32(r,0,8),!s.d)return t.s?s:t;if(!t.d)return t.s&&(t.s=s.s),t}return t.d[0]?(external=!1,s=divide$1(s,t,0,r,1).times(t),external=!0,finalise(s)):(t.s=s.s,s=t),s};P$3.toNumber=function(){return+this};P$3.toOctal=function(t,r){return toStringBinary(this,8,t,r)};P$3.toPower=P$3.pow=function(t){var r,s,n,a,o,l,u=this,f=u.constructor,c=+(t=new f(t));if(!u.d||!t.d||!u.d[0]||!t.d[0])return new f(mathpow(+u,c));if(u=new f(u),u.eq(1))return u;if(n=f.precision,o=f.rounding,t.eq(1))return finalise(u,n,o);if(r=mathfloor(t.e/LOG_BASE),r>=t.d.length-1&&(s=c<0?-c:c)<=MAX_SAFE_INTEGER)return a=intPow(f,u,s,n),t.s<0?new f(1).div(a):finalise(a,n,o);if(l=u.s,l<0){if(r<t.d.length-1)return new f(NaN);if((t.d[r]&1)==0&&(l=1),u.e==0&&u.d[0]==1&&u.d.length==1)return u.s=l,u}return s=mathpow(+u,c),r=s==0||!isFinite(s)?mathfloor(c*(Math.log("0."+digitsToString(u.d))/Math.LN10+u.e+1)):new f(s+"").e,r>f.maxE+1||r<f.minE-1?new f(r>0?l/0:0):(external=!1,f.rounding=u.s=1,s=Math.min(12,(r+"").length),a=naturalExponential(t.times(naturalLogarithm(u,n+s)),n),a.d&&(a=finalise(a,n+5,1),checkRoundingDigits(a.d,n,o)&&(r=n+10,a=finalise(naturalExponential(t.times(naturalLogarithm(u,r+s)),r),r+5,1),+digitsToString(a.d).slice(n+1,n+15)+1==1e14&&(a=finalise(a,n+1,0)))),a.s=l,external=!0,f.rounding=o,finalise(a,n,o))};P$3.toPrecision=function(t,r){var s,n=this,a=n.constructor;return t===void 0?s=finiteToString(n,n.e<=a.toExpNeg||n.e>=a.toExpPos):(checkInt32(t,1,MAX_DIGITS),r===void 0?r=a.rounding:checkInt32(r,0,8),n=finalise(new a(n),t,r),s=finiteToString(n,t<=n.e||n.e<=a.toExpNeg,t)),n.isNeg()&&!n.isZero()?"-"+s:s};P$3.toSignificantDigits=P$3.toSD=function(t,r){var s=this,n=s.constructor;return t===void 0?(t=n.precision,r=n.rounding):(checkInt32(t,1,MAX_DIGITS),r===void 0?r=n.rounding:checkInt32(r,0,8)),finalise(new n(s),t,r)};P$3.toString=function(){var t=this,r=t.constructor,s=finiteToString(t,t.e<=r.toExpNeg||t.e>=r.toExpPos);return t.isNeg()&&!t.isZero()?"-"+s:s};P$3.truncated=P$3.trunc=function(){return finalise(new this.constructor(this),this.e+1,1)};P$3.valueOf=P$3.toJSON=function(){var t=this,r=t.constructor,s=finiteToString(t,t.e<=r.toExpNeg||t.e>=r.toExpPos);return t.isNeg()?"-"+s:s};function digitsToString(t){var r,s,n,a=t.length-1,o="",l=t[0];if(a>0){for(o+=l,r=1;r<a;r++)n=t[r]+"",s=LOG_BASE-n.length,s&&(o+=getZeroString(s)),o+=n;l=t[r],n=l+"",s=LOG_BASE-n.length,s&&(o+=getZeroString(s))}else if(l===0)return"0";for(;l%10===0;)l/=10;return o+l}function checkInt32(t,r,s){if(t!==~~t||t<r||t>s)throw Error(invalidArgument+t)}function checkRoundingDigits(t,r,s,n){var a,o,l,u;for(o=t[0];o>=10;o/=10)--r;return--r<0?(r+=LOG_BASE,a=0):(a=Math.ceil((r+1)/LOG_BASE),r%=LOG_BASE),o=mathpow(10,LOG_BASE-r),u=t[a]%o|0,n==null?r<3?(r==0?u=u/100|0:r==1&&(u=u/10|0),l=s<4&&u==99999||s>3&&u==49999||u==5e4||u==0):l=(s<4&&u+1==o||s>3&&u+1==o/2)&&(t[a+1]/o/100|0)==mathpow(10,r-2)-1||(u==o/2||u==0)&&(t[a+1]/o/100|0)==0:r<4?(r==0?u=u/1e3|0:r==1?u=u/100|0:r==2&&(u=u/10|0),l=(n||s<4)&&u==9999||!n&&s>3&&u==4999):l=((n||s<4)&&u+1==o||!n&&s>3&&u+1==o/2)&&(t[a+1]/o/1e3|0)==mathpow(10,r-3)-1,l}function convertBase(t,r,s){for(var n,a=[0],o,l=0,u=t.length;l<u;){for(o=a.length;o--;)a[o]*=r;for(a[0]+=NUMERALS.indexOf(t.charAt(l++)),n=0;n<a.length;n++)a[n]>s-1&&(a[n+1]===void 0&&(a[n+1]=0),a[n+1]+=a[n]/s|0,a[n]%=s)}return a.reverse()}function cosine(t,r){var s,n,a;if(r.isZero())return r;n=r.d.length,n<32?(s=Math.ceil(n/3),a=(1/tinyPow(4,s)).toString()):(s=16,a="2.3283064365386962890625e-10"),t.precision+=s,r=taylorSeries(t,1,r.times(a),new t(1));for(var o=s;o--;){var l=r.times(r);r=l.times(l).minus(l).times(8).plus(1)}return t.precision-=s,r}var divide$1=(function(){function t(n,a,o){var l,u=0,f=n.length;for(n=n.slice();f--;)l=n[f]*a+u,n[f]=l%o|0,u=l/o|0;return u&&n.unshift(u),n}function r(n,a,o,l){var u,f;if(o!=l)f=o>l?1:-1;else for(u=f=0;u<o;u++)if(n[u]!=a[u]){f=n[u]>a[u]?1:-1;break}return f}function s(n,a,o,l){for(var u=0;o--;)n[o]-=u,u=n[o]<a[o]?1:0,n[o]=u*l+n[o]-a[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,o,l,u,f){var c,h,d,p,v,y,b,w,x,A,S,_,$,M,T,O,B,J,F,z,Z=n.constructor,se=n.s==a.s?1:-1,ie=n.d,U=a.d;if(!ie||!ie[0]||!U||!U[0])return new Z(!n.s||!a.s||(ie?U&&ie[0]==U[0]:!U)?NaN:ie&&ie[0]==0||!U?se*0:se/0);for(f?(v=1,h=n.e-a.e):(f=BASE,v=LOG_BASE,h=mathfloor(n.e/v)-mathfloor(a.e/v)),F=U.length,B=ie.length,x=new Z(se),A=x.d=[],d=0;U[d]==(ie[d]||0);d++);if(U[d]>(ie[d]||0)&&h--,o==null?(M=o=Z.precision,l=Z.rounding):u?M=o+(n.e-a.e)+1:M=o,M<0)A.push(1),y=!0;else{if(M=M/v+2|0,d=0,F==1){for(p=0,U=U[0],M++;(d<B||p)&&M--;d++)T=p*f+(ie[d]||0),A[d]=T/U|0,p=T%U|0;y=p||d<B}else{for(p=f/(U[0]+1)|0,p>1&&(U=t(U,p,f),ie=t(ie,p,f),F=U.length,B=ie.length),O=F,S=ie.slice(0,F),_=S.length;_<F;)S[_++]=0;z=U.slice(),z.unshift(0),J=U[0],U[1]>=f/2&&++J;do p=0,c=r(U,S,F,_),c<0?($=S[0],F!=_&&($=$*f+(S[1]||0)),p=$/J|0,p>1?(p>=f&&(p=f-1),b=t(U,p,f),w=b.length,_=S.length,c=r(b,S,w,_),c==1&&(p--,s(b,F<w?z:U,w,f))):(p==0&&(c=p=1),b=U.slice()),w=b.length,w<_&&b.unshift(0),s(S,b,_,f),c==-1&&(_=S.length,c=r(U,S,F,_),c<1&&(p++,s(S,F<_?z:U,_,f))),_=S.length):c===0&&(p++,S=[0]),A[d++]=p,c&&S[0]?S[_++]=ie[O]||0:(S=[ie[O]],_=1);while((O++<B||S[0]!==void 0)&&M--);y=S[0]!==void 0}A[0]||A.shift()}if(v==1)x.e=h,inexact=y;else{for(d=1,p=A[0];p>=10;p/=10)d++;x.e=d+h*v-1,finalise(x,u?o+x.e+1:o,l,y)}return x}})();function finalise(t,r,s,n){var a,o,l,u,f,c,h,d,p,v=t.constructor;e:if(r!=null){if(d=t.d,!d)return t;for(a=1,u=d[0];u>=10;u/=10)a++;if(o=r-a,o<0)o+=LOG_BASE,l=r,h=d[p=0],f=h/mathpow(10,a-l-1)%10|0;else if(p=Math.ceil((o+1)/LOG_BASE),u=d.length,p>=u)if(n){for(;u++<=p;)d.push(0);h=f=0,a=1,o%=LOG_BASE,l=o-LOG_BASE+1}else break e;else{for(h=u=d[p],a=1;u>=10;u/=10)a++;o%=LOG_BASE,l=o-LOG_BASE+a,f=l<0?0:h/mathpow(10,a-l-1)%10|0}if(n=n||r<0||d[p+1]!==void 0||(l<0?h:h%mathpow(10,a-l-1)),c=s<4?(f||n)&&(s==0||s==(t.s<0?3:2)):f>5||f==5&&(s==4||n||s==6&&(o>0?l>0?h/mathpow(10,a-l):0:d[p-1])%10&1||s==(t.s<0?8:7)),r<1||!d[0])return d.length=0,c?(r-=t.e+1,d[0]=mathpow(10,(LOG_BASE-r%LOG_BASE)%LOG_BASE),t.e=-r||0):d[0]=t.e=0,t;if(o==0?(d.length=p,u=1,p--):(d.length=p+1,u=mathpow(10,LOG_BASE-o),d[p]=l>0?(h/mathpow(10,a-l)%mathpow(10,l)|0)*u:0),c)for(;;)if(p==0){for(o=1,l=d[0];l>=10;l/=10)o++;for(l=d[0]+=u,u=1;l>=10;l/=10)u++;o!=u&&(t.e++,d[0]==BASE&&(d[0]=1));break}else{if(d[p]+=u,d[p]!=BASE)break;d[p--]=0,u=1}for(o=d.length;d[--o]===0;)d.pop()}return external&&(t.e>v.maxE?(t.d=null,t.e=NaN):t.e<v.minE&&(t.e=0,t.d=[0])),t}function finiteToString(t,r,s){if(!t.isFinite())return nonFiniteToString(t);var n,a=t.e,o=digitsToString(t.d),l=o.length;return r?(s&&(n=s-l)>0?o=o.charAt(0)+"."+o.slice(1)+getZeroString(n):l>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(t.e<0?"e":"e+")+t.e):a<0?(o="0."+getZeroString(-a-1)+o,s&&(n=s-l)>0&&(o+=getZeroString(n))):a>=l?(o+=getZeroString(a+1-l),s&&(n=s-a-1)>0&&(o=o+"."+getZeroString(n))):((n=a+1)<l&&(o=o.slice(0,n)+"."+o.slice(n)),s&&(n=s-l)>0&&(a+1===l&&(o+="."),o+=getZeroString(n))),o}function getBase10Exponent(t,r){var s=t[0];for(r*=LOG_BASE;s>=10;s/=10)r++;return r}function getLn10(t,r,s){if(r>LN10_PRECISION)throw external=!0,s&&(t.precision=s),Error(precisionLimitExceeded);return finalise(new t(LN10$1),r,1,!0)}function getPi(t,r,s){if(r>PI_PRECISION)throw Error(precisionLimitExceeded);return finalise(new t(PI),r,s,!0)}function getPrecision(t){var r=t.length-1,s=r*LOG_BASE+1;if(r=t[r],r){for(;r%10==0;r/=10)s--;for(r=t[0];r>=10;r/=10)s++}return s}function getZeroString(t){for(var r="";t--;)r+="0";return r}function intPow(t,r,s,n){var a,o=new t(1),l=Math.ceil(n/LOG_BASE+4);for(external=!1;;){if(s%2&&(o=o.times(r),truncate(o.d,l)&&(a=!0)),s=mathfloor(s/2),s===0){s=o.d.length-1,a&&o.d[s]===0&&++o.d[s];break}r=r.times(r),truncate(r.d,l)}return external=!0,o}function isOdd(t){return t.d[t.d.length-1]&1}function maxOrMin(t,r,s){for(var n,a,o=new t(r[0]),l=0;++l<r.length;){if(a=new t(r[l]),!a.s){o=a;break}n=o.cmp(a),(n===s||n===0&&o.s===s)&&(o=a)}return o}function naturalExponential(t,r){var s,n,a,o,l,u,f,c=0,h=0,d=0,p=t.constructor,v=p.rounding,y=p.precision;if(!t.d||!t.d[0]||t.e>17)return new p(t.d?t.d[0]?t.s<0?0:1/0:1:t.s?t.s<0?0:t:NaN);for(r==null?(external=!1,f=y):f=r,u=new p(.03125);t.e>-2;)t=t.times(u),d+=5;for(n=Math.log(mathpow(2,d))/Math.LN10*2+5|0,f+=n,s=o=l=new p(1),p.precision=f;;){if(o=finalise(o.times(t),f,1),s=s.times(++h),u=l.plus(divide$1(o,s,f,1)),digitsToString(u.d).slice(0,f)===digitsToString(l.d).slice(0,f)){for(a=d;a--;)l=finalise(l.times(l),f,1);if(r==null)if(c<3&&checkRoundingDigits(l.d,f-n,v,c))p.precision=f+=10,s=o=u=new p(1),h=0,c++;else return finalise(l,p.precision=y,v,external=!0);else return p.precision=y,l}l=u}}function naturalLogarithm(t,r){var s,n,a,o,l,u,f,c,h,d,p,v=1,y=10,b=t,w=b.d,x=b.constructor,A=x.rounding,S=x.precision;if(b.s<0||!w||!w[0]||!b.e&&w[0]==1&&w.length==1)return new x(w&&!w[0]?-1/0:b.s!=1?NaN:w?0:b);if(r==null?(external=!1,h=S):h=r,x.precision=h+=y,s=digitsToString(w),n=s.charAt(0),Math.abs(o=b.e)<15e14){for(;n<7&&n!=1||n==1&&s.charAt(1)>3;)b=b.times(t),s=digitsToString(b.d),n=s.charAt(0),v++;o=b.e,n>1?(b=new x("0."+s),o++):b=new x(n+"."+s.slice(1))}else return c=getLn10(x,h+2,S).times(o+""),b=naturalLogarithm(new x(n+"."+s.slice(1)),h-y).plus(c),x.precision=S,r==null?finalise(b,S,A,external=!0):b;for(d=b,f=l=b=divide$1(b.minus(1),b.plus(1),h,1),p=finalise(b.times(b),h,1),a=3;;){if(l=finalise(l.times(p),h,1),c=f.plus(divide$1(l,new x(a),h,1)),digitsToString(c.d).slice(0,h)===digitsToString(f.d).slice(0,h))if(f=f.times(2),o!==0&&(f=f.plus(getLn10(x,h+2,S).times(o+""))),f=divide$1(f,new x(v),h,1),r==null)if(checkRoundingDigits(f.d,h-y,A,u))x.precision=h+=y,c=l=b=divide$1(d.minus(1),d.plus(1),h,1),p=finalise(b.times(b),h,1),a=u=1;else return finalise(f,x.precision=S,A,external=!0);else return x.precision=S,f;f=c,a+=2}}function nonFiniteToString(t){return String(t.s*t.s/0)}function parseDecimal(t,r){var s,n,a;for((s=r.indexOf("."))>-1&&(r=r.replace(".","")),(n=r.search(/e/i))>0?(s<0&&(s=n),s+=+r.slice(n+1),r=r.substring(0,n)):s<0&&(s=r.length),n=0;r.charCodeAt(n)===48;n++);for(a=r.length;r.charCodeAt(a-1)===48;--a);if(r=r.slice(n,a),r){if(a-=n,t.e=s=s-n-1,t.d=[],n=(s+1)%LOG_BASE,s<0&&(n+=LOG_BASE),n<a){for(n&&t.d.push(+r.slice(0,n)),a-=LOG_BASE;n<a;)t.d.push(+r.slice(n,n+=LOG_BASE));r=r.slice(n),n=LOG_BASE-r.length}else n-=a;for(;n--;)r+="0";t.d.push(+r),external&&(t.e>t.constructor.maxE?(t.d=null,t.e=NaN):t.e<t.constructor.minE&&(t.e=0,t.d=[0]))}else t.e=0,t.d=[0];return t}function parseOther(t,r){var s,n,a,o,l,u,f,c,h;if(r.indexOf("_")>-1){if(r=r.replace(/(\d)_(?=\d)/g,"$1"),isDecimal.test(r))return parseDecimal(t,r)}else if(r==="Infinity"||r==="NaN")return+r||(t.s=NaN),t.e=NaN,t.d=null,t;if(isHex.test(r))s=16,r=r.toLowerCase();else if(isBinary.test(r))s=2;else if(isOctal.test(r))s=8;else throw Error(invalidArgument+r);for(o=r.search(/p/i),o>0?(f=+r.slice(o+1),r=r.substring(2,o)):r=r.slice(2),o=r.indexOf("."),l=o>=0,n=t.constructor,l&&(r=r.replace(".",""),u=r.length,o=u-o,a=intPow(n,new n(s),o,o*2)),c=convertBase(r,s,BASE),h=c.length-1,o=h;c[o]===0;--o)c.pop();return o<0?new n(t.s*0):(t.e=getBase10Exponent(c,h),t.d=c,external=!1,l&&(t=divide$1(t,a,u*4)),f&&(t=t.times(Math.abs(f)<54?mathpow(2,f):Decimal.pow(2,f))),external=!0,t)}function sine(t,r){var s,n=r.d.length;if(n<3)return r.isZero()?r:taylorSeries(t,2,r,r);s=1.4*Math.sqrt(n),s=s>16?16:s|0,r=r.times(1/tinyPow(5,s)),r=taylorSeries(t,2,r,r);for(var a,o=new t(5),l=new t(16),u=new t(20);s--;)a=r.times(r),r=r.times(o.plus(a.times(l.times(a).minus(u))));return r}function taylorSeries(t,r,s,n,a){var o,l,u,f,c=t.precision,h=Math.ceil(c/LOG_BASE);for(external=!1,f=s.times(s),u=new t(n);;){if(l=divide$1(u.times(f),new t(r++*r++),c,1),u=a?n.plus(l):n.minus(l),n=divide$1(l.times(f),new t(r++*r++),c,1),l=u.plus(n),l.d[h]!==void 0){for(o=h;l.d[o]===u.d[o]&&o--;);if(o==-1)break}o=u,u=n,n=l,l=o}return external=!0,l.d.length=h+1,l}function tinyPow(t,r){for(var s=t;--r;)s*=t;return s}function toLessThanHalfPi(t,r){var s,n=r.s<0,a=getPi(t,t.precision,1),o=a.times(.5);if(r=r.abs(),r.lte(o))return quadrant=n?4:1,r;if(s=r.divToInt(a),s.isZero())quadrant=n?3:2;else{if(r=r.minus(s.times(a)),r.lte(o))return quadrant=isOdd(s)?n?2:3:n?4:1,r;quadrant=isOdd(s)?n?1:4:n?3:2}return r.minus(a).abs()}function toStringBinary(t,r,s,n){var a,o,l,u,f,c,h,d,p,v=t.constructor,y=s!==void 0;if(y?(checkInt32(s,1,MAX_DIGITS),n===void 0?n=v.rounding:checkInt32(n,0,8)):(s=v.precision,n=v.rounding),!t.isFinite())h=nonFiniteToString(t);else{for(h=finiteToString(t),l=h.indexOf("."),y?(a=2,r==16?s=s*4-3:r==8&&(s=s*3-2)):a=r,l>=0&&(h=h.replace(".",""),p=new v(1),p.e=h.length-l,p.d=convertBase(finiteToString(p),10,a),p.e=p.d.length),d=convertBase(h,10,a),o=f=d.length;d[--f]==0;)d.pop();if(!d[0])h=y?"0p+0":"0";else{if(l<0?o--:(t=new v(t),t.d=d,t.e=o,t=divide$1(t,p,s,n,0,a),d=t.d,o=t.e,c=inexact),l=d[s],u=a/2,c=c||d[s+1]!==void 0,c=n<4?(l!==void 0||c)&&(n===0||n===(t.s<0?3:2)):l>u||l===u&&(n===4||c||n===6&&d[s-1]&1||n===(t.s<0?8:7)),d.length=s,c)for(;++d[--s]>a-1;)d[s]=0,s||(++o,d.unshift(1));for(f=d.length;!d[f-1];--f);for(l=0,h="";l<f;l++)h+=NUMERALS.charAt(d[l]);if(y){if(f>1)if(r==16||r==8){for(l=r==16?4:3,--f;f%l;f++)h+="0";for(d=convertBase(h,a,r),f=d.length;!d[f-1];--f);for(l=1,h="1.";l<f;l++)h+=NUMERALS.charAt(d[l])}else h=h.charAt(0)+"."+h.slice(1);h=h+(o<0?"p":"p+")+o}else if(o<0){for(;++o;)h="0"+h;h="0."+h}else if(++o>f)for(o-=f;o--;)h+="0";else o<f&&(h=h.slice(0,o)+"."+h.slice(o))}h=(r==16?"0x":r==2?"0b":r==8?"0o":"")+h}return t.s<0?"-"+h:h}function truncate(t,r){if(t.length>r)return t.length=r,!0}function abs$1(t){return new this(t).abs()}function acos$1(t){return new this(t).acos()}function acosh$1(t){return new this(t).acosh()}function add$1(t,r){return new this(t).plus(r)}function asin$1(t){return new this(t).asin()}function asinh$1(t){return new this(t).asinh()}function atan$1(t){return new this(t).atan()}function atanh$1(t){return new this(t).atanh()}function atan2$1(t,r){t=new this(t),r=new this(r);var s,n=this.precision,a=this.rounding,o=n+4;return!t.s||!r.s?s=new this(NaN):!t.d&&!r.d?(s=getPi(this,o,1).times(r.s>0?.25:.75),s.s=t.s):!r.d||t.isZero()?(s=r.s<0?getPi(this,n,a):new this(0),s.s=t.s):!t.d||r.isZero()?(s=getPi(this,o,1).times(.5),s.s=t.s):r.s<0?(this.precision=o,this.rounding=1,s=this.atan(divide$1(t,r,o,1)),r=getPi(this,o,1),this.precision=n,this.rounding=a,s=t.s<0?s.minus(r):s.plus(r)):s=this.atan(divide$1(t,r,o,1)),s}function cbrt$1(t){return new this(t).cbrt()}function ceil$1(t){return finalise(t=new this(t),t.e+1,2)}function clamp(t,r,s){return new this(t).clamp(r,s)}function config(t){if(!t||typeof t!="object")throw Error(decimalError+"Object expected");var r,s,n,a=t.defaults===!0,o=["precision",1,MAX_DIGITS,"rounding",0,8,"toExpNeg",-EXP_LIMIT,0,"toExpPos",0,EXP_LIMIT,"maxE",0,EXP_LIMIT,"minE",-EXP_LIMIT,0,"modulo",0,9];for(r=0;r<o.length;r+=3)if(s=o[r],a&&(this[s]=DEFAULTS[s]),(n=t[s])!==void 0)if(mathfloor(n)===n&&n>=o[r+1]&&n<=o[r+2])this[s]=n;else throw Error(invalidArgument+s+": "+n);if(s="crypto",a&&(this[s]=DEFAULTS[s]),(n=t[s])!==void 0)if(n===!0||n===!1||n===0||n===1)if(n)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[s]=!0;else throw Error(cryptoUnavailable);else this[s]=!1;else throw Error(invalidArgument+s+": "+n);return this}function cos$1(t){return new this(t).cos()}function cosh$2(t){return new this(t).cosh()}function clone$1(t){var r,s,n;function a(o){var l,u,f,c=this;if(!(c instanceof a))return new a(o);if(c.constructor=a,isDecimalInstance(o)){c.s=o.s,external?!o.d||o.e>a.maxE?(c.e=NaN,c.d=null):o.e<a.minE?(c.e=0,c.d=[0]):(c.e=o.e,c.d=o.d.slice()):(c.e=o.e,c.d=o.d?o.d.slice():o.d);return}if(f=typeof o,f==="number"){if(o===0){c.s=1/o<0?-1:1,c.e=0,c.d=[0];return}if(o<0?(o=-o,c.s=-1):c.s=1,o===~~o&&o<1e7){for(l=0,u=o;u>=10;u/=10)l++;external?l>a.maxE?(c.e=NaN,c.d=null):l<a.minE?(c.e=0,c.d=[0]):(c.e=l,c.d=[o]):(c.e=l,c.d=[o]);return}if(o*0!==0){o||(c.s=NaN),c.e=NaN,c.d=null;return}return parseDecimal(c,o.toString())}if(f==="string")return(u=o.charCodeAt(0))===45?(o=o.slice(1),c.s=-1):(u===43&&(o=o.slice(1)),c.s=1),isDecimal.test(o)?parseDecimal(c,o):parseOther(c,o);if(f==="bigint")return o<0?(o=-o,c.s=-1):c.s=1,parseDecimal(c,o.toString());throw Error(invalidArgument+o)}if(a.prototype=P$3,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.EUCLID=9,a.config=a.set=config,a.clone=clone$1,a.isDecimal=isDecimalInstance,a.abs=abs$1,a.acos=acos$1,a.acosh=acosh$1,a.add=add$1,a.asin=asin$1,a.asinh=asinh$1,a.atan=atan$1,a.atanh=atanh$1,a.atan2=atan2$1,a.cbrt=cbrt$1,a.ceil=ceil$1,a.clamp=clamp,a.cos=cos$1,a.cosh=cosh$2,a.div=div,a.exp=exp$1,a.floor=floor$1,a.hypot=hypot$2,a.ln=ln,a.log=log$1,a.log10=log10$1,a.log2=log2$1,a.max=max$1,a.min=min$1,a.mod=mod$1,a.mul=mul,a.pow=pow$1,a.random=random$1,a.round=round$1,a.sign=sign$1,a.sin=sin$1,a.sinh=sinh$2,a.sqrt=sqrt$1,a.sub=sub,a.sum=sum$1,a.tan=tan$1,a.tanh=tanh$1,a.trunc=trunc,t===void 0&&(t={}),t&&t.defaults!==!0)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],r=0;r<n.length;)t.hasOwnProperty(s=n[r++])||(t[s]=this[s]);return a.config(t),a}function div(t,r){return new this(t).div(r)}function exp$1(t){return new this(t).exp()}function floor$1(t){return finalise(t=new this(t),t.e+1,3)}function hypot$2(){var t,r,s=new this(0);for(external=!1,t=0;t<arguments.length;)if(r=new this(arguments[t++]),r.d)s.d&&(s=s.plus(r.times(r)));else{if(r.s)return external=!0,new this(1/0);s=r}return external=!0,s.sqrt()}function isDecimalInstance(t){return t instanceof Decimal||t&&t.toStringTag===tag||!1}function ln(t){return new this(t).ln()}function log$1(t,r){return new this(t).log(r)}function log2$1(t){return new this(t).log(2)}function log10$1(t){return new this(t).log(10)}function max$1(){return maxOrMin(this,arguments,-1)}function min$1(){return maxOrMin(this,arguments,1)}function mod$1(t,r){return new this(t).mod(r)}function mul(t,r){return new this(t).mul(r)}function pow$1(t,r){return new this(t).pow(r)}function random$1(t){var r,s,n,a,o=0,l=new this(1),u=[];if(t===void 0?t=this.precision:checkInt32(t,1,MAX_DIGITS),n=Math.ceil(t/LOG_BASE),this.crypto)if(crypto.getRandomValues)for(r=crypto.getRandomValues(new Uint32Array(n));o<n;)a=r[o],a>=429e7?r[o]=crypto.getRandomValues(new Uint32Array(1))[0]:u[o++]=a%1e7;else if(crypto.randomBytes){for(r=crypto.randomBytes(n*=4);o<n;)a=r[o]+(r[o+1]<<8)+(r[o+2]<<16)+((r[o+3]&127)<<24),a>=214e7?crypto.randomBytes(4).copy(r,o):(u.push(a%1e7),o+=4);o=n/4}else throw Error(cryptoUnavailable);else for(;o<n;)u[o++]=Math.random()*1e7|0;for(n=u[--o],t%=LOG_BASE,n&&t&&(a=mathpow(10,LOG_BASE-t),u[o]=(n/a|0)*a);u[o]===0;o--)u.pop();if(o<0)s=0,u=[0];else{for(s=-1;u[0]===0;s-=LOG_BASE)u.shift();for(n=1,a=u[0];a>=10;a/=10)n++;n<LOG_BASE&&(s-=LOG_BASE-n)}return l.e=s,l.d=u,l}function round$1(t){return finalise(t=new this(t),t.e+1,this.rounding)}function sign$1(t){return t=new this(t),t.d?t.d[0]?t.s:0*t.s:t.s||NaN}function sin$1(t){return new this(t).sin()}function sinh$2(t){return new this(t).sinh()}function sqrt$1(t){return new this(t).sqrt()}function sub(t,r){return new this(t).sub(r)}function sum$1(){var t=0,r=arguments,s=new this(r[t]);for(external=!1;s.s&&++t<r.length;)s=s.plus(r[t]);return external=!0,finalise(s,this.precision,this.rounding)}function tan$1(t){return new this(t).tan()}function tanh$1(t){return new this(t).tanh()}function trunc(t){return finalise(t=new this(t),t.e+1,1)}P$3[Symbol.for("nodejs.util.inspect.custom")]=P$3.toString;P$3[Symbol.toStringTag]="Decimal";var Decimal=P$3.constructor=clone$1(DEFAULTS);LN10$1=new Decimal(LN10$1);PI=new Decimal(PI);var name$4H="BigNumber",dependencies$4G=["?on","config"],createBigNumberClass=factory(name$4H,dependencies$4G,t=>{var{on:r,config:s}=t,n=Decimal.clone({precision:s.precision,modulo:Decimal.EUCLID});return n.prototype=Object.create(n.prototype),n.prototype.type="BigNumber",n.prototype.isBigNumber=!0,n.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},n.fromJSON=function(a){return new n(a.value)},r&&r("config",function(a,o){a.precision!==o.precision&&n.config({precision:a.precision})}),n},{isClass:!0});const cosh$1=Math.cosh||function(t){return Math.abs(t)<1e-9?1-t:(Math.exp(t)+Math.exp(-t))*.5},sinh$1=Math.sinh||function(t){return Math.abs(t)<1e-9?t:(Math.exp(t)-Math.exp(-t))*.5},cosm1=t=>{const r=Math.sin(.5*t);return-2*r*r},hypot$1=function(t,r){return t=Math.abs(t),r=Math.abs(r),t<r&&([t,r]=[r,t]),t<1e8?Math.sqrt(t*t+r*r):(r/=t,t*Math.sqrt(1+r*r))},parser_exit=function(){throw SyntaxError("Invalid Param")};function logHypot(t,r){const s=Math.abs(t),n=Math.abs(r);return t===0?Math.log(n):r===0?Math.log(s):s<3e3&&n<3e3?Math.log(t*t+r*r)*.5:(t=t*.5,r=r*.5,.5*Math.log(t*t+r*r)+Math.LN2)}const P$2={re:0,im:0},parse$2=function(t,r){const s=P$2;if(t==null)s.re=s.im=0;else if(r!==void 0)s.re=t,s.im=r;else switch(typeof t){case"object":if("im"in t&&"re"in t)s.re=t.re,s.im=t.im;else if("abs"in t&&"arg"in t){if(!isFinite(t.abs)&&isFinite(t.arg))return Complex$2.INFINITY;s.re=t.abs*Math.cos(t.arg),s.im=t.abs*Math.sin(t.arg)}else if("r"in t&&"phi"in t){if(!isFinite(t.r)&&isFinite(t.phi))return Complex$2.INFINITY;s.re=t.r*Math.cos(t.phi),s.im=t.r*Math.sin(t.phi)}else t.length===2?(s.re=t[0],s.im=t[1]):parser_exit();break;case"string":s.im=s.re=0;const n=t.replace(/_/g,"").match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g);let a=1,o=0;n===null&&parser_exit();for(let l=0;l<n.length;l++){const u=n[l];u===" "||u==="	"||u===`
`||(u==="+"?a++:u==="-"?o++:u==="i"||u==="I"?(a+o===0&&parser_exit(),n[l+1]!==" "&&!isNaN(n[l+1])?(s.im+=parseFloat((o%2?"-":"")+n[l+1]),l++):s.im+=parseFloat((o%2?"-":"")+"1"),a=o=0):((a+o===0||isNaN(u))&&parser_exit(),n[l+1]==="i"||n[l+1]==="I"?(s.im+=parseFloat((o%2?"-":"")+u),l++):s.re+=parseFloat((o%2?"-":"")+u),a=o=0))}a+o>0&&parser_exit();break;case"number":s.im=0,s.re=t;break;default:parser_exit()}return isNaN(s.re)||isNaN(s.im),s};function Complex$2(t,r){if(!(this instanceof Complex$2))return new Complex$2(t,r);const s=parse$2(t,r);this.re=s.re,this.im=s.im}Complex$2.prototype={re:0,im:0,sign:function(){const t=hypot$1(this.re,this.im);return new Complex$2(this.re/t,this.im/t)},add:function(t,r){const s=parse$2(t,r),n=this.isInfinite(),a=!(isFinite(s.re)&&isFinite(s.im));return n||a?n&&a?Complex$2.NAN:Complex$2.INFINITY:new Complex$2(this.re+s.re,this.im+s.im)},sub:function(t,r){const s=parse$2(t,r),n=this.isInfinite(),a=!(isFinite(s.re)&&isFinite(s.im));return n||a?n&&a?Complex$2.NAN:Complex$2.INFINITY:new Complex$2(this.re-s.re,this.im-s.im)},mul:function(t,r){const s=parse$2(t,r),n=this.isInfinite(),a=!(isFinite(s.re)&&isFinite(s.im)),o=this.re===0&&this.im===0,l=s.re===0&&s.im===0;return n&&l||a&&o?Complex$2.NAN:n||a?Complex$2.INFINITY:s.im===0&&this.im===0?new Complex$2(this.re*s.re,0):new Complex$2(this.re*s.re-this.im*s.im,this.re*s.im+this.im*s.re)},div:function(t,r){const s=parse$2(t,r),n=this.isInfinite(),a=!(isFinite(s.re)&&isFinite(s.im)),o=this.re===0&&this.im===0,l=s.re===0&&s.im===0;if(o&&l||n&&a)return Complex$2.NAN;if(l||n)return Complex$2.INFINITY;if(o||a)return Complex$2.ZERO;if(s.im===0)return new Complex$2(this.re/s.re,this.im/s.re);if(Math.abs(s.re)<Math.abs(s.im)){const u=s.re/s.im,f=s.re*u+s.im;return new Complex$2((this.re*u+this.im)/f,(this.im*u-this.re)/f)}else{const u=s.im/s.re,f=s.im*u+s.re;return new Complex$2((this.re+this.im*u)/f,(this.im-this.re*u)/f)}},pow:function(t,r){const s=parse$2(t,r),n=this.re===0&&this.im===0;if(s.re===0&&s.im===0)return Complex$2.ONE;if(s.im===0){if(this.im===0&&this.re>0)return new Complex$2(Math.pow(this.re,s.re),0);if(this.re===0)switch((s.re%4+4)%4){case 0:return new Complex$2(Math.pow(this.im,s.re),0);case 1:return new Complex$2(0,Math.pow(this.im,s.re));case 2:return new Complex$2(-Math.pow(this.im,s.re),0);case 3:return new Complex$2(0,-Math.pow(this.im,s.re))}}if(n&&s.re>0)return Complex$2.ZERO;const o=Math.atan2(this.im,this.re),l=logHypot(this.re,this.im);let u=Math.exp(s.re*l-s.im*o),f=s.im*l+s.re*o;return new Complex$2(u*Math.cos(f),u*Math.sin(f))},sqrt:function(){const t=this.re,r=this.im;if(r===0)return t>=0?new Complex$2(Math.sqrt(t),0):new Complex$2(0,Math.sqrt(-t));const s=hypot$1(t,r);let n=Math.sqrt(.5*(s+Math.abs(t))),a=Math.abs(r)/(2*n);return t>=0?new Complex$2(n,r<0?-a:a):new Complex$2(a,r<0?-n:n)},exp:function(){const t=Math.exp(this.re);return this.im===0?new Complex$2(t,0):new Complex$2(t*Math.cos(this.im),t*Math.sin(this.im))},expm1:function(){const t=this.re,r=this.im;return new Complex$2(Math.expm1(t)*Math.cos(r)+cosm1(r),Math.exp(t)*Math.sin(r))},log:function(){const t=this.re,r=this.im;return r===0&&t>0?new Complex$2(Math.log(t),0):new Complex$2(logHypot(t,r),Math.atan2(r,t))},abs:function(){return hypot$1(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){const t=this.re,r=this.im;return new Complex$2(Math.sin(t)*cosh$1(r),Math.cos(t)*sinh$1(r))},cos:function(){const t=this.re,r=this.im;return new Complex$2(Math.cos(t)*cosh$1(r),-Math.sin(t)*sinh$1(r))},tan:function(){const t=2*this.re,r=2*this.im,s=Math.cos(t)+cosh$1(r);return new Complex$2(Math.sin(t)/s,sinh$1(r)/s)},cot:function(){const t=2*this.re,r=2*this.im,s=Math.cos(t)-cosh$1(r);return new Complex$2(-Math.sin(t)/s,sinh$1(r)/s)},sec:function(){const t=this.re,r=this.im,s=.5*cosh$1(2*r)+.5*Math.cos(2*t);return new Complex$2(Math.cos(t)*cosh$1(r)/s,Math.sin(t)*sinh$1(r)/s)},csc:function(){const t=this.re,r=this.im,s=.5*cosh$1(2*r)-.5*Math.cos(2*t);return new Complex$2(Math.sin(t)*cosh$1(r)/s,-Math.cos(t)*sinh$1(r)/s)},asin:function(){const t=this.re,r=this.im,s=new Complex$2(r*r-t*t+1,-2*t*r).sqrt(),n=new Complex$2(s.re-r,s.im+t).log();return new Complex$2(n.im,-n.re)},acos:function(){const t=this.re,r=this.im,s=new Complex$2(r*r-t*t+1,-2*t*r).sqrt(),n=new Complex$2(s.re-r,s.im+t).log();return new Complex$2(Math.PI/2-n.im,n.re)},atan:function(){const t=this.re,r=this.im;if(t===0){if(r===1)return new Complex$2(0,1/0);if(r===-1)return new Complex$2(0,-1/0)}const s=t*t+(1-r)*(1-r),n=new Complex$2((1-r*r-t*t)/s,-2*t/s).log();return new Complex$2(-.5*n.im,.5*n.re)},acot:function(){const t=this.re,r=this.im;if(r===0)return new Complex$2(Math.atan2(1,t),0);const s=t*t+r*r;return s!==0?new Complex$2(t/s,-r/s).atan():new Complex$2(t!==0?t/0:0,r!==0?-r/0:0).atan()},asec:function(){const t=this.re,r=this.im;if(t===0&&r===0)return new Complex$2(0,1/0);const s=t*t+r*r;return s!==0?new Complex$2(t/s,-r/s).acos():new Complex$2(t!==0?t/0:0,r!==0?-r/0:0).acos()},acsc:function(){const t=this.re,r=this.im;if(t===0&&r===0)return new Complex$2(Math.PI/2,1/0);const s=t*t+r*r;return s!==0?new Complex$2(t/s,-r/s).asin():new Complex$2(t!==0?t/0:0,r!==0?-r/0:0).asin()},sinh:function(){const t=this.re,r=this.im;return new Complex$2(sinh$1(t)*Math.cos(r),cosh$1(t)*Math.sin(r))},cosh:function(){const t=this.re,r=this.im;return new Complex$2(cosh$1(t)*Math.cos(r),sinh$1(t)*Math.sin(r))},tanh:function(){const t=2*this.re,r=2*this.im,s=cosh$1(t)+Math.cos(r);return new Complex$2(sinh$1(t)/s,Math.sin(r)/s)},coth:function(){const t=2*this.re,r=2*this.im,s=cosh$1(t)-Math.cos(r);return new Complex$2(sinh$1(t)/s,-Math.sin(r)/s)},csch:function(){const t=this.re,r=this.im,s=Math.cos(2*r)-cosh$1(2*t);return new Complex$2(-2*sinh$1(t)*Math.cos(r)/s,2*cosh$1(t)*Math.sin(r)/s)},sech:function(){const t=this.re,r=this.im,s=Math.cos(2*r)+cosh$1(2*t);return new Complex$2(2*cosh$1(t)*Math.cos(r)/s,-2*sinh$1(t)*Math.sin(r)/s)},asinh:function(){const t=this.re,r=this.im;if(r===0){if(t===0)return new Complex$2(0,0);const o=Math.abs(t),l=Math.log(o+Math.sqrt(o*o+1));return new Complex$2(t<0?-l:l,0)}const s=t*t-r*r+1,n=2*t*r,a=new Complex$2(s,n).sqrt();return new Complex$2(t+a.re,r+a.im).log()},acosh:function(){const t=this.re,r=this.im;if(r===0){if(t>1)return new Complex$2(Math.log(t+Math.sqrt(t-1)*Math.sqrt(t+1)),0);if(t<-1){const a=Math.sqrt(t*t-1);return new Complex$2(Math.log(-t+a),Math.PI)}return new Complex$2(0,Math.acos(t))}const s=new Complex$2(t-1,r).sqrt(),n=new Complex$2(t+1,r).sqrt();return new Complex$2(t+s.re*n.re-s.im*n.im,r+s.re*n.im+s.im*n.re).log()},atanh:function(){const t=this.re,r=this.im;if(r===0){if(t===0)return new Complex$2(0,0);if(t===1)return new Complex$2(1/0,0);if(t===-1)return new Complex$2(-1/0,0);if(-1<t&&t<1)return new Complex$2(.5*Math.log((1+t)/(1-t)),0);if(t>1){const f=(t+1)/(t-1);return new Complex$2(.5*Math.log(f),-Math.PI/2)}const u=(1+t)/(1-t);return new Complex$2(.5*Math.log(-u),Math.PI/2)}const s=1-t,n=1+t,a=s*s+r*r;if(a===0)return new Complex$2(t!==-1?t/0:0,r!==0?r/0:0);const o=(n*s-r*r)/a,l=(r*s+n*r)/a;return new Complex$2(logHypot(o,l)/2,Math.atan2(l,o)/2)},acoth:function(){const t=this.re,r=this.im;if(t===0&&r===0)return new Complex$2(0,Math.PI/2);const s=t*t+r*r;return s!==0?new Complex$2(t/s,-r/s).atanh():new Complex$2(t!==0?t/0:0,r!==0?-r/0:0).atanh()},acsch:function(){const t=this.re,r=this.im;if(r===0){if(t===0)return new Complex$2(1/0,0);const n=1/t;return new Complex$2(Math.log(n+Math.sqrt(n*n+1)),0)}const s=t*t+r*r;return s!==0?new Complex$2(t/s,-r/s).asinh():new Complex$2(t!==0?t/0:0,r!==0?-r/0:0).asinh()},asech:function(){const t=this.re,r=this.im;if(this.isZero())return Complex$2.INFINITY;const s=t*t+r*r;return s!==0?new Complex$2(t/s,-r/s).acosh():new Complex$2(t!==0?t/0:0,r!==0?-r/0:0).acosh()},inverse:function(){if(this.isZero())return Complex$2.INFINITY;if(this.isInfinite())return Complex$2.ZERO;const t=this.re,r=this.im,s=t*t+r*r;return new Complex$2(t/s,-r/s)},conjugate:function(){return new Complex$2(this.re,-this.im)},neg:function(){return new Complex$2(-this.re,-this.im)},ceil:function(t){return t=Math.pow(10,t||0),new Complex$2(Math.ceil(this.re*t)/t,Math.ceil(this.im*t)/t)},floor:function(t){return t=Math.pow(10,t||0),new Complex$2(Math.floor(this.re*t)/t,Math.floor(this.im*t)/t)},round:function(t){return t=Math.pow(10,t||0),new Complex$2(Math.round(this.re*t)/t,Math.round(this.im*t)/t)},equals:function(t,r){const s=parse$2(t,r);return Math.abs(s.re-this.re)<=Complex$2.EPSILON&&Math.abs(s.im-this.im)<=Complex$2.EPSILON},clone:function(){return new Complex$2(this.re,this.im)},toString:function(){let t=this.re,r=this.im,s="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(t)<Complex$2.EPSILON&&(t=0),Math.abs(r)<Complex$2.EPSILON&&(r=0),r===0?s+t:(t!==0?(s+=t,s+=" ",r<0?(r=-r,s+="-"):s+="+",s+=" "):r<0&&(r=-r,s+="-"),r!==1&&(s+=r),s+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!this.isFinite()}};Complex$2.ZERO=new Complex$2(0,0);Complex$2.ONE=new Complex$2(1,0);Complex$2.I=new Complex$2(0,1);Complex$2.PI=new Complex$2(Math.PI,0);Complex$2.E=new Complex$2(Math.E,0);Complex$2.INFINITY=new Complex$2(1/0,1/0);Complex$2.NAN=new Complex$2(NaN,NaN);Complex$2.EPSILON=1e-15;var name$4G="Complex",dependencies$4F=[],createComplexClass=factory(name$4G,dependencies$4F,()=>(Object.defineProperty(Complex$2,"name",{value:"Complex"}),Complex$2.prototype.constructor=Complex$2,Complex$2.prototype.type="Complex",Complex$2.prototype.isComplex=!0,Complex$2.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},Complex$2.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},Complex$2.prototype.format=function(t){var r="",s=this.im,n=this.re,a=format$3(this.re,t),o=format$3(this.im,t),l=isNumber(t)?t:t?t.precision:null;if(l!==null){var u=Math.pow(10,-l);Math.abs(n/s)<u&&(n=0),Math.abs(s/n)<u&&(s=0)}return s===0?r=a:n===0?s===1?r="i":s===-1?r="-i":r=o+"i":s<0?s===-1?r=a+" - i":r=a+" - "+o.substring(1)+"i":s===1?r=a+" + i":r=a+" + "+o+"i",r},Complex$2.fromPolar=function(t){switch(arguments.length){case 1:{var r=arguments[0];if(typeof r=="object")return Complex$2(r);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var s=arguments[0],n=arguments[1];if(isNumber(s)){if(isUnit(n)&&n.hasBase("ANGLE")&&(n=n.toNumber("rad")),isNumber(n))return new Complex$2({r:s,phi:n});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},Complex$2.prototype.valueOf=Complex$2.prototype.toString,Complex$2.fromJSON=function(t){return new Complex$2(t)},Complex$2.compare=function(t,r){return t.re>r.re?1:t.re<r.re?-1:t.im>r.im?1:t.im<r.im?-1:0},Complex$2),{isClass:!0});/**
 * @license Fraction.js v4.3.7 31/08/2023
 * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2023, Robert Eisele (robert@raw.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/var MAX_CYCLE_LEN=2e3,P$1={s:1,n:0,d:1};function assign(t,r){if(isNaN(t=parseInt(t,10)))throw InvalidParameter();return t*r}function newFraction(t,r){if(r===0)throw DivisionByZero();var s=Object.create(Fraction$1.prototype);s.s=t<0?-1:1,t=t<0?-t:t;var n=gcd$1(t,r);return s.n=t/n,s.d=r/n,s}function factorize(t){for(var r={},s=t,n=2,a=4;a<=s;){for(;s%n===0;)s/=n,r[n]=(r[n]||0)+1;a+=1+2*n++}return s!==t?s>1&&(r[s]=(r[s]||0)+1):r[t]=(r[t]||0)+1,r}var parse$1=function(t,r){var s=0,n=1,a=1,o=0,l=0,u=0,f=1,c=1,h=0,d=1,p=1,v=1,y=1e7,b;if(t!=null)if(r!==void 0){if(s=t,n=r,a=s*n,s%1!==0||n%1!==0)throw NonIntegerParameter()}else switch(typeof t){case"object":{if("d"in t&&"n"in t)s=t.n,n=t.d,"s"in t&&(s*=t.s);else if(0 in t)s=t[0],1 in t&&(n=t[1]);else throw InvalidParameter();a=s*n;break}case"number":{if(t<0&&(a=t,t=-t),t%1===0)s=t;else if(t>0){for(t>=1&&(c=Math.pow(10,Math.floor(1+Math.log(t)/Math.LN10)),t/=c);d<=y&&v<=y;)if(b=(h+p)/(d+v),t===b){d+v<=y?(s=h+p,n=d+v):v>d?(s=p,n=v):(s=h,n=d);break}else t>b?(h+=p,d+=v):(p+=h,v+=d),d>y?(s=p,n=v):(s=h,n=d);s*=c}else(isNaN(t)||isNaN(r))&&(n=s=NaN);break}case"string":{if(d=t.match(/\d+|./g),d===null)throw InvalidParameter();if(d[h]==="-"?(a=-1,h++):d[h]==="+"&&h++,d.length===h+1?l=assign(d[h++],a):d[h+1]==="."||d[h]==="."?(d[h]!=="."&&(o=assign(d[h++],a)),h++,(h+1===d.length||d[h+1]==="("&&d[h+3]===")"||d[h+1]==="'"&&d[h+3]==="'")&&(l=assign(d[h],a),f=Math.pow(10,d[h].length),h++),(d[h]==="("&&d[h+2]===")"||d[h]==="'"&&d[h+2]==="'")&&(u=assign(d[h+1],a),c=Math.pow(10,d[h+1].length)-1,h+=3)):d[h+1]==="/"||d[h+1]===":"?(l=assign(d[h],a),f=assign(d[h+2],1),h+=3):d[h+3]==="/"&&d[h+1]===" "&&(o=assign(d[h],a),l=assign(d[h+2],a),f=assign(d[h+4],1),h+=5),d.length<=h){n=f*c,a=s=u+n*o+c*l;break}}default:throw InvalidParameter()}if(n===0)throw DivisionByZero();P$1.s=a<0?-1:1,P$1.n=Math.abs(s),P$1.d=Math.abs(n)};function modpow(t,r,s){for(var n=1;r>0;t=t*t%s,r>>=1)r&1&&(n=n*t%s);return n}function cycleLen(t,r){for(;r%2===0;r/=2);for(;r%5===0;r/=5);if(r===1)return 0;for(var s=10%r,n=1;s!==1;n++)if(s=s*10%r,n>MAX_CYCLE_LEN)return 0;return n}function cycleStart(t,r,s){for(var n=1,a=modpow(10,s,r),o=0;o<300;o++){if(n===a)return o;n=n*10%r,a=a*10%r}return 0}function gcd$1(t,r){if(!t)return r;if(!r)return t;for(;;){if(t%=r,!t)return r;if(r%=t,!r)return t}}function Fraction$1(t,r){if(parse$1(t,r),this instanceof Fraction$1)t=gcd$1(P$1.d,P$1.n),this.s=P$1.s,this.n=P$1.n/t,this.d=P$1.d/t;else return newFraction(P$1.s*P$1.n,P$1.d)}var DivisionByZero=function(){return new Error("Division by Zero")},InvalidParameter=function(){return new Error("Invalid argument")},NonIntegerParameter=function(){return new Error("Parameters must be integer")};Fraction$1.prototype={s:1,n:0,d:1,abs:function(){return newFraction(this.n,this.d)},neg:function(){return newFraction(-this.s*this.n,this.d)},add:function(t,r){return parse$1(t,r),newFraction(this.s*this.n*P$1.d+P$1.s*this.d*P$1.n,this.d*P$1.d)},sub:function(t,r){return parse$1(t,r),newFraction(this.s*this.n*P$1.d-P$1.s*this.d*P$1.n,this.d*P$1.d)},mul:function(t,r){return parse$1(t,r),newFraction(this.s*P$1.s*this.n*P$1.n,this.d*P$1.d)},div:function(t,r){return parse$1(t,r),newFraction(this.s*P$1.s*this.n*P$1.d,this.d*P$1.n)},clone:function(){return newFraction(this.s*this.n,this.d)},mod:function(t,r){if(isNaN(this.n)||isNaN(this.d))return new Fraction$1(NaN);if(t===void 0)return newFraction(this.s*this.n%this.d,1);if(parse$1(t,r),P$1.n===0&&this.d===0)throw DivisionByZero();return newFraction(this.s*(P$1.d*this.n)%(P$1.n*this.d),P$1.d*this.d)},gcd:function(t,r){return parse$1(t,r),newFraction(gcd$1(P$1.n,this.n)*gcd$1(P$1.d,this.d),P$1.d*this.d)},lcm:function(t,r){return parse$1(t,r),P$1.n===0&&this.n===0?newFraction(0,1):newFraction(P$1.n*this.n,gcd$1(P$1.n,this.n)*gcd$1(P$1.d,this.d))},ceil:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new Fraction$1(NaN):newFraction(Math.ceil(t*this.s*this.n/this.d),t)},floor:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new Fraction$1(NaN):newFraction(Math.floor(t*this.s*this.n/this.d),t)},round:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new Fraction$1(NaN):newFraction(Math.round(t*this.s*this.n/this.d),t)},roundTo:function(t,r){return parse$1(t,r),newFraction(this.s*Math.round(this.n*P$1.d/(this.d*P$1.n))*P$1.n,P$1.d)},inverse:function(){return newFraction(this.s*this.d,this.n)},pow:function(t,r){if(parse$1(t,r),P$1.d===1)return P$1.s<0?newFraction(Math.pow(this.s*this.d,P$1.n),Math.pow(this.n,P$1.n)):newFraction(Math.pow(this.s*this.n,P$1.n),Math.pow(this.d,P$1.n));if(this.s<0)return null;var s=factorize(this.n),n=factorize(this.d),a=1,o=1;for(var l in s)if(l!=="1"){if(l==="0"){a=0;break}if(s[l]*=P$1.n,s[l]%P$1.d===0)s[l]/=P$1.d;else return null;a*=Math.pow(l,s[l])}for(var l in n)if(l!=="1"){if(n[l]*=P$1.n,n[l]%P$1.d===0)n[l]/=P$1.d;else return null;o*=Math.pow(l,n[l])}return P$1.s<0?newFraction(o,a):newFraction(a,o)},equals:function(t,r){return parse$1(t,r),this.s*this.n*P$1.d===P$1.s*P$1.n*this.d},compare:function(t,r){parse$1(t,r);var s=this.s*this.n*P$1.d-P$1.s*P$1.n*this.d;return(0<s)-(s<0)},simplify:function(t){if(isNaN(this.n)||isNaN(this.d))return this;t=t||.001;for(var r=this.abs(),s=r.toContinued(),n=1;n<s.length;n++){for(var a=newFraction(s[n-1],1),o=n-2;o>=0;o--)a=a.inverse().add(s[o]);if(Math.abs(a.sub(r).valueOf())<t)return a.mul(this.s)}return this},divisible:function(t,r){return parse$1(t,r),!(!(P$1.n*this.d)||this.n*P$1.d%(P$1.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(t){var r,s="",n=this.n,a=this.d;return this.s<0&&(s+="-"),a===1?s+=n:(t&&(r=Math.floor(n/a))>0&&(s+=r,s+=" ",n%=a),s+=n,s+="/",s+=a),s},toLatex:function(t){var r,s="",n=this.n,a=this.d;return this.s<0&&(s+="-"),a===1?s+=n:(t&&(r=Math.floor(n/a))>0&&(s+=r,n%=a),s+="\\frac{",s+=n,s+="}{",s+=a,s+="}"),s},toContinued:function(){var t,r=this.n,s=this.d,n=[];if(isNaN(r)||isNaN(s))return n;do n.push(Math.floor(r/s)),t=r%s,r=s,s=t;while(r!==1);return n},toString:function(t){var r=this.n,s=this.d;if(isNaN(r)||isNaN(s))return"NaN";t=t||15;var n=cycleLen(r,s),a=cycleStart(r,s,n),o=this.s<0?"-":"";if(o+=r/s|0,r%=s,r*=10,r&&(o+="."),n){for(var l=a;l--;)o+=r/s|0,r%=s,r*=10;o+="(";for(var l=n;l--;)o+=r/s|0,r%=s,r*=10;o+=")"}else for(var l=t;r&&l--;)o+=r/s|0,r%=s,r*=10;return o}};var name$4F="Fraction",dependencies$4E=[],createFractionClass=factory(name$4F,dependencies$4E,()=>(Object.defineProperty(Fraction$1,"name",{value:"Fraction"}),Fraction$1.prototype.constructor=Fraction$1,Fraction$1.prototype.type="Fraction",Fraction$1.prototype.isFraction=!0,Fraction$1.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},Fraction$1.fromJSON=function(t){return new Fraction$1(t)},Fraction$1),{isClass:!0}),name$4E="Range",dependencies$4D=[],createRangeClass=factory(name$4E,dependencies$4D,()=>{function t(r,s,n){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");var a=r!=null,o=s!=null,l=n!=null;if(a){if(isBigNumber(r))r=r.toNumber();else if(typeof r!="number")throw new TypeError("Parameter start must be a number")}if(o){if(isBigNumber(s))s=s.toNumber();else if(typeof s!="number")throw new TypeError("Parameter end must be a number")}if(l){if(isBigNumber(n))n=n.toNumber();else if(typeof n!="number")throw new TypeError("Parameter step must be a number")}this.start=a?parseFloat(r):0,this.end=o?parseFloat(s):0,this.step=l?parseFloat(n):1}return t.prototype.type="Range",t.prototype.isRange=!0,t.parse=function(r){if(typeof r!="string")return null;var s=r.split(":"),n=s.map(function(o){return parseFloat(o)}),a=n.some(function(o){return isNaN(o)});if(a)return null;switch(n.length){case 2:return new t(n[0],n[1]);case 3:return new t(n[0],n[2],n[1]);default:return null}},t.prototype.clone=function(){return new t(this.start,this.end,this.step)},t.prototype.size=function(){var r=0,s=this.start,n=this.step,a=this.end,o=a-s;return sign$2(n)===sign$2(o)?r=Math.ceil(o/n):o===0&&(r=0),isNaN(r)&&(r=0),[r]},t.prototype.min=function(){var r=this.size()[0];if(r>0)return this.step>0?this.start:this.start+(r-1)*this.step},t.prototype.max=function(){var r=this.size()[0];if(r>0)return this.step>0?this.start+(r-1)*this.step:this.start},t.prototype.forEach=function(r){var s=this.start,n=this.step,a=this.end,o=0;if(n>0)for(;s<a;)r(s,[o],this),s+=n,o++;else if(n<0)for(;s>a;)r(s,[o],this),s+=n,o++},t.prototype.map=function(r){var s=[];return this.forEach(function(n,a,o){s[a[0]]=r(n,a,o)}),s},t.prototype.toArray=function(){var r=[];return this.forEach(function(s,n){r[n[0]]=s}),r},t.prototype.valueOf=function(){return this.toArray()},t.prototype.format=function(r){var s=format$3(this.start,r);return this.step!==1&&(s+=":"+format$3(this.step,r)),s+=":"+format$3(this.end,r),s},t.prototype.toString=function(){return this.format()},t.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},t.fromJSON=function(r){return new t(r.start,r.end,r.step)},t},{isClass:!0}),name$4D="Matrix",dependencies$4C=[],createMatrixClass=factory(name$4D,dependencies$4C,()=>{function t(){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator")}return t.prototype.type="Matrix",t.prototype.isMatrix=!0,t.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},t.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},t.prototype.create=function(r,s){throw new Error("Cannot invoke create on a Matrix interface")},t.prototype.subset=function(r,s,n){throw new Error("Cannot invoke subset on a Matrix interface")},t.prototype.get=function(r){throw new Error("Cannot invoke get on a Matrix interface")},t.prototype.set=function(r,s,n){throw new Error("Cannot invoke set on a Matrix interface")},t.prototype.resize=function(r,s){throw new Error("Cannot invoke resize on a Matrix interface")},t.prototype.reshape=function(r,s){throw new Error("Cannot invoke reshape on a Matrix interface")},t.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},t.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},t.prototype.map=function(r,s){throw new Error("Cannot invoke map on a Matrix interface")},t.prototype.forEach=function(r){throw new Error("Cannot invoke forEach on a Matrix interface")},t.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},t.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},t.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},t.prototype.format=function(r){throw new Error("Cannot invoke format on a Matrix interface")},t.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},t},{isClass:!0});function lruQueue(t){var r=0,s=1,n=Object.create(null),a=Object.create(null),o=0,l=function(f){var c=a[f];if(c&&(delete n[c],delete a[f],--r,s===c)){if(!r){o=0,s=1;return}for(;!hasOwnProperty.call(n,++s););}};return t=Math.abs(t),{hit:function(f){var c=a[f],h=++o;if(n[h]=f,a[f]=h,!c)return++r,r<=t?void 0:(f=n[s],l(f),f);if(delete n[c],s===c)for(;!hasOwnProperty.call(n,++s););},delete:l,clear:function(){r=o=0,s=1,n=Object.create(null),a=Object.create(null)}}}function memoize(t){var{hasher:r,limit:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return s=s??Number.POSITIVE_INFINITY,r=r??JSON.stringify,function n(){typeof n.cache!="object"&&(n.cache={values:new Map,lru:lruQueue(s||Number.POSITIVE_INFINITY)});for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];var l=r(a);if(n.cache.values.has(l))return n.cache.lru.hit(l),n.cache.values.get(l);var u=t.apply(t,a);return n.cache.values.set(l,u),n.cache.values.delete(n.cache.lru.hit(l)),u}}function maxArgumentCount(t){return Object.keys(t.signatures||{}).reduce(function(r,s){var n=(s.match(/,/g)||[]).length+1;return Math.max(r,n)},-1)}var name$4C="DenseMatrix",dependencies$4B=["Matrix"],createDenseMatrixClass=factory(name$4C,dependencies$4B,t=>{var{Matrix:r}=t;function s(h,d){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");if(d&&!isString(d))throw new Error("Invalid datatype: "+d);if(isMatrix(h))h.type==="DenseMatrix"?(this._data=clone$2(h._data),this._size=clone$2(h._size),this._datatype=d||h._datatype):(this._data=h.toArray(),this._size=h.size(),this._datatype=d||h._datatype);else if(h&&isArray(h.data)&&isArray(h.size))this._data=h.data,this._size=h.size,validate(this._data,this._size),this._datatype=d||h.datatype;else if(isArray(h))this._data=c(h),this._size=arraySize(this._data),validate(this._data,this._size),this._datatype=d;else{if(h)throw new TypeError("Unsupported type of data ("+typeOf$1(h)+")");this._data=[],this._size=[0],this._datatype=d}}s.prototype=new r,s.prototype.createDenseMatrix=function(h,d){return new s(h,d)},Object.defineProperty(s,"name",{value:"DenseMatrix"}),s.prototype.constructor=s,s.prototype.type="DenseMatrix",s.prototype.isDenseMatrix=!0,s.prototype.getDataType=function(){return getArrayDataType(this._data,typeOf$1)},s.prototype.storage=function(){return"dense"},s.prototype.datatype=function(){return this._datatype},s.prototype.create=function(h,d){return new s(h,d)},s.prototype.subset=function(h,d,p){switch(arguments.length){case 1:return n(this,h);case 2:case 3:return o(this,h,d,p);default:throw new SyntaxError("Wrong number of arguments")}},s.prototype.get=function(h){if(!isArray(h))throw new TypeError("Array expected");if(h.length!==this._size.length)throw new DimensionError(h.length,this._size.length);for(var d=0;d<h.length;d++)validateIndex(h[d],this._size[d]);for(var p=this._data,v=0,y=h.length;v<y;v++){var b=h[v];validateIndex(b,p.length),p=p[b]}return p},s.prototype.set=function(h,d,p){if(!isArray(h))throw new TypeError("Array expected");if(h.length<this._size.length)throw new DimensionError(h.length,this._size.length,"<");var v,y,b,w=h.map(function(A){return A+1});f(this,w,p);var x=this._data;for(v=0,y=h.length-1;v<y;v++)b=h[v],validateIndex(b,x.length),x=x[b];return b=h[h.length-1],validateIndex(b,x.length),x[b]=d,this};function n(h,d){if(!isIndex(d))throw new TypeError("Invalid index");var p=d.isScalar();if(p)return h.get(d.min());var v=d.size();if(v.length!==h._size.length)throw new DimensionError(v.length,h._size.length);for(var y=d.min(),b=d.max(),w=0,x=h._size.length;w<x;w++)validateIndex(y[w],h._size[w]),validateIndex(b[w],h._size[w]);return new s(a(h._data,d,v.length,0),h._datatype)}function a(h,d,p,v){var y=v===p-1,b=d.dimension(v);return y?b.map(function(w){return validateIndex(w,h.length),h[w]}).valueOf():b.map(function(w){validateIndex(w,h.length);var x=h[w];return a(x,d,p,v+1)}).valueOf()}function o(h,d,p,v){if(!d||d.isIndex!==!0)throw new TypeError("Invalid index");var y=d.size(),b=d.isScalar(),w;if(isMatrix(p)?(w=p.size(),p=p.valueOf()):w=arraySize(p),b){if(w.length!==0)throw new TypeError("Scalar expected");h.set(d.min(),p,v)}else{if(y.length<h._size.length)throw new DimensionError(y.length,h._size.length,"<");if(w.length<y.length){for(var x=0,A=0;y[x]===1&&w[x]===1;)x++;for(;y[x]===1;)A++,x++;p=unsqueeze(p,y.length,A,w)}if(!deepStrictEqual(y,w))throw new DimensionError(y,w,">");var S=d.max().map(function(M){return M+1});f(h,S,v);var _=y.length,$=0;l(h._data,d,p,_,$)}return h}function l(h,d,p,v,y){var b=y===v-1,w=d.dimension(y);b?w.forEach(function(x,A){validateIndex(x),h[x]=p[A[0]]}):w.forEach(function(x,A){validateIndex(x),l(h[x],d,p[A[0]],v,y+1)})}s.prototype.resize=function(h,d,p){if(!isCollection(h))throw new TypeError("Array or Matrix expected");var v=h.valueOf().map(b=>Array.isArray(b)&&b.length===1?b[0]:b),y=p?this.clone():this;return u(y,v,d)};function u(h,d,p){if(d.length===0){for(var v=h._data;isArray(v);)v=v[0];return v}return h._size=d.slice(0),h._data=resize$1(h._data,h._size,p),h}s.prototype.reshape=function(h,d){var p=d?this.clone():this;p._data=reshape$1(p._data,h);var v=p._size.reduce((y,b)=>y*b);return p._size=processSizesWildcard(h,v),p};function f(h,d,p){for(var v=h._size.slice(0),y=!1;v.length<d.length;)v.push(0),y=!0;for(var b=0,w=d.length;b<w;b++)d[b]>v[b]&&(v[b]=d[b],y=!0);y&&u(h,v,p)}s.prototype.clone=function(){var h=new s({data:clone$2(this._data),size:clone$2(this._size),datatype:this._datatype});return h},s.prototype.size=function(){return this._size.slice(0)},s.prototype.map=function(h){var d=this,p=maxArgumentCount(h),v=function w(x,A){return isArray(x)?x.map(function(S,_){return w(S,A.concat(_))}):p===1?h(x):p===2?h(x,A):h(x,A,d)},y=v(this._data,[]),b=this._datatype!==void 0?getArrayDataType(y,typeOf$1):void 0;return new s(y,b)},s.prototype.forEach=function(h){var d=this,p=function v(y,b){isArray(y)?y.forEach(function(w,x){v(w,b.concat(x))}):h(y,b,d)};p(this._data,[])},s.prototype[Symbol.iterator]=function*(){var h=function*d(p,v){if(isArray(p))for(var y=0;y<p.length;y++)yield*d(p[y],v.concat(y));else yield{value:p,index:v}};yield*h(this._data,[])},s.prototype.rows=function(){var h=[],d=this.size();if(d.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var p=this._data;for(var v of p)h.push(new s([v],this._datatype));return h},s.prototype.columns=function(){var h=this,d=[],p=this.size();if(p.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var v=this._data,y=function(x){var A=v.map(S=>[S[x]]);d.push(new s(A,h._datatype))},b=0;b<p[1];b++)y(b);return d},s.prototype.toArray=function(){return clone$2(this._data)},s.prototype.valueOf=function(){return this._data},s.prototype.format=function(h){return format$1(this._data,h)},s.prototype.toString=function(){return format$1(this._data)},s.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},s.prototype.diagonal=function(h){if(h){if(isBigNumber(h)&&(h=h.toNumber()),!isNumber(h)||!isInteger$1(h))throw new TypeError("The parameter k must be an integer number")}else h=0;for(var d=h>0?h:0,p=h<0?-h:0,v=this._size[0],y=this._size[1],b=Math.min(v-p,y-d),w=[],x=0;x<b;x++)w[x]=this._data[x+p][x+d];return new s({data:w,size:[b],datatype:this._datatype})},s.diagonal=function(h,d,p,v){if(!isArray(h))throw new TypeError("Array expected, size parameter");if(h.length!==2)throw new Error("Only two dimensions matrix are supported");if(h=h.map(function(T){if(isBigNumber(T)&&(T=T.toNumber()),!isNumber(T)||!isInteger$1(T)||T<1)throw new Error("Size values must be positive integers");return T}),p){if(isBigNumber(p)&&(p=p.toNumber()),!isNumber(p)||!isInteger$1(p))throw new TypeError("The parameter k must be an integer number")}else p=0;var y=p>0?p:0,b=p<0?-p:0,w=h[0],x=h[1],A=Math.min(w-b,x-y),S;if(isArray(d)){if(d.length!==A)throw new Error("Invalid value array length");S=function(O){return d[O]}}else if(isMatrix(d)){var _=d.size();if(_.length!==1||_[0]!==A)throw new Error("Invalid matrix length");S=function(O){return d.get([O])}}else S=function(){return d};v||(v=isBigNumber(S(0))?S(0).mul(0):0);var $=[];if(h.length>0){$=resize$1($,h,v);for(var M=0;M<A;M++)$[M+b][M+y]=S(M)}return new s({data:$,size:[w,x]})},s.fromJSON=function(h){return new s(h)},s.prototype.swapRows=function(h,d){if(!isNumber(h)||!isInteger$1(h)||!isNumber(d)||!isInteger$1(d))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return validateIndex(h,this._size[0]),validateIndex(d,this._size[0]),s._swapRows(h,d,this._data),this},s._swapRows=function(h,d,p){var v=p[h];p[h]=p[d],p[d]=v};function c(h){for(var d=0,p=h.length;d<p;d++){var v=h[d];isArray(v)?h[d]=c(v):v&&v.isMatrix===!0&&(h[d]=c(v.valueOf()))}return h}return s},{isClass:!0}),name$4B="clone",dependencies$4A=["typed"],createClone=factory(name$4B,dependencies$4A,t=>{var{typed:r}=t;return r(name$4B,{any:clone$2})});function _switch$1(t){var r=t.length,s=t[0].length,n,a,o=[];for(a=0;a<s;a++){var l=[];for(n=0;n<r;n++)l.push(t[n][a]);o.push(l)}return o}function containsCollections(t){for(var r=0;r<t.length;r++)if(isCollection(t[r]))return!0;return!1}function deepForEach(t,r){isMatrix(t)&&(t=t.valueOf());for(var s=0,n=t.length;s<n;s++){var a=t[s];Array.isArray(a)?deepForEach(a,r):r(a)}}function deepMap(t,r,s){return t&&typeof t.map=="function"?t.map(function(n){return deepMap(n,r)}):r(t)}function reduce(t,r,s){var n=Array.isArray(t)?arraySize(t):t.size();if(r<0||r>=n.length)throw new IndexError(r,n.length);return isMatrix(t)?t.create(_reduce(t.valueOf(),r,s)):_reduce(t,r,s)}function _reduce(t,r,s){var n,a,o,l;if(r<=0)if(Array.isArray(t[0])){for(l=_switch$1(t),a=[],n=0;n<l.length;n++)a[n]=_reduce(l[n],r-1,s);return a}else{for(o=t[0],n=1;n<t.length;n++)o=s(o,t[n]);return o}else{for(a=[],n=0;n<t.length;n++)a[n]=_reduce(t[n],r-1,s);return a}}function scatter(t,r,s,n,a,o,l,u,f,c,h){var d=t._values,p=t._index,v=t._ptr,y,b,w,x;if(n)for(b=v[r],w=v[r+1],y=b;y<w;y++)x=p[y],s[x]!==o?(s[x]=o,l.push(x),n[x]=d[y]):(n[x]=u(n[x],d[y]),a[x]=o);else for(b=v[r],w=v[r+1],y=b;y<w;y++)x=p[y],s[x]!==o?(s[x]=o,l.push(x)):a[x]=o}var name$4A="isInteger",dependencies$4z=["typed"],createIsInteger=factory(name$4A,dependencies$4z,t=>{var{typed:r}=t;return r(name$4A,{number:isInteger$1,BigNumber:function(n){return n.isInt()},Fraction:function(n){return n.d===1&&isFinite(n.n)},"Array | Matrix":r.referToSelf(s=>n=>deepMap(n,s))})}),n1$4="number",n2$2="number, number";function absNumber(t){return Math.abs(t)}absNumber.signature=n1$4;function addNumber(t,r){return t+r}addNumber.signature=n2$2;function multiplyNumber(t,r){return t*r}multiplyNumber.signature=n2$2;function unaryMinusNumber(t){return-t}unaryMinusNumber.signature=n1$4;function unaryPlusNumber(t){return t}unaryPlusNumber.signature=n1$4;function cbrtNumber(t){return cbrt$2(t)}cbrtNumber.signature=n1$4;function cubeNumber(t){return t*t*t}cubeNumber.signature=n1$4;function expNumber(t){return Math.exp(t)}expNumber.signature=n1$4;function expm1Number(t){return expm1$1(t)}expm1Number.signature=n1$4;function gcdNumber(t,r){if(!isInteger$1(t)||!isInteger$1(r))throw new Error("Parameters in function gcd must be integer numbers");for(var s;r!==0;)s=t%r,t=r,r=s;return t<0?-t:t}gcdNumber.signature=n2$2;function lcmNumber(t,r){if(!isInteger$1(t)||!isInteger$1(r))throw new Error("Parameters in function lcm must be integer numbers");if(t===0||r===0)return 0;for(var s,n=t*r;r!==0;)s=r,r=t%s,t=s;return Math.abs(n/t)}lcmNumber.signature=n2$2;function logNumber(t,r){return Math.log(t)}function log10Number(t){return log10$2(t)}log10Number.signature=n1$4;function log2Number(t){return log2$2(t)}log2Number.signature=n1$4;function modNumber(t,r){if(r>0)return t-r*Math.floor(t/r);if(r===0)return t;throw new Error("Cannot calculate mod for a negative divisor")}modNumber.signature=n2$2;function nthRootNumber(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,s=r<0;if(s&&(r=-r),r===0)throw new Error("Root must be non-zero");if(t<0&&Math.abs(r)%2!==1)throw new Error("Root must be odd when a is negative.");if(t===0)return s?1/0:0;if(!isFinite(t))return s?0:t;var n=Math.pow(Math.abs(t),1/r);return n=t<0?-n:n,s?1/n:n}function signNumber(t){return sign$2(t)}signNumber.signature=n1$4;function squareNumber(t){return t*t}squareNumber.signature=n1$4;function xgcdNumber(t,r){var s,n,a,o=0,l=1,u=1,f=0;if(!isInteger$1(t)||!isInteger$1(r))throw new Error("Parameters in function xgcd must be integer numbers");for(;r;)n=Math.floor(t/r),a=t-n*r,s=o,o=l-n*o,l=s,s=u,u=f-n*u,f=s,t=r,r=a;var c;return t<0?c=[-t,-l,-f]:c=[t,t?l:0,f],c}xgcdNumber.signature=n2$2;function powNumber(t,r){return t*t<1&&r===1/0||t*t>1&&r===-1/0?0:Math.pow(t,r)}powNumber.signature=n2$2;function roundNumber(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!isInteger$1(r)||r<0||r>15)throw new Error("Number of decimals in function round must be an integer from 0 to 15 inclusive");return parseFloat(toFixed$1(t,r))}var n1$3="number",n2$1="number, number";function bitAndNumber(t,r){if(!isInteger$1(t)||!isInteger$1(r))throw new Error("Integers expected in function bitAnd");return t&r}bitAndNumber.signature=n2$1;function bitNotNumber(t){if(!isInteger$1(t))throw new Error("Integer expected in function bitNot");return~t}bitNotNumber.signature=n1$3;function bitOrNumber(t,r){if(!isInteger$1(t)||!isInteger$1(r))throw new Error("Integers expected in function bitOr");return t|r}bitOrNumber.signature=n2$1;function bitXorNumber(t,r){if(!isInteger$1(t)||!isInteger$1(r))throw new Error("Integers expected in function bitXor");return t^r}bitXorNumber.signature=n2$1;function leftShiftNumber(t,r){if(!isInteger$1(t)||!isInteger$1(r))throw new Error("Integers expected in function leftShift");return t<<r}leftShiftNumber.signature=n2$1;function rightArithShiftNumber(t,r){if(!isInteger$1(t)||!isInteger$1(r))throw new Error("Integers expected in function rightArithShift");return t>>r}rightArithShiftNumber.signature=n2$1;function rightLogShiftNumber(t,r){if(!isInteger$1(t)||!isInteger$1(r))throw new Error("Integers expected in function rightLogShift");return t>>>r}rightLogShiftNumber.signature=n2$1;function product(t,r){if(r<t)return 1;if(r===t)return r;var s=r+t>>1;return product(t,s)*product(s+1,r)}function combinationsNumber(t,r){if(!isInteger$1(t)||t<0)throw new TypeError("Positive integer value expected in function combinations");if(!isInteger$1(r)||r<0)throw new TypeError("Positive integer value expected in function combinations");if(r>t)throw new TypeError("k must be less than or equal to n");for(var s=t-r,n=1,a=r<s?s+1:r+1,o=2,l=r<s?r:s,u=a;u<=t;++u)for(n*=u;o<=l&&n%o===0;)n/=o,++o;return o<=l&&(n/=product(o,l)),n}combinationsNumber.signature="number, number";var pi$1=Math.PI,tau$1=2*Math.PI,e$1=Math.E,phi$1=1.618033988749895,n1$2="number",n2="number, number";function notNumber(t){return!t}notNumber.signature=n1$2;function orNumber(t,r){return!!(t||r)}orNumber.signature=n2;function xorNumber(t,r){return!!t!=!!r}xorNumber.signature=n2;function andNumber(t,r){return!!(t&&r)}andNumber.signature=n2;function gammaNumber(t){var r;if(isInteger$1(t))return t<=0?isFinite(t)?1/0:NaN:t>171?1/0:product(1,t-1);if(t<.5)return Math.PI/(Math.sin(Math.PI*t)*gammaNumber(1-t));if(t>=171.35)return 1/0;if(t>85){var s=t*t,n=s*t,a=n*t,o=a*t;return Math.sqrt(2*Math.PI/t)*Math.pow(t/Math.E,t)*(1+1/(12*t)+1/(288*s)-139/(51840*n)-571/(2488320*a)+163879/(209018880*o)+5246819/(75246796800*o*t))}--t,r=gammaP[0];for(var l=1;l<gammaP.length;++l)r+=gammaP[l]/(t+l);var u=t+gammaG+.5;return Math.sqrt(2*Math.PI)*Math.pow(u,t+.5)*Math.exp(-u)*r}gammaNumber.signature="number";var gammaG=4.7421875,gammaP=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],lnSqrt2PI=.9189385332046728,lgammaG=5,lgammaN=7,lgammaSeries=[1.000000000190015,76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18];function lgammaNumber(t){if(t<0)return NaN;if(t===0)return 1/0;if(!isFinite(t))return t;if(t<.5)return Math.log(Math.PI/Math.sin(Math.PI*t))-lgammaNumber(1-t);t=t-1;for(var r=t+lgammaG+.5,s=lgammaSeries[0],n=lgammaN-1;n>=1;n--)s+=lgammaSeries[n]/(t+n);return lnSqrt2PI+(t+.5)*Math.log(r)-r+Math.log(s)}lgammaNumber.signature="number";var n1$1="number";function acoshNumber(t){return acosh$2(t)}acoshNumber.signature=n1$1;function acotNumber(t){return Math.atan(1/t)}acotNumber.signature=n1$1;function acothNumber(t){return isFinite(t)?(Math.log((t+1)/t)+Math.log(t/(t-1)))/2:0}acothNumber.signature=n1$1;function acscNumber(t){return Math.asin(1/t)}acscNumber.signature=n1$1;function acschNumber(t){var r=1/t;return Math.log(r+Math.sqrt(r*r+1))}acschNumber.signature=n1$1;function asecNumber(t){return Math.acos(1/t)}asecNumber.signature=n1$1;function asechNumber(t){var r=1/t,s=Math.sqrt(r*r-1);return Math.log(s+r)}asechNumber.signature=n1$1;function asinhNumber(t){return asinh$2(t)}asinhNumber.signature=n1$1;function atanhNumber(t){return atanh$2(t)}atanhNumber.signature=n1$1;function cotNumber(t){return 1/Math.tan(t)}cotNumber.signature=n1$1;function cothNumber(t){var r=Math.exp(2*t);return(r+1)/(r-1)}cothNumber.signature=n1$1;function cscNumber(t){return 1/Math.sin(t)}cscNumber.signature=n1$1;function cschNumber(t){return t===0?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(t)-Math.exp(-t)))*sign$2(t)}cschNumber.signature=n1$1;function secNumber(t){return 1/Math.cos(t)}secNumber.signature=n1$1;function sechNumber(t){return 2/(Math.exp(t)+Math.exp(-t))}sechNumber.signature=n1$1;function sinhNumber(t){return sinh$3(t)}sinhNumber.signature=n1$1;var n1="number";function isNegativeNumber(t){return t<0}isNegativeNumber.signature=n1;function isPositiveNumber(t){return t>0}isPositiveNumber.signature=n1;function isZeroNumber(t){return t===0}isZeroNumber.signature=n1;function isNaNNumber(t){return Number.isNaN(t)}isNaNNumber.signature=n1;var name$4z="isNegative",dependencies$4y=["typed"],createIsNegative=factory(name$4z,dependencies$4y,t=>{var{typed:r}=t;return r(name$4z,{number:isNegativeNumber,BigNumber:function(n){return n.isNeg()&&!n.isZero()&&!n.isNaN()},Fraction:function(n){return n.s<0},Unit:r.referToSelf(s=>n=>r.find(s,n.valueType())(n.value)),"Array | Matrix":r.referToSelf(s=>n=>deepMap(n,s))})}),name$4y="isNumeric",dependencies$4x=["typed"],createIsNumeric=factory(name$4y,dependencies$4x,t=>{var{typed:r}=t;return r(name$4y,{"number | BigNumber | Fraction | boolean":()=>!0,"Complex | Unit | string | null | undefined | Node":()=>!1,"Array | Matrix":r.referToSelf(s=>n=>deepMap(n,s))})}),name$4x="hasNumericValue",dependencies$4w=["typed","isNumeric"],createHasNumericValue=factory(name$4x,dependencies$4w,t=>{var{typed:r,isNumeric:s}=t;return r(name$4x,{boolean:()=>!0,string:function(a){return a.trim().length>0&&!isNaN(Number(a))},any:function(a){return s(a)}})}),name$4w="isPositive",dependencies$4v=["typed"],createIsPositive=factory(name$4w,dependencies$4v,t=>{var{typed:r}=t;return r(name$4w,{number:isPositiveNumber,BigNumber:function(n){return!n.isNeg()&&!n.isZero()&&!n.isNaN()},Fraction:function(n){return n.s>0&&n.n>0},Unit:r.referToSelf(s=>n=>r.find(s,n.valueType())(n.value)),"Array | Matrix":r.referToSelf(s=>n=>deepMap(n,s))})}),name$4v="isZero",dependencies$4u=["typed"],createIsZero=factory(name$4v,dependencies$4u,t=>{var{typed:r}=t;return r(name$4v,{number:isZeroNumber,BigNumber:function(n){return n.isZero()},Complex:function(n){return n.re===0&&n.im===0},Fraction:function(n){return n.d===1&&n.n===0},Unit:r.referToSelf(s=>n=>r.find(s,n.valueType())(n.value)),"Array | Matrix":r.referToSelf(s=>n=>deepMap(n,s))})}),name$4u="isNaN",dependencies$4t=["typed"],createIsNaN=factory(name$4u,dependencies$4t,t=>{var{typed:r}=t;return r(name$4u,{number:isNaNNumber,BigNumber:function(n){return n.isNaN()},Fraction:function(n){return!1},Complex:function(n){return n.isNaN()},Unit:function(n){return Number.isNaN(n.value)},"Array | Matrix":function(n){return deepMap(n,Number.isNaN)}})}),name$4t="typeOf",dependencies$4s=["typed"],createTypeOf=factory(name$4t,dependencies$4s,t=>{var{typed:r}=t;return r(name$4t,{any:typeOf$1})});function nearlyEqual(t,r,s){if(s==null)return t.eq(r);if(t.eq(r))return!0;if(t.isNaN()||r.isNaN())return!1;if(t.isFinite()&&r.isFinite()){var n=t.minus(r).abs();if(n.isZero())return!0;var a=t.constructor.max(t.abs(),r.abs());return n.lte(a.times(s))}return!1}function complexEquals(t,r,s){return nearlyEqual$1(t.re,r.re,s)&&nearlyEqual$1(t.im,r.im,s)}var createCompareUnits=factory("compareUnits",["typed"],t=>{var{typed:r}=t;return{"Unit, Unit":r.referToSelf(s=>(n,a)=>{if(!n.equalBase(a))throw new Error("Cannot compare units with different base");return r.find(s,[n.valueType(),a.valueType()])(n.value,a.value)})}}),name$4s="equalScalar",dependencies$4r=["typed","config"],createEqualScalar=factory(name$4s,dependencies$4r,t=>{var{typed:r,config:s}=t,n=createCompareUnits({typed:r});return r(name$4s,{"boolean, boolean":function(o,l){return o===l},"number, number":function(o,l){return nearlyEqual$1(o,l,s.epsilon)},"BigNumber, BigNumber":function(o,l){return o.eq(l)||nearlyEqual(o,l,s.epsilon)},"Fraction, Fraction":function(o,l){return o.equals(l)},"Complex, Complex":function(o,l){return complexEquals(o,l,s.epsilon)}},n)});factory(name$4s,["typed","config"],t=>{var{typed:r,config:s}=t;return r(name$4s,{"number, number":function(a,o){return nearlyEqual$1(a,o,s.epsilon)}})});var name$4r="SparseMatrix",dependencies$4q=["typed","equalScalar","Matrix"],createSparseMatrixClass=factory(name$4r,dependencies$4q,t=>{var{typed:r,equalScalar:s,Matrix:n}=t;function a(b,w){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");if(w&&!isString(w))throw new Error("Invalid datatype: "+w);if(isMatrix(b))o(this,b,w);else if(b&&isArray(b.index)&&isArray(b.ptr)&&isArray(b.size))this._values=b.values,this._index=b.index,this._ptr=b.ptr,this._size=b.size,this._datatype=w||b.datatype;else if(isArray(b))l(this,b,w);else{if(b)throw new TypeError("Unsupported type of data ("+typeOf$1(b)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=w}}function o(b,w,x){w.type==="SparseMatrix"?(b._values=w._values?clone$2(w._values):void 0,b._index=clone$2(w._index),b._ptr=clone$2(w._ptr),b._size=clone$2(w._size),b._datatype=x||w._datatype):l(b,w.valueOf(),x||w._datatype)}function l(b,w,x){b._values=[],b._index=[],b._ptr=[],b._datatype=x;var A=w.length,S=0,_=s,$=0;if(isString(x)&&(_=r.find(s,[x,x])||s,$=r.convert(0,x)),A>0){var M=0;do{b._ptr.push(b._index.length);for(var T=0;T<A;T++){var O=w[T];if(isArray(O)){if(M===0&&S<O.length&&(S=O.length),M<O.length){var B=O[M];_(B,$)||(b._values.push(B),b._index.push(T))}}else M===0&&S<1&&(S=1),_(O,$)||(b._values.push(O),b._index.push(T))}M++}while(M<S)}b._ptr.push(b._index.length),b._size=[A,S]}a.prototype=new n,a.prototype.createSparseMatrix=function(b,w){return new a(b,w)},Object.defineProperty(a,"name",{value:"SparseMatrix"}),a.prototype.constructor=a,a.prototype.type="SparseMatrix",a.prototype.isSparseMatrix=!0,a.prototype.getDataType=function(){return getArrayDataType(this._values,typeOf$1)},a.prototype.storage=function(){return"sparse"},a.prototype.datatype=function(){return this._datatype},a.prototype.create=function(b,w){return new a(b,w)},a.prototype.density=function(){var b=this._size[0],w=this._size[1];return b!==0&&w!==0?this._index.length/(b*w):0},a.prototype.subset=function(b,w,x){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return u(this,b);case 2:case 3:return f(this,b,w,x);default:throw new SyntaxError("Wrong number of arguments")}};function u(b,w){if(!isIndex(w))throw new TypeError("Invalid index");var x=w.isScalar();if(x)return b.get(w.min());var A=w.size();if(A.length!==b._size.length)throw new DimensionError(A.length,b._size.length);var S,_,$,M,T=w.min(),O=w.max();for(S=0,_=b._size.length;S<_;S++)validateIndex(T[S],b._size[S]),validateIndex(O[S],b._size[S]);var B=b._values,J=b._index,F=b._ptr,z=w.dimension(0),Z=w.dimension(1),se=[],ie=[];z.forEach(function(Y,K){ie[Y]=K[0],se[Y]=!0});var U=B?[]:void 0,H=[],ue=[];return Z.forEach(function(Y){for(ue.push(H.length),$=F[Y],M=F[Y+1];$<M;$++)S=J[$],se[S]===!0&&(H.push(ie[S]),U&&U.push(B[$]))}),ue.push(H.length),new a({values:U,index:H,ptr:ue,size:A,datatype:b._datatype})}function f(b,w,x,A){if(!w||w.isIndex!==!0)throw new TypeError("Invalid index");var S=w.size(),_=w.isScalar(),$;if(isMatrix(x)?($=x.size(),x=x.toArray()):$=arraySize(x),_){if($.length!==0)throw new TypeError("Scalar expected");b.set(w.min(),x,A)}else{if(S.length!==1&&S.length!==2)throw new DimensionError(S.length,b._size.length,"<");if($.length<S.length){for(var M=0,T=0;S[M]===1&&$[M]===1;)M++;for(;S[M]===1;)T++,M++;x=unsqueeze(x,S.length,T,$)}if(!deepStrictEqual(S,$))throw new DimensionError(S,$,">");if(S.length===1){var O=w.dimension(0);O.forEach(function(F,z){validateIndex(F),b.set([F,0],x[z[0]],A)})}else{var B=w.dimension(0),J=w.dimension(1);B.forEach(function(F,z){validateIndex(F),J.forEach(function(Z,se){validateIndex(Z),b.set([F,Z],x[z[0]][se[0]],A)})})}}return b}a.prototype.get=function(b){if(!isArray(b))throw new TypeError("Array expected");if(b.length!==this._size.length)throw new DimensionError(b.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var w=b[0],x=b[1];validateIndex(w,this._size[0]),validateIndex(x,this._size[1]);var A=c(w,this._ptr[x],this._ptr[x+1],this._index);return A<this._ptr[x+1]&&this._index[A]===w?this._values[A]:0},a.prototype.set=function(b,w,x){if(!isArray(b))throw new TypeError("Array expected");if(b.length!==this._size.length)throw new DimensionError(b.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var A=b[0],S=b[1],_=this._size[0],$=this._size[1],M=s,T=0;isString(this._datatype)&&(M=r.find(s,[this._datatype,this._datatype])||s,T=r.convert(0,this._datatype)),(A>_-1||S>$-1)&&(p(this,Math.max(A+1,_),Math.max(S+1,$),x),_=this._size[0],$=this._size[1]),validateIndex(A,_),validateIndex(S,$);var O=c(A,this._ptr[S],this._ptr[S+1],this._index);return O<this._ptr[S+1]&&this._index[O]===A?M(w,T)?h(O,S,this._values,this._index,this._ptr):this._values[O]=w:M(w,T)||d(O,A,S,w,this._values,this._index,this._ptr),this};function c(b,w,x,A){if(x-w===0)return x;for(var S=w;S<x;S++)if(A[S]===b)return S;return w}function h(b,w,x,A,S){x.splice(b,1),A.splice(b,1);for(var _=w+1;_<S.length;_++)S[_]--}function d(b,w,x,A,S,_,$){S.splice(b,0,A),_.splice(b,0,w);for(var M=x+1;M<$.length;M++)$[M]++}a.prototype.resize=function(b,w,x){if(!isCollection(b))throw new TypeError("Array or Matrix expected");var A=b.valueOf().map(_=>Array.isArray(_)&&_.length===1?_[0]:_);if(A.length!==2)throw new Error("Only two dimensions matrix are supported");A.forEach(function(_){if(!isNumber(_)||!isInteger$1(_)||_<0)throw new TypeError("Invalid size, must contain positive integers (size: "+format$1(A)+")")});var S=x?this.clone():this;return p(S,A[0],A[1],w)};function p(b,w,x,A){var S=A||0,_=s,$=0;isString(b._datatype)&&(_=r.find(s,[b._datatype,b._datatype])||s,$=r.convert(0,b._datatype),S=r.convert(S,b._datatype));var M=!_(S,$),T=b._size[0],O=b._size[1],B,J,F;if(x>O){for(J=O;J<x;J++)if(b._ptr[J]=b._values.length,M)for(B=0;B<T;B++)b._values.push(S),b._index.push(B);b._ptr[x]=b._values.length}else x<O&&(b._ptr.splice(x+1,O-x),b._values.splice(b._ptr[x],b._values.length),b._index.splice(b._ptr[x],b._index.length));if(O=x,w>T){if(M){var z=0;for(J=0;J<O;J++){b._ptr[J]=b._ptr[J]+z,F=b._ptr[J+1]+z;var Z=0;for(B=T;B<w;B++,Z++)b._values.splice(F+Z,0,S),b._index.splice(F+Z,0,B),z++}b._ptr[O]=b._values.length}}else if(w<T){var se=0;for(J=0;J<O;J++){b._ptr[J]=b._ptr[J]-se;var ie=b._ptr[J],U=b._ptr[J+1]-se;for(F=ie;F<U;F++)B=b._index[F],B>w-1&&(b._values.splice(F,1),b._index.splice(F,1),se++)}b._ptr[J]=b._values.length}return b._size[0]=w,b._size[1]=x,b}a.prototype.reshape=function(b,w){if(!isArray(b))throw new TypeError("Array expected");if(b.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");b.forEach(function(Y){if(!isNumber(Y)||!isInteger$1(Y)||Y<=-2||Y===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+format$1(b)+")")});var x=this._size[0]*this._size[1];b=processSizesWildcard(b,x);var A=b[0]*b[1];if(x!==A)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var S=w?this.clone():this;if(this._size[0]===b[0]&&this._size[1]===b[1])return S;for(var _=[],$=0;$<S._ptr.length;$++)for(var M=0;M<S._ptr[$+1]-S._ptr[$];M++)_.push($);for(var T=S._values.slice(),O=S._index.slice(),B=0;B<S._index.length;B++){var J=O[B],F=_[B],z=J*S._size[1]+F;_[B]=z%b[1],O[B]=Math.floor(z/b[1])}S._values.length=0,S._index.length=0,S._ptr.length=b[1]+1,S._size=b.slice();for(var Z=0;Z<S._ptr.length;Z++)S._ptr[Z]=0;for(var se=0;se<T.length;se++){var ie=O[se],U=_[se],H=T[se],ue=c(ie,S._ptr[U],S._ptr[U+1],S._index);d(ue,ie,U,H,S._values,S._index,S._ptr)}return S},a.prototype.clone=function(){var b=new a({values:this._values?clone$2(this._values):void 0,index:clone$2(this._index),ptr:clone$2(this._ptr),size:clone$2(this._size),datatype:this._datatype});return b},a.prototype.size=function(){return this._size.slice(0)},a.prototype.map=function(b,w){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var x=this,A=this._size[0],S=this._size[1],_=maxArgumentCount(b),$=function(T,O,B){return _===1?b(T):_===2?b(T,[O,B]):b(T,[O,B],x)};return v(this,0,A-1,0,S-1,$,w)};function v(b,w,x,A,S,_,$){var M=[],T=[],O=[],B=s,J=0;isString(b._datatype)&&(B=r.find(s,[b._datatype,b._datatype])||s,J=r.convert(0,b._datatype));for(var F=function(ee,de,ce){ee=_(ee,de,ce),B(ee,J)||(M.push(ee),T.push(de))},z=A;z<=S;z++){O.push(M.length);var Z=b._ptr[z],se=b._ptr[z+1];if($)for(var ie=Z;ie<se;ie++){var U=b._index[ie];U>=w&&U<=x&&F(b._values[ie],U-w,z-A)}else{for(var H={},ue=Z;ue<se;ue++){var Y=b._index[ue];H[Y]=b._values[ue]}for(var K=w;K<=x;K++){var te=K in H?H[K]:0;F(te,K-w,z-A)}}}return O.push(M.length),new a({values:M,index:T,ptr:O,size:[x-w+1,S-A+1]})}a.prototype.forEach=function(b,w){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var x=this,A=this._size[0],S=this._size[1],_=0;_<S;_++){var $=this._ptr[_],M=this._ptr[_+1];if(w)for(var T=$;T<M;T++){var O=this._index[T];b(this._values[T],[O,_],x)}else{for(var B={},J=$;J<M;J++){var F=this._index[J];B[F]=this._values[J]}for(var z=0;z<A;z++){var Z=z in B?B[z]:0;b(Z,[z,_],x)}}}},a.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var b=this._size[1],w=0;w<b;w++)for(var x=this._ptr[w],A=this._ptr[w+1],S=x;S<A;S++){var _=this._index[S];yield{value:this._values[S],index:[_,w]}}},a.prototype.toArray=function(){return y(this._values,this._index,this._ptr,this._size,!0)},a.prototype.valueOf=function(){return y(this._values,this._index,this._ptr,this._size,!1)};function y(b,w,x,A,S){var _=A[0],$=A[1],M=[],T,O;for(T=0;T<_;T++)for(M[T]=[],O=0;O<$;O++)M[T][O]=0;for(O=0;O<$;O++)for(var B=x[O],J=x[O+1],F=B;F<J;F++)T=w[F],M[T][O]=b?S?clone$2(b[F]):b[F]:1;return M}return a.prototype.format=function(b){for(var w=this._size[0],x=this._size[1],A=this.density(),S="Sparse Matrix ["+format$1(w,b)+" x "+format$1(x,b)+"] density: "+format$1(A,b)+`
`,_=0;_<x;_++)for(var $=this._ptr[_],M=this._ptr[_+1],T=$;T<M;T++){var O=this._index[T];S+=`
    (`+format$1(O,b)+", "+format$1(_,b)+") ==> "+(this._values?format$1(this._values[T],b):"X")}return S},a.prototype.toString=function(){return format$1(this.toArray())},a.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},a.prototype.diagonal=function(b){if(b){if(isBigNumber(b)&&(b=b.toNumber()),!isNumber(b)||!isInteger$1(b))throw new TypeError("The parameter k must be an integer number")}else b=0;var w=b>0?b:0,x=b<0?-b:0,A=this._size[0],S=this._size[1],_=Math.min(A-x,S-w),$=[],M=[],T=[];T[0]=0;for(var O=w;O<S&&$.length<_;O++)for(var B=this._ptr[O],J=this._ptr[O+1],F=B;F<J;F++){var z=this._index[F];if(z===O-w+x){$.push(this._values[F]),M[$.length-1]=z-x;break}}return T.push($.length),new a({values:$,index:M,ptr:T,size:[_,1]})},a.fromJSON=function(b){return new a(b)},a.diagonal=function(b,w,x,A,S){if(!isArray(b))throw new TypeError("Array expected, size parameter");if(b.length!==2)throw new Error("Only two dimensions matrix are supported");if(b=b.map(function(Y){if(isBigNumber(Y)&&(Y=Y.toNumber()),!isNumber(Y)||!isInteger$1(Y)||Y<1)throw new Error("Size values must be positive integers");return Y}),x){if(isBigNumber(x)&&(x=x.toNumber()),!isNumber(x)||!isInteger$1(x))throw new TypeError("The parameter k must be an integer number")}else x=0;var _=s,$=0;isString(S)&&(_=r.find(s,[S,S])||s,$=r.convert(0,S));var M=x>0?x:0,T=x<0?-x:0,O=b[0],B=b[1],J=Math.min(O-T,B-M),F;if(isArray(w)){if(w.length!==J)throw new Error("Invalid value array length");F=function(K){return w[K]}}else if(isMatrix(w)){var z=w.size();if(z.length!==1||z[0]!==J)throw new Error("Invalid matrix length");F=function(K){return w.get([K])}}else F=function(){return w};for(var Z=[],se=[],ie=[],U=0;U<B;U++){ie.push(Z.length);var H=U-M;if(H>=0&&H<J){var ue=F(H);_(ue,$)||(se.push(H+T),Z.push(ue))}}return ie.push(Z.length),new a({values:Z,index:se,ptr:ie,size:[O,B]})},a.prototype.swapRows=function(b,w){if(!isNumber(b)||!isInteger$1(b)||!isNumber(w)||!isInteger$1(w))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return validateIndex(b,this._size[0]),validateIndex(w,this._size[0]),a._swapRows(b,w,this._size[1],this._values,this._index,this._ptr),this},a._forEachRow=function(b,w,x,A,S){for(var _=A[b],$=A[b+1],M=_;M<$;M++)S(x[M],w[M])},a._swapRows=function(b,w,x,A,S,_){for(var $=0;$<x;$++){var M=_[$],T=_[$+1],O=c(b,M,T,S),B=c(w,M,T,S);if(O<T&&B<T&&S[O]===b&&S[B]===w){if(A){var J=A[O];A[O]=A[B],A[B]=J}continue}if(O<T&&S[O]===b&&(B>=T||S[B]!==w)){var F=A?A[O]:void 0;S.splice(B,0,w),A&&A.splice(B,0,F),S.splice(B<=O?O+1:O,1),A&&A.splice(B<=O?O+1:O,1);continue}if(B<T&&S[B]===w&&(O>=T||S[O]!==b)){var z=A?A[B]:void 0;S.splice(O,0,b),A&&A.splice(O,0,z),S.splice(O<=B?B+1:B,1),A&&A.splice(O<=B?B+1:B,1)}}},a},{isClass:!0}),name$4q="number",dependencies$4p=["typed"];function getNonDecimalNumberParts(t){var r=t.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(r){var s={"0b":2,"0o":8,"0x":16}[r[1]],n=r[2],a=r[3];return{input:t,radix:s,integerPart:n,fractionalPart:a}}else return null}function makeNumberFromNonDecimalParts(t){for(var r=parseInt(t.integerPart,t.radix),s=0,n=0;n<t.fractionalPart.length;n++){var a=parseInt(t.fractionalPart[n],t.radix);s+=a/Math.pow(t.radix,n+1)}var o=r+s;if(isNaN(o))throw new SyntaxError('String "'+t.input+'" is no valid number');return o}var createNumber=factory(name$4q,dependencies$4p,t=>{var{typed:r}=t,s=r("number",{"":function(){return 0},number:function(a){return a},string:function(a){if(a==="NaN")return NaN;var o=getNonDecimalNumberParts(a);if(o)return makeNumberFromNonDecimalParts(o);var l=0,u=a.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);u&&(l=Number(u[2]),a=u[1]);var f=Number(a);if(isNaN(f))throw new SyntaxError('String "'+a+'" is no valid number');if(u){if(f>2**l-1)throw new SyntaxError('String "'.concat(a,'" is out of range'));f>=2**(l-1)&&(f=f-2**l)}return f},BigNumber:function(a){return a.toNumber()},Fraction:function(a){return a.valueOf()},Unit:function(a){throw new Error("Second argument with valueless unit expected")},null:function(a){return 0},"Unit, string | Unit":function(a,o){return a.toNumber(o)},"Array | Matrix":r.referToSelf(n=>a=>deepMap(a,n))});return s.fromJSON=function(n){return parseFloat(n.value)},s}),name$4p="string",dependencies$4o=["typed"],createString=factory(name$4p,dependencies$4o,t=>{var{typed:r}=t;return r(name$4p,{"":function(){return""},number:format$3,null:function(n){return"null"},boolean:function(n){return n+""},string:function(n){return n},"Array | Matrix":r.referToSelf(s=>n=>deepMap(n,s)),any:function(n){return String(n)}})}),name$4o="boolean",dependencies$4n=["typed"],createBoolean=factory(name$4o,dependencies$4n,t=>{var{typed:r}=t;return r(name$4o,{"":function(){return!1},boolean:function(n){return n},number:function(n){return!!n},null:function(n){return!1},BigNumber:function(n){return!n.isZero()},string:function(n){var a=n.toLowerCase();if(a==="true")return!0;if(a==="false")return!1;var o=Number(n);if(n!==""&&!isNaN(o))return!!o;throw new Error('Cannot convert "'+n+'" to a boolean')},"Array | Matrix":r.referToSelf(s=>n=>deepMap(n,s))})}),name$4n="bignumber",dependencies$4m=["typed","BigNumber"],createBignumber=factory(name$4n,dependencies$4m,t=>{var{typed:r,BigNumber:s}=t;return r("bignumber",{"":function(){return new s(0)},number:function(a){return new s(a+"")},string:function(a){var o=a.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(o){var l=o[2],u=s(o[1]),f=new s(2).pow(Number(l));if(u.gt(f.sub(1)))throw new SyntaxError('String "'.concat(a,'" is out of range'));var c=new s(2).pow(Number(l)-1);return u.gte(c)?u.sub(f):u}return new s(a)},BigNumber:function(a){return a},Fraction:function(a){return new s(a.n).div(a.d).times(a.s)},null:function(a){return new s(0)},"Array | Matrix":r.referToSelf(n=>a=>deepMap(a,n))})}),name$4m="complex",dependencies$4l=["typed","Complex"],createComplex=factory(name$4m,dependencies$4l,t=>{var{typed:r,Complex:s}=t;return r("complex",{"":function(){return s.ZERO},number:function(a){return new s(a,0)},"number, number":function(a,o){return new s(a,o)},"BigNumber, BigNumber":function(a,o){return new s(a.toNumber(),o.toNumber())},Fraction:function(a){return new s(a.valueOf(),0)},Complex:function(a){return a.clone()},string:function(a){return s(a)},null:function(a){return s(0)},Object:function(a){if("re"in a&&"im"in a)return new s(a.re,a.im);if("r"in a&&"phi"in a||"abs"in a&&"arg"in a)return new s(a);throw new Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":r.referToSelf(n=>a=>deepMap(a,n))})}),name$4l="fraction",dependencies$4k=["typed","Fraction"],createFraction=factory(name$4l,dependencies$4k,t=>{var{typed:r,Fraction:s}=t;return r("fraction",{number:function(a){if(!isFinite(a)||isNaN(a))throw new Error(a+" cannot be represented as a fraction");return new s(a)},string:function(a){return new s(a)},"number, number":function(a,o){return new s(a,o)},null:function(a){return new s(0)},BigNumber:function(a){return new s(a.toString())},Fraction:function(a){return a},Object:function(a){return new s(a)},"Array | Matrix":r.referToSelf(n=>a=>deepMap(a,n))})}),name$4k="matrix",dependencies$4j=["typed","Matrix","DenseMatrix","SparseMatrix"],createMatrix=factory(name$4k,dependencies$4j,t=>{var{typed:r,Matrix:s,DenseMatrix:n,SparseMatrix:a}=t;return r(name$4k,{"":function(){return o([])},string:function(u){return o([],u)},"string, string":function(u,f){return o([],u,f)},Array:function(u){return o(u)},Matrix:function(u){return o(u,u.storage())},"Array | Matrix, string":o,"Array | Matrix, string, string":o});function o(l,u,f){if(u==="dense"||u==="default"||u===void 0)return new n(l,f);if(u==="sparse")return new a(l,f);throw new TypeError("Unknown matrix type "+JSON.stringify(u)+".")}}),name$4j="matrixFromFunction",dependencies$4i=["typed","matrix","isZero"],createMatrixFromFunction=factory(name$4j,dependencies$4i,t=>{var{typed:r,matrix:s,isZero:n}=t;return r(name$4j,{"Array | Matrix, function, string, string":function(l,u,f,c){return a(l,u,f,c)},"Array | Matrix, function, string":function(l,u,f){return a(l,u,f)},"Matrix, function":function(l,u){return a(l,u,"dense")},"Array, function":function(l,u){return a(l,u,"dense").toArray()},"Array | Matrix, string, function":function(l,u,f){return a(l,f,u)},"Array | Matrix, string, string, function":function(l,u,f,c){return a(l,c,u,f)}});function a(o,l,u,f){var c;return f!==void 0?c=s(u,f):c=s(u),c.resize(o),c.forEach(function(h,d){var p=l(d);n(p)||c.set(d,p)}),c}}),name$4i="matrixFromRows",dependencies$4h=["typed","matrix","flatten","size"],createMatrixFromRows=factory(name$4i,dependencies$4h,t=>{var{typed:r,matrix:s,flatten:n,size:a}=t;return r(name$4i,{"...Array":function(f){return o(f)},"...Matrix":function(f){return s(o(f.map(c=>c.toArray())))}});function o(u){if(u.length===0)throw new TypeError("At least one row is needed to construct a matrix.");var f=l(u[0]),c=[];for(var h of u){var d=l(h);if(d!==f)throw new TypeError("The vectors had different length: "+(f|0)+"  "+(d|0));c.push(n(h))}return c}function l(u){var f=a(u);if(f.length===1)return f[0];if(f.length===2){if(f[0]===1)return f[1];if(f[1]===1)return f[0];throw new TypeError("At least one of the arguments is not a vector.")}else throw new TypeError("Only one- or two-dimensional vectors are supported.")}}),name$4h="matrixFromColumns",dependencies$4g=["typed","matrix","flatten","size"],createMatrixFromColumns=factory(name$4h,dependencies$4g,t=>{var{typed:r,matrix:s,flatten:n,size:a}=t;return r(name$4h,{"...Array":function(f){return o(f)},"...Matrix":function(f){return s(o(f.map(c=>c.toArray())))}});function o(u){if(u.length===0)throw new TypeError("At least one column is needed to construct a matrix.");for(var f=l(u[0]),c=[],h=0;h<f;h++)c[h]=[];for(var d of u){var p=l(d);if(p!==f)throw new TypeError("The vectors had different length: "+(f|0)+"  "+(p|0));for(var v=n(d),y=0;y<f;y++)c[y].push(v[y])}return c}function l(u){var f=a(u);if(f.length===1)return f[0];if(f.length===2){if(f[0]===1)return f[1];if(f[1]===1)return f[0];throw new TypeError("At least one of the arguments is not a vector.")}else throw new TypeError("Only one- or two-dimensional vectors are supported.")}}),name$4g="splitUnit",dependencies$4f=["typed"],createSplitUnit=factory(name$4g,dependencies$4f,t=>{var{typed:r}=t;return r(name$4g,{"Unit, Array":function(n,a){return n.splitUnit(a)}})}),name$4f="unaryMinus",dependencies$4e=["typed"],createUnaryMinus=factory(name$4f,dependencies$4e,t=>{var{typed:r}=t;return r(name$4f,{number:unaryMinusNumber,"Complex | BigNumber | Fraction":s=>s.neg(),Unit:r.referToSelf(s=>n=>{var a=n.clone();return a.value=r.find(s,a.valueType())(n.value),a}),"Array | Matrix":r.referToSelf(s=>n=>deepMap(n,s))})}),name$4e="unaryPlus",dependencies$4d=["typed","config","BigNumber"],createUnaryPlus=factory(name$4e,dependencies$4d,t=>{var{typed:r,config:s,BigNumber:n}=t;return r(name$4e,{number:unaryPlusNumber,Complex:function(o){return o},BigNumber:function(o){return o},Fraction:function(o){return o},Unit:function(o){return o.clone()},"Array | Matrix":r.referToSelf(a=>o=>deepMap(o,a)),"boolean | string":function(o){return s.number==="BigNumber"?new n(+o):+o}})}),name$4d="abs",dependencies$4c=["typed"],createAbs=factory(name$4d,dependencies$4c,t=>{var{typed:r}=t;return r(name$4d,{number:absNumber,"Complex | BigNumber | Fraction | Unit":s=>s.abs(),"Array | Matrix":r.referToSelf(s=>n=>deepMap(n,s))})}),name$4c="apply",dependencies$4b=["typed","isInteger"],createApply=factory(name$4c,dependencies$4b,t=>{var{typed:r,isInteger:s}=t;return r(name$4c,{"Array | Matrix, number | BigNumber, function":function(a,o,l){if(!s(o))throw new TypeError("Integer number expected for dimension");var u=Array.isArray(a)?arraySize(a):a.size();if(o<0||o>=u.length)throw new IndexError(o,u.length);return isMatrix(a)?a.create(_apply(a.valueOf(),o,l)):_apply(a,o,l)}})});function _apply(t,r,s){var n,a,o;if(r<=0)if(Array.isArray(t[0])){for(o=_switch(t),a=[],n=0;n<o.length;n++)a[n]=_apply(o[n],r-1,s);return a}else return s(t);else{for(a=[],n=0;n<t.length;n++)a[n]=_apply(t[n],r-1,s);return a}}function _switch(t){var r=t.length,s=t[0].length,n,a,o=[];for(a=0;a<s;a++){var l=[];for(n=0;n<r;n++)l.push(t[n][a]);o.push(l)}return o}var name$4b="addScalar",dependencies$4a=["typed"],createAddScalar=factory(name$4b,dependencies$4a,t=>{var{typed:r}=t;return r(name$4b,{"number, number":addNumber,"Complex, Complex":function(n,a){return n.add(a)},"BigNumber, BigNumber":function(n,a){return n.plus(a)},"Fraction, Fraction":function(n,a){return n.add(a)},"Unit, Unit":r.referToSelf(s=>(n,a)=>{if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(a.value===null||a.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(a))throw new Error("Units do not match");var o=n.clone();return o.value=r.find(s,[o.valueType(),a.valueType()])(o.value,a.value),o.fixPrefix=!1,o})})}),name$4a="cbrt",dependencies$49=["config","typed","isNegative","unaryMinus","matrix","Complex","BigNumber","Fraction"],createCbrt=factory(name$4a,dependencies$49,t=>{var{config:r,typed:s,isNegative:n,unaryMinus:a,matrix:o,Complex:l,BigNumber:u,Fraction:f}=t;return s(name$4a,{number:cbrtNumber,Complex:c,"Complex, boolean":c,BigNumber:function(p){return p.cbrt()},Unit:h});function c(d,p){var v=d.arg()/3,y=d.abs(),b=new l(cbrtNumber(y),0).mul(new l(0,v).exp());if(p){var w=[b,new l(cbrtNumber(y),0).mul(new l(0,v+Math.PI*2/3).exp()),new l(cbrtNumber(y),0).mul(new l(0,v-Math.PI*2/3).exp())];return r.matrix==="Array"?w:o(w)}else return b}function h(d){if(d.value&&isComplex(d.value)){var p=d.clone();return p.value=1,p=p.pow(1/3),p.value=c(d.value),p}else{var v=n(d.value);v&&(d.value=a(d.value));var y;isBigNumber(d.value)?y=new u(1).div(3):isFraction(d.value)?y=new f(1,3):y=1/3;var b=d.pow(y);return v&&(b.value=a(b.value)),b}}}),name$49="matAlgo11xS0s",dependencies$48=["typed","equalScalar"],createMatAlgo11xS0s=factory(name$49,dependencies$48,t=>{var{typed:r,equalScalar:s}=t;return function(a,o,l,u){var f=a._values,c=a._index,h=a._ptr,d=a._size,p=a._datatype;if(!f)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var v=d[0],y=d[1],b,w=s,x=0,A=l;typeof p=="string"&&(b=p,w=r.find(s,[b,b]),x=r.convert(0,b),o=r.convert(o,b),A=r.find(l,[b,b]));for(var S=[],_=[],$=[],M=0;M<y;M++){$[M]=_.length;for(var T=h[M],O=h[M+1],B=T;B<O;B++){var J=c[B],F=u?A(o,f[B]):A(f[B],o);w(F,x)||(_.push(J),S.push(F))}}return $[y]=_.length,a.createSparseMatrix({values:S,index:_,ptr:$,size:[v,y],datatype:b})}}),name$48="matAlgo12xSfs",dependencies$47=["typed","DenseMatrix"],createMatAlgo12xSfs=factory(name$48,dependencies$47,t=>{var{typed:r,DenseMatrix:s}=t;return function(a,o,l,u){var f=a._values,c=a._index,h=a._ptr,d=a._size,p=a._datatype;if(!f)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var v=d[0],y=d[1],b,w=l;typeof p=="string"&&(b=p,o=r.convert(o,b),w=r.find(l,[b,b]));for(var x=[],A=[],S=[],_=0;_<y;_++){for(var $=_+1,M=h[_],T=h[_+1],O=M;O<T;O++){var B=c[O];A[B]=f[O],S[B]=$}for(var J=0;J<v;J++)_===0&&(x[J]=[]),S[J]===$?x[J][_]=u?w(o,A[J]):w(A[J],o):x[J][_]=u?w(o,0):w(0,o)}return new s({data:x,size:[v,y],datatype:b})}}),name$47="matAlgo14xDs",dependencies$46=["typed"],createMatAlgo14xDs=factory(name$47,dependencies$46,t=>{var{typed:r}=t;return function(a,o,l,u){var f=a._data,c=a._size,h=a._datatype,d,p=l;typeof h=="string"&&(d=h,o=r.convert(o,d),p=r.find(l,[d,d]));var v=c.length>0?s(p,0,c,c[0],f,o,u):[];return a.createDenseMatrix({data:v,size:clone$2(c),datatype:d})};function s(n,a,o,l,u,f,c){var h=[];if(a===o.length-1)for(var d=0;d<l;d++)h[d]=c?n(f,u[d]):n(u[d],f);else for(var p=0;p<l;p++)h[p]=s(n,a+1,o,o[a+1],u[p],f,c);return h}}),name$46="ceil",dependencies$45=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],createCeilNumber=factory(name$46,["typed","config","round"],t=>{var{typed:r,config:s,round:n}=t;return r(name$46,{number:function(o){return nearlyEqual$1(o,n(o),s.epsilon)?n(o):Math.ceil(o)},"number, number":function(o,l){if(nearlyEqual$1(o,n(o,l),s.epsilon))return n(o,l);var[u,f]="".concat(o,"e").split("e"),c=Math.ceil(Number("".concat(u,"e").concat(Number(f)+l)));return[u,f]="".concat(c,"e").split("e"),Number("".concat(u,"e").concat(Number(f)-l))}})}),createCeil=factory(name$46,dependencies$45,t=>{var{typed:r,config:s,round:n,matrix:a,equalScalar:o,zeros:l,DenseMatrix:u}=t,f=createMatAlgo11xS0s({typed:r,equalScalar:o}),c=createMatAlgo12xSfs({typed:r,DenseMatrix:u}),h=createMatAlgo14xDs({typed:r}),d=createCeilNumber({typed:r,config:s,round:n});return r("ceil",{number:d.signatures.number,"number,number":d.signatures["number,number"],Complex:function(v){return v.ceil()},"Complex, number":function(v,y){return v.ceil(y)},"Complex, BigNumber":function(v,y){return v.ceil(y.toNumber())},BigNumber:function(v){return nearlyEqual(v,n(v),s.epsilon)?n(v):v.ceil()},"BigNumber, BigNumber":function(v,y){return nearlyEqual(v,n(v,y),s.epsilon)?n(v,y):v.toDecimalPlaces(y.toNumber(),Decimal.ROUND_CEIL)},Fraction:function(v){return v.ceil()},"Fraction, number":function(v,y){return v.ceil(y)},"Fraction, BigNumber":function(v,y){return v.ceil(y.toNumber())},"Array | Matrix":r.referToSelf(p=>v=>deepMap(v,p)),"Array, number | BigNumber":r.referToSelf(p=>(v,y)=>deepMap(v,b=>p(b,y))),"SparseMatrix, number | BigNumber":r.referToSelf(p=>(v,y)=>f(v,y,p,!1)),"DenseMatrix, number | BigNumber":r.referToSelf(p=>(v,y)=>h(v,y,p,!1)),"number | Complex | Fraction | BigNumber, Array":r.referToSelf(p=>(v,y)=>h(a(y),v,p,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":r.referToSelf(p=>(v,y)=>o(v,0)?l(y.size(),y.storage()):y.storage()==="dense"?h(y,v,p,!0):c(y,v,p,!0))})}),name$45="cube",dependencies$44=["typed"],createCube=factory(name$45,dependencies$44,t=>{var{typed:r}=t;return r(name$45,{number:cubeNumber,Complex:function(n){return n.mul(n).mul(n)},BigNumber:function(n){return n.times(n).times(n)},Fraction:function(n){return n.pow(3)},Unit:function(n){return n.pow(3)}})}),name$44="exp",dependencies$43=["typed"],createExp=factory(name$44,dependencies$43,t=>{var{typed:r}=t;return r(name$44,{number:expNumber,Complex:function(n){return n.exp()},BigNumber:function(n){return n.exp()}})}),name$43="expm1",dependencies$42=["typed","Complex"],createExpm1=factory(name$43,dependencies$42,t=>{var{typed:r,Complex:s}=t;return r(name$43,{number:expm1Number,Complex:function(a){var o=Math.exp(a.re);return new s(o*Math.cos(a.im)-1,o*Math.sin(a.im))},BigNumber:function(a){return a.exp().minus(1)}})}),name$42="fix",dependencies$41=["typed","Complex","matrix","ceil","floor","equalScalar","zeros","DenseMatrix"],createFixNumber=factory(name$42,["typed","ceil","floor"],t=>{var{typed:r,ceil:s,floor:n}=t;return r(name$42,{number:function(o){return o>0?n(o):s(o)},"number, number":function(o,l){return o>0?n(o,l):s(o,l)}})}),createFix=factory(name$42,dependencies$41,t=>{var{typed:r,Complex:s,matrix:n,ceil:a,floor:o,equalScalar:l,zeros:u,DenseMatrix:f}=t,c=createMatAlgo12xSfs({typed:r,DenseMatrix:f}),h=createMatAlgo14xDs({typed:r}),d=createFixNumber({typed:r,ceil:a,floor:o});return r("fix",{number:d.signatures.number,"number, number | BigNumber":d.signatures["number,number"],Complex:function(v){return new s(v.re>0?Math.floor(v.re):Math.ceil(v.re),v.im>0?Math.floor(v.im):Math.ceil(v.im))},"Complex, number":function(v,y){return new s(v.re>0?o(v.re,y):a(v.re,y),v.im>0?o(v.im,y):a(v.im,y))},"Complex, BigNumber":function(v,y){var b=y.toNumber();return new s(v.re>0?o(v.re,b):a(v.re,b),v.im>0?o(v.im,b):a(v.im,b))},BigNumber:function(v){return v.isNegative()?a(v):o(v)},"BigNumber, number | BigNumber":function(v,y){return v.isNegative()?a(v,y):o(v,y)},Fraction:function(v){return v.s<0?v.ceil():v.floor()},"Fraction, number | BigNumber":function(v,y){return v.s<0?a(v,y):o(v,y)},"Array | Matrix":r.referToSelf(p=>v=>deepMap(v,p)),"Array | Matrix, number | BigNumber":r.referToSelf(p=>(v,y)=>deepMap(v,b=>p(b,y))),"number | Complex | Fraction | BigNumber, Array":r.referToSelf(p=>(v,y)=>h(n(y),v,p,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":r.referToSelf(p=>(v,y)=>l(v,0)?u(y.size(),y.storage()):y.storage()==="dense"?h(y,v,p,!0):c(y,v,p,!0))})}),name$41="floor",dependencies$40=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],createFloorNumber=factory(name$41,["typed","config","round"],t=>{var{typed:r,config:s,round:n}=t;return r(name$41,{number:function(o){return nearlyEqual$1(o,n(o),s.epsilon)?n(o):Math.floor(o)},"number, number":function(o,l){if(nearlyEqual$1(o,n(o,l),s.epsilon))return n(o,l);var[u,f]="".concat(o,"e").split("e"),c=Math.floor(Number("".concat(u,"e").concat(Number(f)+l)));return[u,f]="".concat(c,"e").split("e"),Number("".concat(u,"e").concat(Number(f)-l))}})}),createFloor=factory(name$41,dependencies$40,t=>{var{typed:r,config:s,round:n,matrix:a,equalScalar:o,zeros:l,DenseMatrix:u}=t,f=createMatAlgo11xS0s({typed:r,equalScalar:o}),c=createMatAlgo12xSfs({typed:r,DenseMatrix:u}),h=createMatAlgo14xDs({typed:r}),d=createFloorNumber({typed:r,config:s,round:n});return r("floor",{number:d.signatures.number,"number,number":d.signatures["number,number"],Complex:function(v){return v.floor()},"Complex, number":function(v,y){return v.floor(y)},"Complex, BigNumber":function(v,y){return v.floor(y.toNumber())},BigNumber:function(v){return nearlyEqual(v,n(v),s.epsilon)?n(v):v.floor()},"BigNumber, BigNumber":function(v,y){return nearlyEqual(v,n(v,y),s.epsilon)?n(v,y):v.toDecimalPlaces(y.toNumber(),Decimal.ROUND_FLOOR)},Fraction:function(v){return v.floor()},"Fraction, number":function(v,y){return v.floor(y)},"Fraction, BigNumber":function(v,y){return v.floor(y.toNumber())},"Array | Matrix":r.referToSelf(p=>v=>deepMap(v,p)),"Array, number | BigNumber":r.referToSelf(p=>(v,y)=>deepMap(v,b=>p(b,y))),"SparseMatrix, number | BigNumber":r.referToSelf(p=>(v,y)=>f(v,y,p,!1)),"DenseMatrix, number | BigNumber":r.referToSelf(p=>(v,y)=>h(v,y,p,!1)),"number | Complex | Fraction | BigNumber, Array":r.referToSelf(p=>(v,y)=>h(a(y),v,p,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":r.referToSelf(p=>(v,y)=>o(v,0)?l(y.size(),y.storage()):y.storage()==="dense"?h(y,v,p,!0):c(y,v,p,!0))})}),name$40="matAlgo01xDSid",dependencies$3$=["typed"],createMatAlgo01xDSid=factory(name$40,dependencies$3$,t=>{var{typed:r}=t;return function(n,a,o,l){var u=n._data,f=n._size,c=n._datatype,h=a._values,d=a._index,p=a._ptr,v=a._size,y=a._datatype;if(f.length!==v.length)throw new DimensionError(f.length,v.length);if(f[0]!==v[0]||f[1]!==v[1])throw new RangeError("Dimension mismatch. Matrix A ("+f+") must match Matrix B ("+v+")");if(!h)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var b=f[0],w=f[1],x=typeof c=="string"&&c===y?c:void 0,A=x?r.find(o,[x,x]):o,S,_,$=[];for(S=0;S<b;S++)$[S]=[];var M=[],T=[];for(_=0;_<w;_++){for(var O=_+1,B=p[_],J=p[_+1],F=B;F<J;F++)S=d[F],M[S]=l?A(h[F],u[S][_]):A(u[S][_],h[F]),T[S]=O;for(S=0;S<b;S++)T[S]===O?$[S][_]=M[S]:$[S][_]=u[S][_]}return n.createDenseMatrix({data:$,size:[b,w],datatype:x})}}),name$3$="matAlgo04xSidSid",dependencies$3_=["typed","equalScalar"],createMatAlgo04xSidSid=factory(name$3$,dependencies$3_,t=>{var{typed:r,equalScalar:s}=t;return function(a,o,l){var u=a._values,f=a._index,c=a._ptr,h=a._size,d=a._datatype,p=o._values,v=o._index,y=o._ptr,b=o._size,w=o._datatype;if(h.length!==b.length)throw new DimensionError(h.length,b.length);if(h[0]!==b[0]||h[1]!==b[1])throw new RangeError("Dimension mismatch. Matrix A ("+h+") must match Matrix B ("+b+")");var x=h[0],A=h[1],S,_=s,$=0,M=l;typeof d=="string"&&d===w&&(S=d,_=r.find(s,[S,S]),$=r.convert(0,S),M=r.find(l,[S,S]));var T=u&&p?[]:void 0,O=[],B=[],J=u&&p?[]:void 0,F=u&&p?[]:void 0,z=[],Z=[],se,ie,U,H,ue;for(ie=0;ie<A;ie++){B[ie]=O.length;var Y=ie+1;for(H=c[ie],ue=c[ie+1],U=H;U<ue;U++)se=f[U],O.push(se),z[se]=Y,J&&(J[se]=u[U]);for(H=y[ie],ue=y[ie+1],U=H;U<ue;U++)if(se=v[U],z[se]===Y){if(J){var K=M(J[se],p[U]);_(K,$)?z[se]=null:J[se]=K}}else O.push(se),Z[se]=Y,F&&(F[se]=p[U]);if(J&&F)for(U=B[ie];U<O.length;)se=O[U],z[se]===Y?(T[U]=J[se],U++):Z[se]===Y?(T[U]=F[se],U++):O.splice(U,1)}return B[A]=O.length,a.createSparseMatrix({values:T,index:O,ptr:B,size:[x,A],datatype:S})}}),name$3_="matAlgo10xSids",dependencies$3Z=["typed","DenseMatrix"],createMatAlgo10xSids=factory(name$3_,dependencies$3Z,t=>{var{typed:r,DenseMatrix:s}=t;return function(a,o,l,u){var f=a._values,c=a._index,h=a._ptr,d=a._size,p=a._datatype;if(!f)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var v=d[0],y=d[1],b,w=l;typeof p=="string"&&(b=p,o=r.convert(o,b),w=r.find(l,[b,b]));for(var x=[],A=[],S=[],_=0;_<y;_++){for(var $=_+1,M=h[_],T=h[_+1],O=M;O<T;O++){var B=c[O];A[B]=f[O],S[B]=$}for(var J=0;J<v;J++)_===0&&(x[J]=[]),S[J]===$?x[J][_]=u?w(o,A[J]):w(A[J],o):x[J][_]=o}return new s({data:x,size:[v,y],datatype:b})}}),name$3Z="matAlgo13xDD",dependencies$3Y=["typed"],createMatAlgo13xDD=factory(name$3Z,dependencies$3Y,t=>{var{typed:r}=t;return function(a,o,l){var u=a._data,f=a._size,c=a._datatype,h=o._data,d=o._size,p=o._datatype,v=[];if(f.length!==d.length)throw new DimensionError(f.length,d.length);for(var y=0;y<f.length;y++){if(f[y]!==d[y])throw new RangeError("Dimension mismatch. Matrix A ("+f+") must match Matrix B ("+d+")");v[y]=f[y]}var b,w=l;typeof c=="string"&&c===p&&(b=c,w=r.find(l,[b,b]));var x=v.length>0?s(w,0,v,v[0],u,h):[];return a.createDenseMatrix({data:x,size:v,datatype:b})};function s(n,a,o,l,u,f){var c=[];if(a===o.length-1)for(var h=0;h<l;h++)c[h]=n(u[h],f[h]);else for(var d=0;d<l;d++)c[d]=s(n,a+1,o,o[a+1],u[d],f[d]);return c}}),name$3Y="broadcast",dependancies=["concat"],createBroadcast=factory(name$3Y,dependancies,t=>{var{concat:r}=t;return function(o,l){var u=Math.max(o._size.length,l._size.length);if(o._size.length===l._size.length&&o._size.every((w,x)=>w===l._size[x]))return[o,l];for(var f=s(o._size,u,0),c=s(l._size,u,0),h=[],d=0;d<u;d++)h[d]=Math.max(f[d],c[d]);for(var p=0;p<u;p++)a(f,h,p),a(c,h,p);var v=o.clone(),y=l.clone();v._size.length<u?v.reshape(s(v._size,u,1)):y._size.length<u&&y.reshape(s(y._size,u,1));for(var b=0;b<u;b++)v._size[b]<h[b]&&(v=n(v,h[b],b)),y._size[b]<h[b]&&(y=n(y,h[b],b));return[v,y]};function s(o,l,u){return[...Array(l-o.length).fill(u),...o]}function n(o,l,u){return r(...Array(l).fill(o),u)}function a(o,l,u){if(o[u]<l[u]&o[u]>1)throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(o,") not possible to broadcast dimension ").concat(u," with size ").concat(o[u]," to size ").concat(l[u]))}}),name$3X="matrixAlgorithmSuite",dependencies$3X=["typed","matrix","concat"],createMatrixAlgorithmSuite=factory(name$3X,dependencies$3X,t=>{var{typed:r,matrix:s,concat:n}=t,a=createMatAlgo13xDD({typed:r}),o=createMatAlgo14xDs({typed:r}),l=createBroadcast({concat:n});return function(f){var c=f.elop,h=f.SD||f.DS,d;c?(d={"DenseMatrix, DenseMatrix":(b,w)=>a(...l(b,w),c),"Array, Array":(b,w)=>a(...l(s(b),s(w)),c).valueOf(),"Array, DenseMatrix":(b,w)=>a(...l(s(b),w),c),"DenseMatrix, Array":(b,w)=>a(...l(b,s(w)),c)},f.SS&&(d["SparseMatrix, SparseMatrix"]=(b,w)=>f.SS(...l(b,w),c,!1)),f.DS&&(d["DenseMatrix, SparseMatrix"]=(b,w)=>f.DS(...l(b,w),c,!1),d["Array, SparseMatrix"]=(b,w)=>f.DS(...l(s(b),w),c,!1)),h&&(d["SparseMatrix, DenseMatrix"]=(b,w)=>h(...l(w,b),c,!0),d["SparseMatrix, Array"]=(b,w)=>h(...l(s(w),b),c,!0))):(d={"DenseMatrix, DenseMatrix":r.referToSelf(b=>(w,x)=>a(...l(w,x),b)),"Array, Array":r.referToSelf(b=>(w,x)=>a(...l(s(w),s(x)),b).valueOf()),"Array, DenseMatrix":r.referToSelf(b=>(w,x)=>a(...l(s(w),x),b)),"DenseMatrix, Array":r.referToSelf(b=>(w,x)=>a(...l(w,s(x)),b))},f.SS&&(d["SparseMatrix, SparseMatrix"]=r.referToSelf(b=>(w,x)=>f.SS(...l(w,x),b,!1))),f.DS&&(d["DenseMatrix, SparseMatrix"]=r.referToSelf(b=>(w,x)=>f.DS(...l(w,x),b,!1)),d["Array, SparseMatrix"]=r.referToSelf(b=>(w,x)=>f.DS(...l(s(w),x),b,!1))),h&&(d["SparseMatrix, DenseMatrix"]=r.referToSelf(b=>(w,x)=>h(...l(x,w),b,!0)),d["SparseMatrix, Array"]=r.referToSelf(b=>(w,x)=>h(...l(s(x),w),b,!0))));var p=f.scalar||"any",v=f.Ds||f.Ss;v&&(c?(d["DenseMatrix,"+p]=(b,w)=>o(b,w,c,!1),d[p+", DenseMatrix"]=(b,w)=>o(w,b,c,!0),d["Array,"+p]=(b,w)=>o(s(b),w,c,!1).valueOf(),d[p+", Array"]=(b,w)=>o(s(w),b,c,!0).valueOf()):(d["DenseMatrix,"+p]=r.referToSelf(b=>(w,x)=>o(w,x,b,!1)),d[p+", DenseMatrix"]=r.referToSelf(b=>(w,x)=>o(x,w,b,!0)),d["Array,"+p]=r.referToSelf(b=>(w,x)=>o(s(w),x,b,!1).valueOf()),d[p+", Array"]=r.referToSelf(b=>(w,x)=>o(s(x),w,b,!0).valueOf())));var y=f.sS!==void 0?f.sS:f.Ss;return c?(f.Ss&&(d["SparseMatrix,"+p]=(b,w)=>f.Ss(b,w,c,!1)),y&&(d[p+", SparseMatrix"]=(b,w)=>y(w,b,c,!0))):(f.Ss&&(d["SparseMatrix,"+p]=r.referToSelf(b=>(w,x)=>f.Ss(w,x,b,!1))),y&&(d[p+", SparseMatrix"]=r.referToSelf(b=>(w,x)=>y(x,w,b,!0)))),c&&c.signatures&&extend(d,c.signatures),d}});function ArgumentsError(t,r,s,n){if(!(this instanceof ArgumentsError))throw new SyntaxError("Constructor must be called with the new operator");this.fn=t,this.count=r,this.min=s,this.max=n,this.message="Wrong number of arguments in function "+t+" ("+r+" provided, "+s+(n!=null?"-"+n:"")+" expected)",this.stack=new Error().stack}ArgumentsError.prototype=new Error;ArgumentsError.prototype.constructor=Error;ArgumentsError.prototype.name="ArgumentsError";ArgumentsError.prototype.isArgumentsError=!0;var name$3W="gcd",dependencies$3W=["typed","matrix","equalScalar","BigNumber","DenseMatrix","concat"],gcdTypes="number | BigNumber | Fraction | Matrix | Array",gcdManyTypesSignature="".concat(gcdTypes,", ").concat(gcdTypes,", ...").concat(gcdTypes);function is1d(t){return!t.some(r=>Array.isArray(r))}var createGcd=factory(name$3W,dependencies$3W,t=>{var{typed:r,matrix:s,equalScalar:n,BigNumber:a,DenseMatrix:o,concat:l}=t,u=createMatAlgo01xDSid({typed:r}),f=createMatAlgo04xSidSid({typed:r,equalScalar:n}),c=createMatAlgo10xSids({typed:r,DenseMatrix:o}),h=createMatrixAlgorithmSuite({typed:r,matrix:s,concat:l});return r(name$3W,{"number, number":gcdNumber,"BigNumber, BigNumber":d,"Fraction, Fraction":(p,v)=>p.gcd(v)},h({SS:f,DS:u,Ss:c}),{[gcdManyTypesSignature]:r.referToSelf(p=>(v,y,b)=>{for(var w=p(v,y),x=0;x<b.length;x++)w=p(w,b[x]);return w}),Array:r.referToSelf(p=>v=>{if(v.length===1&&Array.isArray(v[0])&&is1d(v[0]))return p(...v[0]);if(is1d(v))return p(...v);throw new ArgumentsError("gcd() supports only 1d matrices!")}),Matrix:r.referToSelf(p=>v=>p(v.toArray()))});function d(p,v){if(!p.isInt()||!v.isInt())throw new Error("Parameters in function gcd must be integer numbers");for(var y=new a(0);!v.isZero();){var b=p.mod(v);p=v,v=b}return p.lt(y)?p.neg():p}}),name$3V="matAlgo02xDS0",dependencies$3V=["typed","equalScalar"],createMatAlgo02xDS0=factory(name$3V,dependencies$3V,t=>{var{typed:r,equalScalar:s}=t;return function(a,o,l,u){var f=a._data,c=a._size,h=a._datatype,d=o._values,p=o._index,v=o._ptr,y=o._size,b=o._datatype;if(c.length!==y.length)throw new DimensionError(c.length,y.length);if(c[0]!==y[0]||c[1]!==y[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+y+")");if(!d)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var w=c[0],x=c[1],A,S=s,_=0,$=l;typeof h=="string"&&h===b&&(A=h,S=r.find(s,[A,A]),_=r.convert(0,A),$=r.find(l,[A,A]));for(var M=[],T=[],O=[],B=0;B<x;B++){O[B]=T.length;for(var J=v[B],F=v[B+1],z=J;z<F;z++){var Z=p[z],se=u?$(d[z],f[Z][B]):$(f[Z][B],d[z]);S(se,_)||(T.push(Z),M.push(se))}}return O[x]=T.length,o.createSparseMatrix({values:M,index:T,ptr:O,size:[w,x],datatype:A})}}),name$3U="matAlgo06xS0S0",dependencies$3U=["typed","equalScalar"],createMatAlgo06xS0S0=factory(name$3U,dependencies$3U,t=>{var{typed:r,equalScalar:s}=t;return function(a,o,l){var u=a._values,f=a._size,c=a._datatype,h=o._values,d=o._size,p=o._datatype;if(f.length!==d.length)throw new DimensionError(f.length,d.length);if(f[0]!==d[0]||f[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+f+") must match Matrix B ("+d+")");var v=f[0],y=f[1],b,w=s,x=0,A=l;typeof c=="string"&&c===p&&(b=c,w=r.find(s,[b,b]),x=r.convert(0,b),A=r.find(l,[b,b]));for(var S=u&&h?[]:void 0,_=[],$=[],M=S?[]:void 0,T=[],O=[],B=0;B<y;B++){$[B]=_.length;var J=B+1;if(scatter(a,B,T,M,O,J,_,A),scatter(o,B,T,M,O,J,_,A),M)for(var F=$[B];F<_.length;){var z=_[F];if(O[z]===J){var Z=M[z];w(Z,x)?_.splice(F,1):(S.push(Z),F++)}else _.splice(F,1)}else for(var se=$[B];se<_.length;){var ie=_[se];O[ie]!==J?_.splice(se,1):se++}}return $[y]=_.length,a.createSparseMatrix({values:S,index:_,ptr:$,size:[v,y],datatype:b})}}),name$3T="lcm",dependencies$3T=["typed","matrix","equalScalar","concat"],createLcm=factory(name$3T,dependencies$3T,t=>{var{typed:r,matrix:s,equalScalar:n,concat:a}=t,o=createMatAlgo02xDS0({typed:r,equalScalar:n}),l=createMatAlgo06xS0S0({typed:r,equalScalar:n}),u=createMatAlgo11xS0s({typed:r,equalScalar:n}),f=createMatrixAlgorithmSuite({typed:r,matrix:s,concat:a}),c="number | BigNumber | Fraction | Matrix | Array",h={};return h["".concat(c,", ").concat(c,", ...").concat(c)]=r.referToSelf(p=>(v,y,b)=>{for(var w=p(v,y),x=0;x<b.length;x++)w=p(w,b[x]);return w}),r(name$3T,{"number, number":lcmNumber,"BigNumber, BigNumber":d,"Fraction, Fraction":(p,v)=>p.lcm(v)},f({SS:l,DS:o,Ss:u}),h);function d(p,v){if(!p.isInt()||!v.isInt())throw new Error("Parameters in function lcm must be integer numbers");if(p.isZero())return p;if(v.isZero())return v;for(var y=p.times(v);!v.isZero();){var b=v;v=p.mod(b),p=b}return y.div(p).abs()}}),name$3S="log10",dependencies$3S=["typed","config","Complex"],createLog10=factory(name$3S,dependencies$3S,t=>{var{typed:r,config:s,Complex:n}=t;return r(name$3S,{number:function(o){return o>=0||s.predictable?log10Number(o):new n(o,0).log().div(Math.LN10)},Complex:function(o){return new n(o).log().div(Math.LN10)},BigNumber:function(o){return!o.isNegative()||s.predictable?o.log():new n(o.toNumber(),0).log().div(Math.LN10)},"Array | Matrix":r.referToSelf(a=>o=>deepMap(o,a))})}),name$3R="log2",dependencies$3R=["typed","config","Complex"],createLog2=factory(name$3R,dependencies$3R,t=>{var{typed:r,config:s,Complex:n}=t;return r(name$3R,{number:function(l){return l>=0||s.predictable?log2Number(l):a(new n(l,0))},Complex:a,BigNumber:function(l){return!l.isNegative()||s.predictable?l.log(2):a(new n(l.toNumber(),0))},"Array | Matrix":r.referToSelf(o=>l=>deepMap(l,o))});function a(o){var l=Math.sqrt(o.re*o.re+o.im*o.im);return new n(Math.log2?Math.log2(l):Math.log(l)/Math.LN2,Math.atan2(o.im,o.re)/Math.LN2)}}),name$3Q="matAlgo03xDSf",dependencies$3Q=["typed"],createMatAlgo03xDSf=factory(name$3Q,dependencies$3Q,t=>{var{typed:r}=t;return function(n,a,o,l){var u=n._data,f=n._size,c=n._datatype,h=a._values,d=a._index,p=a._ptr,v=a._size,y=a._datatype;if(f.length!==v.length)throw new DimensionError(f.length,v.length);if(f[0]!==v[0]||f[1]!==v[1])throw new RangeError("Dimension mismatch. Matrix A ("+f+") must match Matrix B ("+v+")");if(!h)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var b=f[0],w=f[1],x,A=0,S=o;typeof c=="string"&&c===y&&(x=c,A=r.convert(0,x),S=r.find(o,[x,x]));for(var _=[],$=0;$<b;$++)_[$]=[];for(var M=[],T=[],O=0;O<w;O++){for(var B=O+1,J=p[O],F=p[O+1],z=J;z<F;z++){var Z=d[z];M[Z]=l?S(h[z],u[Z][O]):S(u[Z][O],h[z]),T[Z]=B}for(var se=0;se<b;se++)T[se]===B?_[se][O]=M[se]:_[se][O]=l?S(A,u[se][O]):S(u[se][O],A)}return n.createDenseMatrix({data:_,size:[b,w],datatype:x})}}),name$3P="matAlgo05xSfSf",dependencies$3P=["typed","equalScalar"],createMatAlgo05xSfSf=factory(name$3P,dependencies$3P,t=>{var{typed:r,equalScalar:s}=t;return function(a,o,l){var u=a._values,f=a._index,c=a._ptr,h=a._size,d=a._datatype,p=o._values,v=o._index,y=o._ptr,b=o._size,w=o._datatype;if(h.length!==b.length)throw new DimensionError(h.length,b.length);if(h[0]!==b[0]||h[1]!==b[1])throw new RangeError("Dimension mismatch. Matrix A ("+h+") must match Matrix B ("+b+")");var x=h[0],A=h[1],S,_=s,$=0,M=l;typeof d=="string"&&d===w&&(S=d,_=r.find(s,[S,S]),$=r.convert(0,S),M=r.find(l,[S,S]));var T=u&&p?[]:void 0,O=[],B=[],J=T?[]:void 0,F=T?[]:void 0,z=[],Z=[],se,ie,U,H;for(ie=0;ie<A;ie++){B[ie]=O.length;var ue=ie+1;for(U=c[ie],H=c[ie+1];U<H;U++)se=f[U],O.push(se),z[se]=ue,J&&(J[se]=u[U]);for(U=y[ie],H=y[ie+1];U<H;U++)se=v[U],z[se]!==ue&&O.push(se),Z[se]=ue,F&&(F[se]=p[U]);if(T)for(U=B[ie];U<O.length;){se=O[U];var Y=z[se],K=Z[se];if(Y===ue||K===ue){var te=Y===ue?J[se]:$,ae=K===ue?F[se]:$,ee=M(te,ae);_(ee,$)?O.splice(U,1):(T.push(ee),U++)}}}return B[A]=O.length,a.createSparseMatrix({values:T,index:O,ptr:B,size:[x,A],datatype:S})}}),name$3O="mod",dependencies$3O=["typed","matrix","equalScalar","DenseMatrix","concat"],createMod=factory(name$3O,dependencies$3O,t=>{var{typed:r,matrix:s,equalScalar:n,DenseMatrix:a,concat:o}=t,l=createMatAlgo02xDS0({typed:r,equalScalar:n}),u=createMatAlgo03xDSf({typed:r}),f=createMatAlgo05xSfSf({typed:r,equalScalar:n}),c=createMatAlgo11xS0s({typed:r,equalScalar:n}),h=createMatAlgo12xSfs({typed:r,DenseMatrix:a}),d=createMatrixAlgorithmSuite({typed:r,matrix:s,concat:o});return r(name$3O,{"number, number":modNumber,"BigNumber, BigNumber":function(v,y){if(y.isNeg())throw new Error("Cannot calculate mod for a negative divisor");return y.isZero()?v:v.mod(y)},"Fraction, Fraction":function(v,y){if(y.compare(0)<0)throw new Error("Cannot calculate mod for a negative divisor");return v.compare(0)>=0?v.mod(y):v.mod(y).add(y).mod(y)}},d({SS:f,DS:u,SD:l,Ss:c,sS:h}))}),name$3N="multiplyScalar",dependencies$3N=["typed"],createMultiplyScalar=factory(name$3N,dependencies$3N,t=>{var{typed:r}=t;return r("multiplyScalar",{"number, number":multiplyNumber,"Complex, Complex":function(n,a){return n.mul(a)},"BigNumber, BigNumber":function(n,a){return n.times(a)},"Fraction, Fraction":function(n,a){return n.mul(a)},"number | Fraction | BigNumber | Complex, Unit":(s,n)=>n.multiply(s),"Unit, number | Fraction | BigNumber | Complex | Unit":(s,n)=>s.multiply(n)})}),name$3M="multiply",dependencies$3M=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],createMultiply=factory(name$3M,dependencies$3M,t=>{var{typed:r,matrix:s,addScalar:n,multiplyScalar:a,equalScalar:o,dot:l}=t,u=createMatAlgo11xS0s({typed:r,equalScalar:o}),f=createMatAlgo14xDs({typed:r});function c($,M){switch($.length){case 1:switch(M.length){case 1:if($[0]!==M[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if($[0]!==M[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+$[0]+") must match Matrix rows ("+M[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+M.length+" dimensions)")}break;case 2:switch(M.length){case 1:if($[1]!==M[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+$[1]+") must match Vector length ("+M[0]+")");break;case 2:if($[1]!==M[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+$[1]+") must match Matrix B rows ("+M[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+M.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+$.length+" dimensions)")}}function h($,M,T){if(T===0)throw new Error("Cannot multiply two empty vectors");return l($,M)}function d($,M){if(M.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return p($,M)}function p($,M){var T=$._data,O=$._size,B=$._datatype,J=M._data,F=M._size,z=M._datatype,Z=O[0],se=F[1],ie,U=n,H=a;B&&z&&B===z&&typeof B=="string"&&(ie=B,U=r.find(n,[ie,ie]),H=r.find(a,[ie,ie]));for(var ue=[],Y=0;Y<se;Y++){for(var K=H(T[0],J[0][Y]),te=1;te<Z;te++)K=U(K,H(T[te],J[te][Y]));ue[Y]=K}return $.createDenseMatrix({data:ue,size:[se],datatype:ie})}var v=r("_multiplyMatrixVector",{"DenseMatrix, any":b,"SparseMatrix, any":A}),y=r("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":w,"DenseMatrix, SparseMatrix":x,"SparseMatrix, DenseMatrix":S,"SparseMatrix, SparseMatrix":_});function b($,M){var T=$._data,O=$._size,B=$._datatype,J=M._data,F=M._datatype,z=O[0],Z=O[1],se,ie=n,U=a;B&&F&&B===F&&typeof B=="string"&&(se=B,ie=r.find(n,[se,se]),U=r.find(a,[se,se]));for(var H=[],ue=0;ue<z;ue++){for(var Y=T[ue],K=U(Y[0],J[0]),te=1;te<Z;te++)K=ie(K,U(Y[te],J[te]));H[ue]=K}return $.createDenseMatrix({data:H,size:[z],datatype:se})}function w($,M){var T=$._data,O=$._size,B=$._datatype,J=M._data,F=M._size,z=M._datatype,Z=O[0],se=O[1],ie=F[1],U,H=n,ue=a;B&&z&&B===z&&typeof B=="string"&&(U=B,H=r.find(n,[U,U]),ue=r.find(a,[U,U]));for(var Y=[],K=0;K<Z;K++){var te=T[K];Y[K]=[];for(var ae=0;ae<ie;ae++){for(var ee=ue(te[0],J[0][ae]),de=1;de<se;de++)ee=H(ee,ue(te[de],J[de][ae]));Y[K][ae]=ee}}return $.createDenseMatrix({data:Y,size:[Z,ie],datatype:U})}function x($,M){var T=$._data,O=$._size,B=$._datatype,J=M._values,F=M._index,z=M._ptr,Z=M._size,se=M._datatype;if(!J)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var ie=O[0],U=Z[1],H,ue=n,Y=a,K=o,te=0;B&&se&&B===se&&typeof B=="string"&&(H=B,ue=r.find(n,[H,H]),Y=r.find(a,[H,H]),K=r.find(o,[H,H]),te=r.convert(0,H));for(var ae=[],ee=[],de=[],ce=M.createSparseMatrix({values:ae,index:ee,ptr:de,size:[ie,U],datatype:H}),xe=0;xe<U;xe++){de[xe]=ee.length;var Me=z[xe],Ae=z[xe+1];if(Ae>Me)for(var Xe=0,Be=0;Be<ie;Be++){for(var Ze=Be+1,nt=void 0,rt=Me;rt<Ae;rt++){var it=F[rt];Xe!==Ze?(nt=Y(T[Be][it],J[rt]),Xe=Ze):nt=ue(nt,Y(T[Be][it],J[rt]))}Xe===Ze&&!K(nt,te)&&(ee.push(Be),ae.push(nt))}}return de[U]=ee.length,ce}function A($,M){var T=$._values,O=$._index,B=$._ptr,J=$._datatype;if(!T)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var F=M._data,z=M._datatype,Z=$._size[0],se=M._size[0],ie=[],U=[],H=[],ue,Y=n,K=a,te=o,ae=0;J&&z&&J===z&&typeof J=="string"&&(ue=J,Y=r.find(n,[ue,ue]),K=r.find(a,[ue,ue]),te=r.find(o,[ue,ue]),ae=r.convert(0,ue));var ee=[],de=[];H[0]=0;for(var ce=0;ce<se;ce++){var xe=F[ce];if(!te(xe,ae))for(var Me=B[ce],Ae=B[ce+1],Xe=Me;Xe<Ae;Xe++){var Be=O[Xe];de[Be]?ee[Be]=Y(ee[Be],K(xe,T[Xe])):(de[Be]=!0,U.push(Be),ee[Be]=K(xe,T[Xe]))}}for(var Ze=U.length,nt=0;nt<Ze;nt++){var rt=U[nt];ie[nt]=ee[rt]}return H[1]=U.length,$.createSparseMatrix({values:ie,index:U,ptr:H,size:[Z,1],datatype:ue})}function S($,M){var T=$._values,O=$._index,B=$._ptr,J=$._datatype;if(!T)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var F=M._data,z=M._datatype,Z=$._size[0],se=M._size[0],ie=M._size[1],U,H=n,ue=a,Y=o,K=0;J&&z&&J===z&&typeof J=="string"&&(U=J,H=r.find(n,[U,U]),ue=r.find(a,[U,U]),Y=r.find(o,[U,U]),K=r.convert(0,U));for(var te=[],ae=[],ee=[],de=$.createSparseMatrix({values:te,index:ae,ptr:ee,size:[Z,ie],datatype:U}),ce=[],xe=[],Me=0;Me<ie;Me++){ee[Me]=ae.length;for(var Ae=Me+1,Xe=0;Xe<se;Xe++){var Be=F[Xe][Me];if(!Y(Be,K))for(var Ze=B[Xe],nt=B[Xe+1],rt=Ze;rt<nt;rt++){var it=O[rt];xe[it]!==Ae?(xe[it]=Ae,ae.push(it),ce[it]=ue(Be,T[rt])):ce[it]=H(ce[it],ue(Be,T[rt]))}}for(var me=ee[Me],be=ae.length,Re=me;Re<be;Re++){var ye=ae[Re];te[Re]=ce[ye]}}return ee[ie]=ae.length,de}function _($,M){var T=$._values,O=$._index,B=$._ptr,J=$._datatype,F=M._values,z=M._index,Z=M._ptr,se=M._datatype,ie=$._size[0],U=M._size[1],H=T&&F,ue,Y=n,K=a;J&&se&&J===se&&typeof J=="string"&&(ue=J,Y=r.find(n,[ue,ue]),K=r.find(a,[ue,ue]));for(var te=H?[]:void 0,ae=[],ee=[],de=$.createSparseMatrix({values:te,index:ae,ptr:ee,size:[ie,U],datatype:ue}),ce=H?[]:void 0,xe=[],Me,Ae,Xe,Be,Ze,nt,rt,it,me=0;me<U;me++){ee[me]=ae.length;var be=me+1;for(Ze=Z[me],nt=Z[me+1],Be=Ze;Be<nt;Be++)if(it=z[Be],H)for(Ae=B[it],Xe=B[it+1],Me=Ae;Me<Xe;Me++)rt=O[Me],xe[rt]!==be?(xe[rt]=be,ae.push(rt),ce[rt]=K(F[Be],T[Me])):ce[rt]=Y(ce[rt],K(F[Be],T[Me]));else for(Ae=B[it],Xe=B[it+1],Me=Ae;Me<Xe;Me++)rt=O[Me],xe[rt]!==be&&(xe[rt]=be,ae.push(rt));if(H)for(var Re=ee[me],ye=ae.length,$e=Re;$e<ye;$e++){var Te=ae[$e];te[$e]=ce[Te]}}return ee[U]=ae.length,de}return r(name$3M,a,{"Array, Array":r.referTo("Matrix, Matrix",$=>(M,T)=>{c(arraySize(M),arraySize(T));var O=$(s(M),s(T));return isMatrix(O)?O.valueOf():O}),"Matrix, Matrix":function(M,T){var O=M.size(),B=T.size();return c(O,B),O.length===1?B.length===1?h(M,T,O[0]):d(M,T):B.length===1?v(M,T):y(M,T)},"Matrix, Array":r.referTo("Matrix,Matrix",$=>(M,T)=>$(M,s(T))),"Array, Matrix":r.referToSelf($=>(M,T)=>$(s(M,T.storage()),T)),"SparseMatrix, any":function(M,T){return u(M,T,a,!1)},"DenseMatrix, any":function(M,T){return f(M,T,a,!1)},"any, SparseMatrix":function(M,T){return u(T,M,a,!0)},"any, DenseMatrix":function(M,T){return f(T,M,a,!0)},"Array, any":function(M,T){return f(s(M),T,a,!1).valueOf()},"any, Array":function(M,T){return f(s(T),M,a,!0).valueOf()},"any, any":a,"any, any, ...any":r.referToSelf($=>(M,T,O)=>{for(var B=$(M,T),J=0;J<O.length;J++)B=$(B,O[J]);return B})})}),name$3L="nthRoot",dependencies$3L=["typed","matrix","equalScalar","BigNumber","concat"],createNthRoot=factory(name$3L,dependencies$3L,t=>{var{typed:r,matrix:s,equalScalar:n,BigNumber:a,concat:o}=t,l=createMatAlgo01xDSid({typed:r}),u=createMatAlgo02xDS0({typed:r,equalScalar:n}),f=createMatAlgo06xS0S0({typed:r,equalScalar:n}),c=createMatAlgo11xS0s({typed:r,equalScalar:n}),h=createMatrixAlgorithmSuite({typed:r,matrix:s,concat:o});function d(){throw new Error("Complex number not supported in function nthRoot. Use nthRoots instead.")}return r(name$3L,{number:nthRootNumber,"number, number":nthRootNumber,BigNumber:v=>p(v,new a(2)),"BigNumber, BigNumber":p,Complex:d,"Complex, number":d,Array:r.referTo("DenseMatrix,number",v=>y=>v(s(y),2).valueOf()),DenseMatrix:r.referTo("DenseMatrix,number",v=>y=>v(y,2)),SparseMatrix:r.referTo("SparseMatrix,number",v=>y=>v(y,2)),"SparseMatrix, SparseMatrix":r.referToSelf(v=>(y,b)=>{if(b.density()===1)return f(y,b,v);throw new Error("Root must be non-zero")}),"DenseMatrix, SparseMatrix":r.referToSelf(v=>(y,b)=>{if(b.density()===1)return l(y,b,v,!1);throw new Error("Root must be non-zero")}),"Array, SparseMatrix":r.referTo("DenseMatrix,SparseMatrix",v=>(y,b)=>v(s(y),b)),"number | BigNumber, SparseMatrix":r.referToSelf(v=>(y,b)=>{if(b.density()===1)return c(b,y,v,!0);throw new Error("Root must be non-zero")})},h({scalar:"number | BigNumber",SD:u,Ss:c,sS:!1}));function p(v,y){var b=a.precision,w=a.clone({precision:b+2}),x=new a(0),A=new w(1),S=y.isNegative();if(S&&(y=y.neg()),y.isZero())throw new Error("Root must be non-zero");if(v.isNegative()&&!y.abs().mod(2).equals(1))throw new Error("Root must be odd when a is negative.");if(v.isZero())return S?new w(1/0):0;if(!v.isFinite())return S?x:v;var _=v.abs().pow(A.div(y));return _=v.isNeg()?_.neg():_,new a((S?A.div(_):_).toPrecision(b))}}),name$3K="sign",dependencies$3K=["typed","BigNumber","Fraction","complex"],createSign=factory(name$3K,dependencies$3K,t=>{var{typed:r,BigNumber:s,complex:n,Fraction:a}=t;return r(name$3K,{number:signNumber,Complex:function(l){return l.im===0?n(signNumber(l.re)):l.sign()},BigNumber:function(l){return new s(l.cmp(0))},Fraction:function(l){return new a(l.s,1)},"Array | Matrix":r.referToSelf(o=>l=>deepMap(l,o)),Unit:r.referToSelf(o=>l=>{if(!l._isDerived()&&l.units[0].unit.offset!==0)throw new TypeError("sign is ambiguous for units with offset");return r.find(o,l.valueType())(l.value)})})}),name$3J="sqrt",dependencies$3J=["config","typed","Complex"],createSqrt=factory(name$3J,dependencies$3J,t=>{var{config:r,typed:s,Complex:n}=t;return s("sqrt",{number:a,Complex:function(l){return l.sqrt()},BigNumber:function(l){return!l.isNegative()||r.predictable?l.sqrt():a(l.toNumber())},Unit:function(l){return l.pow(.5)}});function a(o){return isNaN(o)?NaN:o>=0||r.predictable?Math.sqrt(o):new n(o,0).sqrt()}}),name$3I="square",dependencies$3I=["typed"],createSquare=factory(name$3I,dependencies$3I,t=>{var{typed:r}=t;return r(name$3I,{number:squareNumber,Complex:function(n){return n.mul(n)},BigNumber:function(n){return n.times(n)},Fraction:function(n){return n.mul(n)},Unit:function(n){return n.pow(2)}})}),name$3H="subtract",dependencies$3H=["typed","matrix","equalScalar","addScalar","unaryMinus","DenseMatrix","concat"],createSubtract=factory(name$3H,dependencies$3H,t=>{var{typed:r,matrix:s,equalScalar:n,addScalar:a,unaryMinus:o,DenseMatrix:l,concat:u}=t,f=createMatAlgo01xDSid({typed:r}),c=createMatAlgo03xDSf({typed:r}),h=createMatAlgo05xSfSf({typed:r,equalScalar:n}),d=createMatAlgo10xSids({typed:r,DenseMatrix:l}),p=createMatAlgo12xSfs({typed:r,DenseMatrix:l}),v=createMatrixAlgorithmSuite({typed:r,matrix:s,concat:u});return r(name$3H,{"number, number":(y,b)=>y-b,"Complex, Complex":(y,b)=>y.sub(b),"BigNumber, BigNumber":(y,b)=>y.minus(b),"Fraction, Fraction":(y,b)=>y.sub(b),"Unit, Unit":r.referToSelf(y=>(b,w)=>{if(b.value===null)throw new Error("Parameter x contains a unit with undefined value");if(w.value===null)throw new Error("Parameter y contains a unit with undefined value");if(!b.equalBase(w))throw new Error("Units do not match");var x=b.clone();return x.value=r.find(y,[x.valueType(),w.valueType()])(x.value,w.value),x.fixPrefix=!1,x})},v({SS:h,DS:f,SD:c,Ss:p,sS:d}))}),name$3G="xgcd",dependencies$3G=["typed","config","matrix","BigNumber"],createXgcd=factory(name$3G,dependencies$3G,t=>{var{typed:r,config:s,matrix:n,BigNumber:a}=t;return r(name$3G,{"number, number":function(u,f){var c=xgcdNumber(u,f);return s.matrix==="Array"?c:n(c)},"BigNumber, BigNumber":o});function o(l,u){var f,c,h,d=new a(0),p=new a(1),v=d,y=p,b=p,w=d;if(!l.isInt()||!u.isInt())throw new Error("Parameters in function xgcd must be integer numbers");for(;!u.isZero();)c=l.div(u).floor(),h=l.mod(u),f=v,v=y.minus(c.times(v)),y=f,f=b,b=w.minus(c.times(b)),w=f,l=u,u=h;var x;return l.lt(d)?x=[l.neg(),y.neg(),w.neg()]:x=[l,l.isZero()?0:y,w],s.matrix==="Array"?x:n(x)}}),name$3F="invmod",dependencies$3F=["typed","config","BigNumber","xgcd","equal","smaller","mod","add","isInteger"],createInvmod=factory(name$3F,dependencies$3F,t=>{var{typed:r,config:s,BigNumber:n,xgcd:a,equal:o,smaller:l,mod:u,add:f,isInteger:c}=t;return r(name$3F,{"number, number":h,"BigNumber, BigNumber":h});function h(d,p){if(!c(d)||!c(p))throw new Error("Parameters in function invmod must be integer numbers");if(d=u(d,p),o(p,0))throw new Error("Divisor must be non zero");var v=a(d,p);v=v.valueOf();var[y,b]=v;return o(y,n(1))?(b=u(b,p),l(b,n(0))&&(b=f(b,p)),b):NaN}}),name$3E="matAlgo09xS0Sf",dependencies$3E=["typed","equalScalar"],createMatAlgo09xS0Sf=factory(name$3E,dependencies$3E,t=>{var{typed:r,equalScalar:s}=t;return function(a,o,l){var u=a._values,f=a._index,c=a._ptr,h=a._size,d=a._datatype,p=o._values,v=o._index,y=o._ptr,b=o._size,w=o._datatype;if(h.length!==b.length)throw new DimensionError(h.length,b.length);if(h[0]!==b[0]||h[1]!==b[1])throw new RangeError("Dimension mismatch. Matrix A ("+h+") must match Matrix B ("+b+")");var x=h[0],A=h[1],S,_=s,$=0,M=l;typeof d=="string"&&d===w&&(S=d,_=r.find(s,[S,S]),$=r.convert(0,S),M=r.find(l,[S,S]));var T=u&&p?[]:void 0,O=[],B=[],J=T?[]:void 0,F=[],z,Z,se,ie,U;for(Z=0;Z<A;Z++){B[Z]=O.length;var H=Z+1;if(J)for(ie=y[Z],U=y[Z+1],se=ie;se<U;se++)z=v[se],F[z]=H,J[z]=p[se];for(ie=c[Z],U=c[Z+1],se=ie;se<U;se++)if(z=f[se],J){var ue=F[z]===H?J[z]:$,Y=M(u[se],ue);_(Y,$)||(O.push(z),T.push(Y))}else O.push(z)}return B[A]=O.length,a.createSparseMatrix({values:T,index:O,ptr:B,size:[x,A],datatype:S})}}),name$3D="dotMultiply",dependencies$3D=["typed","matrix","equalScalar","multiplyScalar","concat"],createDotMultiply=factory(name$3D,dependencies$3D,t=>{var{typed:r,matrix:s,equalScalar:n,multiplyScalar:a,concat:o}=t,l=createMatAlgo02xDS0({typed:r,equalScalar:n}),u=createMatAlgo09xS0Sf({typed:r,equalScalar:n}),f=createMatAlgo11xS0s({typed:r,equalScalar:n}),c=createMatrixAlgorithmSuite({typed:r,matrix:s,concat:o});return r(name$3D,c({elop:a,SS:u,DS:l,Ss:f}))});function bitAndBigNumber(t,r){if(t.isFinite()&&!t.isInteger()||r.isFinite()&&!r.isInteger())throw new Error("Integers expected in function bitAnd");var s=t.constructor;if(t.isNaN()||r.isNaN())return new s(NaN);if(t.isZero()||r.eq(-1)||t.eq(r))return t;if(r.isZero()||t.eq(-1))return r;if(!t.isFinite()||!r.isFinite()){if(!t.isFinite()&&!r.isFinite())return t.isNegative()===r.isNegative()?t:new s(0);if(!t.isFinite())return r.isNegative()?t:t.isNegative()?new s(0):r;if(!r.isFinite())return t.isNegative()?r:r.isNegative()?new s(0):t}return bitwise(t,r,function(n,a){return n&a})}function bitNotBigNumber(t){if(t.isFinite()&&!t.isInteger())throw new Error("Integer expected in function bitNot");var r=t.constructor,s=r.precision;r.config({precision:1e9});var n=t.plus(new r(1));return n.s=-n.s||null,r.config({precision:s}),n}function bitOrBigNumber(t,r){if(t.isFinite()&&!t.isInteger()||r.isFinite()&&!r.isInteger())throw new Error("Integers expected in function bitOr");var s=t.constructor;if(t.isNaN()||r.isNaN())return new s(NaN);var n=new s(-1);return t.isZero()||r.eq(n)||t.eq(r)?r:r.isZero()||t.eq(n)?t:!t.isFinite()||!r.isFinite()?!t.isFinite()&&!t.isNegative()&&r.isNegative()||t.isNegative()&&!r.isNegative()&&!r.isFinite()?n:t.isNegative()&&r.isNegative()?t.isFinite()?t:r:t.isFinite()?r:t:bitwise(t,r,function(a,o){return a|o})}function bitwise(t,r,s){var n=t.constructor,a,o,l=+(t.s<0),u=+(r.s<0);if(l){a=decCoefficientToBinaryString(bitNotBigNumber(t));for(var f=0;f<a.length;++f)a[f]^=1}else a=decCoefficientToBinaryString(t);if(u){o=decCoefficientToBinaryString(bitNotBigNumber(r));for(var c=0;c<o.length;++c)o[c]^=1}else o=decCoefficientToBinaryString(r);var h,d,p;a.length<=o.length?(h=a,d=o,p=l):(h=o,d=a,p=u);var v=h.length,y=d.length,b=s(l,u)^1,w=new n(b^1),x=new n(1),A=new n(2),S=n.precision;for(n.config({precision:1e9});v>0;)s(h[--v],d[--y])===b&&(w=w.plus(x)),x=x.times(A);for(;y>0;)s(p,d[--y])===b&&(w=w.plus(x)),x=x.times(A);return n.config({precision:S}),b===0&&(w.s=-w.s),w}function decCoefficientToBinaryString(t){for(var r=t.d,s=r[0]+"",n=1;n<r.length;++n){for(var a=r[n]+"",o=7-a.length;o--;)a="0"+a;s+=a}for(var l=s.length;s.charAt(l)==="0";)l--;var u=t.e,f=s.slice(0,l+1||1),c=f.length;if(u>0)if(++u>c)for(u-=c;u--;)f+="0";else u<c&&(f=f.slice(0,u)+"."+f.slice(u));for(var h=[0],d=0;d<f.length;){for(var p=h.length;p--;)h[p]*=10;h[0]+=parseInt(f.charAt(d++));for(var v=0;v<h.length;++v)h[v]>1&&((h[v+1]===null||h[v+1]===void 0)&&(h[v+1]=0),h[v+1]+=h[v]>>1,h[v]&=1)}return h.reverse()}function bitXor$1(t,r){if(t.isFinite()&&!t.isInteger()||r.isFinite()&&!r.isInteger())throw new Error("Integers expected in function bitXor");var s=t.constructor;if(t.isNaN()||r.isNaN())return new s(NaN);if(t.isZero())return r;if(r.isZero())return t;if(t.eq(r))return new s(0);var n=new s(-1);return t.eq(n)?bitNotBigNumber(r):r.eq(n)?bitNotBigNumber(t):!t.isFinite()||!r.isFinite()?!t.isFinite()&&!r.isFinite()?n:new s(t.isNegative()===r.isNegative()?1/0:-1/0):bitwise(t,r,function(a,o){return a^o})}function leftShiftBigNumber(t,r){if(t.isFinite()&&!t.isInteger()||r.isFinite()&&!r.isInteger())throw new Error("Integers expected in function leftShift");var s=t.constructor;return t.isNaN()||r.isNaN()||r.isNegative()&&!r.isZero()?new s(NaN):t.isZero()||r.isZero()?t:!t.isFinite()&&!r.isFinite()?new s(NaN):r.lt(55)?t.times(Math.pow(2,r.toNumber())+""):t.times(new s(2).pow(r))}function rightArithShiftBigNumber(t,r){if(t.isFinite()&&!t.isInteger()||r.isFinite()&&!r.isInteger())throw new Error("Integers expected in function rightArithShift");var s=t.constructor;return t.isNaN()||r.isNaN()||r.isNegative()&&!r.isZero()?new s(NaN):t.isZero()||r.isZero()?t:r.isFinite()?r.lt(55)?t.div(Math.pow(2,r.toNumber())+"").floor():t.div(new s(2).pow(r)).floor():t.isNegative()?new s(-1):t.isFinite()?new s(0):new s(NaN)}var name$3C="bitAnd",dependencies$3C=["typed","matrix","equalScalar","concat"],createBitAnd=factory(name$3C,dependencies$3C,t=>{var{typed:r,matrix:s,equalScalar:n,concat:a}=t,o=createMatAlgo02xDS0({typed:r,equalScalar:n}),l=createMatAlgo06xS0S0({typed:r,equalScalar:n}),u=createMatAlgo11xS0s({typed:r,equalScalar:n}),f=createMatrixAlgorithmSuite({typed:r,matrix:s,concat:a});return r(name$3C,{"number, number":bitAndNumber,"BigNumber, BigNumber":bitAndBigNumber},f({SS:l,DS:o,Ss:u}))}),name$3B="bitNot",dependencies$3B=["typed"],createBitNot=factory(name$3B,dependencies$3B,t=>{var{typed:r}=t;return r(name$3B,{number:bitNotNumber,BigNumber:bitNotBigNumber,"Array | Matrix":r.referToSelf(s=>n=>deepMap(n,s))})}),name$3A="bitOr",dependencies$3A=["typed","matrix","equalScalar","DenseMatrix","concat"],createBitOr=factory(name$3A,dependencies$3A,t=>{var{typed:r,matrix:s,equalScalar:n,DenseMatrix:a,concat:o}=t,l=createMatAlgo01xDSid({typed:r}),u=createMatAlgo04xSidSid({typed:r,equalScalar:n}),f=createMatAlgo10xSids({typed:r,DenseMatrix:a}),c=createMatrixAlgorithmSuite({typed:r,matrix:s,concat:o});return r(name$3A,{"number, number":bitOrNumber,"BigNumber, BigNumber":bitOrBigNumber},c({SS:u,DS:l,Ss:f}))}),name$3z="matAlgo07xSSf",dependencies$3z=["typed","DenseMatrix"],createMatAlgo07xSSf=factory(name$3z,dependencies$3z,t=>{var{typed:r,DenseMatrix:s}=t;return function(o,l,u){var f=o._size,c=o._datatype,h=l._size,d=l._datatype;if(f.length!==h.length)throw new DimensionError(f.length,h.length);if(f[0]!==h[0]||f[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+f+") must match Matrix B ("+h+")");var p=f[0],v=f[1],y,b=0,w=u;typeof c=="string"&&c===d&&(y=c,b=r.convert(0,y),w=r.find(u,[y,y]));var x,A,S=[];for(x=0;x<p;x++)S[x]=[];var _=[],$=[],M=[],T=[];for(A=0;A<v;A++){var O=A+1;for(n(o,A,M,_,O),n(l,A,T,$,O),x=0;x<p;x++){var B=M[x]===O?_[x]:b,J=T[x]===O?$[x]:b;S[x][A]=w(B,J)}}return new s({data:S,size:[p,v],datatype:y})};function n(a,o,l,u,f){for(var c=a._values,h=a._index,d=a._ptr,p=d[o],v=d[o+1];p<v;p++){var y=h[p];l[y]=f,u[y]=c[p]}}}),name$3y="bitXor",dependencies$3y=["typed","matrix","DenseMatrix","concat"],createBitXor=factory(name$3y,dependencies$3y,t=>{var{typed:r,matrix:s,DenseMatrix:n,concat:a}=t,o=createMatAlgo03xDSf({typed:r}),l=createMatAlgo07xSSf({typed:r,DenseMatrix:n}),u=createMatAlgo12xSfs({typed:r,DenseMatrix:n}),f=createMatrixAlgorithmSuite({typed:r,matrix:s,concat:a});return r(name$3y,{"number, number":bitXorNumber,"BigNumber, BigNumber":bitXor$1},f({SS:l,DS:o,Ss:u}))}),name$3x="arg",dependencies$3x=["typed"],createArg=factory(name$3x,dependencies$3x,t=>{var{typed:r}=t;return r(name$3x,{number:function(n){return Math.atan2(0,n)},BigNumber:function(n){return n.constructor.atan2(0,n)},Complex:function(n){return n.arg()},"Array | Matrix":r.referToSelf(s=>n=>deepMap(n,s))})}),name$3w="conj",dependencies$3w=["typed"],createConj=factory(name$3w,dependencies$3w,t=>{var{typed:r}=t;return r(name$3w,{"number | BigNumber | Fraction":s=>s,Complex:s=>s.conjugate(),"Array | Matrix":r.referToSelf(s=>n=>deepMap(n,s))})}),name$3v="im",dependencies$3v=["typed"],createIm=factory(name$3v,dependencies$3v,t=>{var{typed:r}=t;return r(name$3v,{number:()=>0,"BigNumber | Fraction":s=>s.mul(0),Complex:s=>s.im,"Array | Matrix":r.referToSelf(s=>n=>deepMap(n,s))})}),name$3u="re",dependencies$3u=["typed"],createRe=factory(name$3u,dependencies$3u,t=>{var{typed:r}=t;return r(name$3u,{"number | BigNumber | Fraction":s=>s,Complex:s=>s.re,"Array | Matrix":r.referToSelf(s=>n=>deepMap(n,s))})}),name$3t="not",dependencies$3t=["typed"],createNot=factory(name$3t,dependencies$3t,t=>{var{typed:r}=t;return r(name$3t,{"null | undefined":()=>!0,number:notNumber,Complex:function(n){return n.re===0&&n.im===0},BigNumber:function(n){return n.isZero()||n.isNaN()},Unit:r.referToSelf(s=>n=>r.find(s,n.valueType())(n.value)),"Array | Matrix":r.referToSelf(s=>n=>deepMap(n,s))})}),name$3s="or",dependencies$3s=["typed","matrix","equalScalar","DenseMatrix","concat"],createOr=factory(name$3s,dependencies$3s,t=>{var{typed:r,matrix:s,equalScalar:n,DenseMatrix:a,concat:o}=t,l=createMatAlgo03xDSf({typed:r}),u=createMatAlgo05xSfSf({typed:r,equalScalar:n}),f=createMatAlgo12xSfs({typed:r,DenseMatrix:a}),c=createMatrixAlgorithmSuite({typed:r,matrix:s,concat:o});return r(name$3s,{"number, number":orNumber,"Complex, Complex":function(d,p){return d.re!==0||d.im!==0||p.re!==0||p.im!==0},"BigNumber, BigNumber":function(d,p){return!d.isZero()&&!d.isNaN()||!p.isZero()&&!p.isNaN()},"Unit, Unit":r.referToSelf(h=>(d,p)=>h(d.value||0,p.value||0))},c({SS:u,DS:l,Ss:f}))}),name$3r="xor",dependencies$3r=["typed","matrix","DenseMatrix","concat"],createXor=factory(name$3r,dependencies$3r,t=>{var{typed:r,matrix:s,DenseMatrix:n,concat:a}=t,o=createMatAlgo03xDSf({typed:r}),l=createMatAlgo07xSSf({typed:r,DenseMatrix:n}),u=createMatAlgo12xSfs({typed:r,DenseMatrix:n}),f=createMatrixAlgorithmSuite({typed:r,matrix:s,concat:a});return r(name$3r,{"number, number":xorNumber,"Complex, Complex":function(h,d){return(h.re!==0||h.im!==0)!=(d.re!==0||d.im!==0)},"BigNumber, BigNumber":function(h,d){return(!h.isZero()&&!h.isNaN())!=(!d.isZero()&&!d.isNaN())},"Unit, Unit":r.referToSelf(c=>(h,d)=>c(h.value||0,d.value||0))},f({SS:l,DS:o,Ss:u}))}),name$3q="concat",dependencies$3q=["typed","matrix","isInteger"],createConcat=factory(name$3q,dependencies$3q,t=>{var{typed:r,matrix:s,isInteger:n}=t;return r(name$3q,{"...Array | Matrix | number | BigNumber":function(o){var l,u=o.length,f=-1,c,h=!1,d=[];for(l=0;l<u;l++){var p=o[l];if(isMatrix(p)&&(h=!0),isNumber(p)||isBigNumber(p)){if(l!==u-1)throw new Error("Dimension must be specified as last argument");if(c=f,f=p.valueOf(),!n(f))throw new TypeError("Integer number expected for dimension");if(f<0||l>0&&f>c)throw new IndexError(f,c+1)}else{var v=clone$2(p).valueOf(),y=arraySize(v);if(d[l]=v,c=f,f=y.length-1,l>0&&f!==c)throw new DimensionError(c+1,f+1)}}if(d.length===0)throw new SyntaxError("At least one matrix expected");for(var b=d.shift();d.length;)b=_concat(b,d.shift(),f,0);return h?s(b):b},"...string":function(o){return o.join("")}})});function _concat(t,r,s,n){if(n<s){if(t.length!==r.length)throw new DimensionError(t.length,r.length);for(var a=[],o=0;o<t.length;o++)a[o]=_concat(t[o],r[o],s,n+1);return a}else return t.concat(r)}var name$3p="column",dependencies$3p=["typed","Index","matrix","range"],createColumn=factory(name$3p,dependencies$3p,t=>{var{typed:r,Index:s,matrix:n,range:a}=t;return r(name$3p,{"Matrix, number":o,"Array, number":function(u,f){return o(n(clone$2(u)),f).valueOf()}});function o(l,u){if(l.size().length!==2)throw new Error("Only two dimensional matrix is supported");validateIndex(u,l.size()[1]);var f=a(0,l.size()[0]),c=new s(f,u),h=l.subset(c);return isMatrix(h)?h:n([[h]])}}),name$3o="count",dependencies$3o=["typed","size","prod"],createCount=factory(name$3o,dependencies$3o,t=>{var{typed:r,size:s,prod:n}=t;return r(name$3o,{string:function(o){return o.length},"Matrix | Array":function(o){return n(s(o))}})}),name$3n="cross",dependencies$3n=["typed","matrix","subtract","multiply"],createCross=factory(name$3n,dependencies$3n,t=>{var{typed:r,matrix:s,subtract:n,multiply:a}=t;return r(name$3n,{"Matrix, Matrix":function(u,f){return s(o(u.toArray(),f.toArray()))},"Matrix, Array":function(u,f){return s(o(u.toArray(),f))},"Array, Matrix":function(u,f){return s(o(u,f.toArray()))},"Array, Array":o});function o(l,u){var f=Math.max(arraySize(l).length,arraySize(u).length);l=squeeze$1(l),u=squeeze$1(u);var c=arraySize(l),h=arraySize(u);if(c.length!==1||h.length!==1||c[0]!==3||h[0]!==3)throw new RangeError("Vectors with length 3 expected (Size A = ["+c.join(", ")+"], B = ["+h.join(", ")+"])");var d=[n(a(l[1],u[2]),a(l[2],u[1])),n(a(l[2],u[0]),a(l[0],u[2])),n(a(l[0],u[1]),a(l[1],u[0]))];return f>1?[d]:d}}),name$3m="diag",dependencies$3m=["typed","matrix","DenseMatrix","SparseMatrix"],createDiag=factory(name$3m,dependencies$3m,t=>{var{typed:r,matrix:s,DenseMatrix:n,SparseMatrix:a}=t;return r(name$3m,{Array:function(c){return o(c,0,arraySize(c),null)},"Array, number":function(c,h){return o(c,h,arraySize(c),null)},"Array, BigNumber":function(c,h){return o(c,h.toNumber(),arraySize(c),null)},"Array, string":function(c,h){return o(c,0,arraySize(c),h)},"Array, number, string":function(c,h,d){return o(c,h,arraySize(c),d)},"Array, BigNumber, string":function(c,h,d){return o(c,h.toNumber(),arraySize(c),d)},Matrix:function(c){return o(c,0,c.size(),c.storage())},"Matrix, number":function(c,h){return o(c,h,c.size(),c.storage())},"Matrix, BigNumber":function(c,h){return o(c,h.toNumber(),c.size(),c.storage())},"Matrix, string":function(c,h){return o(c,0,c.size(),h)},"Matrix, number, string":function(c,h,d){return o(c,h,c.size(),d)},"Matrix, BigNumber, string":function(c,h,d){return o(c,h.toNumber(),c.size(),d)}});function o(f,c,h,d){if(!isInteger$1(c))throw new TypeError("Second parameter in function diag must be an integer");var p=c>0?c:0,v=c<0?-c:0;switch(h.length){case 1:return l(f,c,d,h[0],v,p);case 2:return u(f,c,d,h,v,p)}throw new RangeError("Matrix for function diag must be 2 dimensional")}function l(f,c,h,d,p,v){var y=[d+p,d+v];if(h&&h!=="sparse"&&h!=="dense")throw new TypeError("Unknown matrix type ".concat(h,'"'));var b=h==="sparse"?a.diagonal(y,f,c):n.diagonal(y,f,c);return h!==null?b:b.valueOf()}function u(f,c,h,d,p,v){if(isMatrix(f)){var y=f.diagonal(c);return h!==null?h!==y.storage()?s(y,h):y:y.valueOf()}for(var b=Math.min(d[0]-p,d[1]-v),w=[],x=0;x<b;x++)w[x]=f[x+p][x+v];return h!==null?s(w):w}}),name$3l="filter",dependencies$3l=["typed"],createFilter=factory(name$3l,dependencies$3l,t=>{var{typed:r}=t;return r("filter",{"Array, function":_filterCallback,"Matrix, function":function(n,a){return n.create(_filterCallback(n.toArray(),a))},"Array, RegExp":filterRegExp,"Matrix, RegExp":function(n,a){return n.create(filterRegExp(n.toArray(),a))}})});function _filterCallback(t,r){var s=maxArgumentCount(r);return filter$1(t,function(n,a,o){return s===1?r(n):s===2?r(n,[a]):r(n,[a],o)})}var name$3k="flatten",dependencies$3k=["typed","matrix"],createFlatten=factory(name$3k,dependencies$3k,t=>{var{typed:r,matrix:s}=t;return r(name$3k,{Array:function(a){return flatten$1(a)},Matrix:function(a){var o=flatten$1(a.toArray());return s(o)}})}),name$3j="forEach",dependencies$3j=["typed"],createForEach=factory(name$3j,dependencies$3j,t=>{var{typed:r}=t;return r(name$3j,{"Array, function":_forEach,"Matrix, function":function(n,a){n.forEach(a)}})});function _forEach(t,r){var s=maxArgumentCount(r),n=function a(o,l){Array.isArray(o)?forEach$1(o,function(u,f){a(u,l.concat(f))}):s===1?r(o):s===2?r(o,l):r(o,l,t)};n(t,[])}var name$3i="getMatrixDataType",dependencies$3i=["typed"],createGetMatrixDataType=factory(name$3i,dependencies$3i,t=>{var{typed:r}=t;return r(name$3i,{Array:function(n){return getArrayDataType(n,typeOf$1)},Matrix:function(n){return n.getDataType()}})}),name$3h="identity",dependencies$3h=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],createIdentity=factory(name$3h,dependencies$3h,t=>{var{typed:r,config:s,matrix:n,BigNumber:a,DenseMatrix:o,SparseMatrix:l}=t;return r(name$3h,{"":function(){return s.matrix==="Matrix"?n([]):[]},string:function(h){return n(h)},"number | BigNumber":function(h){return f(h,h,s.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(h,d){return f(h,h,d)},"number | BigNumber, number | BigNumber":function(h,d){return f(h,d,s.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(h,d,p){return f(h,d,p)},Array:function(h){return u(h)},"Array, string":function(h,d){return u(h,d)},Matrix:function(h){return u(h.valueOf(),h.storage())},"Matrix, string":function(h,d){return u(h.valueOf(),d)}});function u(c,h){switch(c.length){case 0:return h?n(h):[];case 1:return f(c[0],c[0],h);case 2:return f(c[0],c[1],h);default:throw new Error("Vector containing two values expected")}}function f(c,h,d){var p=isBigNumber(c)||isBigNumber(h)?a:null;if(isBigNumber(c)&&(c=c.toNumber()),isBigNumber(h)&&(h=h.toNumber()),!isInteger$1(c)||c<1)throw new Error("Parameters in function identity must be positive integers");if(!isInteger$1(h)||h<1)throw new Error("Parameters in function identity must be positive integers");var v=p?new a(1):1,y=p?new p(0):0,b=[c,h];if(d){if(d==="sparse")return l.diagonal(b,v,0,y);if(d==="dense")return o.diagonal(b,v,0,y);throw new TypeError('Unknown matrix type "'.concat(d,'"'))}for(var w=resize$1([],b,y),x=c<h?c:h,A=0;A<x;A++)w[A][A]=v;return w}}),name$3g="kron",dependencies$3g=["typed","matrix","multiplyScalar"],createKron=factory(name$3g,dependencies$3g,t=>{var{typed:r,matrix:s,multiplyScalar:n}=t;return r(name$3g,{"Matrix, Matrix":function(l,u){return s(a(l.toArray(),u.toArray()))},"Matrix, Array":function(l,u){return s(a(l.toArray(),u))},"Array, Matrix":function(l,u){return s(a(l,u.toArray()))},"Array, Array":a});function a(o,l){if(arraySize(o).length===1&&(o=[o]),arraySize(l).length===1&&(l=[l]),arraySize(o).length>2||arraySize(l).length>2)throw new RangeError("Vectors with dimensions greater then 2 are not supported expected (Size x = "+JSON.stringify(o.length)+", y = "+JSON.stringify(l.length)+")");var u=[],f=[];return o.map(function(c){return l.map(function(h){return f=[],u.push(f),c.map(function(d){return h.map(function(p){return f.push(n(d,p))})})})})&&u}}),name$3f="map",dependencies$3f=["typed"],createMap=factory(name$3f,dependencies$3f,t=>{var{typed:r}=t;return r(name$3f,{"Array, function":_map$1,"Matrix, function":function(n,a){return n.map(a)}})});function _map$1(t,r){var s=maxArgumentCount(r),n=function a(o,l){if(Array.isArray(o))return o.map(function(c,h){return a(c,l.concat(h))});try{return s===1?r(o):s===2?r(o,l):r(o,l,t)}catch(c){if(c instanceof TypeError&&"data"in c&&c.data.category==="wrongType"){var u="map attempted to call '".concat(c.data.fn,"(").concat(o),f=JSON.stringify(l);throw s===2?u+=","+f:s!==1&&(u+=",".concat(f,",").concat(t)),u+=")' but argument ".concat(c.data.index+1," of type "),u+="".concat(c.data.actual," does not match expected type "),u+=c.data.expected.join(" or "),new TypeError(u)}throw c}};return n(t,[])}var name$3e="diff",dependencies$3e=["typed","matrix","subtract","number"],createDiff=factory(name$3e,dependencies$3e,t=>{var{typed:r,matrix:s,subtract:n,number:a}=t;return r(name$3e,{"Array | Matrix":function(h){return isMatrix(h)?s(l(h.toArray())):l(h)},"Array | Matrix, number":function(h,d){if(!isInteger$1(d))throw new RangeError("Dimension must be a whole number");return isMatrix(h)?s(o(h.toArray(),d)):o(h,d)},"Array, BigNumber":r.referTo("Array,number",c=>(h,d)=>c(h,a(d))),"Matrix, BigNumber":r.referTo("Matrix,number",c=>(h,d)=>c(h,a(d)))});function o(c,h){if(isMatrix(c)&&(c=c.toArray()),!Array.isArray(c))throw RangeError("Array/Matrix does not have that many dimensions");if(h>0){var d=[];return c.forEach(p=>{d.push(o(p,h-1))}),d}else{if(h===0)return l(c);throw RangeError("Cannot have negative dimension")}}function l(c){for(var h=[],d=c.length,p=1;p<d;p++)h.push(u(c[p-1],c[p]));return h}function u(c,h){isMatrix(c)&&(c=c.toArray()),isMatrix(h)&&(h=h.toArray());var d=Array.isArray(c),p=Array.isArray(h);if(d&&p)return f(c,h);if(!d&&!p)return n(h,c);throw TypeError("Cannot calculate difference between 1 array and 1 non-array")}function f(c,h){if(c.length!==h.length)throw RangeError("Not all sub-arrays have the same length");for(var d=[],p=c.length,v=0;v<p;v++)d.push(u(c[v],h[v]));return d}}),name$3d="ones",dependencies$3d=["typed","config","matrix","BigNumber"],createOnes=factory(name$3d,dependencies$3d,t=>{var{typed:r,config:s,matrix:n,BigNumber:a}=t;return r("ones",{"":function(){return s.matrix==="Array"?o([]):o([],"default")},"...number | BigNumber | string":function(c){var h=c[c.length-1];if(typeof h=="string"){var d=c.pop();return o(c,d)}else return s.matrix==="Array"?o(c):o(c,"default")},Array:o,Matrix:function(c){var h=c.storage();return o(c.valueOf(),h)},"Array | Matrix, string":function(c,h){return o(c.valueOf(),h)}});function o(f,c){var h=l(f),d=h?new a(1):1;if(u(f),c){var p=n(c);return f.length>0?p.resize(f,d):p}else{var v=[];return f.length>0?resize$1(v,f,d):v}}function l(f){var c=!1;return f.forEach(function(h,d,p){isBigNumber(h)&&(c=!0,p[d]=h.toNumber())}),c}function u(f){f.forEach(function(c){if(typeof c!="number"||!isInteger$1(c)||c<0)throw new Error("Parameters in function ones must be positive integers")})}});function noBignumber(){throw new Error('No "bignumber" implementation available')}function noFraction(){throw new Error('No "fraction" implementation available')}function noMatrix(){throw new Error('No "matrix" implementation available')}var name$3c="range",dependencies$3c=["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq"],createRange=factory(name$3c,dependencies$3c,t=>{var{typed:r,config:s,matrix:n,bignumber:a,smaller:o,smallerEq:l,larger:u,largerEq:f}=t;return r(name$3c,{string:h,"string, boolean":h,"number, number":function(x,A){return c(d(x,A,1))},"number, number, number":function(x,A,S){return c(d(x,A,S))},"number, number, boolean":function(x,A,S){return c(S?p(x,A,1):d(x,A,1))},"number, number, number, boolean":function(x,A,S,_){return c(_?p(x,A,S):d(x,A,S))},"BigNumber, BigNumber":function(x,A){var S=x.constructor;return c(v(x,A,new S(1)))},"BigNumber, BigNumber, BigNumber":function(x,A,S){return c(v(x,A,S))},"BigNumber, BigNumber, boolean":function(x,A,S){var _=x.constructor;return c(S?y(x,A,new _(1)):v(x,A,new _(1)))},"BigNumber, BigNumber, BigNumber, boolean":function(x,A,S,_){return c(_?y(x,A,S):v(x,A,S))}});function c(w){return s.matrix==="Matrix"?n?n(w):noMatrix():w}function h(w,x){var A=b(w);if(!A)throw new SyntaxError('String "'+w+'" is no valid range');var S;return s.number==="BigNumber"?(a===void 0&&noBignumber(),S=x?y:v,c(S(a(A.start),a(A.end),a(A.step)))):(S=x?p:d,c(S(A.start,A.end,A.step)))}function d(w,x,A){var S=[],_=w;if(A>0)for(;o(_,x);)S.push(_),_+=A;else if(A<0)for(;u(_,x);)S.push(_),_+=A;return S}function p(w,x,A){var S=[],_=w;if(A>0)for(;l(_,x);)S.push(_),_+=A;else if(A<0)for(;f(_,x);)S.push(_),_+=A;return S}function v(w,x,A){var S=a(0),_=[],$=w;if(A.gt(S))for(;o($,x);)_.push($),$=$.plus(A);else if(A.lt(S))for(;u($,x);)_.push($),$=$.plus(A);return _}function y(w,x,A){var S=a(0),_=[],$=w;if(A.gt(S))for(;l($,x);)_.push($),$=$.plus(A);else if(A.lt(S))for(;f($,x);)_.push($),$=$.plus(A);return _}function b(w){var x=w.split(":"),A=x.map(function(_){return Number(_)}),S=A.some(function(_){return isNaN(_)});if(S)return null;switch(A.length){case 2:return{start:A[0],end:A[1],step:1};case 3:return{start:A[0],end:A[2],step:A[1]};default:return null}}}),name$3b="reshape",dependencies$3b=["typed","isInteger","matrix"],createReshape=factory(name$3b,dependencies$3b,t=>{var{typed:r,isInteger:s}=t;return r(name$3b,{"Matrix, Array":function(a,o){return a.reshape(o,!0)},"Array, Array":function(a,o){return o.forEach(function(l){if(!s(l))throw new TypeError("Invalid size for dimension: "+l)}),reshape$1(a,o)}})}),name$3a="resize",dependencies$3a=["config","matrix"],createResize=factory(name$3a,dependencies$3a,t=>{var{config:r,matrix:s}=t;return function(o,l,u){if(arguments.length!==2&&arguments.length!==3)throw new ArgumentsError("resize",arguments.length,2,3);if(isMatrix(l)&&(l=l.valueOf()),isBigNumber(l[0])&&(l=l.map(function(h){return isBigNumber(h)?h.toNumber():h})),isMatrix(o))return o.resize(l,u,!0);if(typeof o=="string")return n(o,l,u);var f=Array.isArray(o)?!1:r.matrix!=="Array";if(l.length===0){for(;Array.isArray(o);)o=o[0];return clone$2(o)}else{Array.isArray(o)||(o=[o]),o=clone$2(o);var c=resize$1(o,l,u);return f?s(c):c}};function n(a,o,l){if(l!==void 0){if(typeof l!="string"||l.length!==1)throw new TypeError("Single character expected as defaultValue")}else l=" ";if(o.length!==1)throw new DimensionError(o.length,1);var u=o[0];if(typeof u!="number"||!isInteger$1(u))throw new TypeError("Invalid size, must contain positive integers (size: "+format$1(o)+")");if(a.length>u)return a.substring(0,u);if(a.length<u){for(var f=a,c=0,h=u-a.length;c<h;c++)f+=l;return f}else return a}}),name$39="rotate",dependencies$39=["typed","multiply","rotationMatrix"],createRotate=factory(name$39,dependencies$39,t=>{var{typed:r,multiply:s,rotationMatrix:n}=t;return r(name$39,{"Array , number | BigNumber | Complex | Unit":function(l,u){a(l,2);var f=s(n(u),l);return f.toArray()},"Matrix , number | BigNumber | Complex | Unit":function(l,u){return a(l,2),s(n(u),l)},"Array, number | BigNumber | Complex | Unit, Array | Matrix":function(l,u,f){a(l,3);var c=s(n(u,f),l);return c},"Matrix, number | BigNumber | Complex | Unit, Array | Matrix":function(l,u,f){return a(l,3),s(n(u,f),l)}});function a(o,l){var u=Array.isArray(o)?arraySize(o):o.size();if(u.length>2)throw new RangeError("Vector must be of dimensions 1x".concat(l));if(u.length===2&&u[1]!==1)throw new RangeError("Vector must be of dimensions 1x".concat(l));if(u[0]!==l)throw new RangeError("Vector must be of dimensions 1x".concat(l))}}),name$38="rotationMatrix",dependencies$38=["typed","config","multiplyScalar","addScalar","unaryMinus","norm","matrix","BigNumber","DenseMatrix","SparseMatrix","cos","sin"],createRotationMatrix=factory(name$38,dependencies$38,t=>{var{typed:r,config:s,multiplyScalar:n,addScalar:a,unaryMinus:o,norm:l,BigNumber:u,matrix:f,DenseMatrix:c,SparseMatrix:h,cos:d,sin:p}=t;return r(name$38,{"":function(){return s.matrix==="Matrix"?f([]):[]},string:function(S){return f(S)},"number | BigNumber | Complex | Unit":function(S){return v(S,s.matrix==="Matrix"?"dense":void 0)},"number | BigNumber | Complex | Unit, string":function(S,_){return v(S,_)},"number | BigNumber | Complex | Unit, Array":function(S,_){var $=f(_);return y($),x(S,$,void 0)},"number | BigNumber | Complex | Unit, Matrix":function(S,_){y(_);var $=_.storage()||(s.matrix==="Matrix"?"dense":void 0);return x(S,_,$)},"number | BigNumber | Complex | Unit, Array, string":function(S,_,$){var M=f(_);return y(M),x(S,M,$)},"number | BigNumber | Complex | Unit, Matrix, string":function(S,_,$){return y(_),x(S,_,$)}});function v(A,S){var _=isBigNumber(A),$=_?new u(-1):-1,M=d(A),T=p(A),O=[[M,n($,T)],[T,M]];return w(O,S)}function y(A){var S=A.size();if(S.length<1||S[0]!==3)throw new RangeError("Vector must be of dimensions 1x3")}function b(A){return A.reduce((S,_)=>n(S,_))}function w(A,S){if(S){if(S==="sparse")return new h(A);if(S==="dense")return new c(A);throw new TypeError('Unknown matrix type "'.concat(S,'"'))}return A}function x(A,S,_){var $=l(S);if($===0)throw new RangeError("Rotation around zero vector");var M=isBigNumber(A)?u:null,T=M?new M(1):1,O=M?new M(-1):-1,B=M?new M(S.get([0])/$):S.get([0])/$,J=M?new M(S.get([1])/$):S.get([1])/$,F=M?new M(S.get([2])/$):S.get([2])/$,z=d(A),Z=a(T,o(z)),se=p(A),ie=a(z,b([B,B,Z])),U=a(b([B,J,Z]),b([O,F,se])),H=a(b([B,F,Z]),b([J,se])),ue=a(b([B,J,Z]),b([F,se])),Y=a(z,b([J,J,Z])),K=a(b([J,F,Z]),b([O,B,se])),te=a(b([B,F,Z]),b([O,J,se])),ae=a(b([J,F,Z]),b([B,se])),ee=a(z,b([F,F,Z])),de=[[ie,U,H],[ue,Y,K],[te,ae,ee]];return w(de,_)}}),name$37="row",dependencies$37=["typed","Index","matrix","range"],createRow=factory(name$37,dependencies$37,t=>{var{typed:r,Index:s,matrix:n,range:a}=t;return r(name$37,{"Matrix, number":o,"Array, number":function(u,f){return o(n(clone$2(u)),f).valueOf()}});function o(l,u){if(l.size().length!==2)throw new Error("Only two dimensional matrix is supported");validateIndex(u,l.size()[0]);var f=a(0,l.size()[1]),c=new s(u,f),h=l.subset(c);return isMatrix(h)?h:n([[h]])}}),name$36="size",dependencies$36=["typed","config","?matrix"],createSize=factory(name$36,dependencies$36,t=>{var{typed:r,config:s,matrix:n}=t;return r(name$36,{Matrix:function(o){return o.create(o.size())},Array:arraySize,string:function(o){return s.matrix==="Array"?[o.length]:n([o.length])},"number | Complex | BigNumber | Unit | boolean | null":function(o){return s.matrix==="Array"?[]:n?n([]):noMatrix()}})}),name$35="squeeze",dependencies$35=["typed","matrix"],createSqueeze=factory(name$35,dependencies$35,t=>{var{typed:r,matrix:s}=t;return r(name$35,{Array:function(a){return squeeze$1(clone$2(a))},Matrix:function(a){var o=squeeze$1(a.toArray());return Array.isArray(o)?s(o):o},any:function(a){return clone$2(a)}})}),name$34="subset",dependencies$34=["typed","matrix"],createSubset=factory(name$34,dependencies$34,t=>{var{typed:r,matrix:s}=t;return r(name$34,{"Array, Index":function(a,o){var l=s(a),u=l.subset(o);return o.isScalar()?u:u.valueOf()},"Matrix, Index":function(a,o){return a.subset(o)},"Object, Index":_getObjectProperty,"string, Index":_getSubstring,"Array, Index, any":function(a,o,l){return s(clone$2(a)).subset(o,l,void 0).valueOf()},"Array, Index, any, any":function(a,o,l,u){return s(clone$2(a)).subset(o,l,u).valueOf()},"Matrix, Index, any":function(a,o,l){return a.clone().subset(o,l)},"Matrix, Index, any, any":function(a,o,l,u){return a.clone().subset(o,l,u)},"string, Index, string":_setSubstring,"string, Index, string, string":_setSubstring,"Object, Index, any":_setObjectProperty})});function _getSubstring(t,r){if(!isIndex(r))throw new TypeError("Index expected");if(r.size().length!==1)throw new DimensionError(r.size().length,1);var s=t.length;validateIndex(r.min()[0],s),validateIndex(r.max()[0],s);var n=r.dimension(0),a="";return n.forEach(function(o){a+=t.charAt(o)}),a}function _setSubstring(t,r,s,n){if(!r||r.isIndex!==!0)throw new TypeError("Index expected");if(r.size().length!==1)throw new DimensionError(r.size().length,1);if(n!==void 0){if(typeof n!="string"||n.length!==1)throw new TypeError("Single character expected as defaultValue")}else n=" ";var a=r.dimension(0),o=a.size()[0];if(o!==s.length)throw new DimensionError(a.size()[0],s.length);var l=t.length;validateIndex(r.min()[0]),validateIndex(r.max()[0]);for(var u=[],f=0;f<l;f++)u[f]=t.charAt(f);if(a.forEach(function(d,p){u[d]=s.charAt(p[0])}),u.length>l)for(var c=l-1,h=u.length;c<h;c++)u[c]||(u[c]=n);return u.join("")}function _getObjectProperty(t,r){if(r.size().length!==1)throw new DimensionError(r.size(),1);var s=r.dimension(0);if(typeof s!="string")throw new TypeError("String expected as index to retrieve an object property");return getSafeProperty(t,s)}function _setObjectProperty(t,r,s){if(r.size().length!==1)throw new DimensionError(r.size(),1);var n=r.dimension(0);if(typeof n!="string")throw new TypeError("String expected as index to retrieve an object property");var a=clone$2(t);return setSafeProperty(a,n,s),a}var name$33="transpose",dependencies$33=["typed","matrix"],createTranspose=factory(name$33,dependencies$33,t=>{var{typed:r,matrix:s}=t;return r(name$33,{Array:l=>n(s(l)).valueOf(),Matrix:n,any:clone$2});function n(l){var u=l.size(),f;switch(u.length){case 1:f=l.clone();break;case 2:{var c=u[0],h=u[1];if(h===0)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+format$1(u)+")");switch(l.storage()){case"dense":f=a(l,c,h);break;case"sparse":f=o(l,c,h);break}}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+format$1(u)+")")}return f}function a(l,u,f){for(var c=l._data,h=[],d,p=0;p<f;p++){d=h[p]=[];for(var v=0;v<u;v++)d[v]=clone$2(c[v][p])}return l.createDenseMatrix({data:h,size:[f,u],datatype:l._datatype})}function o(l,u,f){for(var c=l._values,h=l._index,d=l._ptr,p=c?[]:void 0,v=[],y=[],b=[],w=0;w<u;w++)b[w]=0;var x,A,S;for(x=0,A=h.length;x<A;x++)b[h[x]]++;for(var _=0,$=0;$<u;$++)y.push(_),_+=b[$],b[$]=y[$];for(y.push(_),S=0;S<f;S++)for(var M=d[S],T=d[S+1],O=M;O<T;O++){var B=b[h[O]]++;v[B]=S,c&&(p[B]=clone$2(c[O]))}return l.createSparseMatrix({values:p,index:v,ptr:y,size:[f,u],datatype:l._datatype})}}),name$32="ctranspose",dependencies$32=["typed","transpose","conj"],createCtranspose=factory(name$32,dependencies$32,t=>{var{typed:r,transpose:s,conj:n}=t;return r(name$32,{any:function(o){return n(s(o))}})}),name$31="zeros",dependencies$31=["typed","config","matrix","BigNumber"],createZeros=factory(name$31,dependencies$31,t=>{var{typed:r,config:s,matrix:n,BigNumber:a}=t;return r(name$31,{"":function(){return s.matrix==="Array"?o([]):o([],"default")},"...number | BigNumber | string":function(c){var h=c[c.length-1];if(typeof h=="string"){var d=c.pop();return o(c,d)}else return s.matrix==="Array"?o(c):o(c,"default")},Array:o,Matrix:function(c){var h=c.storage();return o(c.valueOf(),h)},"Array | Matrix, string":function(c,h){return o(c.valueOf(),h)}});function o(f,c){var h=l(f),d=h?new a(0):0;if(u(f),c){var p=n(c);return f.length>0?p.resize(f,d):p}else{var v=[];return f.length>0?resize$1(v,f,d):v}}function l(f){var c=!1;return f.forEach(function(h,d,p){isBigNumber(h)&&(c=!0,p[d]=h.toNumber())}),c}function u(f){f.forEach(function(c){if(typeof c!="number"||!isInteger$1(c)||c<0)throw new Error("Parameters in function zeros must be positive integers")})}}),name$30="fft",dependencies$30=["typed","matrix","addScalar","multiplyScalar","divideScalar","exp","tau","i","dotDivide","conj","pow","ceil","log2"],createFft=factory(name$30,dependencies$30,t=>{var{typed:r,matrix:s,addScalar:n,multiplyScalar:a,divideScalar:o,exp:l,tau:u,i:f,dotDivide:c,conj:h,pow:d,ceil:p,log2:v}=t;return r(name$30,{Array:y,Matrix:function(S){return S.create(y(S.toArray()))}});function y(A){var S=arraySize(A);return S.length===1?x(A,S[0]):b(A.map(_=>y(_,S.slice(1))),0)}function b(A,S){var _=arraySize(A);if(S!==0)return new Array(_[0]).fill(0).map((M,T)=>b(A[T],S-1));if(_.length===1)return x(A);function $(M){var T=arraySize(M);return new Array(T[1]).fill(0).map((O,B)=>new Array(T[0]).fill(0).map((J,F)=>M[F][B]))}return $(b($(A),1))}function w(A){for(var S=A.length,_=l(o(a(-1,a(f,u)),S)),$=[],M=1-S;M<S;M++)$.push(d(_,o(d(M,2),2)));for(var T=d(2,p(v(S+S-1))),O=[...new Array(S).fill(0).map((U,H)=>a(A[H],$[S-1+H])),...new Array(T-S).fill(0)],B=[...new Array(S+S-1).fill(0).map((U,H)=>o(1,$[H])),...new Array(T-(S+S-1)).fill(0)],J=x(O),F=x(B),z=new Array(T).fill(0).map((U,H)=>a(J[H],F[H])),Z=c(h(y(h(z))),T),se=[],ie=S-1;ie<S+S-1;ie++)se.push(a(Z[ie],$[ie]));return se}function x(A){var S=A.length;if(S===1)return[A[0]];if(S%2===0){for(var _=[...x(A.filter((O,B)=>B%2===0)),...x(A.filter((O,B)=>B%2===1))],$=0;$<S/2;$++){var M=_[$],T=a(_[$+S/2],l(a(a(u,f),o(-$,S))));_[$]=n(M,T),_[$+S/2]=n(M,a(-1,T))}return _}else return w(A)}}),name$2$="ifft",dependencies$2$=["typed","fft","dotDivide","conj"],createIfft=factory(name$2$,dependencies$2$,t=>{var{typed:r,fft:s,dotDivide:n,conj:a}=t;return r(name$2$,{"Array | Matrix":function(l){var u=isMatrix(l)?l.size():arraySize(l);return n(a(s(a(l))),u.reduce((f,c)=>f*c,1))}})}),name$2_="erf",dependencies$2_=["typed"],createErf=factory(name$2_,dependencies$2_,t=>{var{typed:r}=t;return r("name",{number:function(l){var u=Math.abs(l);return u>=MAX_NUM?sign$2(l):u<=THRESH?sign$2(l)*s(u):u<=4?sign$2(l)*(1-n(u)):sign$2(l)*(1-a(u))},"Array | Matrix":r.referToSelf(o=>l=>deepMap(l,o))});function s(o){var l=o*o,u=P[0][4]*l,f=l,c;for(c=0;c<3;c+=1)u=(u+P[0][c])*l,f=(f+Q[0][c])*l;return o*(u+P[0][3])/(f+Q[0][3])}function n(o){var l=P[1][8]*o,u=o,f;for(f=0;f<7;f+=1)l=(l+P[1][f])*o,u=(u+Q[1][f])*o;var c=(l+P[1][7])/(u+Q[1][7]),h=parseInt(o*16)/16,d=(o-h)*(o+h);return Math.exp(-h*h)*Math.exp(-d)*c}function a(o){var l=1/(o*o),u=P[2][5]*l,f=l,c;for(c=0;c<4;c+=1)u=(u+P[2][c])*l,f=(f+Q[2][c])*l;var h=l*(u+P[2][4])/(f+Q[2][4]);h=(SQRPI-h)/o,l=parseInt(o*16)/16;var d=(o-l)*(o+l);return Math.exp(-l*l)*Math.exp(-d)*h}}),THRESH=.46875,SQRPI=.5641895835477563,P=[[3.1611237438705655,113.86415415105016,377.485237685302,3209.3775891384694,.18577770618460315],[.5641884969886701,8.883149794388377,66.11919063714163,298.6351381974001,881.952221241769,1712.0476126340707,2051.0783778260716,1230.3393547979972,21531153547440383e-24],[.30532663496123236,.36034489994980445,.12578172611122926,.016083785148742275,.0006587491615298378,.016315387137302097]],Q=[[23.601290952344122,244.02463793444417,1282.6165260773723,2844.236833439171],[15.744926110709835,117.6939508913125,537.1811018620099,1621.3895745666903,3290.7992357334597,4362.619090143247,3439.3676741437216,1230.3393548037495],[2.568520192289822,1.8729528499234604,.5279051029514285,.06051834131244132,.0023352049762686918]],MAX_NUM=Math.pow(2,53),name$2Z="mode",dependencies$2Z=["typed","isNaN","isNumeric"],createMode=factory(name$2Z,dependencies$2Z,t=>{var{typed:r,isNaN:s,isNumeric:n}=t;return r(name$2Z,{"Array | Matrix":a,"...":function(l){return a(l)}});function a(o){o=flatten$1(o.valueOf());var l=o.length;if(l===0)throw new Error("Cannot calculate mode of an empty array");for(var u={},f=[],c=0,h=0;h<o.length;h++){var d=o[h];if(n(d)&&s(d))throw new Error("Cannot calculate mode of an array containing NaN values");d in u||(u[d]=0),u[d]++,u[d]===c?f.push(d):u[d]>c&&(c=u[d],f=[d])}return f}});function improveErrorMessage(t,r,s){var n;return String(t).indexOf("Unexpected type")!==-1?(n=arguments.length>2?" (type: "+typeOf$1(s)+", value: "+JSON.stringify(s)+")":" (type: "+t.data.actual+")",new TypeError("Cannot calculate "+r+", unexpected type of argument"+n)):String(t).indexOf("complex numbers")!==-1?(n=arguments.length>2?" (type: "+typeOf$1(s)+", value: "+JSON.stringify(s)+")":"",new TypeError("Cannot calculate "+r+", no ordering relation is defined for complex numbers"+n)):t}var name$2Y="prod",dependencies$2Y=["typed","config","multiplyScalar","numeric"],createProd=factory(name$2Y,dependencies$2Y,t=>{var{typed:r,config:s,multiplyScalar:n,numeric:a}=t;return r(name$2Y,{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(u,f){throw new Error("prod(A, dim) is not yet supported")},"...":function(u){return o(u)}});function o(l){var u;if(deepForEach(l,function(f){try{u=u===void 0?f:n(u,f)}catch(c){throw improveErrorMessage(c,"prod",f)}}),typeof u=="string"&&(u=a(u,s.number)),u===void 0)throw new Error("Cannot calculate prod of an empty array");return u}}),name$2X="format",dependencies$2X=["typed"],createFormat=factory(name$2X,dependencies$2X,t=>{var{typed:r}=t;return r(name$2X,{any:format$1,"any, Object | function | number":format$1})}),name$2W="bin",dependencies$2W=["typed","format"],createBin=factory(name$2W,dependencies$2W,t=>{var{typed:r,format:s}=t;return r(name$2W,{"number | BigNumber":function(a){return s(a,{notation:"bin"})},"number | BigNumber, number":function(a,o){return s(a,{notation:"bin",wordSize:o})}})}),name$2V="oct",dependencies$2V=["typed","format"],createOct=factory(name$2V,dependencies$2V,t=>{var{typed:r,format:s}=t;return r(name$2V,{"number | BigNumber":function(a){return s(a,{notation:"oct"})},"number | BigNumber, number":function(a,o){return s(a,{notation:"oct",wordSize:o})}})}),name$2U="hex",dependencies$2U=["typed","format"],createHex=factory(name$2U,dependencies$2U,t=>{var{typed:r,format:s}=t;return r(name$2U,{"number | BigNumber":function(a){return s(a,{notation:"hex"})},"number | BigNumber, number":function(a,o){return s(a,{notation:"hex",wordSize:o})}})}),name$2T="print",dependencies$2T=["typed"],createPrint=factory(name$2T,dependencies$2T,t=>{var{typed:r}=t;return r(name$2T,{"string, Object | Array":_print,"string, Object | Array, number | Object":_print})});function _print(t,r,s){return t.replace(/\$([\w.]+)/g,function(n,a){for(var o=a.split("."),l=r[o.shift()];o.length&&l!==void 0;){var u=o.shift();l=u?l[u]:l+"."}return l!==void 0?isString(l)?l:format$1(l,s):n})}var name$2S="to",dependencies$2S=["typed","matrix","concat"],createTo=factory(name$2S,dependencies$2S,t=>{var{typed:r,matrix:s,concat:n}=t,a=createMatrixAlgorithmSuite({typed:r,matrix:s,concat:n});return r(name$2S,{"Unit, Unit | string":(o,l)=>o.to(l)},a({Ds:!0}))}),name$2R="isPrime",dependencies$2R=["typed"],createIsPrime=factory(name$2R,dependencies$2R,t=>{var{typed:r}=t;return r(name$2R,{number:function(n){if(n*0!==0)return!1;if(n<=3)return n>1;if(n%2===0||n%3===0)return!1;for(var a=5;a*a<=n;a+=6)if(n%a===0||n%(a+2)===0)return!1;return!0},BigNumber:function(n){if(n.toNumber()*0!==0)return!1;if(n.lte(3))return n.gt(1);if(n.mod(2).eq(0)||n.mod(3).eq(0))return!1;if(n.lt(Math.pow(2,32))){for(var a=n.toNumber(),o=5;o*o<=a;o+=6)if(a%o===0||a%(o+2)===0)return!1;return!0}function l(A,S,_){for(var $=1;!S.eq(0);)S.mod(2).eq(0)?(S=S.div(2),A=A.mul(A).mod(_)):(S=S.sub(1),$=A.mul($).mod(_));return $}var u=n.constructor.clone({precision:n.toFixed(0).length*2});n=new u(n);for(var f=0,c=n.sub(1);c.mod(2).eq(0);)c=c.div(2),f+=1;var h=null;if(n.lt("3317044064679887385961981"))h=[2,3,5,7,11,13,17,19,23,29,31,37,41].filter(A=>A<n);else{var d=Math.min(n.toNumber()-2,Math.floor(2*Math.pow(n.toFixed(0).length*Math.log(10),2)));h=[];for(var p=2;p<=d;p+=1)h.push(d)}for(var v=0;v<h.length;v+=1){var y=h[v],b=l(n.sub(n).add(y),c,n);if(!b.eq(1)){for(var w=0,x=b;!x.eq(n.sub(1));w+=1,x=x.mul(x).mod(n))if(w===f-1)return!1}}return!0},"Array | Matrix":r.referToSelf(s=>n=>deepMap(n,s))})}),name$2Q="numeric",dependencies$2Q=["number","?bignumber","?fraction"],createNumeric=factory(name$2Q,dependencies$2Q,t=>{var{number:r,bignumber:s,fraction:n}=t,a={string:!0,number:!0,BigNumber:!0,Fraction:!0},o={number:l=>r(l),BigNumber:s?l=>s(l):noBignumber,Fraction:n?l=>n(l):noFraction};return function(u){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",c=arguments.length>2?arguments[2]:void 0;if(c!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var h=typeOf$1(u);if(!(h in a))throw new TypeError("Cannot convert "+u+' of type "'+h+'"; valid input types are '+Object.keys(a).join(", "));if(!(f in o))throw new TypeError("Cannot convert "+u+' to type "'+f+'"; valid output types are '+Object.keys(o).join(", "));return f===h?u:o[f](u)}}),name$2P="divideScalar",dependencies$2P=["typed","numeric"],createDivideScalar=factory(name$2P,dependencies$2P,t=>{var{typed:r,numeric:s}=t;return r(name$2P,{"number, number":function(a,o){return a/o},"Complex, Complex":function(a,o){return a.div(o)},"BigNumber, BigNumber":function(a,o){return a.div(o)},"Fraction, Fraction":function(a,o){return a.div(o)},"Unit, number | Complex | Fraction | BigNumber | Unit":(n,a)=>n.divide(a),"number | Fraction | Complex | BigNumber, Unit":(n,a)=>a.divideInto(n)})}),name$2O="pow",dependencies$2O=["typed","config","identity","multiply","matrix","inv","fraction","number","Complex"],createPow=factory(name$2O,dependencies$2O,t=>{var{typed:r,config:s,identity:n,multiply:a,matrix:o,inv:l,number:u,fraction:f,Complex:c}=t;return r(name$2O,{"number, number":h,"Complex, Complex":function(y,b){return y.pow(b)},"BigNumber, BigNumber":function(y,b){return b.isInteger()||y>=0||s.predictable?y.pow(b):new c(y.toNumber(),0).pow(b.toNumber(),0)},"Fraction, Fraction":function(y,b){var w=y.pow(b);if(w!=null)return w;if(s.predictable)throw new Error("Result of pow is non-rational and cannot be expressed as a fraction");return h(y.valueOf(),b.valueOf())},"Array, number":d,"Array, BigNumber":function(y,b){return d(y,b.toNumber())},"Matrix, number":p,"Matrix, BigNumber":function(y,b){return p(y,b.toNumber())},"Unit, number | BigNumber":function(y,b){return y.pow(b)}});function h(v,y){if(s.predictable&&!isInteger$1(y)&&v<0)try{var b=f(y),w=u(b);if((y===w||Math.abs((y-w)/y)<1e-14)&&b.d%2===1)return(b.n%2===0?1:-1)*Math.pow(-v,y)}catch{}return s.predictable&&(v<-1&&y===1/0||v>-1&&v<0&&y===-1/0)?NaN:isInteger$1(y)||v>=0||s.predictable?powNumber(v,y):v*v<1&&y===1/0||v*v>1&&y===-1/0?0:new c(v,0).pow(y,0)}function d(v,y){if(!isInteger$1(y))throw new TypeError("For A^b, b must be an integer (value is "+y+")");var b=arraySize(v);if(b.length!==2)throw new Error("For A^b, A must be 2 dimensional (A has "+b.length+" dimensions)");if(b[0]!==b[1])throw new Error("For A^b, A must be square (size is "+b[0]+"x"+b[1]+")");if(y<0)try{return d(l(v),-y)}catch(A){throw A.message==="Cannot calculate inverse, determinant is zero"?new TypeError("For A^b, when A is not invertible, b must be a positive integer (value is "+y+")"):A}for(var w=n(b[0]).valueOf(),x=v;y>=1;)(y&1)===1&&(w=a(x,w)),y>>=1,x=a(x,x);return w}function p(v,y){return o(d(v.valueOf(),y))}}),NO_INT="Number of decimals in function round must be an integer",name$2N="round",dependencies$2N=["typed","matrix","equalScalar","zeros","BigNumber","DenseMatrix"],createRound=factory(name$2N,dependencies$2N,t=>{var{typed:r,matrix:s,equalScalar:n,zeros:a,BigNumber:o,DenseMatrix:l}=t,u=createMatAlgo11xS0s({typed:r,equalScalar:n}),f=createMatAlgo12xSfs({typed:r,DenseMatrix:l}),c=createMatAlgo14xDs({typed:r});return r(name$2N,{number:roundNumber,"number, number":roundNumber,"number, BigNumber":function(d,p){if(!p.isInteger())throw new TypeError(NO_INT);return new o(d).toDecimalPlaces(p.toNumber())},Complex:function(d){return d.round()},"Complex, number":function(d,p){if(p%1)throw new TypeError(NO_INT);return d.round(p)},"Complex, BigNumber":function(d,p){if(!p.isInteger())throw new TypeError(NO_INT);var v=p.toNumber();return d.round(v)},BigNumber:function(d){return d.toDecimalPlaces(0)},"BigNumber, BigNumber":function(d,p){if(!p.isInteger())throw new TypeError(NO_INT);return d.toDecimalPlaces(p.toNumber())},Fraction:function(d){return d.round()},"Fraction, number":function(d,p){if(p%1)throw new TypeError(NO_INT);return d.round(p)},"Fraction, BigNumber":function(d,p){if(!p.isInteger())throw new TypeError(NO_INT);return d.round(p.toNumber())},"Array | Matrix":r.referToSelf(h=>d=>deepMap(d,h)),"SparseMatrix, number | BigNumber":r.referToSelf(h=>(d,p)=>u(d,p,h,!1)),"DenseMatrix, number | BigNumber":r.referToSelf(h=>(d,p)=>c(d,p,h,!1)),"Array, number | BigNumber":r.referToSelf(h=>(d,p)=>c(s(d),p,h,!1).valueOf()),"number | Complex | BigNumber | Fraction, SparseMatrix":r.referToSelf(h=>(d,p)=>n(d,0)?a(p.size(),p.storage()):f(p,d,h,!0)),"number | Complex | BigNumber | Fraction, DenseMatrix":r.referToSelf(h=>(d,p)=>n(d,0)?a(p.size(),p.storage()):c(p,d,h,!0)),"number | Complex | BigNumber | Fraction, Array":r.referToSelf(h=>(d,p)=>c(s(p),d,h,!0).valueOf())})}),name$2M="log",dependencies$2M=["config","typed","divideScalar","Complex"],createLog=factory(name$2M,dependencies$2M,t=>{var{typed:r,config:s,divideScalar:n,Complex:a}=t;return r(name$2M,{number:function(l){return l>=0||s.predictable?logNumber(l):new a(l,0).log()},Complex:function(l){return l.log()},BigNumber:function(l){return!l.isNegative()||s.predictable?l.ln():new a(l.toNumber(),0).log()},"any, any":r.referToSelf(o=>(l,u)=>n(o(l),o(u)))})}),name$2L="log1p",dependencies$2L=["typed","config","divideScalar","log","Complex"],createLog1p=factory(name$2L,dependencies$2L,t=>{var{typed:r,config:s,divideScalar:n,log:a,Complex:o}=t;return r(name$2L,{number:function(f){return f>=-1||s.predictable?log1p$1(f):l(new o(f,0))},Complex:l,BigNumber:function(f){var c=f.plus(1);return!c.isNegative()||s.predictable?c.ln():l(new o(f.toNumber(),0))},"Array | Matrix":r.referToSelf(u=>f=>deepMap(f,u)),"any, any":r.referToSelf(u=>(f,c)=>n(u(f),a(c)))});function l(u){var f=u.re+1;return new o(Math.log(Math.sqrt(f*f+u.im*u.im)),Math.atan2(u.im,f))}}),name$2K="nthRoots",dependencies$2K=["config","typed","divideScalar","Complex"],createNthRoots=factory(name$2K,dependencies$2K,t=>{var{typed:r,config:s,divideScalar:n,Complex:a}=t,o=[function(f){return new a(f,0)},function(f){return new a(0,f)},function(f){return new a(-f,0)},function(f){return new a(0,-f)}];function l(u,f){if(f<0)throw new Error("Root must be greater than zero");if(f===0)throw new Error("Root must be non-zero");if(f%1!==0)throw new Error("Root must be an integer");if(u===0||u.abs()===0)return[new a(0,0)];var c=typeof u=="number",h;(c||u.re===0||u.im===0)&&(c?h=2*+(u<0):u.im===0?h=2*+(u.re<0):h=2*+(u.im<0)+1);for(var d=u.arg(),p=u.abs(),v=[],y=Math.pow(p,1/f),b=0;b<f;b++){var w=(h+4*b)/f;if(w===Math.round(w)){v.push(o[w%4](y));continue}v.push(new a({r:y,phi:(d+2*Math.PI*b)/f}))}return v}return r(name$2K,{Complex:function(f){return l(f,2)},"Complex, number":l})}),name$2J="dotPow",dependencies$2J=["typed","equalScalar","matrix","pow","DenseMatrix","concat"],createDotPow=factory(name$2J,dependencies$2J,t=>{var{typed:r,equalScalar:s,matrix:n,pow:a,DenseMatrix:o,concat:l}=t,u=createMatAlgo03xDSf({typed:r}),f=createMatAlgo07xSSf({typed:r,DenseMatrix:o}),c=createMatAlgo11xS0s({typed:r,equalScalar:s}),h=createMatAlgo12xSfs({typed:r,DenseMatrix:o}),d=createMatrixAlgorithmSuite({typed:r,matrix:n,concat:l}),p={};for(var v in a.signatures)Object.prototype.hasOwnProperty.call(a.signatures,v)&&!v.includes("Matrix")&&!v.includes("Array")&&(p[v]=a.signatures[v]);var y=r(p);return r(name$2J,d({elop:y,SS:f,DS:u,Ss:c,sS:h}))}),name$2I="dotDivide",dependencies$2I=["typed","matrix","equalScalar","divideScalar","DenseMatrix","concat"],createDotDivide=factory(name$2I,dependencies$2I,t=>{var{typed:r,matrix:s,equalScalar:n,divideScalar:a,DenseMatrix:o,concat:l}=t,u=createMatAlgo02xDS0({typed:r,equalScalar:n}),f=createMatAlgo03xDSf({typed:r}),c=createMatAlgo07xSSf({typed:r,DenseMatrix:o}),h=createMatAlgo11xS0s({typed:r,equalScalar:n}),d=createMatAlgo12xSfs({typed:r,DenseMatrix:o}),p=createMatrixAlgorithmSuite({typed:r,matrix:s,concat:l});return r(name$2I,p({elop:a,SS:c,DS:f,SD:u,Ss:h,sS:d}))});function createSolveValidation(t){var{DenseMatrix:r}=t;return function(n,a,o){var l=n.size();if(l.length!==2)throw new RangeError("Matrix must be two dimensional (size: "+format$1(l)+")");var u=l[0],f=l[1];if(u!==f)throw new RangeError("Matrix must be square (size: "+format$1(l)+")");var c=[];if(isMatrix(a)){var h=a.size(),d=a._data;if(h.length===1){if(h[0]!==u)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var p=0;p<u;p++)c[p]=[d[p]];return new r({data:c,size:[u,1],datatype:a._datatype})}if(h.length===2){if(h[0]!==u||h[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(isDenseMatrix(a)){if(o){c=[];for(var v=0;v<u;v++)c[v]=[d[v][0]];return new r({data:c,size:[u,1],datatype:a._datatype})}return a}if(isSparseMatrix(a)){for(var y=0;y<u;y++)c[y]=[0];for(var b=a._values,w=a._index,x=a._ptr,A=x[1],S=x[0];S<A;S++){var _=w[S];c[_][0]=b[S]}return new r({data:c,size:[u,1],datatype:a._datatype})}}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}if(isArray(a)){var $=arraySize(a);if($.length===1){if($[0]!==u)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var M=0;M<u;M++)c[M]=[a[M]];return new r({data:c,size:[u,1]})}if($.length===2){if($[0]!==u||$[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var T=0;T<u;T++)c[T]=[a[T][0]];return new r({data:c,size:[u,1]})}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}}}var name$2H="lsolve",dependencies$2H=["typed","matrix","divideScalar","multiplyScalar","subtract","equalScalar","DenseMatrix"],createLsolve=factory(name$2H,dependencies$2H,t=>{var{typed:r,matrix:s,divideScalar:n,multiplyScalar:a,subtract:o,equalScalar:l,DenseMatrix:u}=t,f=createSolveValidation({DenseMatrix:u});return r(name$2H,{"SparseMatrix, Array | Matrix":function(p,v){return h(p,v)},"DenseMatrix, Array | Matrix":function(p,v){return c(p,v)},"Array, Array | Matrix":function(p,v){var y=s(p),b=c(y,v);return b.valueOf()}});function c(d,p){p=f(d,p,!0);for(var v=p._data,y=d._size[0],b=d._size[1],w=[],x=d._data,A=0;A<b;A++){var S=v[A][0]||0,_=void 0;if(l(S,0))_=0;else{var $=x[A][A];if(l($,0))throw new Error("Linear system cannot be solved since matrix is singular");_=n(S,$);for(var M=A+1;M<y;M++)v[M]=[o(v[M][0]||0,a(_,x[M][A]))]}w[A]=[_]}return new u({data:w,size:[y,1]})}function h(d,p){p=f(d,p,!0);for(var v=p._data,y=d._size[0],b=d._size[1],w=d._values,x=d._index,A=d._ptr,S=[],_=0;_<b;_++){var $=v[_][0]||0;if(l($,0))S[_]=[0];else{for(var M=0,T=[],O=[],B=A[_],J=A[_+1],F=B;F<J;F++){var z=x[F];z===_?M=w[F]:z>_&&(T.push(w[F]),O.push(z))}if(l(M,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var Z=n($,M),se=0,ie=O.length;se<ie;se++){var U=O[se];v[U]=[o(v[U][0]||0,a(Z,T[se]))]}S[_]=[Z]}}return new u({data:S,size:[y,1]})}}),name$2G="usolve",dependencies$2G=["typed","matrix","divideScalar","multiplyScalar","subtract","equalScalar","DenseMatrix"],createUsolve=factory(name$2G,dependencies$2G,t=>{var{typed:r,matrix:s,divideScalar:n,multiplyScalar:a,subtract:o,equalScalar:l,DenseMatrix:u}=t,f=createSolveValidation({DenseMatrix:u});return r(name$2G,{"SparseMatrix, Array | Matrix":function(p,v){return h(p,v)},"DenseMatrix, Array | Matrix":function(p,v){return c(p,v)},"Array, Array | Matrix":function(p,v){var y=s(p),b=c(y,v);return b.valueOf()}});function c(d,p){p=f(d,p,!0);for(var v=p._data,y=d._size[0],b=d._size[1],w=[],x=d._data,A=b-1;A>=0;A--){var S=v[A][0]||0,_=void 0;if(l(S,0))_=0;else{var $=x[A][A];if(l($,0))throw new Error("Linear system cannot be solved since matrix is singular");_=n(S,$);for(var M=A-1;M>=0;M--)v[M]=[o(v[M][0]||0,a(_,x[M][A]))]}w[A]=[_]}return new u({data:w,size:[y,1]})}function h(d,p){p=f(d,p,!0);for(var v=p._data,y=d._size[0],b=d._size[1],w=d._values,x=d._index,A=d._ptr,S=[],_=b-1;_>=0;_--){var $=v[_][0]||0;if(l($,0))S[_]=[0];else{for(var M=0,T=[],O=[],B=A[_],J=A[_+1],F=J-1;F>=B;F--){var z=x[F];z===_?M=w[F]:z<_&&(T.push(w[F]),O.push(z))}if(l(M,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var Z=n($,M),se=0,ie=O.length;se<ie;se++){var U=O[se];v[U]=[o(v[U][0],a(Z,T[se]))]}S[_]=[Z]}}return new u({data:S,size:[y,1]})}}),name$2F="lsolveAll",dependencies$2F=["typed","matrix","divideScalar","multiplyScalar","subtract","equalScalar","DenseMatrix"],createLsolveAll=factory(name$2F,dependencies$2F,t=>{var{typed:r,matrix:s,divideScalar:n,multiplyScalar:a,subtract:o,equalScalar:l,DenseMatrix:u}=t,f=createSolveValidation({DenseMatrix:u});return r(name$2F,{"SparseMatrix, Array | Matrix":function(p,v){return h(p,v)},"DenseMatrix, Array | Matrix":function(p,v){return c(p,v)},"Array, Array | Matrix":function(p,v){var y=s(p),b=c(y,v);return b.map(w=>w.valueOf())}});function c(d,p){for(var v=[f(d,p,!0)._data.map(O=>O[0])],y=d._data,b=d._size[0],w=d._size[1],x=0;x<w;x++)for(var A=v.length,S=0;S<A;S++){var _=v[S];if(l(y[x][x],0))if(l(_[x],0)){if(S===0){var M=[..._];M[x]=1;for(var T=x+1;T<w;T++)M[T]=o(M[T],y[T][x]);v.push(M)}}else{if(S===0)return[];v.splice(S,1),S-=1,A-=1}else{_[x]=n(_[x],y[x][x]);for(var $=x+1;$<w;$++)_[$]=o(_[$],a(_[x],y[$][x]))}}return v.map(O=>new u({data:O.map(B=>[B]),size:[b,1]}))}function h(d,p){for(var v=[f(d,p,!0)._data.map(te=>te[0])],y=d._size[0],b=d._size[1],w=d._values,x=d._index,A=d._ptr,S=0;S<b;S++)for(var _=v.length,$=0;$<_;$++){for(var M=v[$],T=[],O=[],B=A[S],J=A[S+1],F=0,z=B;z<J;z++){var Z=x[z];Z===S?F=w[z]:Z>S&&(T.push(w[z]),O.push(Z))}if(l(F,0))if(l(M[S],0)){if($===0){var H=[...M];H[S]=1;for(var ue=0,Y=O.length;ue<Y;ue++){var K=O[ue];H[K]=o(H[K],T[ue])}v.push(H)}}else{if($===0)return[];v.splice($,1),$-=1,_-=1}else{M[S]=n(M[S],F);for(var se=0,ie=O.length;se<ie;se++){var U=O[se];M[U]=o(M[U],a(M[S],T[se]))}}}return v.map(te=>new u({data:te.map(ae=>[ae]),size:[y,1]}))}}),name$2E="usolveAll",dependencies$2E=["typed","matrix","divideScalar","multiplyScalar","subtract","equalScalar","DenseMatrix"],createUsolveAll=factory(name$2E,dependencies$2E,t=>{var{typed:r,matrix:s,divideScalar:n,multiplyScalar:a,subtract:o,equalScalar:l,DenseMatrix:u}=t,f=createSolveValidation({DenseMatrix:u});return r(name$2E,{"SparseMatrix, Array | Matrix":function(p,v){return h(p,v)},"DenseMatrix, Array | Matrix":function(p,v){return c(p,v)},"Array, Array | Matrix":function(p,v){var y=s(p),b=c(y,v);return b.map(w=>w.valueOf())}});function c(d,p){for(var v=[f(d,p,!0)._data.map(O=>O[0])],y=d._data,b=d._size[0],w=d._size[1],x=w-1;x>=0;x--)for(var A=v.length,S=0;S<A;S++){var _=v[S];if(l(y[x][x],0))if(l(_[x],0)){if(S===0){var M=[..._];M[x]=1;for(var T=x-1;T>=0;T--)M[T]=o(M[T],y[T][x]);v.push(M)}}else{if(S===0)return[];v.splice(S,1),S-=1,A-=1}else{_[x]=n(_[x],y[x][x]);for(var $=x-1;$>=0;$--)_[$]=o(_[$],a(_[x],y[$][x]))}}return v.map(O=>new u({data:O.map(B=>[B]),size:[b,1]}))}function h(d,p){for(var v=[f(d,p,!0)._data.map(te=>te[0])],y=d._size[0],b=d._size[1],w=d._values,x=d._index,A=d._ptr,S=b-1;S>=0;S--)for(var _=v.length,$=0;$<_;$++){for(var M=v[$],T=[],O=[],B=A[S],J=A[S+1],F=0,z=J-1;z>=B;z--){var Z=x[z];Z===S?F=w[z]:Z<S&&(T.push(w[z]),O.push(Z))}if(l(F,0))if(l(M[S],0)){if($===0){var H=[...M];H[S]=1;for(var ue=0,Y=O.length;ue<Y;ue++){var K=O[ue];H[K]=o(H[K],T[ue])}v.push(H)}}else{if($===0)return[];v.splice($,1),$-=1,_-=1}else{M[S]=n(M[S],F);for(var se=0,ie=O.length;se<ie;se++){var U=O[se];M[U]=o(M[U],a(M[S],T[se]))}}}return v.map(te=>new u({data:te.map(ae=>[ae]),size:[y,1]}))}}),name$2D="matAlgo08xS0Sid",dependencies$2D=["typed","equalScalar"],createMatAlgo08xS0Sid=factory(name$2D,dependencies$2D,t=>{var{typed:r,equalScalar:s}=t;return function(a,o,l){var u=a._values,f=a._index,c=a._ptr,h=a._size,d=a._datatype,p=o._values,v=o._index,y=o._ptr,b=o._size,w=o._datatype;if(h.length!==b.length)throw new DimensionError(h.length,b.length);if(h[0]!==b[0]||h[1]!==b[1])throw new RangeError("Dimension mismatch. Matrix A ("+h+") must match Matrix B ("+b+")");if(!u||!p)throw new Error("Cannot perform operation on Pattern Sparse Matrices");var x=h[0],A=h[1],S,_=s,$=0,M=l;typeof d=="string"&&d===w&&(S=d,_=r.find(s,[S,S]),$=r.convert(0,S),M=r.find(l,[S,S]));for(var T=[],O=[],B=[],J=[],F=[],z,Z,se,ie,U=0;U<A;U++){B[U]=O.length;var H=U+1;for(Z=c[U],se=c[U+1],z=Z;z<se;z++)ie=f[z],F[ie]=H,J[ie]=u[z],O.push(ie);for(Z=y[U],se=y[U+1],z=Z;z<se;z++)ie=v[z],F[ie]===H&&(J[ie]=M(J[ie],p[z]));for(z=B[U];z<O.length;){ie=O[z];var ue=J[ie];_(ue,$)?O.splice(z,1):(T.push(ue),z++)}}return B[A]=O.length,a.createSparseMatrix({values:T,index:O,ptr:B,size:[x,A],datatype:S})}}),createUseMatrixForArrayScalar=factory("useMatrixForArrayScalar",["typed","matrix"],t=>{var{typed:r,matrix:s}=t;return{"Array, number":r.referTo("DenseMatrix, number",n=>(a,o)=>n(s(a),o).valueOf()),"Array, BigNumber":r.referTo("DenseMatrix, BigNumber",n=>(a,o)=>n(s(a),o).valueOf()),"number, Array":r.referTo("number, DenseMatrix",n=>(a,o)=>n(a,s(o)).valueOf()),"BigNumber, Array":r.referTo("BigNumber, DenseMatrix",n=>(a,o)=>n(a,s(o)).valueOf())}}),name$2C="leftShift",dependencies$2C=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],createLeftShift=factory(name$2C,dependencies$2C,t=>{var{typed:r,matrix:s,equalScalar:n,zeros:a,DenseMatrix:o,concat:l}=t,u=createMatAlgo01xDSid({typed:r}),f=createMatAlgo02xDS0({typed:r,equalScalar:n}),c=createMatAlgo08xS0Sid({typed:r,equalScalar:n}),h=createMatAlgo10xSids({typed:r,DenseMatrix:o}),d=createMatAlgo11xS0s({typed:r,equalScalar:n}),p=createMatAlgo14xDs({typed:r}),v=createMatrixAlgorithmSuite({typed:r,matrix:s,concat:l}),y=createUseMatrixForArrayScalar({typed:r,matrix:s});return r(name$2C,{"number, number":leftShiftNumber,"BigNumber, BigNumber":leftShiftBigNumber,"SparseMatrix, number | BigNumber":r.referToSelf(b=>(w,x)=>n(x,0)?w.clone():d(w,x,b,!1)),"DenseMatrix, number | BigNumber":r.referToSelf(b=>(w,x)=>n(x,0)?w.clone():p(w,x,b,!1)),"number | BigNumber, SparseMatrix":r.referToSelf(b=>(w,x)=>n(w,0)?a(x.size(),x.storage()):h(x,w,b,!0)),"number | BigNumber, DenseMatrix":r.referToSelf(b=>(w,x)=>n(w,0)?a(x.size(),x.storage()):p(x,w,b,!0))},y,v({SS:c,DS:u,SD:f}))}),name$2B="rightArithShift",dependencies$2B=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],createRightArithShift=factory(name$2B,dependencies$2B,t=>{var{typed:r,matrix:s,equalScalar:n,zeros:a,DenseMatrix:o,concat:l}=t,u=createMatAlgo01xDSid({typed:r}),f=createMatAlgo02xDS0({typed:r,equalScalar:n}),c=createMatAlgo08xS0Sid({typed:r,equalScalar:n}),h=createMatAlgo10xSids({typed:r,DenseMatrix:o}),d=createMatAlgo11xS0s({typed:r,equalScalar:n}),p=createMatAlgo14xDs({typed:r}),v=createMatrixAlgorithmSuite({typed:r,matrix:s,concat:l}),y=createUseMatrixForArrayScalar({typed:r,matrix:s});return r(name$2B,{"number, number":rightArithShiftNumber,"BigNumber, BigNumber":rightArithShiftBigNumber,"SparseMatrix, number | BigNumber":r.referToSelf(b=>(w,x)=>n(x,0)?w.clone():d(w,x,b,!1)),"DenseMatrix, number | BigNumber":r.referToSelf(b=>(w,x)=>n(x,0)?w.clone():p(w,x,b,!1)),"number | BigNumber, SparseMatrix":r.referToSelf(b=>(w,x)=>n(w,0)?a(x.size(),x.storage()):h(x,w,b,!0)),"number | BigNumber, DenseMatrix":r.referToSelf(b=>(w,x)=>n(w,0)?a(x.size(),x.storage()):p(x,w,b,!0))},y,v({SS:c,DS:u,SD:f}))}),name$2A="rightLogShift",dependencies$2A=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],createRightLogShift=factory(name$2A,dependencies$2A,t=>{var{typed:r,matrix:s,equalScalar:n,zeros:a,DenseMatrix:o,concat:l}=t,u=createMatAlgo01xDSid({typed:r}),f=createMatAlgo02xDS0({typed:r,equalScalar:n}),c=createMatAlgo08xS0Sid({typed:r,equalScalar:n}),h=createMatAlgo10xSids({typed:r,DenseMatrix:o}),d=createMatAlgo11xS0s({typed:r,equalScalar:n}),p=createMatAlgo14xDs({typed:r}),v=createMatrixAlgorithmSuite({typed:r,matrix:s,concat:l}),y=createUseMatrixForArrayScalar({typed:r,matrix:s});return r(name$2A,{"number, number":rightLogShiftNumber,"SparseMatrix, number | BigNumber":r.referToSelf(b=>(w,x)=>n(x,0)?w.clone():d(w,x,b,!1)),"DenseMatrix, number | BigNumber":r.referToSelf(b=>(w,x)=>n(x,0)?w.clone():p(w,x,b,!1)),"number | BigNumber, SparseMatrix":r.referToSelf(b=>(w,x)=>n(w,0)?a(x.size(),x.storage()):h(x,w,b,!0)),"number | BigNumber, DenseMatrix":r.referToSelf(b=>(w,x)=>n(w,0)?a(x.size(),x.storage()):p(x,w,b,!0))},y,v({SS:c,DS:u,SD:f}))}),name$2z="and",dependencies$2z=["typed","matrix","equalScalar","zeros","not","concat"],createAnd=factory(name$2z,dependencies$2z,t=>{var{typed:r,matrix:s,equalScalar:n,zeros:a,not:o,concat:l}=t,u=createMatAlgo02xDS0({typed:r,equalScalar:n}),f=createMatAlgo06xS0S0({typed:r,equalScalar:n}),c=createMatAlgo11xS0s({typed:r,equalScalar:n}),h=createMatAlgo14xDs({typed:r}),d=createMatrixAlgorithmSuite({typed:r,matrix:s,concat:l});return r(name$2z,{"number, number":andNumber,"Complex, Complex":function(v,y){return(v.re!==0||v.im!==0)&&(y.re!==0||y.im!==0)},"BigNumber, BigNumber":function(v,y){return!v.isZero()&&!y.isZero()&&!v.isNaN()&&!y.isNaN()},"Unit, Unit":r.referToSelf(p=>(v,y)=>p(v.value||0,y.value||0)),"SparseMatrix, any":r.referToSelf(p=>(v,y)=>o(y)?a(v.size(),v.storage()):c(v,y,p,!1)),"DenseMatrix, any":r.referToSelf(p=>(v,y)=>o(y)?a(v.size(),v.storage()):h(v,y,p,!1)),"any, SparseMatrix":r.referToSelf(p=>(v,y)=>o(v)?a(v.size(),v.storage()):c(y,v,p,!0)),"any, DenseMatrix":r.referToSelf(p=>(v,y)=>o(v)?a(v.size(),v.storage()):h(y,v,p,!0)),"Array, any":r.referToSelf(p=>(v,y)=>p(s(v),y).valueOf()),"any, Array":r.referToSelf(p=>(v,y)=>p(v,s(y)).valueOf())},d({SS:f,DS:u}))}),name$2y="compare",dependencies$2y=["typed","config","matrix","equalScalar","BigNumber","Fraction","DenseMatrix","concat"],createCompare=factory(name$2y,dependencies$2y,t=>{var{typed:r,config:s,equalScalar:n,matrix:a,BigNumber:o,Fraction:l,DenseMatrix:u,concat:f}=t,c=createMatAlgo03xDSf({typed:r}),h=createMatAlgo05xSfSf({typed:r,equalScalar:n}),d=createMatAlgo12xSfs({typed:r,DenseMatrix:u}),p=createMatrixAlgorithmSuite({typed:r,matrix:a,concat:f}),v=createCompareUnits({typed:r});return r(name$2y,createCompareNumber({typed:r,config:s}),{"boolean, boolean":function(b,w){return b===w?0:b>w?1:-1},"BigNumber, BigNumber":function(b,w){return nearlyEqual(b,w,s.epsilon)?new o(0):new o(b.cmp(w))},"Fraction, Fraction":function(b,w){return new l(b.compare(w))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},v,p({SS:h,DS:c,Ss:d}))}),createCompareNumber=factory(name$2y,["typed","config"],t=>{var{typed:r,config:s}=t;return r(name$2y,{"number, number":function(a,o){return nearlyEqual$1(a,o,s.epsilon)?0:a>o?1:-1}})}),naturalSort$1,hasRequiredNaturalSort;function requireNaturalSort(){return hasRequiredNaturalSort||(hasRequiredNaturalSort=1,naturalSort$1=function t(r,s){var n=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,a=/(^[ ]*|[ ]*$)/g,o=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,l=/^0x[0-9a-f]+$/i,u=/^0/,f=function(S){return t.insensitive&&(""+S).toLowerCase()||""+S},c=f(r).replace(a,"")||"",h=f(s).replace(a,"")||"",d=c.replace(n,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),p=h.replace(n,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),v=parseInt(c.match(l),16)||d.length!==1&&c.match(o)&&Date.parse(c),y=parseInt(h.match(l),16)||v&&h.match(o)&&Date.parse(h)||null,b,w;if(y){if(v<y)return-1;if(v>y)return 1}for(var x=0,A=Math.max(d.length,p.length);x<A;x++){if(b=!(d[x]||"").match(u)&&parseFloat(d[x])||d[x]||0,w=!(p[x]||"").match(u)&&parseFloat(p[x])||p[x]||0,isNaN(b)!==isNaN(w))return isNaN(b)?1:-1;if(typeof b!=typeof w&&(b+="",w+=""),b<w)return-1;if(b>w)return 1}return 0}),naturalSort$1}var naturalSortExports=requireNaturalSort();const naturalSort=getDefaultExportFromCjs(naturalSortExports);var name$2x="compareNatural",dependencies$2x=["typed","compare"],createCompareNatural=factory(name$2x,dependencies$2x,t=>{var{typed:r,compare:s}=t,n=s.signatures["boolean,boolean"];return r(name$2x,{"any, any":a});function a(f,c){var h=typeOf$1(f),d=typeOf$1(c),p;if((h==="number"||h==="BigNumber"||h==="Fraction")&&(d==="number"||d==="BigNumber"||d==="Fraction"))return p=s(f,c),p.toString()!=="0"?p>0?1:-1:naturalSort(h,d);var v=["Array","DenseMatrix","SparseMatrix"];if(v.includes(h)||v.includes(d))return p=o(a,f,c),p!==0?p:naturalSort(h,d);if(h!==d)return naturalSort(h,d);if(h==="Complex")return compareComplexNumbers(f,c);if(h==="Unit")return f.equalBase(c)?a(f.value,c.value):l(a,f.formatUnits(),c.formatUnits());if(h==="boolean")return n(f,c);if(h==="string")return naturalSort(f,c);if(h==="Object")return u(a,f,c);if(h==="null"||h==="undefined")return 0;throw new TypeError('Unsupported type of value "'+h+'"')}function o(f,c,h){return isSparseMatrix(c)&&isSparseMatrix(h)?l(f,c.toJSON().values,h.toJSON().values):isSparseMatrix(c)?o(f,c.toArray(),h):isSparseMatrix(h)?o(f,c,h.toArray()):isDenseMatrix(c)?o(f,c.toJSON().data,h):isDenseMatrix(h)?o(f,c,h.toJSON().data):Array.isArray(c)?Array.isArray(h)?l(f,c,h):o(f,c,[h]):o(f,[c],h)}function l(f,c,h){for(var d=0,p=Math.min(c.length,h.length);d<p;d++){var v=f(c[d],h[d]);if(v!==0)return v}return c.length>h.length?1:c.length<h.length?-1:0}function u(f,c,h){var d=Object.keys(c),p=Object.keys(h);d.sort(naturalSort),p.sort(naturalSort);var v=l(f,d,p);if(v!==0)return v;for(var y=0;y<d.length;y++){var b=f(c[d[y]],h[p[y]]);if(b!==0)return b}return 0}});function compareComplexNumbers(t,r){return t.re>r.re?1:t.re<r.re?-1:t.im>r.im?1:t.im<r.im?-1:0}var name$2w="compareText",dependencies$2w=["typed","matrix","concat"];compareText$1.signature="any, any";var createCompareText=factory(name$2w,dependencies$2w,t=>{var{typed:r,matrix:s,concat:n}=t,a=createMatrixAlgorithmSuite({typed:r,matrix:s,concat:n});return r(name$2w,compareText$1,a({elop:compareText$1,Ds:!0}))}),name$2v="equal",dependencies$2v=["typed","matrix","equalScalar","DenseMatrix","concat"],createEqual=factory(name$2v,dependencies$2v,t=>{var{typed:r,matrix:s,equalScalar:n,DenseMatrix:a,concat:o}=t,l=createMatAlgo03xDSf({typed:r}),u=createMatAlgo07xSSf({typed:r,DenseMatrix:a}),f=createMatAlgo12xSfs({typed:r,DenseMatrix:a}),c=createMatrixAlgorithmSuite({typed:r,matrix:s,concat:o});return r(name$2v,createEqualNumber({typed:r,equalScalar:n}),c({elop:n,SS:u,DS:l,Ss:f}))}),createEqualNumber=factory(name$2v,["typed","equalScalar"],t=>{var{typed:r,equalScalar:s}=t;return r(name$2v,{"any, any":function(a,o){return a===null?o===null:o===null?a===null:a===void 0?o===void 0:o===void 0?a===void 0:s(a,o)}})}),name$2u="equalText",dependencies$2u=["typed","compareText","isZero"],createEqualText=factory(name$2u,dependencies$2u,t=>{var{typed:r,compareText:s,isZero:n}=t;return r(name$2u,{"any, any":function(o,l){return n(s(o,l))}})}),name$2t="smaller",dependencies$2t=["typed","config","matrix","DenseMatrix","concat"],createSmaller=factory(name$2t,dependencies$2t,t=>{var{typed:r,config:s,matrix:n,DenseMatrix:a,concat:o}=t,l=createMatAlgo03xDSf({typed:r}),u=createMatAlgo07xSSf({typed:r,DenseMatrix:a}),f=createMatAlgo12xSfs({typed:r,DenseMatrix:a}),c=createMatrixAlgorithmSuite({typed:r,matrix:n,concat:o}),h=createCompareUnits({typed:r});return r(name$2t,createSmallerNumber({typed:r,config:s}),{"boolean, boolean":(d,p)=>d<p,"BigNumber, BigNumber":function(p,v){return p.lt(v)&&!nearlyEqual(p,v,s.epsilon)},"Fraction, Fraction":(d,p)=>d.compare(p)===-1,"Complex, Complex":function(p,v){throw new TypeError("No ordering relation is defined for complex numbers")}},h,c({SS:u,DS:l,Ss:f}))}),createSmallerNumber=factory(name$2t,["typed","config"],t=>{var{typed:r,config:s}=t;return r(name$2t,{"number, number":function(a,o){return a<o&&!nearlyEqual$1(a,o,s.epsilon)}})}),name$2s="smallerEq",dependencies$2s=["typed","config","matrix","DenseMatrix","concat"],createSmallerEq=factory(name$2s,dependencies$2s,t=>{var{typed:r,config:s,matrix:n,DenseMatrix:a,concat:o}=t,l=createMatAlgo03xDSf({typed:r}),u=createMatAlgo07xSSf({typed:r,DenseMatrix:a}),f=createMatAlgo12xSfs({typed:r,DenseMatrix:a}),c=createMatrixAlgorithmSuite({typed:r,matrix:n,concat:o}),h=createCompareUnits({typed:r});return r(name$2s,createSmallerEqNumber({typed:r,config:s}),{"boolean, boolean":(d,p)=>d<=p,"BigNumber, BigNumber":function(p,v){return p.lte(v)||nearlyEqual(p,v,s.epsilon)},"Fraction, Fraction":(d,p)=>d.compare(p)!==1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},h,c({SS:u,DS:l,Ss:f}))}),createSmallerEqNumber=factory(name$2s,["typed","config"],t=>{var{typed:r,config:s}=t;return r(name$2s,{"number, number":function(a,o){return a<=o||nearlyEqual$1(a,o,s.epsilon)}})}),name$2r="larger",dependencies$2r=["typed","config","matrix","DenseMatrix","concat"],createLarger=factory(name$2r,dependencies$2r,t=>{var{typed:r,config:s,matrix:n,DenseMatrix:a,concat:o}=t,l=createMatAlgo03xDSf({typed:r}),u=createMatAlgo07xSSf({typed:r,DenseMatrix:a}),f=createMatAlgo12xSfs({typed:r,DenseMatrix:a}),c=createMatrixAlgorithmSuite({typed:r,matrix:n,concat:o}),h=createCompareUnits({typed:r});return r(name$2r,createLargerNumber({typed:r,config:s}),{"boolean, boolean":(d,p)=>d>p,"BigNumber, BigNumber":function(p,v){return p.gt(v)&&!nearlyEqual(p,v,s.epsilon)},"Fraction, Fraction":(d,p)=>d.compare(p)===1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},h,c({SS:u,DS:l,Ss:f}))}),createLargerNumber=factory(name$2r,["typed","config"],t=>{var{typed:r,config:s}=t;return r(name$2r,{"number, number":function(a,o){return a>o&&!nearlyEqual$1(a,o,s.epsilon)}})}),name$2q="largerEq",dependencies$2q=["typed","config","matrix","DenseMatrix","concat"],createLargerEq=factory(name$2q,dependencies$2q,t=>{var{typed:r,config:s,matrix:n,DenseMatrix:a,concat:o}=t,l=createMatAlgo03xDSf({typed:r}),u=createMatAlgo07xSSf({typed:r,DenseMatrix:a}),f=createMatAlgo12xSfs({typed:r,DenseMatrix:a}),c=createMatrixAlgorithmSuite({typed:r,matrix:n,concat:o}),h=createCompareUnits({typed:r});return r(name$2q,createLargerEqNumber({typed:r,config:s}),{"boolean, boolean":(d,p)=>d>=p,"BigNumber, BigNumber":function(p,v){return p.gte(v)||nearlyEqual(p,v,s.epsilon)},"Fraction, Fraction":(d,p)=>d.compare(p)!==-1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},h,c({SS:u,DS:l,Ss:f}))}),createLargerEqNumber=factory(name$2q,["typed","config"],t=>{var{typed:r,config:s}=t;return r(name$2q,{"number, number":function(a,o){return a>=o||nearlyEqual$1(a,o,s.epsilon)}})}),name$2p="deepEqual",dependencies$2p=["typed","equal"],createDeepEqual=factory(name$2p,dependencies$2p,t=>{var{typed:r,equal:s}=t;return r(name$2p,{"any, any":function(o,l){return n(o.valueOf(),l.valueOf())}});function n(a,o){if(Array.isArray(a))if(Array.isArray(o)){var l=a.length;if(l!==o.length)return!1;for(var u=0;u<l;u++)if(!n(a[u],o[u]))return!1;return!0}else return!1;else return Array.isArray(o)?!1:s(a,o)}}),name$2o="unequal",dependencies$2o=["typed","config","equalScalar","matrix","DenseMatrix","concat"],createUnequal=factory(name$2o,dependencies$2o,t=>{var{typed:r,config:s,equalScalar:n,matrix:a,DenseMatrix:o,concat:l}=t,u=createMatAlgo03xDSf({typed:r}),f=createMatAlgo07xSSf({typed:r,DenseMatrix:o}),c=createMatAlgo12xSfs({typed:r,DenseMatrix:o}),h=createMatrixAlgorithmSuite({typed:r,matrix:a,concat:l});return r(name$2o,createUnequalNumber({typed:r,equalScalar:n}),h({elop:d,SS:f,DS:u,Ss:c}));function d(p,v){return!n(p,v)}}),createUnequalNumber=factory(name$2o,["typed","equalScalar"],t=>{var{typed:r,equalScalar:s}=t;return r(name$2o,{"any, any":function(a,o){return a===null?o!==null:o===null?a!==null:a===void 0?o!==void 0:o===void 0?a!==void 0:!s(a,o)}})}),name$2n="partitionSelect",dependencies$2n=["typed","isNumeric","isNaN","compare"],createPartitionSelect=factory(name$2n,dependencies$2n,t=>{var{typed:r,isNumeric:s,isNaN:n,compare:a}=t,o=a,l=(c,h)=>-a(c,h);return r(name$2n,{"Array | Matrix, number":function(h,d){return u(h,d,o)},"Array | Matrix, number, string":function(h,d,p){if(p==="asc")return u(h,d,o);if(p==="desc")return u(h,d,l);throw new Error('Compare string must be "asc" or "desc"')},"Array | Matrix, number, function":u});function u(c,h,d){if(!isInteger$1(h)||h<0)throw new Error("k must be a non-negative integer");if(isMatrix(c)){var p=c.size();if(p.length>1)throw new Error("Only one dimensional matrices supported");return f(c.valueOf(),h,d)}if(Array.isArray(c))return f(c,h,d)}function f(c,h,d){if(h>=c.length)throw new Error("k out of bounds");for(var p=0;p<c.length;p++)if(s(c[p])&&n(c[p]))return c[p];for(var v=0,y=c.length-1;v<y;){for(var b=v,w=y,x=c[Math.floor(Math.random()*(y-v+1))+v];b<w;)if(d(c[b],x)>=0){var A=c[w];c[w]=c[b],c[b]=A,--w}else++b;d(c[b],x)>0&&--b,h<=b?y=b:v=b+1}return c[h]}}),name$2m="sort",dependencies$2m=["typed","matrix","compare","compareNatural"],createSort=factory(name$2m,dependencies$2m,t=>{var{typed:r,matrix:s,compare:n,compareNatural:a}=t,o=n,l=(h,d)=>-n(h,d);return r(name$2m,{Array:function(d){return f(d),d.sort(o)},Matrix:function(d){return c(d),s(d.toArray().sort(o),d.storage())},"Array, function":function(d,p){return f(d),d.sort(p)},"Matrix, function":function(d,p){return c(d),s(d.toArray().sort(p),d.storage())},"Array, string":function(d,p){return f(d),d.sort(u(p))},"Matrix, string":function(d,p){return c(d),s(d.toArray().sort(u(p)),d.storage())}});function u(h){if(h==="asc")return o;if(h==="desc")return l;if(h==="natural")return a;throw new Error('String "asc", "desc", or "natural" expected')}function f(h){if(arraySize(h).length!==1)throw new Error("One dimensional array expected")}function c(h){if(h.size().length!==1)throw new Error("One dimensional matrix expected")}}),name$2l="max",dependencies$2l=["typed","config","numeric","larger"],createMax=factory(name$2l,dependencies$2l,t=>{var{typed:r,config:s,numeric:n,larger:a}=t;return r(name$2l,{"Array | Matrix":l,"Array | Matrix, number | BigNumber":function(f,c){return reduce(f,c.valueOf(),o)},"...":function(f){if(containsCollections(f))throw new TypeError("Scalar values expected in function max");return l(f)}});function o(u,f){try{return a(u,f)?u:f}catch(c){throw improveErrorMessage(c,"max",f)}}function l(u){var f;if(deepForEach(u,function(c){try{isNaN(c)&&typeof c=="number"?f=NaN:(f===void 0||a(c,f))&&(f=c)}catch(h){throw improveErrorMessage(h,"max",c)}}),f===void 0)throw new Error("Cannot calculate max of an empty array");return typeof f=="string"&&(f=n(f,s.number)),f}}),name$2k="min",dependencies$2k=["typed","config","numeric","smaller"],createMin=factory(name$2k,dependencies$2k,t=>{var{typed:r,config:s,numeric:n,smaller:a}=t;return r(name$2k,{"Array | Matrix":l,"Array | Matrix, number | BigNumber":function(f,c){return reduce(f,c.valueOf(),o)},"...":function(f){if(containsCollections(f))throw new TypeError("Scalar values expected in function min");return l(f)}});function o(u,f){try{return a(u,f)?u:f}catch(c){throw improveErrorMessage(c,"min",f)}}function l(u){var f;if(deepForEach(u,function(c){try{isNaN(c)&&typeof c=="number"?f=NaN:(f===void 0||a(c,f))&&(f=c)}catch(h){throw improveErrorMessage(h,"min",c)}}),f===void 0)throw new Error("Cannot calculate min of an empty array");return typeof f=="string"&&(f=n(f,s.number)),f}}),name$2j="ImmutableDenseMatrix",dependencies$2j=["smaller","DenseMatrix"],createImmutableDenseMatrixClass=factory(name$2j,dependencies$2j,t=>{var{smaller:r,DenseMatrix:s}=t;function n(a,o){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(o&&!isString(o))throw new Error("Invalid datatype: "+o);if(isMatrix(a)||isArray(a)){var l=new s(a,o);this._data=l._data,this._size=l._size,this._datatype=l._datatype,this._min=null,this._max=null}else if(a&&isArray(a.data)&&isArray(a.size))this._data=a.data,this._size=a.size,this._datatype=a.datatype,this._min=typeof a.min<"u"?a.min:null,this._max=typeof a.max<"u"?a.max:null;else{if(a)throw new TypeError("Unsupported type of data ("+typeOf$1(a)+")");this._data=[],this._size=[0],this._datatype=o,this._min=null,this._max=null}}return n.prototype=new s,n.prototype.type="ImmutableDenseMatrix",n.prototype.isImmutableDenseMatrix=!0,n.prototype.subset=function(a){switch(arguments.length){case 1:{var o=s.prototype.subset.call(this,a);return isMatrix(o)?new n({data:o._data,size:o._size,datatype:o._datatype}):o}case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},n.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},n.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},n.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance")},n.prototype.clone=function(){return new n({data:clone$2(this._data),size:clone$2(this._size),datatype:this._datatype})},n.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},n.fromJSON=function(a){return new n(a)},n.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},n.prototype.min=function(){if(this._min===null){var a=null;this.forEach(function(o){(a===null||r(o,a))&&(a=o)}),this._min=a!==null?a:void 0}return this._min},n.prototype.max=function(){if(this._max===null){var a=null;this.forEach(function(o){(a===null||r(a,o))&&(a=o)}),this._max=a!==null?a:void 0}return this._max},n},{isClass:!0}),name$2i="Index",dependencies$2i=["ImmutableDenseMatrix"],createIndexClass=factory(name$2i,dependencies$2i,t=>{var{ImmutableDenseMatrix:r}=t;function s(a){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._isScalar=!0;for(var o=0,l=arguments.length;o<l;o++){var u=arguments[o];if(isRange(u))this._dimensions.push(u),this._isScalar=!1;else if(Array.isArray(u)||isMatrix(u)){var f=n(u.valueOf());this._dimensions.push(f);var c=f.size();(c.length!==1||c[0]!==1)&&(this._isScalar=!1)}else if(typeof u=="number")this._dimensions.push(n([u]));else if(typeof u=="string")this._dimensions.push(u);else throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range")}}s.prototype.type="Index",s.prototype.isIndex=!0;function n(a){for(var o=0,l=a.length;o<l;o++)if(typeof a[o]!="number"||!isInteger$1(a[o]))throw new TypeError("Index parameters must be positive integer numbers");return new r(a)}return s.prototype.clone=function(){var a=new s;return a._dimensions=clone$2(this._dimensions),a._isScalar=this._isScalar,a},s.create=function(a){var o=new s;return s.apply(o,a),o},s.prototype.size=function(){for(var a=[],o=0,l=this._dimensions.length;o<l;o++){var u=this._dimensions[o];a[o]=typeof u=="string"?1:u.size()[0]}return a},s.prototype.max=function(){for(var a=[],o=0,l=this._dimensions.length;o<l;o++){var u=this._dimensions[o];a[o]=typeof u=="string"?u:u.max()}return a},s.prototype.min=function(){for(var a=[],o=0,l=this._dimensions.length;o<l;o++){var u=this._dimensions[o];a[o]=typeof u=="string"?u:u.min()}return a},s.prototype.forEach=function(a){for(var o=0,l=this._dimensions.length;o<l;o++)a(this._dimensions[o],o,this)},s.prototype.dimension=function(a){return this._dimensions[a]||null},s.prototype.isObjectProperty=function(){return this._dimensions.length===1&&typeof this._dimensions[0]=="string"},s.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},s.prototype.isScalar=function(){return this._isScalar},s.prototype.toArray=function(){for(var a=[],o=0,l=this._dimensions.length;o<l;o++){var u=this._dimensions[o];a.push(typeof u=="string"?u:u.toArray())}return a},s.prototype.valueOf=s.prototype.toArray,s.prototype.toString=function(){for(var a=[],o=0,l=this._dimensions.length;o<l;o++){var u=this._dimensions[o];typeof u=="string"?a.push(JSON.stringify(u)):a.push(u.toString())}return"["+a.join(", ")+"]"},s.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},s.fromJSON=function(a){return s.create(a.dimensions)},s},{isClass:!0}),name$2h="FibonacciHeap",dependencies$2h=["smaller","larger"],createFibonacciHeapClass=factory(name$2h,dependencies$2h,t=>{var{smaller:r,larger:s}=t,n=1/Math.log((1+Math.sqrt(5))/2);function a(){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}a.prototype.type="FibonacciHeap",a.prototype.isFibonacciHeap=!0,a.prototype.insert=function(h,d){var p={key:h,value:d,degree:0};if(this._minimum){var v=this._minimum;p.left=v,p.right=v.right,v.right=p,p.right.left=p,r(h,v.key)&&(this._minimum=p)}else p.left=p,p.right=p,this._minimum=p;return this._size++,p},a.prototype.size=function(){return this._size},a.prototype.clear=function(){this._minimum=null,this._size=0},a.prototype.isEmpty=function(){return this._size===0},a.prototype.extractMinimum=function(){var h=this._minimum;if(h===null)return h;for(var d=this._minimum,p=h.degree,v=h.child;p>0;){var y=v.right;v.left.right=v.right,v.right.left=v.left,v.left=d,v.right=d.right,d.right=v,v.right.left=v,v.parent=null,v=y,p--}return h.left.right=h.right,h.right.left=h.left,h===h.right?d=null:(d=h.right,d=c(d,this._size)),this._size--,this._minimum=d,h},a.prototype.remove=function(h){this._minimum=o(this._minimum,h,-1),this.extractMinimum()};function o(h,d,p){d.key=p;var v=d.parent;return v&&r(d.key,v.key)&&(l(h,d,v),u(h,v)),r(d.key,h.key)&&(h=d),h}function l(h,d,p){d.left.right=d.right,d.right.left=d.left,p.degree--,p.child===d&&(p.child=d.right),p.degree===0&&(p.child=null),d.left=h,d.right=h.right,h.right=d,d.right.left=d,d.parent=null,d.mark=!1}function u(h,d){var p=d.parent;p&&(d.mark?(l(h,d,p),u(p)):d.mark=!0)}var f=function(d,p){d.left.right=d.right,d.right.left=d.left,d.parent=p,p.child?(d.left=p.child,d.right=p.child.right,p.child.right=d,d.right.left=d):(p.child=d,d.right=d,d.left=d),p.degree++,d.mark=!1};function c(h,d){var p=Math.floor(Math.log(d)*n)+1,v=new Array(p),y=0,b=h;if(b)for(y++,b=b.right;b!==h;)y++,b=b.right;for(var w;y>0;){for(var x=b.degree,A=b.right;w=v[x],!!w;){if(s(b.key,w.key)){var S=w;w=b,b=S}f(w,b),v[x]=null,x++}v[x]=b,b=A,y--}h=null;for(var _=0;_<p;_++)w=v[_],w&&(h?(w.left.right=w.right,w.right.left=w.left,w.left=h,w.right=h.right,h.right=w,w.right.left=w,r(w.key,h.key)&&(h=w)):h=w);return h}return a},{isClass:!0}),name$2g="Spa",dependencies$2g=["addScalar","equalScalar","FibonacciHeap"],createSpaClass=factory(name$2g,dependencies$2g,t=>{var{addScalar:r,equalScalar:s,FibonacciHeap:n}=t;function a(){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new n}return a.prototype.type="Spa",a.prototype.isSpa=!0,a.prototype.set=function(o,l){if(this._values[o])this._values[o].value=l;else{var u=this._heap.insert(o,l);this._values[o]=u}},a.prototype.get=function(o){var l=this._values[o];return l?l.value:0},a.prototype.accumulate=function(o,l){var u=this._values[o];u?u.value=r(u.value,l):(u=this._heap.insert(o,l),this._values[o]=u)},a.prototype.forEach=function(o,l,u){var f=this._heap,c=this._values,h=[],d=f.extractMinimum();for(d&&h.push(d);d&&d.key<=l;)d.key>=o&&(s(d.value,0)||u(d.key,d.value,this)),d=f.extractMinimum(),d&&h.push(d);for(var p=0;p<h.length;p++){var v=h[p];d=f.insert(v.key,v.value),c[d.key]=d}},a.prototype.swap=function(o,l){var u=this._values[o],f=this._values[l];if(!u&&f)u=this._heap.insert(o,f.value),this._heap.remove(f),this._values[o]=u,this._values[l]=void 0;else if(u&&!f)f=this._heap.insert(l,u.value),this._heap.remove(u),this._values[l]=f,this._values[o]=void 0;else if(u&&f){var c=u.value;u.value=f.value,f.value=c}},a},{isClass:!0});function _typeof(t){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},_typeof(t)}function toPrimitive(t,r){if(_typeof(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,r);if(_typeof(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function toPropertyKey(t){var r=toPrimitive(t,"string");return _typeof(r)=="symbol"?r:r+""}function _defineProperty(t,r,s){return(r=toPropertyKey(r))in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}var createBigNumberE=memoize(function(t){return new t(1).exp()},{hasher}),createBigNumberPhi=memoize(function(t){return new t(1).plus(new t(5).sqrt()).div(2)},{hasher}),createBigNumberPi=memoize(function(t){return t.acos(-1)},{hasher}),createBigNumberTau=memoize(function(t){return createBigNumberPi(t).times(2)},{hasher});function hasher(t){return t[0].precision}function ownKeys$1(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,n)}return s}function _objectSpread$1(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?ownKeys$1(Object(s),!0).forEach(function(n){_defineProperty(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):ownKeys$1(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}var name$2f="Unit",dependencies$2f=["?on","config","addScalar","subtract","multiplyScalar","divideScalar","pow","abs","fix","round","equal","isNumeric","format","number","Complex","BigNumber","Fraction"],createUnitClass=factory(name$2f,dependencies$2f,t=>{var{on:r,config:s,addScalar:n,subtract:a,multiplyScalar:o,divideScalar:l,pow:u,abs:f,fix:c,round:h,equal:d,isNumeric:p,format:v,number:y,Complex:b,BigNumber:w,Fraction:x}=t,A=y;function S(me,be){if(!(this instanceof S))throw new Error("Constructor must be called with the new operator");if(!(me==null||p(me)||isComplex(me)))throw new TypeError("First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined");if(this.fixPrefix=!1,this.skipAutomaticSimplification=!0,be===void 0)this.units=[],this.dimensions=ue.map(ye=>0);else if(typeof be=="string"){var Re=S.parse(be);this.units=Re.units,this.dimensions=Re.dimensions}else if(isUnit(be)&&be.value===null)this.fixPrefix=be.fixPrefix,this.skipAutomaticSimplification=be.skipAutomaticSimplification,this.dimensions=be.dimensions.slice(0),this.units=be.units.map(ye=>_extends({},ye));else throw new TypeError("Second parameter in Unit constructor must be a string or valueless Unit");this.value=this._normalize(me)}Object.defineProperty(S,"name",{value:"Unit"}),S.prototype.constructor=S,S.prototype.type="Unit",S.prototype.isUnit=!0;var _,$,M;function T(){for(;M===" "||M==="	";)J()}function O(me){return me>="0"&&me<="9"||me==="."}function B(me){return me>="0"&&me<="9"}function J(){$++,M=_.charAt($)}function F(me){$=me,M=_.charAt($)}function z(){var me="",be=$;if(M==="+"?J():M==="-"&&(me+=M,J()),!O(M))return F(be),null;if(M==="."){if(me+=M,J(),!B(M))return F(be),null}else{for(;B(M);)me+=M,J();M==="."&&(me+=M,J())}for(;B(M);)me+=M,J();if(M==="E"||M==="e"){var Re="",ye=$;if(Re+=M,J(),(M==="+"||M==="-")&&(Re+=M,J()),!B(M))return F(ye),me;for(me=me+Re;B(M);)me+=M,J()}return me}function Z(){for(var me="";B(M)||S.isValidAlpha(M);)me+=M,J();var be=me.charAt(0);return S.isValidAlpha(be)?me:null}function se(me){return M===me?(J(),me):null}S.parse=function(me,be){if(be=be||{},_=me,$=-1,M="",typeof _!="string")throw new TypeError("Invalid argument in Unit.parse, string expected");var Re=new S;Re.units=[];var ye=1,$e=!1;J(),T();var Te=z(),et=null;if(Te){if(s.number==="BigNumber")et=new w(Te);else if(s.number==="Fraction")try{et=new x(Te)}catch{et=parseFloat(Te)}else et=parseFloat(Te);T(),se("*")?(ye=1,$e=!0):se("/")&&(ye=-1,$e=!0)}for(var Ke=[],pe=1;;){for(T();M==="(";)Ke.push(ye),pe*=ye,ye=1,J(),T();var ve=void 0;if(M){var De=M;if(ve=Z(),ve===null)throw new SyntaxError('Unexpected "'+De+'" in "'+_+'" at index '+$.toString())}else break;var _e=ie(ve);if(_e===null)throw new SyntaxError('Unit "'+ve+'" not found.');var Oe=ye*pe;if(T(),se("^")){T();var Ye=z();if(Ye===null)throw new SyntaxError('In "'+me+'", "^" must be followed by a floating-point number');Oe*=Ye}Re.units.push({unit:_e.unit,prefix:_e.prefix,power:Oe});for(var tt=0;tt<ue.length;tt++)Re.dimensions[tt]+=(_e.unit.dimensions[tt]||0)*Oe;for(T();M===")";){if(Ke.length===0)throw new SyntaxError('Unmatched ")" in "'+_+'" at index '+$.toString());pe/=Ke.pop(),J(),T()}if($e=!1,se("*")?(ye=1,$e=!0):se("/")?(ye=-1,$e=!0):ye=1,_e.unit.base){var Ve=_e.unit.base.key;xe.auto[Ve]={unit:_e.unit,prefix:_e.prefix}}}if(T(),M)throw new SyntaxError('Could not parse: "'+me+'"');if($e)throw new SyntaxError('Trailing characters: "'+me+'"');if(Ke.length!==0)throw new SyntaxError('Unmatched "(" in "'+_+'"');if(Re.units.length===0&&!be.allowNoUnits)throw new SyntaxError('"'+me+'" contains no units');return Re.value=et!==void 0?Re._normalize(et):null,Re},S.prototype.clone=function(){var me=new S;me.fixPrefix=this.fixPrefix,me.skipAutomaticSimplification=this.skipAutomaticSimplification,me.value=clone$2(this.value),me.dimensions=this.dimensions.slice(0),me.units=[];for(var be=0;be<this.units.length;be++){me.units[be]={};for(var Re in this.units[be])hasOwnProperty$1(this.units[be],Re)&&(me.units[be][Re]=this.units[be][Re])}return me},S.prototype.valueType=function(){return typeOf$1(this.value)},S.prototype._isDerived=function(){return this.units.length===0?!1:this.units.length>1||Math.abs(this.units[0].power-1)>1e-15},S.prototype._normalize=function(me){if(me==null||this.units.length===0)return me;for(var be=me,Re=S._getNumberConverter(typeOf$1(me)),ye=0;ye<this.units.length;ye++){var $e=Re(this.units[ye].unit.value),Te=Re(this.units[ye].prefix.value),et=Re(this.units[ye].power);be=o(be,u(o($e,Te),et))}return be},S.prototype._denormalize=function(me,be){if(me==null||this.units.length===0)return me;for(var Re=me,ye=S._getNumberConverter(typeOf$1(me)),$e=0;$e<this.units.length;$e++){var Te=ye(this.units[$e].unit.value),et=ye(this.units[$e].prefix.value),Ke=ye(this.units[$e].power);Re=l(Re,u(o(Te,et),Ke))}return Re};var ie=memoize(me=>{if(hasOwnProperty$1(ee,me)){var be=ee[me],Re=be.prefixes[""];return{unit:be,prefix:Re}}for(var ye in ee)if(hasOwnProperty$1(ee,ye)&&endsWith(me,ye)){var $e=ee[ye],Te=me.length-ye.length,et=me.substring(0,Te),Ke=hasOwnProperty$1($e.prefixes,et)?$e.prefixes[et]:void 0;if(Ke!==void 0)return{unit:$e,prefix:Ke}}return null},{hasher:me=>me[0],limit:100});S.isValuelessUnit=function(me){return ie(me)!==null},S.prototype.hasBase=function(me){if(typeof me=="string"&&(me=Y[me]),!me)return!1;for(var be=0;be<ue.length;be++)if(Math.abs((this.dimensions[be]||0)-(me.dimensions[be]||0))>1e-12)return!1;return!0},S.prototype.equalBase=function(me){for(var be=0;be<ue.length;be++)if(Math.abs((this.dimensions[be]||0)-(me.dimensions[be]||0))>1e-12)return!1;return!0},S.prototype.equals=function(me){return this.equalBase(me)&&d(this.value,me.value)},S.prototype.multiply=function(me){for(var be=this.clone(),Re=isUnit(me)?me:new S(me),ye=0;ye<ue.length;ye++)be.dimensions[ye]=(this.dimensions[ye]||0)+(Re.dimensions[ye]||0);for(var $e=0;$e<Re.units.length;$e++){var Te=_objectSpread$1({},Re.units[$e]);be.units.push(Te)}if(this.value!==null||Re.value!==null){var et=this.value===null?this._normalize(1):this.value,Ke=Re.value===null?Re._normalize(1):Re.value;be.value=o(et,Ke)}else be.value=null;return isUnit(me)&&(be.skipAutomaticSimplification=!1),U(be)},S.prototype.divideInto=function(me){return new S(me).divide(this)},S.prototype.divide=function(me){for(var be=this.clone(),Re=isUnit(me)?me:new S(me),ye=0;ye<ue.length;ye++)be.dimensions[ye]=(this.dimensions[ye]||0)-(Re.dimensions[ye]||0);for(var $e=0;$e<Re.units.length;$e++){var Te=_objectSpread$1(_objectSpread$1({},Re.units[$e]),{},{power:-Re.units[$e].power});be.units.push(Te)}if(this.value!==null||Re.value!==null){var et=this.value===null?this._normalize(1):this.value,Ke=Re.value===null?Re._normalize(1):Re.value;be.value=l(et,Ke)}else be.value=null;return isUnit(me)&&(be.skipAutomaticSimplification=!1),U(be)},S.prototype.pow=function(me){for(var be=this.clone(),Re=0;Re<ue.length;Re++)be.dimensions[Re]=(this.dimensions[Re]||0)*me;for(var ye=0;ye<be.units.length;ye++)be.units[ye].power*=me;return be.value!==null?be.value=u(be.value,me):be.value=null,be.skipAutomaticSimplification=!1,U(be)};function U(me){return me.equalBase(Y.NONE)&&me.value!==null&&!s.predictable?me.value:me}S.prototype.abs=function(){var me=this.clone();if(me.value!==null)if(me._isDerived()||me.units[0].unit.offset===0)me.value=f(me.value);else{var be=me._numberConverter(),Re=be(me.units[0].unit.value),ye=be(me.units[0].unit.offset),$e=o(Re,ye);me.value=a(f(n(me.value,$e)),$e)}for(var Te in me.units)(me.units[Te].unit.name==="VA"||me.units[Te].unit.name==="VAR")&&(me.units[Te].unit=ee.W);return me},S.prototype.to=function(me){var be=this.value===null?this._normalize(1):this.value,Re;if(typeof me=="string")Re=S.parse(me);else if(isUnit(me))Re=me.clone();else throw new Error("String or Unit expected as parameter");if(!this.equalBase(Re))throw new Error("Units do not match ('".concat(Re.toString(),"' != '").concat(this.toString(),"')"));if(Re.value!==null)throw new Error("Cannot convert to a unit with a value");if(this.value===null||this._isDerived()||this.units[0].unit.offset===Re.units[0].unit.offset)Re.value=clone$2(be);else{var ye=S._getNumberConverter(typeOf$1(be)),$e=ye(this.units[0].unit.value),Te=ye(this.units[0].unit.offset),et=o($e,Te),Ke=ye(Re.units[0].unit.value),pe=ye(Re.units[0].unit.offset),ve=o(Ke,pe);Re.value=a(n(be,et),ve)}return Re.fixPrefix=!0,Re.skipAutomaticSimplification=!0,Re},S.prototype.toNumber=function(me){return A(this.toNumeric(me))},S.prototype.toNumeric=function(me){var be;return me?be=this.to(me):be=this.clone(),be._isDerived()||be.units.length===0?be._denormalize(be.value):be._denormalize(be.value,be.units[0].prefix.value)},S.prototype.toString=function(){return this.format()},S.prototype.toJSON=function(){return{mathjs:"Unit",value:this._denormalize(this.value),unit:this.formatUnits(),fixPrefix:this.fixPrefix}},S.fromJSON=function(me){var be=new S(me.value,me.unit);return be.fixPrefix=me.fixPrefix||!1,be},S.prototype.valueOf=S.prototype.toString,S.prototype.simplify=function(){var me=this.clone(),be=[],Re;for(var ye in Me)if(hasOwnProperty$1(Me,ye)&&me.hasBase(Y[ye])){Re=ye;break}if(Re==="NONE")me.units=[];else{var $e;if(Re&&hasOwnProperty$1(Me,Re)&&($e=Me[Re]),$e)me.units=[{unit:$e.unit,prefix:$e.prefix,power:1}];else{for(var Te=!1,et=0;et<ue.length;et++){var Ke=ue[et];Math.abs(me.dimensions[et]||0)>1e-12&&(hasOwnProperty$1(Me,Ke)?be.push({unit:Me[Ke].unit,prefix:Me[Ke].prefix,power:me.dimensions[et]||0}):Te=!0)}be.length<me.units.length&&!Te&&(me.units=be)}}return me},S.prototype.toSI=function(){for(var me=this.clone(),be=[],Re=0;Re<ue.length;Re++){var ye=ue[Re];if(Math.abs(me.dimensions[Re]||0)>1e-12)if(hasOwnProperty$1(xe.si,ye))be.push({unit:xe.si[ye].unit,prefix:xe.si[ye].prefix,power:me.dimensions[Re]||0});else throw new Error("Cannot express custom unit "+ye+" in SI units")}return me.units=be,me.fixPrefix=!0,me.skipAutomaticSimplification=!0,me},S.prototype.formatUnits=function(){for(var me="",be="",Re=0,ye=0,$e=0;$e<this.units.length;$e++)this.units[$e].power>0?(Re++,me+=" "+this.units[$e].prefix.name+this.units[$e].unit.name,Math.abs(this.units[$e].power-1)>1e-15&&(me+="^"+this.units[$e].power)):this.units[$e].power<0&&ye++;if(ye>0)for(var Te=0;Te<this.units.length;Te++)this.units[Te].power<0&&(Re>0?(be+=" "+this.units[Te].prefix.name+this.units[Te].unit.name,Math.abs(this.units[Te].power+1)>1e-15&&(be+="^"+-this.units[Te].power)):(be+=" "+this.units[Te].prefix.name+this.units[Te].unit.name,be+="^"+this.units[Te].power));me=me.substr(1),be=be.substr(1),Re>1&&ye>0&&(me="("+me+")"),ye>1&&Re>0&&(be="("+be+")");var et=me;return Re>0&&ye>0&&(et+=" / "),et+=be,et},S.prototype.format=function(me){var be=this.skipAutomaticSimplification||this.value===null?this.clone():this.simplify(),Re=!1;typeof be.value<"u"&&be.value!==null&&isComplex(be.value)&&(Re=Math.abs(be.value.re)<1e-14);for(var ye in be.units)hasOwnProperty$1(be.units,ye)&&be.units[ye].unit&&(be.units[ye].unit.name==="VA"&&Re?be.units[ye].unit=ee.VAR:be.units[ye].unit.name==="VAR"&&!Re&&(be.units[ye].unit=ee.VA));be.units.length===1&&!be.fixPrefix&&Math.abs(be.units[0].power-Math.round(be.units[0].power))<1e-14&&(be.units[0].prefix=be._bestPrefix());var $e=be._denormalize(be.value),Te=be.value!==null?v($e,me||{}):"",et=be.formatUnits();return be.value&&isComplex(be.value)&&(Te="("+Te+")"),et.length>0&&Te.length>0&&(Te+=" "),Te+=et,Te},S.prototype._bestPrefix=function(){if(this.units.length!==1)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");if(Math.abs(this.units[0].power-Math.round(this.units[0].power))>=1e-14)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");var me=this.value!==null?f(this.value):0,be=f(this.units[0].unit.value),Re=this.units[0].prefix;if(me===0)return Re;var ye=this.units[0].power,$e=Math.log(me/Math.pow(Re.value*be,ye))/Math.LN10-1.2;if($e>-2.200001&&$e<1.800001)return Re;$e=Math.abs($e);var Te=this.units[0].unit.prefixes;for(var et in Te)if(hasOwnProperty$1(Te,et)){var Ke=Te[et];if(Ke.scientific){var pe=Math.abs(Math.log(me/Math.pow(Ke.value*be,ye))/Math.LN10-1.2);(pe<$e||pe===$e&&Ke.name.length<Re.name.length)&&(Re=Ke,$e=pe)}}return Re},S.prototype.splitUnit=function(me){for(var be=this.clone(),Re=[],ye=0;ye<me.length&&(be=be.to(me[ye]),ye!==me.length-1);ye++){var $e=be.toNumeric(),Te=h($e),et=void 0,Ke=d(Te,$e);Ke?et=Te:et=c(be.toNumeric());var pe=new S(et,me[ye].toString());Re.push(pe),be=a(be,pe)}for(var ve=0,De=0;De<Re.length;De++)ve=n(ve,Re[De].value);return d(ve,this.value)&&(be.value=0),Re.push(be),Re};var H={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!1},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-48,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0}},BINARY_SHORT_SI:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0}},BINARY_SHORT_IEC:{"":{name:"",value:1,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:Math.pow(1024,2),scientific:!0},Gi:{name:"Gi",value:Math.pow(1024,3),scientific:!0},Ti:{name:"Ti",value:Math.pow(1024,4),scientific:!0},Pi:{name:"Pi",value:Math.pow(1024,5),scientific:!0},Ei:{name:"Ei",value:Math.pow(1024,6),scientific:!0},Zi:{name:"Zi",value:Math.pow(1024,7),scientific:!0},Yi:{name:"Yi",value:Math.pow(1024,8),scientific:!0}},BINARY_LONG_SI:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0}},BINARY_LONG_IEC:{"":{name:"",value:1,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:Math.pow(1024,2),scientific:!0},gibi:{name:"gibi",value:Math.pow(1024,3),scientific:!0},tebi:{name:"tebi",value:Math.pow(1024,4),scientific:!0},pebi:{name:"pebi",value:Math.pow(1024,5),scientific:!0},exi:{name:"exi",value:Math.pow(1024,6),scientific:!0},zebi:{name:"zebi",value:Math.pow(1024,7),scientific:!0},yobi:{name:"yobi",value:Math.pow(1024,8),scientific:!0}},BTU:{"":{name:"",value:1,scientific:!0},MM:{name:"MM",value:1e6,scientific:!0}}};H.SHORTLONG=_extends({},H.SHORT,H.LONG),H.BINARY_SHORT=_extends({},H.BINARY_SHORT_SI,H.BINARY_SHORT_IEC),H.BINARY_LONG=_extends({},H.BINARY_LONG_SI,H.BINARY_LONG_IEC);var ue=["MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","ANGLE","BIT"],Y={NONE:{dimensions:[0,0,0,0,0,0,0,0,0]},MASS:{dimensions:[1,0,0,0,0,0,0,0,0]},LENGTH:{dimensions:[0,1,0,0,0,0,0,0,0]},TIME:{dimensions:[0,0,1,0,0,0,0,0,0]},CURRENT:{dimensions:[0,0,0,1,0,0,0,0,0]},TEMPERATURE:{dimensions:[0,0,0,0,1,0,0,0,0]},LUMINOUS_INTENSITY:{dimensions:[0,0,0,0,0,1,0,0,0]},AMOUNT_OF_SUBSTANCE:{dimensions:[0,0,0,0,0,0,1,0,0]},FORCE:{dimensions:[1,1,-2,0,0,0,0,0,0]},SURFACE:{dimensions:[0,2,0,0,0,0,0,0,0]},VOLUME:{dimensions:[0,3,0,0,0,0,0,0,0]},ENERGY:{dimensions:[1,2,-2,0,0,0,0,0,0]},POWER:{dimensions:[1,2,-3,0,0,0,0,0,0]},PRESSURE:{dimensions:[1,-1,-2,0,0,0,0,0,0]},ELECTRIC_CHARGE:{dimensions:[0,0,1,1,0,0,0,0,0]},ELECTRIC_CAPACITANCE:{dimensions:[-1,-2,4,2,0,0,0,0,0]},ELECTRIC_POTENTIAL:{dimensions:[1,2,-3,-1,0,0,0,0,0]},ELECTRIC_RESISTANCE:{dimensions:[1,2,-3,-2,0,0,0,0,0]},ELECTRIC_INDUCTANCE:{dimensions:[1,2,-2,-2,0,0,0,0,0]},ELECTRIC_CONDUCTANCE:{dimensions:[-1,-2,3,2,0,0,0,0,0]},MAGNETIC_FLUX:{dimensions:[1,2,-2,-1,0,0,0,0,0]},MAGNETIC_FLUX_DENSITY:{dimensions:[1,0,-2,-1,0,0,0,0,0]},FREQUENCY:{dimensions:[0,0,-1,0,0,0,0,0,0]},ANGLE:{dimensions:[0,0,0,0,0,0,0,1,0]},BIT:{dimensions:[0,0,0,0,0,0,0,0,1]}};for(var K in Y)hasOwnProperty$1(Y,K)&&(Y[K].key=K);var te={},ae={name:"",base:te,value:1,offset:0,dimensions:ue.map(me=>0)},ee={meter:{name:"meter",base:Y.LENGTH,prefixes:H.LONG,value:1,offset:0},inch:{name:"inch",base:Y.LENGTH,prefixes:H.NONE,value:.0254,offset:0},foot:{name:"foot",base:Y.LENGTH,prefixes:H.NONE,value:.3048,offset:0},yard:{name:"yard",base:Y.LENGTH,prefixes:H.NONE,value:.9144,offset:0},mile:{name:"mile",base:Y.LENGTH,prefixes:H.NONE,value:1609.344,offset:0},link:{name:"link",base:Y.LENGTH,prefixes:H.NONE,value:.201168,offset:0},rod:{name:"rod",base:Y.LENGTH,prefixes:H.NONE,value:5.0292,offset:0},chain:{name:"chain",base:Y.LENGTH,prefixes:H.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:Y.LENGTH,prefixes:H.NONE,value:1e-10,offset:0},m:{name:"m",base:Y.LENGTH,prefixes:H.SHORT,value:1,offset:0},in:{name:"in",base:Y.LENGTH,prefixes:H.NONE,value:.0254,offset:0},ft:{name:"ft",base:Y.LENGTH,prefixes:H.NONE,value:.3048,offset:0},yd:{name:"yd",base:Y.LENGTH,prefixes:H.NONE,value:.9144,offset:0},mi:{name:"mi",base:Y.LENGTH,prefixes:H.NONE,value:1609.344,offset:0},li:{name:"li",base:Y.LENGTH,prefixes:H.NONE,value:.201168,offset:0},rd:{name:"rd",base:Y.LENGTH,prefixes:H.NONE,value:5.02921,offset:0},ch:{name:"ch",base:Y.LENGTH,prefixes:H.NONE,value:20.1168,offset:0},mil:{name:"mil",base:Y.LENGTH,prefixes:H.NONE,value:254e-7,offset:0},m2:{name:"m2",base:Y.SURFACE,prefixes:H.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:Y.SURFACE,prefixes:H.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:Y.SURFACE,prefixes:H.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:Y.SURFACE,prefixes:H.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:Y.SURFACE,prefixes:H.NONE,value:2589988110336e-6,offset:0},sqrd:{name:"sqrd",base:Y.SURFACE,prefixes:H.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:Y.SURFACE,prefixes:H.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:Y.SURFACE,prefixes:H.NONE,value:64516e-14,offset:0},acre:{name:"acre",base:Y.SURFACE,prefixes:H.NONE,value:4046.86,offset:0},hectare:{name:"hectare",base:Y.SURFACE,prefixes:H.NONE,value:1e4,offset:0},m3:{name:"m3",base:Y.VOLUME,prefixes:H.CUBIC,value:1,offset:0},L:{name:"L",base:Y.VOLUME,prefixes:H.SHORT,value:.001,offset:0},l:{name:"l",base:Y.VOLUME,prefixes:H.SHORT,value:.001,offset:0},litre:{name:"litre",base:Y.VOLUME,prefixes:H.LONG,value:.001,offset:0},cuin:{name:"cuin",base:Y.VOLUME,prefixes:H.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:Y.VOLUME,prefixes:H.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:Y.VOLUME,prefixes:H.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:Y.VOLUME,prefixes:H.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:Y.VOLUME,prefixes:H.NONE,value:15e-6,offset:0},drop:{name:"drop",base:Y.VOLUME,prefixes:H.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:Y.VOLUME,prefixes:H.NONE,value:5e-8,offset:0},minim:{name:"minim",base:Y.VOLUME,prefixes:H.NONE,value:6161152e-14,offset:0},fluiddram:{name:"fluiddram",base:Y.VOLUME,prefixes:H.NONE,value:36966911e-13,offset:0},fluidounce:{name:"fluidounce",base:Y.VOLUME,prefixes:H.NONE,value:2957353e-11,offset:0},gill:{name:"gill",base:Y.VOLUME,prefixes:H.NONE,value:.0001182941,offset:0},cc:{name:"cc",base:Y.VOLUME,prefixes:H.NONE,value:1e-6,offset:0},cup:{name:"cup",base:Y.VOLUME,prefixes:H.NONE,value:.0002365882,offset:0},pint:{name:"pint",base:Y.VOLUME,prefixes:H.NONE,value:.0004731765,offset:0},quart:{name:"quart",base:Y.VOLUME,prefixes:H.NONE,value:.0009463529,offset:0},gallon:{name:"gallon",base:Y.VOLUME,prefixes:H.NONE,value:.003785412,offset:0},beerbarrel:{name:"beerbarrel",base:Y.VOLUME,prefixes:H.NONE,value:.1173478,offset:0},oilbarrel:{name:"oilbarrel",base:Y.VOLUME,prefixes:H.NONE,value:.1589873,offset:0},hogshead:{name:"hogshead",base:Y.VOLUME,prefixes:H.NONE,value:.238481,offset:0},fldr:{name:"fldr",base:Y.VOLUME,prefixes:H.NONE,value:36966911e-13,offset:0},floz:{name:"floz",base:Y.VOLUME,prefixes:H.NONE,value:2957353e-11,offset:0},gi:{name:"gi",base:Y.VOLUME,prefixes:H.NONE,value:.0001182941,offset:0},cp:{name:"cp",base:Y.VOLUME,prefixes:H.NONE,value:.0002365882,offset:0},pt:{name:"pt",base:Y.VOLUME,prefixes:H.NONE,value:.0004731765,offset:0},qt:{name:"qt",base:Y.VOLUME,prefixes:H.NONE,value:.0009463529,offset:0},gal:{name:"gal",base:Y.VOLUME,prefixes:H.NONE,value:.003785412,offset:0},bbl:{name:"bbl",base:Y.VOLUME,prefixes:H.NONE,value:.1173478,offset:0},obl:{name:"obl",base:Y.VOLUME,prefixes:H.NONE,value:.1589873,offset:0},g:{name:"g",base:Y.MASS,prefixes:H.SHORT,value:.001,offset:0},gram:{name:"gram",base:Y.MASS,prefixes:H.LONG,value:.001,offset:0},ton:{name:"ton",base:Y.MASS,prefixes:H.SHORT,value:907.18474,offset:0},t:{name:"t",base:Y.MASS,prefixes:H.SHORT,value:1e3,offset:0},tonne:{name:"tonne",base:Y.MASS,prefixes:H.LONG,value:1e3,offset:0},grain:{name:"grain",base:Y.MASS,prefixes:H.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:Y.MASS,prefixes:H.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:Y.MASS,prefixes:H.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:Y.MASS,prefixes:H.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:Y.MASS,prefixes:H.NONE,value:45.359237,offset:0},stick:{name:"stick",base:Y.MASS,prefixes:H.NONE,value:.115,offset:0},stone:{name:"stone",base:Y.MASS,prefixes:H.NONE,value:6.35029318,offset:0},gr:{name:"gr",base:Y.MASS,prefixes:H.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:Y.MASS,prefixes:H.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:Y.MASS,prefixes:H.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:Y.MASS,prefixes:H.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:Y.MASS,prefixes:H.NONE,value:45.359237,offset:0},s:{name:"s",base:Y.TIME,prefixes:H.SHORT,value:1,offset:0},min:{name:"min",base:Y.TIME,prefixes:H.NONE,value:60,offset:0},h:{name:"h",base:Y.TIME,prefixes:H.NONE,value:3600,offset:0},second:{name:"second",base:Y.TIME,prefixes:H.LONG,value:1,offset:0},sec:{name:"sec",base:Y.TIME,prefixes:H.LONG,value:1,offset:0},minute:{name:"minute",base:Y.TIME,prefixes:H.NONE,value:60,offset:0},hour:{name:"hour",base:Y.TIME,prefixes:H.NONE,value:3600,offset:0},day:{name:"day",base:Y.TIME,prefixes:H.NONE,value:86400,offset:0},week:{name:"week",base:Y.TIME,prefixes:H.NONE,value:7*86400,offset:0},month:{name:"month",base:Y.TIME,prefixes:H.NONE,value:2629800,offset:0},year:{name:"year",base:Y.TIME,prefixes:H.NONE,value:31557600,offset:0},decade:{name:"decade",base:Y.TIME,prefixes:H.NONE,value:315576e3,offset:0},century:{name:"century",base:Y.TIME,prefixes:H.NONE,value:315576e4,offset:0},millennium:{name:"millennium",base:Y.TIME,prefixes:H.NONE,value:315576e5,offset:0},hertz:{name:"Hertz",base:Y.FREQUENCY,prefixes:H.LONG,value:1,offset:0,reciprocal:!0},Hz:{name:"Hz",base:Y.FREQUENCY,prefixes:H.SHORT,value:1,offset:0,reciprocal:!0},rad:{name:"rad",base:Y.ANGLE,prefixes:H.SHORT,value:1,offset:0},radian:{name:"radian",base:Y.ANGLE,prefixes:H.LONG,value:1,offset:0},deg:{name:"deg",base:Y.ANGLE,prefixes:H.SHORT,value:null,offset:0},degree:{name:"degree",base:Y.ANGLE,prefixes:H.LONG,value:null,offset:0},grad:{name:"grad",base:Y.ANGLE,prefixes:H.SHORT,value:null,offset:0},gradian:{name:"gradian",base:Y.ANGLE,prefixes:H.LONG,value:null,offset:0},cycle:{name:"cycle",base:Y.ANGLE,prefixes:H.NONE,value:null,offset:0},arcsec:{name:"arcsec",base:Y.ANGLE,prefixes:H.NONE,value:null,offset:0},arcmin:{name:"arcmin",base:Y.ANGLE,prefixes:H.NONE,value:null,offset:0},A:{name:"A",base:Y.CURRENT,prefixes:H.SHORT,value:1,offset:0},ampere:{name:"ampere",base:Y.CURRENT,prefixes:H.LONG,value:1,offset:0},K:{name:"K",base:Y.TEMPERATURE,prefixes:H.SHORT,value:1,offset:0},degC:{name:"degC",base:Y.TEMPERATURE,prefixes:H.SHORT,value:1,offset:273.15},degF:{name:"degF",base:Y.TEMPERATURE,prefixes:H.SHORT,value:1/1.8,offset:459.67},degR:{name:"degR",base:Y.TEMPERATURE,prefixes:H.SHORT,value:1/1.8,offset:0},kelvin:{name:"kelvin",base:Y.TEMPERATURE,prefixes:H.LONG,value:1,offset:0},celsius:{name:"celsius",base:Y.TEMPERATURE,prefixes:H.LONG,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:Y.TEMPERATURE,prefixes:H.LONG,value:1/1.8,offset:459.67},rankine:{name:"rankine",base:Y.TEMPERATURE,prefixes:H.LONG,value:1/1.8,offset:0},mol:{name:"mol",base:Y.AMOUNT_OF_SUBSTANCE,prefixes:H.SHORT,value:1,offset:0},mole:{name:"mole",base:Y.AMOUNT_OF_SUBSTANCE,prefixes:H.LONG,value:1,offset:0},cd:{name:"cd",base:Y.LUMINOUS_INTENSITY,prefixes:H.SHORT,value:1,offset:0},candela:{name:"candela",base:Y.LUMINOUS_INTENSITY,prefixes:H.LONG,value:1,offset:0},N:{name:"N",base:Y.FORCE,prefixes:H.SHORT,value:1,offset:0},newton:{name:"newton",base:Y.FORCE,prefixes:H.LONG,value:1,offset:0},dyn:{name:"dyn",base:Y.FORCE,prefixes:H.SHORT,value:1e-5,offset:0},dyne:{name:"dyne",base:Y.FORCE,prefixes:H.LONG,value:1e-5,offset:0},lbf:{name:"lbf",base:Y.FORCE,prefixes:H.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:Y.FORCE,prefixes:H.NONE,value:4.4482216152605,offset:0},kip:{name:"kip",base:Y.FORCE,prefixes:H.LONG,value:4448.2216,offset:0},kilogramforce:{name:"kilogramforce",base:Y.FORCE,prefixes:H.NONE,value:9.80665,offset:0},J:{name:"J",base:Y.ENERGY,prefixes:H.SHORT,value:1,offset:0},joule:{name:"joule",base:Y.ENERGY,prefixes:H.SHORT,value:1,offset:0},erg:{name:"erg",base:Y.ENERGY,prefixes:H.NONE,value:1e-7,offset:0},Wh:{name:"Wh",base:Y.ENERGY,prefixes:H.SHORT,value:3600,offset:0},BTU:{name:"BTU",base:Y.ENERGY,prefixes:H.BTU,value:1055.05585262,offset:0},eV:{name:"eV",base:Y.ENERGY,prefixes:H.SHORT,value:1602176565e-28,offset:0},electronvolt:{name:"electronvolt",base:Y.ENERGY,prefixes:H.LONG,value:1602176565e-28,offset:0},W:{name:"W",base:Y.POWER,prefixes:H.SHORT,value:1,offset:0},watt:{name:"watt",base:Y.POWER,prefixes:H.LONG,value:1,offset:0},hp:{name:"hp",base:Y.POWER,prefixes:H.NONE,value:745.6998715386,offset:0},VAR:{name:"VAR",base:Y.POWER,prefixes:H.SHORT,value:b.I,offset:0},VA:{name:"VA",base:Y.POWER,prefixes:H.SHORT,value:1,offset:0},Pa:{name:"Pa",base:Y.PRESSURE,prefixes:H.SHORT,value:1,offset:0},psi:{name:"psi",base:Y.PRESSURE,prefixes:H.NONE,value:6894.75729276459,offset:0},atm:{name:"atm",base:Y.PRESSURE,prefixes:H.NONE,value:101325,offset:0},bar:{name:"bar",base:Y.PRESSURE,prefixes:H.SHORTLONG,value:1e5,offset:0},torr:{name:"torr",base:Y.PRESSURE,prefixes:H.NONE,value:133.322,offset:0},mmHg:{name:"mmHg",base:Y.PRESSURE,prefixes:H.NONE,value:133.322,offset:0},mmH2O:{name:"mmH2O",base:Y.PRESSURE,prefixes:H.NONE,value:9.80665,offset:0},cmH2O:{name:"cmH2O",base:Y.PRESSURE,prefixes:H.NONE,value:98.0665,offset:0},coulomb:{name:"coulomb",base:Y.ELECTRIC_CHARGE,prefixes:H.LONG,value:1,offset:0},C:{name:"C",base:Y.ELECTRIC_CHARGE,prefixes:H.SHORT,value:1,offset:0},farad:{name:"farad",base:Y.ELECTRIC_CAPACITANCE,prefixes:H.LONG,value:1,offset:0},F:{name:"F",base:Y.ELECTRIC_CAPACITANCE,prefixes:H.SHORT,value:1,offset:0},volt:{name:"volt",base:Y.ELECTRIC_POTENTIAL,prefixes:H.LONG,value:1,offset:0},V:{name:"V",base:Y.ELECTRIC_POTENTIAL,prefixes:H.SHORT,value:1,offset:0},ohm:{name:"ohm",base:Y.ELECTRIC_RESISTANCE,prefixes:H.SHORTLONG,value:1,offset:0},henry:{name:"henry",base:Y.ELECTRIC_INDUCTANCE,prefixes:H.LONG,value:1,offset:0},H:{name:"H",base:Y.ELECTRIC_INDUCTANCE,prefixes:H.SHORT,value:1,offset:0},siemens:{name:"siemens",base:Y.ELECTRIC_CONDUCTANCE,prefixes:H.LONG,value:1,offset:0},S:{name:"S",base:Y.ELECTRIC_CONDUCTANCE,prefixes:H.SHORT,value:1,offset:0},weber:{name:"weber",base:Y.MAGNETIC_FLUX,prefixes:H.LONG,value:1,offset:0},Wb:{name:"Wb",base:Y.MAGNETIC_FLUX,prefixes:H.SHORT,value:1,offset:0},tesla:{name:"tesla",base:Y.MAGNETIC_FLUX_DENSITY,prefixes:H.LONG,value:1,offset:0},T:{name:"T",base:Y.MAGNETIC_FLUX_DENSITY,prefixes:H.SHORT,value:1,offset:0},b:{name:"b",base:Y.BIT,prefixes:H.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:Y.BIT,prefixes:H.BINARY_LONG,value:1,offset:0},B:{name:"B",base:Y.BIT,prefixes:H.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:Y.BIT,prefixes:H.BINARY_LONG,value:8,offset:0}},de={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",lt:"l",litres:"litre",liter:"litre",liters:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fluiddrams:"fluiddram",fluidounces:"fluidounce",gills:"gill",cups:"cup",pints:"pint",quarts:"quart",gallons:"gallon",beerbarrels:"beerbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",lb:"lbm",lbs:"lbm",kips:"kip",kgf:"kilogramforce",acres:"acre",hectares:"hectare",sqfeet:"sqft",sqyard:"sqyd",sqmile:"sqmi",sqmiles:"sqmi",mmhg:"mmHg",mmh2o:"mmH2O",cmh2o:"cmH2O",seconds:"second",secs:"second",minutes:"minute",mins:"minute",hours:"hour",hr:"hour",hrs:"hour",days:"day",weeks:"week",months:"month",years:"year",decades:"decade",centuries:"century",millennia:"millennium",hertz:"hertz",radians:"radian",degrees:"degree",gradians:"gradian",cycles:"cycle",arcsecond:"arcsec",arcseconds:"arcsec",arcminute:"arcmin",arcminutes:"arcmin",BTUs:"BTU",watts:"watt",joules:"joule",amperes:"ampere",amps:"ampere",amp:"ampere",coulombs:"coulomb",volts:"volt",ohms:"ohm",farads:"farad",webers:"weber",teslas:"tesla",electronvolts:"electronvolt",moles:"mole",bit:"bits",byte:"bytes"};function ce(me){if(me.number==="BigNumber"){var be=createBigNumberPi(w);ee.rad.value=new w(1),ee.deg.value=be.div(180),ee.grad.value=be.div(200),ee.cycle.value=be.times(2),ee.arcsec.value=be.div(648e3),ee.arcmin.value=be.div(10800)}else ee.rad.value=1,ee.deg.value=Math.PI/180,ee.grad.value=Math.PI/200,ee.cycle.value=Math.PI*2,ee.arcsec.value=Math.PI/648e3,ee.arcmin.value=Math.PI/10800;ee.radian.value=ee.rad.value,ee.degree.value=ee.deg.value,ee.gradian.value=ee.grad.value}ce(s),r&&r("config",function(me,be){me.number!==be.number&&ce(me)});var xe={si:{NONE:{unit:ae,prefix:H.NONE[""]},LENGTH:{unit:ee.m,prefix:H.SHORT[""]},MASS:{unit:ee.g,prefix:H.SHORT.k},TIME:{unit:ee.s,prefix:H.SHORT[""]},CURRENT:{unit:ee.A,prefix:H.SHORT[""]},TEMPERATURE:{unit:ee.K,prefix:H.SHORT[""]},LUMINOUS_INTENSITY:{unit:ee.cd,prefix:H.SHORT[""]},AMOUNT_OF_SUBSTANCE:{unit:ee.mol,prefix:H.SHORT[""]},ANGLE:{unit:ee.rad,prefix:H.SHORT[""]},BIT:{unit:ee.bits,prefix:H.SHORT[""]},FORCE:{unit:ee.N,prefix:H.SHORT[""]},ENERGY:{unit:ee.J,prefix:H.SHORT[""]},POWER:{unit:ee.W,prefix:H.SHORT[""]},PRESSURE:{unit:ee.Pa,prefix:H.SHORT[""]},ELECTRIC_CHARGE:{unit:ee.C,prefix:H.SHORT[""]},ELECTRIC_CAPACITANCE:{unit:ee.F,prefix:H.SHORT[""]},ELECTRIC_POTENTIAL:{unit:ee.V,prefix:H.SHORT[""]},ELECTRIC_RESISTANCE:{unit:ee.ohm,prefix:H.SHORT[""]},ELECTRIC_INDUCTANCE:{unit:ee.H,prefix:H.SHORT[""]},ELECTRIC_CONDUCTANCE:{unit:ee.S,prefix:H.SHORT[""]},MAGNETIC_FLUX:{unit:ee.Wb,prefix:H.SHORT[""]},MAGNETIC_FLUX_DENSITY:{unit:ee.T,prefix:H.SHORT[""]},FREQUENCY:{unit:ee.Hz,prefix:H.SHORT[""]}}};xe.cgs=JSON.parse(JSON.stringify(xe.si)),xe.cgs.LENGTH={unit:ee.m,prefix:H.SHORT.c},xe.cgs.MASS={unit:ee.g,prefix:H.SHORT[""]},xe.cgs.FORCE={unit:ee.dyn,prefix:H.SHORT[""]},xe.cgs.ENERGY={unit:ee.erg,prefix:H.NONE[""]},xe.us=JSON.parse(JSON.stringify(xe.si)),xe.us.LENGTH={unit:ee.ft,prefix:H.NONE[""]},xe.us.MASS={unit:ee.lbm,prefix:H.NONE[""]},xe.us.TEMPERATURE={unit:ee.degF,prefix:H.NONE[""]},xe.us.FORCE={unit:ee.lbf,prefix:H.NONE[""]},xe.us.ENERGY={unit:ee.BTU,prefix:H.BTU[""]},xe.us.POWER={unit:ee.hp,prefix:H.NONE[""]},xe.us.PRESSURE={unit:ee.psi,prefix:H.NONE[""]},xe.auto=JSON.parse(JSON.stringify(xe.si));var Me=xe.auto;S.setUnitSystem=function(me){if(hasOwnProperty$1(xe,me))Me=xe[me];else throw new Error("Unit system "+me+" does not exist. Choices are: "+Object.keys(xe).join(", "))},S.getUnitSystem=function(){for(var me in xe)if(hasOwnProperty$1(xe,me)&&xe[me]===Me)return me},S.typeConverters={BigNumber:function(be){return new w(be+"")},Fraction:function(be){return new x(be)},Complex:function(be){return be},number:function(be){return be}},S.prototype._numberConverter=function(){var me=S.typeConverters[this.valueType()];if(me)return me;throw new TypeError('Unsupported Unit value type "'+this.valueType()+'"')},S._getNumberConverter=function(me){if(!S.typeConverters[me])throw new TypeError('Unsupported type "'+me+'"');return S.typeConverters[me]};for(var Ae in ee)if(hasOwnProperty$1(ee,Ae)){var Xe=ee[Ae];Xe.dimensions=Xe.base.dimensions}for(var Be in de)if(hasOwnProperty$1(de,Be)){var Ze=ee[de[Be]],nt={};for(var rt in Ze)hasOwnProperty$1(Ze,rt)&&(nt[rt]=Ze[rt]);nt.name=Be,ee[Be]=nt}S.isValidAlpha=function(be){return/^[a-zA-Z]$/.test(be)};function it(me){for(var be=0;be<me.length;be++){if(M=me.charAt(be),be===0&&!S.isValidAlpha(M))throw new Error('Invalid unit name (must begin with alpha character): "'+me+'"');if(be>0&&!(S.isValidAlpha(M)||B(M)))throw new Error('Invalid unit name (only alphanumeric characters are allowed): "'+me+'"')}}return S.createUnit=function(me,be){if(typeof me!="object")throw new TypeError("createUnit expects first parameter to be of type 'Object'");if(be&&be.override){for(var Re in me)if(hasOwnProperty$1(me,Re)&&S.deleteUnit(Re),me[Re].aliases)for(var ye=0;ye<me[Re].aliases.length;ye++)S.deleteUnit(me[Re].aliases[ye])}var $e;for(var Te in me)hasOwnProperty$1(me,Te)&&($e=S.createUnitSingle(Te,me[Te]));return $e},S.createUnitSingle=function(me,be){if((typeof be>"u"||be===null)&&(be={}),typeof me!="string")throw new TypeError("createUnitSingle expects first parameter to be of type 'string'");if(hasOwnProperty$1(ee,me))throw new Error('Cannot create unit "'+me+'": a unit with that name already exists');it(me);var Re=null,ye=[],$e=0,Te,et,Ke;if(be&&be.type==="Unit")Re=be.clone();else if(typeof be=="string")be!==""&&(Te=be);else if(typeof be=="object")Te=be.definition,et=be.prefixes,$e=be.offset,Ke=be.baseName,be.aliases&&(ye=be.aliases.valueOf());else throw new TypeError('Cannot create unit "'+me+'" from "'+be.toString()+'": expecting "string" or "Unit" or "Object"');if(ye){for(var pe=0;pe<ye.length;pe++)if(hasOwnProperty$1(ee,ye[pe]))throw new Error('Cannot create alias "'+ye[pe]+'": a unit with that name already exists')}if(Te&&typeof Te=="string"&&!Re)try{Re=S.parse(Te,{allowNoUnits:!0})}catch(ht){throw ht.message='Could not create unit "'+me+'" from "'+Te+'": '+ht.message,ht}else Te&&Te.type==="Unit"&&(Re=Te.clone());ye=ye||[],$e=$e||0,et&&et.toUpperCase?et=H[et.toUpperCase()]||H.NONE:et=H.NONE;var ve={};if(Re){ve={name:me,value:Re.value,dimensions:Re.dimensions.slice(0),prefixes:et,offset:$e};var Ye=!1;for(var tt in Y)if(hasOwnProperty$1(Y,tt)){for(var Ve=!0,qe=0;qe<ue.length;qe++)if(Math.abs((ve.dimensions[qe]||0)-(Y[tt].dimensions[qe]||0))>1e-12){Ve=!1;break}if(Ve){Ye=!0,ve.base=Y[tt];break}}if(!Ye){Ke=Ke||me+"_STUFF";var Fe={dimensions:Re.dimensions.slice(0)};Fe.key=Ke,Y[Ke]=Fe,Me[Ke]={unit:ve,prefix:H.NONE[""]},ve.base=Y[Ke]}}else{if(Ke=Ke||me+"_STUFF",ue.indexOf(Ke)>=0)throw new Error('Cannot create new base unit "'+me+'": a base unit with that name already exists (and cannot be overridden)');ue.push(Ke);for(var De in Y)hasOwnProperty$1(Y,De)&&(Y[De].dimensions[ue.length-1]=0);for(var _e={dimensions:[]},Oe=0;Oe<ue.length;Oe++)_e.dimensions[Oe]=0;_e.dimensions[ue.length-1]=1,_e.key=Ke,Y[Ke]=_e,ve={name:me,value:1,dimensions:Y[Ke].dimensions.slice(0),prefixes:et,offset:$e,base:Y[Ke]},Me[Ke]={unit:ve,prefix:H.NONE[""]}}S.UNITS[me]=ve;for(var at=0;at<ye.length;at++){var vt=ye[at],pt={};for(var He in ve)hasOwnProperty$1(ve,He)&&(pt[He]=ve[He]);pt.name=vt,S.UNITS[vt]=pt}return delete ie.cache,new S(null,me)},S.deleteUnit=function(me){delete S.UNITS[me]},S.PREFIXES=H,S.BASE_DIMENSIONS=ue,S.BASE_UNITS=Y,S.UNIT_SYSTEMS=xe,S.UNITS=ee,S},{isClass:!0}),name$2e="unit",dependencies$2e=["typed","Unit"],createUnitFunction=factory(name$2e,dependencies$2e,t=>{var{typed:r,Unit:s}=t;return r(name$2e,{Unit:function(a){return a.clone()},string:function(a){return s.isValuelessUnit(a)?new s(null,a):s.parse(a,{allowNoUnits:!0})},"number | BigNumber | Fraction | Complex, string | Unit":function(a,o){return new s(a,o)},"number | BigNumber | Fraction":function(a){return new s(a)},"Array | Matrix":r.referToSelf(n=>a=>deepMap(a,n))})}),name$2d="sparse",dependencies$2d=["typed","SparseMatrix"],createSparse=factory(name$2d,dependencies$2d,t=>{var{typed:r,SparseMatrix:s}=t;return r(name$2d,{"":function(){return new s([])},string:function(a){return new s([],a)},"Array | Matrix":function(a){return new s(a)},"Array | Matrix, string":function(a,o){return new s(a,o)}})}),name$2c="createUnit",dependencies$2c=["typed","Unit"],createCreateUnit=factory(name$2c,dependencies$2c,t=>{var{typed:r,Unit:s}=t;return r(name$2c,{"Object, Object":function(a,o){return s.createUnit(a,o)},Object:function(a){return s.createUnit(a,{})},"string, Unit | string | Object, Object":function(a,o,l){var u={};return u[a]=o,s.createUnit(u,l)},"string, Unit | string | Object":function(a,o){var l={};return l[a]=o,s.createUnit(l,{})},string:function(a){var o={};return o[a]={},s.createUnit(o,{})}})}),name$2b="acos",dependencies$2b=["typed","config","Complex"],createAcos=factory(name$2b,dependencies$2b,t=>{var{typed:r,config:s,Complex:n}=t;return r(name$2b,{number:function(o){return o>=-1&&o<=1||s.predictable?Math.acos(o):new n(o,0).acos()},Complex:function(o){return o.acos()},BigNumber:function(o){return o.acos()}})}),name$2a="acosh",dependencies$2a=["typed","config","Complex"],createAcosh=factory(name$2a,dependencies$2a,t=>{var{typed:r,config:s,Complex:n}=t;return r(name$2a,{number:function(o){return o>=1||s.predictable?acoshNumber(o):o<=-1?new n(Math.log(Math.sqrt(o*o-1)-o),Math.PI):new n(o,0).acosh()},Complex:function(o){return o.acosh()},BigNumber:function(o){return o.acosh()}})}),name$29="acot",dependencies$29=["typed","BigNumber"],createAcot=factory(name$29,dependencies$29,t=>{var{typed:r,BigNumber:s}=t;return r(name$29,{number:acotNumber,Complex:function(a){return a.acot()},BigNumber:function(a){return new s(1).div(a).atan()}})}),name$28="acoth",dependencies$28=["typed","config","Complex","BigNumber"],createAcoth=factory(name$28,dependencies$28,t=>{var{typed:r,config:s,Complex:n,BigNumber:a}=t;return r(name$28,{number:function(l){return l>=1||l<=-1||s.predictable?acothNumber(l):new n(l,0).acoth()},Complex:function(l){return l.acoth()},BigNumber:function(l){return new a(1).div(l).atanh()}})}),name$27="acsc",dependencies$27=["typed","config","Complex","BigNumber"],createAcsc=factory(name$27,dependencies$27,t=>{var{typed:r,config:s,Complex:n,BigNumber:a}=t;return r(name$27,{number:function(l){return l<=-1||l>=1||s.predictable?acscNumber(l):new n(l,0).acsc()},Complex:function(l){return l.acsc()},BigNumber:function(l){return new a(1).div(l).asin()}})}),name$26="acsch",dependencies$26=["typed","BigNumber"],createAcsch=factory(name$26,dependencies$26,t=>{var{typed:r,BigNumber:s}=t;return r(name$26,{number:acschNumber,Complex:function(a){return a.acsch()},BigNumber:function(a){return new s(1).div(a).asinh()}})}),name$25="asec",dependencies$25=["typed","config","Complex","BigNumber"],createAsec=factory(name$25,dependencies$25,t=>{var{typed:r,config:s,Complex:n,BigNumber:a}=t;return r(name$25,{number:function(l){return l<=-1||l>=1||s.predictable?asecNumber(l):new n(l,0).asec()},Complex:function(l){return l.asec()},BigNumber:function(l){return new a(1).div(l).acos()}})}),name$24="asech",dependencies$24=["typed","config","Complex","BigNumber"],createAsech=factory(name$24,dependencies$24,t=>{var{typed:r,config:s,Complex:n,BigNumber:a}=t;return r(name$24,{number:function(l){if(l<=1&&l>=-1||s.predictable){var u=1/l;if(u>0||s.predictable)return asechNumber(l);var f=Math.sqrt(u*u-1);return new n(Math.log(f-u),Math.PI)}return new n(l,0).asech()},Complex:function(l){return l.asech()},BigNumber:function(l){return new a(1).div(l).acosh()}})}),name$23="asin",dependencies$23=["typed","config","Complex"],createAsin=factory(name$23,dependencies$23,t=>{var{typed:r,config:s,Complex:n}=t;return r(name$23,{number:function(o){return o>=-1&&o<=1||s.predictable?Math.asin(o):new n(o,0).asin()},Complex:function(o){return o.asin()},BigNumber:function(o){return o.asin()}})}),name$22="asinh",dependencies$22=["typed"],createAsinh=factory(name$22,dependencies$22,t=>{var{typed:r}=t;return r("asinh",{number:asinhNumber,Complex:function(n){return n.asinh()},BigNumber:function(n){return n.asinh()}})}),name$21="atan",dependencies$21=["typed"],createAtan=factory(name$21,dependencies$21,t=>{var{typed:r}=t;return r("atan",{number:function(n){return Math.atan(n)},Complex:function(n){return n.atan()},BigNumber:function(n){return n.atan()}})}),name$20="atan2",dependencies$20=["typed","matrix","equalScalar","BigNumber","DenseMatrix","concat"],createAtan2=factory(name$20,dependencies$20,t=>{var{typed:r,matrix:s,equalScalar:n,BigNumber:a,DenseMatrix:o,concat:l}=t,u=createMatAlgo02xDS0({typed:r,equalScalar:n}),f=createMatAlgo03xDSf({typed:r}),c=createMatAlgo09xS0Sf({typed:r,equalScalar:n}),h=createMatAlgo11xS0s({typed:r,equalScalar:n}),d=createMatAlgo12xSfs({typed:r,DenseMatrix:o}),p=createMatrixAlgorithmSuite({typed:r,matrix:s,concat:l});return r(name$20,{"number, number":Math.atan2,"BigNumber, BigNumber":(v,y)=>a.atan2(v,y)},p({scalar:"number | BigNumber",SS:c,DS:f,SD:u,Ss:h,sS:d}))}),name$1$="atanh",dependencies$1$=["typed","config","Complex"],createAtanh=factory(name$1$,dependencies$1$,t=>{var{typed:r,config:s,Complex:n}=t;return r(name$1$,{number:function(o){return o<=1&&o>=-1||s.predictable?atanhNumber(o):new n(o,0).atanh()},Complex:function(o){return o.atanh()},BigNumber:function(o){return o.atanh()}})}),createTrigUnit=factory("trigUnit",["typed"],t=>{var{typed:r}=t;return{Unit:r.referToSelf(s=>n=>{if(!n.hasBase(n.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return r.find(s,n.valueType())(n.value)})}}),name$1_="cos",dependencies$1_=["typed"],createCos=factory(name$1_,dependencies$1_,t=>{var{typed:r}=t,s=createTrigUnit({typed:r});return r(name$1_,{number:Math.cos,"Complex | BigNumber":n=>n.cos()},s)}),name$1Z="cosh",dependencies$1Z=["typed"],createCosh=factory(name$1Z,dependencies$1Z,t=>{var{typed:r}=t;return r(name$1Z,{number:cosh$3,"Complex | BigNumber":s=>s.cosh()})}),name$1Y="cot",dependencies$1Y=["typed","BigNumber"],createCot=factory(name$1Y,dependencies$1Y,t=>{var{typed:r,BigNumber:s}=t,n=createTrigUnit({typed:r});return r(name$1Y,{number:cotNumber,Complex:a=>a.cot(),BigNumber:a=>new s(1).div(a.tan())},n)}),name$1X="coth",dependencies$1X=["typed","BigNumber"],createCoth=factory(name$1X,dependencies$1X,t=>{var{typed:r,BigNumber:s}=t;return r(name$1X,{number:cothNumber,Complex:n=>n.coth(),BigNumber:n=>new s(1).div(n.tanh())})}),name$1W="csc",dependencies$1W=["typed","BigNumber"],createCsc=factory(name$1W,dependencies$1W,t=>{var{typed:r,BigNumber:s}=t,n=createTrigUnit({typed:r});return r(name$1W,{number:cscNumber,Complex:a=>a.csc(),BigNumber:a=>new s(1).div(a.sin())},n)}),name$1V="csch",dependencies$1V=["typed","BigNumber"],createCsch=factory(name$1V,dependencies$1V,t=>{var{typed:r,BigNumber:s}=t;return r(name$1V,{number:cschNumber,Complex:n=>n.csch(),BigNumber:n=>new s(1).div(n.sinh())})}),name$1U="sec",dependencies$1U=["typed","BigNumber"],createSec=factory(name$1U,dependencies$1U,t=>{var{typed:r,BigNumber:s}=t,n=createTrigUnit({typed:r});return r(name$1U,{number:secNumber,Complex:a=>a.sec(),BigNumber:a=>new s(1).div(a.cos())},n)}),name$1T="sech",dependencies$1T=["typed","BigNumber"],createSech=factory(name$1T,dependencies$1T,t=>{var{typed:r,BigNumber:s}=t;return r(name$1T,{number:sechNumber,Complex:n=>n.sech(),BigNumber:n=>new s(1).div(n.cosh())})}),name$1S="sin",dependencies$1S=["typed"],createSin=factory(name$1S,dependencies$1S,t=>{var{typed:r}=t,s=createTrigUnit({typed:r});return r(name$1S,{number:Math.sin,"Complex | BigNumber":n=>n.sin()},s)}),name$1R="sinh",dependencies$1R=["typed"],createSinh=factory(name$1R,dependencies$1R,t=>{var{typed:r}=t;return r(name$1R,{number:sinhNumber,"Complex | BigNumber":s=>s.sinh()})}),name$1Q="tan",dependencies$1Q=["typed"],createTan=factory(name$1Q,dependencies$1Q,t=>{var{typed:r}=t,s=createTrigUnit({typed:r});return r(name$1Q,{number:Math.tan,"Complex | BigNumber":n=>n.tan()},s)}),name$1P="tanh",dependencies$1P=["typed"],createTanh=factory(name$1P,dependencies$1P,t=>{var{typed:r}=t;return r("tanh",{number:tanh$2,"Complex | BigNumber":s=>s.tanh()})}),name$1O="setCartesian",dependencies$1O=["typed","size","subset","compareNatural","Index","DenseMatrix"],createSetCartesian=factory(name$1O,dependencies$1O,t=>{var{typed:r,size:s,subset:n,compareNatural:a,Index:o,DenseMatrix:l}=t;return r(name$1O,{"Array | Matrix, Array | Matrix":function(f,c){var h=[];if(n(s(f),new o(0))!==0&&n(s(c),new o(0))!==0){var d=flatten$1(Array.isArray(f)?f:f.toArray()).sort(a),p=flatten$1(Array.isArray(c)?c:c.toArray()).sort(a);h=[];for(var v=0;v<d.length;v++)for(var y=0;y<p.length;y++)h.push([d[v],p[y]])}return Array.isArray(f)&&Array.isArray(c)?h:new l(h)}})}),name$1N="setDifference",dependencies$1N=["typed","size","subset","compareNatural","Index","DenseMatrix"],createSetDifference=factory(name$1N,dependencies$1N,t=>{var{typed:r,size:s,subset:n,compareNatural:a,Index:o,DenseMatrix:l}=t;return r(name$1N,{"Array | Matrix, Array | Matrix":function(f,c){var h;if(n(s(f),new o(0))===0)h=[];else{if(n(s(c),new o(0))===0)return flatten$1(f.toArray());var d=identify(flatten$1(Array.isArray(f)?f:f.toArray()).sort(a)),p=identify(flatten$1(Array.isArray(c)?c:c.toArray()).sort(a));h=[];for(var v,y=0;y<d.length;y++){v=!1;for(var b=0;b<p.length;b++)if(a(d[y].value,p[b].value)===0&&d[y].identifier===p[b].identifier){v=!0;break}v||h.push(d[y])}}return Array.isArray(f)&&Array.isArray(c)?generalize(h):new l(generalize(h))}})}),name$1M="setDistinct",dependencies$1M=["typed","size","subset","compareNatural","Index","DenseMatrix"],createSetDistinct=factory(name$1M,dependencies$1M,t=>{var{typed:r,size:s,subset:n,compareNatural:a,Index:o,DenseMatrix:l}=t;return r(name$1M,{"Array | Matrix":function(f){var c;if(n(s(f),new o(0))===0)c=[];else{var h=flatten$1(Array.isArray(f)?f:f.toArray()).sort(a);c=[],c.push(h[0]);for(var d=1;d<h.length;d++)a(h[d],h[d-1])!==0&&c.push(h[d])}return Array.isArray(f)?c:new l(c)}})}),name$1L="setIntersect",dependencies$1L=["typed","size","subset","compareNatural","Index","DenseMatrix"],createSetIntersect=factory(name$1L,dependencies$1L,t=>{var{typed:r,size:s,subset:n,compareNatural:a,Index:o,DenseMatrix:l}=t;return r(name$1L,{"Array | Matrix, Array | Matrix":function(f,c){var h;if(n(s(f),new o(0))===0||n(s(c),new o(0))===0)h=[];else{var d=identify(flatten$1(Array.isArray(f)?f:f.toArray()).sort(a)),p=identify(flatten$1(Array.isArray(c)?c:c.toArray()).sort(a));h=[];for(var v=0;v<d.length;v++)for(var y=0;y<p.length;y++)if(a(d[v].value,p[y].value)===0&&d[v].identifier===p[y].identifier){h.push(d[v]);break}}return Array.isArray(f)&&Array.isArray(c)?generalize(h):new l(generalize(h))}})}),name$1K="setIsSubset",dependencies$1K=["typed","size","subset","compareNatural","Index"],createSetIsSubset=factory(name$1K,dependencies$1K,t=>{var{typed:r,size:s,subset:n,compareNatural:a,Index:o}=t;return r(name$1K,{"Array | Matrix, Array | Matrix":function(u,f){if(n(s(u),new o(0))===0)return!0;if(n(s(f),new o(0))===0)return!1;for(var c=identify(flatten$1(Array.isArray(u)?u:u.toArray()).sort(a)),h=identify(flatten$1(Array.isArray(f)?f:f.toArray()).sort(a)),d,p=0;p<c.length;p++){d=!1;for(var v=0;v<h.length;v++)if(a(c[p].value,h[v].value)===0&&c[p].identifier===h[v].identifier){d=!0;break}if(d===!1)return!1}return!0}})}),name$1J="setMultiplicity",dependencies$1J=["typed","size","subset","compareNatural","Index"],createSetMultiplicity=factory(name$1J,dependencies$1J,t=>{var{typed:r,size:s,subset:n,compareNatural:a,Index:o}=t;return r(name$1J,{"number | BigNumber | Fraction | Complex, Array | Matrix":function(u,f){if(n(s(f),new o(0))===0)return 0;for(var c=flatten$1(Array.isArray(f)?f:f.toArray()),h=0,d=0;d<c.length;d++)a(c[d],u)===0&&h++;return h}})}),name$1I="setPowerset",dependencies$1I=["typed","size","subset","compareNatural","Index"],createSetPowerset=factory(name$1I,dependencies$1I,t=>{var{typed:r,size:s,subset:n,compareNatural:a,Index:o}=t;return r(name$1I,{"Array | Matrix":function(c){if(n(s(c),new o(0))===0)return[];for(var h=flatten$1(Array.isArray(c)?c:c.toArray()).sort(a),d=[],p=0;p.toString(2).length<=h.length;)d.push(l(h,p.toString(2).split("").reverse())),p++;return u(d)}});function l(f,c){for(var h=[],d=0;d<c.length;d++)c[d]==="1"&&h.push(f[d]);return h}function u(f){for(var c=[],h=f.length-1;h>0;h--)for(var d=0;d<h;d++)f[d].length>f[d+1].length&&(c=f[d],f[d]=f[d+1],f[d+1]=c);return f}}),name$1H="setSize",dependencies$1H=["typed","compareNatural"],createSetSize=factory(name$1H,dependencies$1H,t=>{var{typed:r,compareNatural:s}=t;return r(name$1H,{"Array | Matrix":function(a){return Array.isArray(a)?flatten$1(a).length:flatten$1(a.toArray()).length},"Array | Matrix, boolean":function(a,o){if(o===!1||a.length===0)return Array.isArray(a)?flatten$1(a).length:flatten$1(a.toArray()).length;for(var l=flatten$1(Array.isArray(a)?a:a.toArray()).sort(s),u=1,f=1;f<l.length;f++)s(l[f],l[f-1])!==0&&u++;return u}})}),name$1G="setSymDifference",dependencies$1G=["typed","size","concat","subset","setDifference","Index"],createSetSymDifference=factory(name$1G,dependencies$1G,t=>{var{typed:r,size:s,concat:n,subset:a,setDifference:o,Index:l}=t;return r(name$1G,{"Array | Matrix, Array | Matrix":function(f,c){if(a(s(f),new l(0))===0)return flatten$1(c);if(a(s(c),new l(0))===0)return flatten$1(f);var h=flatten$1(f),d=flatten$1(c);return n(o(h,d),o(d,h))}})}),name$1F="setUnion",dependencies$1F=["typed","size","concat","subset","setIntersect","setSymDifference","Index"],createSetUnion=factory(name$1F,dependencies$1F,t=>{var{typed:r,size:s,concat:n,subset:a,setIntersect:o,setSymDifference:l,Index:u}=t;return r(name$1F,{"Array | Matrix, Array | Matrix":function(c,h){if(a(s(c),new u(0))===0)return flatten$1(h);if(a(s(h),new u(0))===0)return flatten$1(c);var d=flatten$1(c),p=flatten$1(h);return n(l(d,p),o(d,p))}})}),name$1E="add",dependencies$1E=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],createAdd=factory(name$1E,dependencies$1E,t=>{var{typed:r,matrix:s,addScalar:n,equalScalar:a,DenseMatrix:o,SparseMatrix:l,concat:u}=t,f=createMatAlgo01xDSid({typed:r}),c=createMatAlgo04xSidSid({typed:r,equalScalar:a}),h=createMatAlgo10xSids({typed:r,DenseMatrix:o}),d=createMatrixAlgorithmSuite({typed:r,matrix:s,concat:u});return r(name$1E,{"any, any":n,"any, any, ...any":r.referToSelf(p=>(v,y,b)=>{for(var w=p(v,y),x=0;x<b.length;x++)w=p(w,b[x]);return w})},d({elop:n,DS:f,SS:c,Ss:h}))}),name$1D="hypot",dependencies$1D=["typed","abs","addScalar","divideScalar","multiplyScalar","sqrt","smaller","isPositive"],createHypot=factory(name$1D,dependencies$1D,t=>{var{typed:r,abs:s,addScalar:n,divideScalar:a,multiplyScalar:o,sqrt:l,smaller:u,isPositive:f}=t;return r(name$1D,{"... number | BigNumber":c,Array:c,Matrix:h=>c(flatten$1(h.toArray()))});function c(h){for(var d=0,p=0,v=0;v<h.length;v++){if(isComplex(h[v]))throw new TypeError("Unexpected type of argument to hypot");var y=s(h[v]);u(p,y)?(d=o(d,o(a(p,y),a(p,y))),d=n(d,1),p=y):d=n(d,f(y)?o(a(y,p),a(y,p)):y)}return o(p,l(d))}}),name$1C="norm",dependencies$1C=["typed","abs","add","pow","conj","sqrt","multiply","equalScalar","larger","smaller","matrix","ctranspose","eigs"],createNorm=factory(name$1C,dependencies$1C,t=>{var{typed:r,abs:s,add:n,pow:a,conj:o,sqrt:l,multiply:u,equalScalar:f,larger:c,smaller:h,matrix:d,ctranspose:p,eigs:v}=t;return r(name$1C,{number:Math.abs,Complex:function(O){return O.abs()},BigNumber:function(O){return O.abs()},boolean:function(O){return Math.abs(O)},Array:function(O){return M(d(O),2)},Matrix:function(O){return M(O,2)},"Array, number | BigNumber | string":function(O,B){return M(d(O),B)},"Matrix, number | BigNumber | string":function(O,B){return M(O,B)}});function y(T){var O=0;return T.forEach(function(B){var J=s(B);c(J,O)&&(O=J)},!0),O}function b(T){var O;return T.forEach(function(B){var J=s(B);(!O||h(J,O))&&(O=J)},!0),O||0}function w(T,O){if(O===Number.POSITIVE_INFINITY||O==="inf")return y(T);if(O===Number.NEGATIVE_INFINITY||O==="-inf")return b(T);if(O==="fro")return M(T,2);if(typeof O=="number"&&!isNaN(O)){if(!f(O,0)){var B=0;return T.forEach(function(J){B=n(a(s(J),O),B)},!0),a(B,1/O)}return Number.POSITIVE_INFINITY}throw new Error("Unsupported parameter value")}function x(T){var O=0;return T.forEach(function(B,J){O=n(O,u(B,o(B)))}),s(l(O))}function A(T){var O=[],B=0;return T.forEach(function(J,F){var z=F[1],Z=n(O[z]||0,s(J));c(Z,B)&&(B=Z),O[z]=Z},!0),B}function S(T){var O=T.size();if(O[0]!==O[1])throw new RangeError("Invalid matrix dimensions");var B=p(T),J=u(B,T),F=v(J).values.toArray(),z=F[F.length-1];return s(l(z))}function _(T){var O=[],B=0;return T.forEach(function(J,F){var z=F[0],Z=n(O[z]||0,s(J));c(Z,B)&&(B=Z),O[z]=Z},!0),B}function $(T,O){if(O===1)return A(T);if(O===Number.POSITIVE_INFINITY||O==="inf")return _(T);if(O==="fro")return x(T);if(O===2)return S(T);throw new Error("Unsupported parameter value "+O)}function M(T,O){var B=T.size();if(B.length===1)return w(T,O);if(B.length===2){if(B[0]&&B[1])return $(T,O);throw new RangeError("Invalid matrix dimensions")}}}),name$1B="dot",dependencies$1B=["typed","addScalar","multiplyScalar","conj","size"],createDot=factory(name$1B,dependencies$1B,t=>{var{typed:r,addScalar:s,multiplyScalar:n,conj:a,size:o}=t;return r(name$1B,{"Array | DenseMatrix, Array | DenseMatrix":u,"SparseMatrix, SparseMatrix":f});function l(h,d){var p=c(h),v=c(d),y,b;if(p.length===1)y=p[0];else if(p.length===2&&p[1]===1)y=p[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+p.join(", ")+")");if(v.length===1)b=v[0];else if(v.length===2&&v[1]===1)b=v[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+v.join(", ")+")");if(y!==b)throw new RangeError("Vectors must have equal length ("+y+" != "+b+")");if(y===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return y}function u(h,d){var p=l(h,d),v=isMatrix(h)?h._data:h,y=isMatrix(h)?h._datatype:void 0,b=isMatrix(d)?d._data:d,w=isMatrix(d)?d._datatype:void 0,x=c(h).length===2,A=c(d).length===2,S=s,_=n;if(y&&w&&y===w&&typeof y=="string"){var $=y;S=r.find(s,[$,$]),_=r.find(n,[$,$])}if(!x&&!A){for(var M=_(a(v[0]),b[0]),T=1;T<p;T++)M=S(M,_(a(v[T]),b[T]));return M}if(!x&&A){for(var O=_(a(v[0]),b[0][0]),B=1;B<p;B++)O=S(O,_(a(v[B]),b[B][0]));return O}if(x&&!A){for(var J=_(a(v[0][0]),b[0]),F=1;F<p;F++)J=S(J,_(a(v[F][0]),b[F]));return J}if(x&&A){for(var z=_(a(v[0][0]),b[0][0]),Z=1;Z<p;Z++)z=S(z,_(a(v[Z][0]),b[Z][0]));return z}}function f(h,d){l(h,d);for(var p=h._index,v=h._values,y=d._index,b=d._values,w=0,x=s,A=n,S=0,_=0;S<p.length&&_<y.length;){var $=p[S],M=y[_];if($<M){S++;continue}if($>M){_++;continue}$===M&&(w=x(w,A(v[S],b[_])),S++,_++)}return w}function c(h){return isMatrix(h)?h.size():o(h)}}),name$1A="trace",dependencies$1A=["typed","matrix","add"],createTrace=factory(name$1A,dependencies$1A,t=>{var{typed:r,matrix:s,add:n}=t;return r("trace",{Array:function(u){return a(s(u))},SparseMatrix:o,DenseMatrix:a,any:clone$2});function a(l){var u=l._size,f=l._data;switch(u.length){case 1:if(u[0]===1)return clone$2(f[0]);throw new RangeError("Matrix must be square (size: "+format$1(u)+")");case 2:{var c=u[0],h=u[1];if(c===h){for(var d=0,p=0;p<c;p++)d=n(d,f[p][p]);return d}else throw new RangeError("Matrix must be square (size: "+format$1(u)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+format$1(u)+")")}}function o(l){var u=l._values,f=l._index,c=l._ptr,h=l._size,d=h[0],p=h[1];if(d===p){var v=0;if(u.length>0)for(var y=0;y<p;y++)for(var b=c[y],w=c[y+1],x=b;x<w;x++){var A=f[x];if(A===y){v=n(v,u[x]);break}if(A>y)break}return v}throw new RangeError("Matrix must be square (size: "+format$1(h)+")")}}),name$1z="index",dependencies$1z=["typed","Index"],createIndex=factory(name$1z,dependencies$1z,t=>{var{typed:r,Index:s}=t;return r(name$1z,{"...number | string | BigNumber | Range | Array | Matrix":function(a){var o=a.map(function(u){return isBigNumber(u)?u.toNumber():Array.isArray(u)||isMatrix(u)?u.map(function(f){return isBigNumber(f)?f.toNumber():f}):u}),l=new s;return s.apply(l,o),l}})}),keywords=new Set(["end"]),name$1y="Node",dependencies$1y=["mathWithTransform"],createNode=factory(name$1y,dependencies$1y,t=>{var{mathWithTransform:r}=t;function s(a){for(var o of[...keywords])if(a.has(o))throw new Error('Scope contains an illegal symbol, "'+o+'" is a reserved keyword')}class n{get type(){return"Node"}get isNode(){return!0}evaluate(o){return this.compile().evaluate(o)}compile(){var o=this._compile(r,{}),l={},u=null;function f(c){var h=createMap$1(c);return s(h),o(h,l,u)}return{evaluate:f}}_compile(o,l){throw new Error("Method _compile must be implemented by type "+this.type)}forEach(o){throw new Error("Cannot run forEach on a Node interface")}map(o){throw new Error("Cannot run map on a Node interface")}_ifNode(o){if(!isNode(o))throw new TypeError("Callback function must return a Node");return o}traverse(o){o(this,null,null);function l(u,f){u.forEach(function(c,h,d){f(c,h,d),l(c,f)})}l(this,o)}transform(o){function l(u,f,c){var h=o(u,f,c);return h!==u?h:u.map(l)}return l(this,null,null)}filter(o){var l=[];return this.traverse(function(u,f,c){o(u,f,c)&&l.push(u)}),l}clone(){throw new Error("Cannot clone a Node interface")}cloneDeep(){return this.map(function(o){return o.cloneDeep()})}equals(o){return o?this.type===o.type&&deepStrictEqual(this,o):!1}toString(o){var l=this._getCustomString(o);return typeof l<"u"?l:this._toString(o)}toJSON(){throw new Error("Cannot serialize object: toJSON not implemented by "+this.type)}toHTML(o){var l=this._getCustomString(o);return typeof l<"u"?l:this.toHTML(o)}_toString(){throw new Error("_toString not implemented for "+this.type)}toTex(o){var l=this._getCustomString(o);return typeof l<"u"?l:this._toTex(o)}_toTex(o){throw new Error("_toTex not implemented for "+this.type)}_getCustomString(o){if(o&&typeof o=="object")switch(typeof o.handler){case"object":case"undefined":return;case"function":return o.handler(this,o);default:throw new TypeError("Object or function expected as callback")}}getIdentifier(){return this.type}getContent(){return this}}return n},{isClass:!0,isNode:!0});function errorTransform(t){return t&&t.isIndexError?new IndexError(t.index+1,t.min+1,t.max!==void 0?t.max+1:void 0):t}function accessFactory(t){var{subset:r}=t;return function(n,a){try{if(Array.isArray(n))return r(n,a);if(n&&typeof n.subset=="function")return n.subset(a);if(typeof n=="string")return r(n,a);if(typeof n=="object"){if(!a.isObjectProperty())throw new TypeError("Cannot apply a numeric index as object property");return getSafeProperty(n,a.getObjectProperty())}else throw new TypeError("Cannot apply index: unsupported type of object")}catch(o){throw errorTransform(o)}}}var name$1x="AccessorNode",dependencies$1x=["subset","Node"],createAccessorNode=factory(name$1x,dependencies$1x,t=>{var{subset:r,Node:s}=t,n=accessFactory({subset:r});function a(l){return!(isAccessorNode(l)||isArrayNode(l)||isConstantNode(l)||isFunctionNode(l)||isObjectNode(l)||isParenthesisNode(l)||isSymbolNode(l))}class o extends s{constructor(u,f){if(super(),!isNode(u))throw new TypeError('Node expected for parameter "object"');if(!isIndexNode(f))throw new TypeError('IndexNode expected for parameter "index"');this.object=u,this.index=f}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return name$1x}get isAccessorNode(){return!0}_compile(u,f){var c=this.object._compile(u,f),h=this.index._compile(u,f);if(this.index.isObjectProperty()){var d=this.index.getObjectProperty();return function(v,y,b){return getSafeProperty(c(v,y,b),d)}}else return function(v,y,b){var w=c(v,y,b),x=h(v,y,w);return n(w,x)}}forEach(u){u(this.object,"object",this),u(this.index,"index",this)}map(u){return new o(this._ifNode(u(this.object,"object",this)),this._ifNode(u(this.index,"index",this)))}clone(){return new o(this.object,this.index)}_toString(u){var f=this.object.toString(u);return a(this.object)&&(f="("+f+")"),f+this.index.toString(u)}toHTML(u){var f=this.object.toHTML(u);return a(this.object)&&(f='<span class="math-parenthesis math-round-parenthesis">(</span>'+f+'<span class="math-parenthesis math-round-parenthesis">)</span>'),f+this.index.toHTML(u)}_toTex(u){var f=this.object.toTex(u);return a(this.object)&&(f="\\left(' + object + '\\right)"),f+this.index.toTex(u)}toJSON(){return{mathjs:name$1x,object:this.object,index:this.index}}static fromJSON(u){return new o(u.object,u.index)}}return _defineProperty(o,"name",name$1x),o},{isClass:!0,isNode:!0}),name$1w="ArrayNode",dependencies$1w=["Node"],createArrayNode=factory(name$1w,dependencies$1w,t=>{var{Node:r}=t;class s extends r{constructor(a){if(super(),this.items=a||[],!Array.isArray(this.items)||!this.items.every(isNode))throw new TypeError("Array containing Nodes expected")}get type(){return name$1w}get isArrayNode(){return!0}_compile(a,o){var l=map$1(this.items,function(c){return c._compile(a,o)}),u=a.config.matrix!=="Array";if(u){var f=a.matrix;return function(h,d,p){return f(map$1(l,function(v){return v(h,d,p)}))}}else return function(h,d,p){return map$1(l,function(v){return v(h,d,p)})}}forEach(a){for(var o=0;o<this.items.length;o++){var l=this.items[o];a(l,"items["+o+"]",this)}}map(a){for(var o=[],l=0;l<this.items.length;l++)o[l]=this._ifNode(a(this.items[l],"items["+l+"]",this));return new s(o)}clone(){return new s(this.items.slice(0))}_toString(a){var o=this.items.map(function(l){return l.toString(a)});return"["+o.join(", ")+"]"}toJSON(){return{mathjs:name$1w,items:this.items}}static fromJSON(a){return new s(a.items)}toHTML(a){var o=this.items.map(function(l){return l.toHTML(a)});return'<span class="math-parenthesis math-square-parenthesis">[</span>'+o.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(a){function o(l,u){var f=l.some(isArrayNode)&&!l.every(isArrayNode),c=u||f,h=c?"&":"\\\\",d=l.map(function(p){return p.items?o(p.items,!u):p.toTex(a)}).join(h);return f||!c||c&&!u?"\\begin{bmatrix}"+d+"\\end{bmatrix}":d}return o(this.items,!1)}}return _defineProperty(s,"name",name$1w),s},{isClass:!0,isNode:!0});function assignFactory(t){var{subset:r,matrix:s}=t;return function(a,o,l){try{if(Array.isArray(a))return s(a).subset(o,l).valueOf();if(a&&typeof a.subset=="function")return a.subset(o,l);if(typeof a=="string")return r(a,o,l);if(typeof a=="object"){if(!o.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return setSafeProperty(a,o.getObjectProperty(),l),a}else throw new TypeError("Cannot apply index: unsupported type of object")}catch(u){throw errorTransform(u)}}}var properties=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{op:"or",associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{op:"xor",associativity:"left",associativeWith:[]}},{"OperatorNode:and":{op:"and",associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{op:"|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{op:"^|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{op:"&",associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{op:"==",associativity:"left",associativeWith:[]},"OperatorNode:unequal":{op:"!=",associativity:"left",associativeWith:[]},"OperatorNode:smaller":{op:"<",associativity:"left",associativeWith:[]},"OperatorNode:larger":{op:">",associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{op:"<=",associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{op:">=",associativity:"left",associativeWith:[]},RelationalNode:{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{op:"<<",associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{op:">>",associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{op:">>>",associativity:"left",associativeWith:[]}},{"OperatorNode:to":{op:"to",associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{op:"+",associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{op:"-",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{op:"*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{op:"/",associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{op:".*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{op:"./",associativity:"left",associativeWith:[]},"OperatorNode:mod":{op:"mod",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]}},{"OperatorNode:unaryPlus":{op:"+",associativity:"right"},"OperatorNode:unaryMinus":{op:"-",associativity:"right"},"OperatorNode:bitNot":{op:"~",associativity:"right"},"OperatorNode:not":{op:"not",associativity:"right"}},{"OperatorNode:pow":{op:"^",associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{op:".^",associativity:"right",associativeWith:[]}},{"OperatorNode:factorial":{op:"!",associativity:"left"}},{"OperatorNode:ctranspose":{op:"'",associativity:"left"}}];function unwrapParen(t,r){if(!r||r!=="auto")return t;for(var s=t;isParenthesisNode(s);)s=s.content;return s}function getPrecedence(t,r,s,n){var a=t;r!=="keep"&&(a=t.getContent());for(var o=a.getIdentifier(),l=null,u=0;u<properties.length;u++)if(o in properties[u]){l=u;break}if(o==="OperatorNode:multiply"&&a.implicit&&s!=="show"){var f=unwrapParen(a.args[0],r);!(isConstantNode(f)&&n&&n.getIdentifier()==="OperatorNode:divide"&&rule2Node(unwrapParen(n.args[0],r)))&&!(f.getIdentifier()==="OperatorNode:divide"&&rule2Node(unwrapParen(f.args[0],r))&&isConstantNode(unwrapParen(f.args[1])))&&(l+=1)}return l}function getAssociativity(t,r){var s=t;r!=="keep"&&(s=t.getContent());var n=s.getIdentifier(),a=getPrecedence(s,r);if(a===null)return null;var o=properties[a][n];if(hasOwnProperty$1(o,"associativity")){if(o.associativity==="left")return"left";if(o.associativity==="right")return"right";throw Error("'"+n+"' has the invalid associativity '"+o.associativity+"'.")}return null}function isAssociativeWith(t,r,s){var n=s!=="keep"?t.getContent():t,a=s!=="keep"?t.getContent():r,o=n.getIdentifier(),l=a.getIdentifier(),u=getPrecedence(n,s);if(u===null)return null;var f=properties[u][o];if(hasOwnProperty$1(f,"associativeWith")&&f.associativeWith instanceof Array){for(var c=0;c<f.associativeWith.length;c++)if(f.associativeWith[c]===l)return!0;return!1}return null}function getOperator(t){var r="OperatorNode:"+t;for(var s of properties)if(r in s)return s[r].op;return null}var name$1v="AssignmentNode",dependencies$1v=["subset","?matrix","Node"],createAssignmentNode=factory(name$1v,dependencies$1v,t=>{var{subset:r,matrix:s,Node:n}=t,a=accessFactory({subset:r}),o=assignFactory({subset:r,matrix:s});function l(f,c,h){c||(c="keep");var d=getPrecedence(f,c,h),p=getPrecedence(f.value,c,h);return c==="all"||p!==null&&p<=d}class u extends n{constructor(c,h,d){if(super(),this.object=c,this.index=d?h:null,this.value=d||h,!isSymbolNode(c)&&!isAccessorNode(c))throw new TypeError('SymbolNode or AccessorNode expected as "object"');if(isSymbolNode(c)&&c.name==="end")throw new Error('Cannot assign to symbol "end"');if(this.index&&!isIndexNode(this.index))throw new TypeError('IndexNode expected as "index"');if(!isNode(this.value))throw new TypeError('Node expected as "value"')}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return name$1v}get isAssignmentNode(){return!0}_compile(c,h){var d=this.object._compile(c,h),p=this.index?this.index._compile(c,h):null,v=this.value._compile(c,h),y=this.object.name;if(this.index)if(this.index.isObjectProperty()){var b=this.index.getObjectProperty();return function(_,$,M){var T=d(_,$,M),O=v(_,$,M);return setSafeProperty(T,b,O),O}}else{if(isSymbolNode(this.object))return function(_,$,M){var T=d(_,$,M),O=v(_,$,M),B=p(_,$,T);return _.set(y,o(T,B,O)),O};var w=this.object.object._compile(c,h);if(this.object.index.isObjectProperty()){var x=this.object.index.getObjectProperty();return function(_,$,M){var T=w(_,$,M),O=getSafeProperty(T,x),B=p(_,$,O),J=v(_,$,M);return setSafeProperty(T,x,o(O,B,J)),J}}else{var A=this.object.index._compile(c,h);return function(_,$,M){var T=w(_,$,M),O=A(_,$,T),B=a(T,O),J=p(_,$,B),F=v(_,$,M);return o(T,O,o(B,J,F)),F}}}else{if(!isSymbolNode(this.object))throw new TypeError("SymbolNode expected as object");return function(_,$,M){var T=v(_,$,M);return _.set(y,T),T}}}forEach(c){c(this.object,"object",this),this.index&&c(this.index,"index",this),c(this.value,"value",this)}map(c){var h=this._ifNode(c(this.object,"object",this)),d=this.index?this._ifNode(c(this.index,"index",this)):null,p=this._ifNode(c(this.value,"value",this));return new u(h,d,p)}clone(){return new u(this.object,this.index,this.value)}_toString(c){var h=this.object.toString(c),d=this.index?this.index.toString(c):"",p=this.value.toString(c);return l(this,c&&c.parenthesis,c&&c.implicit)&&(p="("+p+")"),h+d+" = "+p}toJSON(){return{mathjs:name$1v,object:this.object,index:this.index,value:this.value}}static fromJSON(c){return new u(c.object,c.index,c.value)}toHTML(c){var h=this.object.toHTML(c),d=this.index?this.index.toHTML(c):"",p=this.value.toHTML(c);return l(this,c&&c.parenthesis,c&&c.implicit)&&(p='<span class="math-paranthesis math-round-parenthesis">(</span>'+p+'<span class="math-paranthesis math-round-parenthesis">)</span>'),h+d+'<span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+p}_toTex(c){var h=this.object.toTex(c),d=this.index?this.index.toTex(c):"",p=this.value.toTex(c);return l(this,c&&c.parenthesis,c&&c.implicit)&&(p="\\left(".concat(p,"\\right)")),h+d+":="+p}}return _defineProperty(u,"name",name$1v),u},{isClass:!0,isNode:!0}),name$1u="BlockNode",dependencies$1u=["ResultSet","Node"],createBlockNode=factory(name$1u,dependencies$1u,t=>{var{ResultSet:r,Node:s}=t;class n extends s{constructor(o){if(super(),!Array.isArray(o))throw new Error("Array expected");this.blocks=o.map(function(l){var u=l&&l.node,f=l&&l.visible!==void 0?l.visible:!0;if(!isNode(u))throw new TypeError('Property "node" must be a Node');if(typeof f!="boolean")throw new TypeError('Property "visible" must be a boolean');return{node:u,visible:f}})}get type(){return name$1u}get isBlockNode(){return!0}_compile(o,l){var u=map$1(this.blocks,function(f){return{evaluate:f.node._compile(o,l),visible:f.visible}});return function(c,h,d){var p=[];return forEach$1(u,function(y){var b=y.evaluate(c,h,d);y.visible&&p.push(b)}),new r(p)}}forEach(o){for(var l=0;l<this.blocks.length;l++)o(this.blocks[l].node,"blocks["+l+"].node",this)}map(o){for(var l=[],u=0;u<this.blocks.length;u++){var f=this.blocks[u],c=this._ifNode(o(f.node,"blocks["+u+"].node",this));l[u]={node:c,visible:f.visible}}return new n(l)}clone(){var o=this.blocks.map(function(l){return{node:l.node,visible:l.visible}});return new n(o)}_toString(o){return this.blocks.map(function(l){return l.node.toString(o)+(l.visible?"":";")}).join(`
`)}toJSON(){return{mathjs:name$1u,blocks:this.blocks}}static fromJSON(o){return new n(o.blocks)}toHTML(o){return this.blocks.map(function(l){return l.node.toHTML(o)+(l.visible?"":'<span class="math-separator">;</span>')}).join('<span class="math-separator"><br /></span>')}_toTex(o){return this.blocks.map(function(l){return l.node.toTex(o)+(l.visible?"":";")}).join(`\\;\\;
`)}}return _defineProperty(n,"name",name$1u),n},{isClass:!0,isNode:!0}),name$1t="ConditionalNode",dependencies$1t=["Node"],createConditionalNode=factory(name$1t,dependencies$1t,t=>{var{Node:r}=t;function s(a){if(typeof a=="number"||typeof a=="boolean"||typeof a=="string")return!!a;if(a){if(isBigNumber(a))return!a.isZero();if(isComplex(a))return!!(a.re||a.im);if(isUnit(a))return!!a.value}if(a==null)return!1;throw new TypeError('Unsupported type of condition "'+typeOf$1(a)+'"')}class n extends r{constructor(o,l,u){if(super(),!isNode(o))throw new TypeError("Parameter condition must be a Node");if(!isNode(l))throw new TypeError("Parameter trueExpr must be a Node");if(!isNode(u))throw new TypeError("Parameter falseExpr must be a Node");this.condition=o,this.trueExpr=l,this.falseExpr=u}get type(){return name$1t}get isConditionalNode(){return!0}_compile(o,l){var u=this.condition._compile(o,l),f=this.trueExpr._compile(o,l),c=this.falseExpr._compile(o,l);return function(d,p,v){return s(u(d,p,v))?f(d,p,v):c(d,p,v)}}forEach(o){o(this.condition,"condition",this),o(this.trueExpr,"trueExpr",this),o(this.falseExpr,"falseExpr",this)}map(o){return new n(this._ifNode(o(this.condition,"condition",this)),this._ifNode(o(this.trueExpr,"trueExpr",this)),this._ifNode(o(this.falseExpr,"falseExpr",this)))}clone(){return new n(this.condition,this.trueExpr,this.falseExpr)}_toString(o){var l=o&&o.parenthesis?o.parenthesis:"keep",u=getPrecedence(this,l,o&&o.implicit),f=this.condition.toString(o),c=getPrecedence(this.condition,l,o&&o.implicit);(l==="all"||this.condition.type==="OperatorNode"||c!==null&&c<=u)&&(f="("+f+")");var h=this.trueExpr.toString(o),d=getPrecedence(this.trueExpr,l,o&&o.implicit);(l==="all"||this.trueExpr.type==="OperatorNode"||d!==null&&d<=u)&&(h="("+h+")");var p=this.falseExpr.toString(o),v=getPrecedence(this.falseExpr,l,o&&o.implicit);return(l==="all"||this.falseExpr.type==="OperatorNode"||v!==null&&v<=u)&&(p="("+p+")"),f+" ? "+h+" : "+p}toJSON(){return{mathjs:name$1t,condition:this.condition,trueExpr:this.trueExpr,falseExpr:this.falseExpr}}static fromJSON(o){return new n(o.condition,o.trueExpr,o.falseExpr)}toHTML(o){var l=o&&o.parenthesis?o.parenthesis:"keep",u=getPrecedence(this,l,o&&o.implicit),f=this.condition.toHTML(o),c=getPrecedence(this.condition,l,o&&o.implicit);(l==="all"||this.condition.type==="OperatorNode"||c!==null&&c<=u)&&(f='<span class="math-parenthesis math-round-parenthesis">(</span>'+f+'<span class="math-parenthesis math-round-parenthesis">)</span>');var h=this.trueExpr.toHTML(o),d=getPrecedence(this.trueExpr,l,o&&o.implicit);(l==="all"||this.trueExpr.type==="OperatorNode"||d!==null&&d<=u)&&(h='<span class="math-parenthesis math-round-parenthesis">(</span>'+h+'<span class="math-parenthesis math-round-parenthesis">)</span>');var p=this.falseExpr.toHTML(o),v=getPrecedence(this.falseExpr,l,o&&o.implicit);return(l==="all"||this.falseExpr.type==="OperatorNode"||v!==null&&v<=u)&&(p='<span class="math-parenthesis math-round-parenthesis">(</span>'+p+'<span class="math-parenthesis math-round-parenthesis">)</span>'),f+'<span class="math-operator math-conditional-operator">?</span>'+h+'<span class="math-operator math-conditional-operator">:</span>'+p}_toTex(o){return"\\begin{cases} {"+this.trueExpr.toTex(o)+"}, &\\quad{\\text{if }\\;"+this.condition.toTex(o)+"}\\\\{"+this.falseExpr.toTex(o)+"}, &\\quad{\\text{otherwise}}\\end{cases}"}}return _defineProperty(n,"name",name$1t),n},{isClass:!0,isNode:!0}),dist,hasRequiredDist;function requireDist(){if(hasRequiredDist)return dist;hasRequiredDist=1;var t=Object.assign||function(a){for(var o=1;o<arguments.length;o++){var l=arguments[o];for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(a[u]=l[u])}return a},r={"{":"\\{","}":"\\}","\\":"\\textbackslash{}","#":"\\#",$:"\\$","%":"\\%","&":"\\&","^":"\\textasciicircum{}",_:"\\_","~":"\\textasciitilde{}"},s={"":"\\--","":"\\---"," ":"~","	":"\\qquad{}","\r\n":"\\newline{}","\n":"\\newline{}"},n=function(o,l){return t({},o,l)};return dist=function(a){for(var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=o.preserveFormatting,u=l===void 0?!1:l,f=o.escapeMapFn,c=f===void 0?n:f,h=String(a),d="",p=c(t({},r),u?t({},s):{}),v=Object.keys(p),y=function(){var w=!1;v.forEach(function(x,A){w||h.length>=x.length&&h.slice(0,x.length)===x&&(d+=p[v[A]],h=h.slice(x.length,h.length),w=!0)}),w||(d+=h.slice(0,1),h=h.slice(1,h.length))};h;)y();return d},dist}var distExports=requireDist();const escapeLatexLib=getDefaultExportFromCjs(distExports);var latexSymbols={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},latexOperators={transpose:"^\\top",ctranspose:"^H",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"\\~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},latexFunctions={abs:{1:"\\left|${args[0]}\\right|"},add:{2:"\\left(${args[0]}".concat(latexOperators.add,"${args[1]}\\right)")},cbrt:{1:"\\sqrt[3]{${args[0]}}"},ceil:{1:"\\left\\lceil${args[0]}\\right\\rceil"},cube:{1:"\\left(${args[0]}\\right)^3"},divide:{2:"\\frac{${args[0]}}{${args[1]}}"},dotDivide:{2:"\\left(${args[0]}".concat(latexOperators.dotDivide,"${args[1]}\\right)")},dotMultiply:{2:"\\left(${args[0]}".concat(latexOperators.dotMultiply,"${args[1]}\\right)")},dotPow:{2:"\\left(${args[0]}".concat(latexOperators.dotPow,"${args[1]}\\right)")},exp:{1:"\\exp\\left(${args[0]}\\right)"},expm1:"\\left(e".concat(latexOperators.pow,"{${args[0]}}-1\\right)"),fix:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},floor:{1:"\\left\\lfloor${args[0]}\\right\\rfloor"},gcd:"\\gcd\\left(${args}\\right)",hypot:"\\hypot\\left(${args}\\right)",log:{1:"\\ln\\left(${args[0]}\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}\\right)"},log10:{1:"\\log_{10}\\left(${args[0]}\\right)"},log1p:{1:"\\ln\\left(${args[0]}+1\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}+1\\right)"},log2:"\\log_{2}\\left(${args[0]}\\right)",mod:{2:"\\left(${args[0]}".concat(latexOperators.mod,"${args[1]}\\right)")},multiply:{2:"\\left(${args[0]}".concat(latexOperators.multiply,"${args[1]}\\right)")},norm:{1:"\\left\\|${args[0]}\\right\\|",2:void 0},nthRoot:{2:"\\sqrt[${args[1]}]{${args[0]}}"},nthRoots:{2:"\\{y : $y^{args[1]} = {${args[0]}}\\}"},pow:{2:"\\left(${args[0]}\\right)".concat(latexOperators.pow,"{${args[1]}}")},round:{1:"\\left\\lfloor${args[0]}\\right\\rceil",2:void 0},sign:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},sqrt:{1:"\\sqrt{${args[0]}}"},square:{1:"\\left(${args[0]}\\right)^2"},subtract:{2:"\\left(${args[0]}".concat(latexOperators.subtract,"${args[1]}\\right)")},unaryMinus:{1:"".concat(latexOperators.unaryMinus,"\\left(${args[0]}\\right)")},unaryPlus:{1:"".concat(latexOperators.unaryPlus,"\\left(${args[0]}\\right)")},bitAnd:{2:"\\left(${args[0]}".concat(latexOperators.bitAnd,"${args[1]}\\right)")},bitNot:{1:latexOperators.bitNot+"\\left(${args[0]}\\right)"},bitOr:{2:"\\left(${args[0]}".concat(latexOperators.bitOr,"${args[1]}\\right)")},bitXor:{2:"\\left(${args[0]}".concat(latexOperators.bitXor,"${args[1]}\\right)")},leftShift:{2:"\\left(${args[0]}".concat(latexOperators.leftShift,"${args[1]}\\right)")},rightArithShift:{2:"\\left(${args[0]}".concat(latexOperators.rightArithShift,"${args[1]}\\right)")},rightLogShift:{2:"\\left(${args[0]}".concat(latexOperators.rightLogShift,"${args[1]}\\right)")},bellNumbers:{1:"\\mathrm{B}_{${args[0]}}"},catalan:{1:"\\mathrm{C}_{${args[0]}}"},stirlingS2:{2:"\\mathrm{S}\\left(${args}\\right)"},arg:{1:"\\arg\\left(${args[0]}\\right)"},conj:{1:"\\left(${args[0]}\\right)^*"},im:{1:"\\Im\\left\\lbrace${args[0]}\\right\\rbrace"},re:{1:"\\Re\\left\\lbrace${args[0]}\\right\\rbrace"},and:{2:"\\left(${args[0]}".concat(latexOperators.and,"${args[1]}\\right)")},not:{1:latexOperators.not+"\\left(${args[0]}\\right)"},or:{2:"\\left(${args[0]}".concat(latexOperators.or,"${args[1]}\\right)")},xor:{2:"\\left(${args[0]}".concat(latexOperators.xor,"${args[1]}\\right)")},cross:{2:"\\left(${args[0]}\\right)\\times\\left(${args[1]}\\right)"},ctranspose:{1:"\\left(${args[0]}\\right)".concat(latexOperators.ctranspose)},det:{1:"\\det\\left(${args[0]}\\right)"},dot:{2:"\\left(${args[0]}\\cdot${args[1]}\\right)"},expm:{1:"\\exp\\left(${args[0]}\\right)"},inv:{1:"\\left(${args[0]}\\right)^{-1}"},pinv:{1:"\\left(${args[0]}\\right)^{+}"},sqrtm:{1:"{${args[0]}}".concat(latexOperators.pow,"{\\frac{1}{2}}")},trace:{1:"\\mathrm{tr}\\left(${args[0]}\\right)"},transpose:{1:"\\left(${args[0]}\\right)".concat(latexOperators.transpose)},combinations:{2:"\\binom{${args[0]}}{${args[1]}}"},combinationsWithRep:{2:"\\left(\\!\\!{\\binom{${args[0]}}{${args[1]}}}\\!\\!\\right)"},factorial:{1:"\\left(${args[0]}\\right)".concat(latexOperators.factorial)},gamma:{1:"\\Gamma\\left(${args[0]}\\right)"},lgamma:{1:"\\ln\\Gamma\\left(${args[0]}\\right)"},equal:{2:"\\left(${args[0]}".concat(latexOperators.equal,"${args[1]}\\right)")},larger:{2:"\\left(${args[0]}".concat(latexOperators.larger,"${args[1]}\\right)")},largerEq:{2:"\\left(${args[0]}".concat(latexOperators.largerEq,"${args[1]}\\right)")},smaller:{2:"\\left(${args[0]}".concat(latexOperators.smaller,"${args[1]}\\right)")},smallerEq:{2:"\\left(${args[0]}".concat(latexOperators.smallerEq,"${args[1]}\\right)")},unequal:{2:"\\left(${args[0]}".concat(latexOperators.unequal,"${args[1]}\\right)")},erf:{1:"erf\\left(${args[0]}\\right)"},max:"\\max\\left(${args}\\right)",min:"\\min\\left(${args}\\right)",variance:"\\mathrm{Var}\\left(${args}\\right)",acos:{1:"\\cos^{-1}\\left(${args[0]}\\right)"},acosh:{1:"\\cosh^{-1}\\left(${args[0]}\\right)"},acot:{1:"\\cot^{-1}\\left(${args[0]}\\right)"},acoth:{1:"\\coth^{-1}\\left(${args[0]}\\right)"},acsc:{1:"\\csc^{-1}\\left(${args[0]}\\right)"},acsch:{1:"\\mathrm{csch}^{-1}\\left(${args[0]}\\right)"},asec:{1:"\\sec^{-1}\\left(${args[0]}\\right)"},asech:{1:"\\mathrm{sech}^{-1}\\left(${args[0]}\\right)"},asin:{1:"\\sin^{-1}\\left(${args[0]}\\right)"},asinh:{1:"\\sinh^{-1}\\left(${args[0]}\\right)"},atan:{1:"\\tan^{-1}\\left(${args[0]}\\right)"},atan2:{2:"\\mathrm{atan2}\\left(${args}\\right)"},atanh:{1:"\\tanh^{-1}\\left(${args[0]}\\right)"},cos:{1:"\\cos\\left(${args[0]}\\right)"},cosh:{1:"\\cosh\\left(${args[0]}\\right)"},cot:{1:"\\cot\\left(${args[0]}\\right)"},coth:{1:"\\coth\\left(${args[0]}\\right)"},csc:{1:"\\csc\\left(${args[0]}\\right)"},csch:{1:"\\mathrm{csch}\\left(${args[0]}\\right)"},sec:{1:"\\sec\\left(${args[0]}\\right)"},sech:{1:"\\mathrm{sech}\\left(${args[0]}\\right)"},sin:{1:"\\sin\\left(${args[0]}\\right)"},sinh:{1:"\\sinh\\left(${args[0]}\\right)"},tan:{1:"\\tan\\left(${args[0]}\\right)"},tanh:{1:"\\tanh\\left(${args[0]}\\right)"},to:{2:"\\left(${args[0]}".concat(latexOperators.to,"${args[1]}\\right)")},numeric:function(r,s){return r.args[0].toTex()},number:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},string:{0:'\\mathtt{""}',1:"\\mathrm{string}\\left(${args[0]}\\right)"},bignumber:{0:"0",1:"\\left(${args[0]}\\right)"},complex:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)+".concat(latexSymbols.i,"\\cdot\\left(${args[1]}\\right)\\right)")},matrix:{0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},sparse:{0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},unit:{1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"}},defaultTemplate="\\mathrm{${name}}\\left(${args}\\right)",latexUnits={deg:"^\\circ"};function escapeLatex(t){return escapeLatexLib(t,{preserveFormatting:!0})}function toSymbol(t,r){return r=typeof r>"u"?!1:r,r?hasOwnProperty$1(latexUnits,t)?latexUnits[t]:"\\mathrm{"+escapeLatex(t)+"}":hasOwnProperty$1(latexSymbols,t)?latexSymbols[t]:escapeLatex(t)}var name$1s="ConstantNode",dependencies$1s=["Node"],createConstantNode=factory(name$1s,dependencies$1s,t=>{var{Node:r}=t;class s extends r{constructor(a){super(),this.value=a}get type(){return name$1s}get isConstantNode(){return!0}_compile(a,o){var l=this.value;return function(){return l}}forEach(a){}map(a){return this.clone()}clone(){return new s(this.value)}_toString(a){return format$1(this.value,a)}toHTML(a){var o=this._toString(a);switch(typeOf$1(this.value)){case"number":case"BigNumber":case"Fraction":return'<span class="math-number">'+o+"</span>";case"string":return'<span class="math-string">'+o+"</span>";case"boolean":return'<span class="math-boolean">'+o+"</span>";case"null":return'<span class="math-null-symbol">'+o+"</span>";case"undefined":return'<span class="math-undefined">'+o+"</span>";default:return'<span class="math-symbol">'+o+"</span>"}}toJSON(){return{mathjs:name$1s,value:this.value}}static fromJSON(a){return new s(a.value)}_toTex(a){var o=this._toString(a);switch(typeOf$1(this.value)){case"string":return"\\mathtt{"+escapeLatex(o)+"}";case"number":case"BigNumber":{if(!isFinite(this.value))return this.value.valueOf()<0?"-\\infty":"\\infty";var l=o.toLowerCase().indexOf("e");if(l!==-1)return o.substring(0,l)+"\\cdot10^{"+o.substring(l+1)+"}"}return o;case"Fraction":return this.value.toLatex();default:return o}}}return _defineProperty(s,"name",name$1s),s},{isClass:!0,isNode:!0}),name$1r="FunctionAssignmentNode",dependencies$1r=["typed","Node"],createFunctionAssignmentNode=factory(name$1r,dependencies$1r,t=>{var{typed:r,Node:s}=t;function n(o,l,u){var f=getPrecedence(o,l,u),c=getPrecedence(o.expr,l,u);return l==="all"||c!==null&&c<=f}class a extends s{constructor(l,u,f){if(super(),typeof l!="string")throw new TypeError('String expected for parameter "name"');if(!Array.isArray(u))throw new TypeError('Array containing strings or objects expected for parameter "params"');if(!isNode(f))throw new TypeError('Node expected for parameter "expr"');if(keywords.has(l))throw new Error('Illegal function name, "'+l+'" is a reserved keyword');var c=new Set;for(var h of u){var d=typeof h=="string"?h:h.name;if(c.has(d))throw new Error('Duplicate parameter name "'.concat(d,'"'));c.add(d)}this.name=l,this.params=u.map(function(p){return p&&p.name||p}),this.types=u.map(function(p){return p&&p.type||"any"}),this.expr=f}get type(){return name$1r}get isFunctionAssignmentNode(){return!0}_compile(l,u){var f=Object.create(u);forEach$1(this.params,function(y){f[y]=!0});var c=this.expr._compile(l,f),h=this.name,d=this.params,p=join(this.types,","),v=h+"("+join(this.params,", ")+")";return function(b,w,x){var A={};A[p]=function(){for(var _=Object.create(w),$=0;$<d.length;$++)_[d[$]]=arguments[$];return c(b,_,x)};var S=r(h,A);return S.syntax=v,b.set(h,S),S}}forEach(l){l(this.expr,"expr",this)}map(l){var u=this._ifNode(l(this.expr,"expr",this));return new a(this.name,this.params.slice(0),u)}clone(){return new a(this.name,this.params.slice(0),this.expr)}_toString(l){var u=l&&l.parenthesis?l.parenthesis:"keep",f=this.expr.toString(l);return n(this,u,l&&l.implicit)&&(f="("+f+")"),this.name+"("+this.params.join(", ")+") = "+f}toJSON(){var l=this.types;return{mathjs:name$1r,name:this.name,params:this.params.map(function(u,f){return{name:u,type:l[f]}}),expr:this.expr}}static fromJSON(l){return new a(l.name,l.params,l.expr)}toHTML(l){for(var u=l&&l.parenthesis?l.parenthesis:"keep",f=[],c=0;c<this.params.length;c++)f.push('<span class="math-symbol math-parameter">'+escape$1(this.params[c])+"</span>");var h=this.expr.toHTML(l);return n(this,u,l&&l.implicit)&&(h='<span class="math-parenthesis math-round-parenthesis">(</span>'+h+'<span class="math-parenthesis math-round-parenthesis">)</span>'),'<span class="math-function">'+escape$1(this.name)+'</span><span class="math-parenthesis math-round-parenthesis">(</span>'+f.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-round-parenthesis">)</span><span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+h}_toTex(l){var u=l&&l.parenthesis?l.parenthesis:"keep",f=this.expr.toTex(l);return n(this,u,l&&l.implicit)&&(f="\\left(".concat(f,"\\right)")),"\\mathrm{"+this.name+"}\\left("+this.params.map(toSymbol).join(",")+"\\right):="+f}}return _defineProperty(a,"name",name$1r),a},{isClass:!0,isNode:!0}),name$1q="IndexNode",dependencies$1q=["Node","size"],createIndexNode=factory(name$1q,dependencies$1q,t=>{var{Node:r,size:s}=t;class n extends r{constructor(o,l){if(super(),this.dimensions=o,this.dotNotation=l||!1,!Array.isArray(o)||!o.every(isNode))throw new TypeError('Array containing Nodes expected for parameter "dimensions"');if(this.dotNotation&&!this.isObjectProperty())throw new Error("dotNotation only applicable for object properties")}get type(){return name$1q}get isIndexNode(){return!0}_compile(o,l){var u=map$1(this.dimensions,function(c,h){var d=c.filter(y=>y.isSymbolNode&&y.name==="end").length>0;if(d){var p=Object.create(l);p.end=!0;var v=c._compile(o,p);return function(b,w,x){if(!isMatrix(x)&&!isArray(x)&&!isString(x))throw new TypeError('Cannot resolve "end": context must be a Matrix, Array, or string but is '+typeOf$1(x));var A=s(x).valueOf(),S=Object.create(w);return S.end=A[h],v(b,S,x)}}else return c._compile(o,l)}),f=getSafeProperty(o,"index");return function(h,d,p){var v=map$1(u,function(y){return y(h,d,p)});return f(...v)}}forEach(o){for(var l=0;l<this.dimensions.length;l++)o(this.dimensions[l],"dimensions["+l+"]",this)}map(o){for(var l=[],u=0;u<this.dimensions.length;u++)l[u]=this._ifNode(o(this.dimensions[u],"dimensions["+u+"]",this));return new n(l,this.dotNotation)}clone(){return new n(this.dimensions.slice(0),this.dotNotation)}isObjectProperty(){return this.dimensions.length===1&&isConstantNode(this.dimensions[0])&&typeof this.dimensions[0].value=="string"}getObjectProperty(){return this.isObjectProperty()?this.dimensions[0].value:null}_toString(o){return this.dotNotation?"."+this.getObjectProperty():"["+this.dimensions.join(", ")+"]"}toJSON(){return{mathjs:name$1q,dimensions:this.dimensions,dotNotation:this.dotNotation}}static fromJSON(o){return new n(o.dimensions,o.dotNotation)}toHTML(o){for(var l=[],u=0;u<this.dimensions.length;u++)l[u]=this.dimensions[u].toHTML();return this.dotNotation?'<span class="math-operator math-accessor-operator">.</span><span class="math-symbol math-property">'+escape$1(this.getObjectProperty())+"</span>":'<span class="math-parenthesis math-square-parenthesis">[</span>'+l.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(o){var l=this.dimensions.map(function(u){return u.toTex(o)});return this.dotNotation?"."+this.getObjectProperty():"_{"+l.join(",")+"}"}}return _defineProperty(n,"name",name$1q),n},{isClass:!0,isNode:!0}),name$1p="ObjectNode",dependencies$1p=["Node"],createObjectNode=factory(name$1p,dependencies$1p,t=>{var{Node:r}=t;class s extends r{constructor(a){if(super(),this.properties=a||{},a&&(typeof a!="object"||!Object.keys(a).every(function(o){return isNode(a[o])})))throw new TypeError("Object containing Nodes expected")}get type(){return name$1p}get isObjectNode(){return!0}_compile(a,o){var l={};for(var u in this.properties)if(hasOwnProperty$1(this.properties,u)){var f=stringify(u),c=JSON.parse(f);if(!isSafeProperty(this.properties,c))throw new Error('No access to property "'+c+'"');l[c]=this.properties[u]._compile(a,o)}return function(d,p,v){var y={};for(var b in l)hasOwnProperty$1(l,b)&&(y[b]=l[b](d,p,v));return y}}forEach(a){for(var o in this.properties)hasOwnProperty$1(this.properties,o)&&a(this.properties[o],"properties["+stringify(o)+"]",this)}map(a){var o={};for(var l in this.properties)hasOwnProperty$1(this.properties,l)&&(o[l]=this._ifNode(a(this.properties[l],"properties["+stringify(l)+"]",this)));return new s(o)}clone(){var a={};for(var o in this.properties)hasOwnProperty$1(this.properties,o)&&(a[o]=this.properties[o]);return new s(a)}_toString(a){var o=[];for(var l in this.properties)hasOwnProperty$1(this.properties,l)&&o.push(stringify(l)+": "+this.properties[l].toString(a));return"{"+o.join(", ")+"}"}toJSON(){return{mathjs:name$1p,properties:this.properties}}static fromJSON(a){return new s(a.properties)}toHTML(a){var o=[];for(var l in this.properties)hasOwnProperty$1(this.properties,l)&&o.push('<span class="math-symbol math-property">'+escape$1(l)+'</span><span class="math-operator math-assignment-operator math-property-assignment-operator math-binary-operator">:</span>'+this.properties[l].toHTML(a));return'<span class="math-parenthesis math-curly-parenthesis">{</span>'+o.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-curly-parenthesis">}</span>'}_toTex(a){var o=[];for(var l in this.properties)hasOwnProperty$1(this.properties,l)&&o.push("\\mathbf{"+l+":} & "+this.properties[l].toTex(a)+"\\\\");var u="\\left\\{\\begin{array}{ll}"+o.join(`
`)+"\\end{array}\\right\\}";return u}}return _defineProperty(s,"name",name$1p),s},{isClass:!0,isNode:!0}),name$1o="OperatorNode",dependencies$1o=["Node"],createOperatorNode=factory(name$1o,dependencies$1o,t=>{var{Node:r}=t;function s(o,l){var u=o;if(l==="auto")for(;isParenthesisNode(u);)u=u.content;return isConstantNode(u)?!0:isOperatorNode(u)?s(u.args[0],l):!1}function n(o,l,u,f,c){var h=getPrecedence(o,l,u),d=getAssociativity(o,l);if(l==="all"||f.length>2&&o.getIdentifier()!=="OperatorNode:add"&&o.getIdentifier()!=="OperatorNode:multiply")return f.map(function(J){switch(J.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return!1;default:return!0}});var p;switch(f.length){case 0:p=[];break;case 1:{var v=getPrecedence(f[0],l,u,o);if(c&&v!==null){var y,b;if(l==="keep"?(y=f[0].getIdentifier(),b=o.getIdentifier()):(y=f[0].getContent().getIdentifier(),b=o.getContent().getIdentifier()),properties[h][b].latexLeftParens===!1){p=[!1];break}if(properties[v][y].latexParens===!1){p=[!1];break}}if(v===null){p=[!1];break}if(v<=h){p=[!0];break}p=[!1]}break;case 2:{var w,x=getPrecedence(f[0],l,u,o),A=isAssociativeWith(o,f[0],l);x===null?w=!1:x===h&&d==="right"&&!A||x<h?w=!0:w=!1;var S,_=getPrecedence(f[1],l,u,o),$=isAssociativeWith(o,f[1],l);if(_===null?S=!1:_===h&&d==="left"&&!$||_<h?S=!0:S=!1,c){var M,T,O;l==="keep"?(M=o.getIdentifier(),T=o.args[0].getIdentifier(),O=o.args[1].getIdentifier()):(M=o.getContent().getIdentifier(),T=o.args[0].getContent().getIdentifier(),O=o.args[1].getContent().getIdentifier()),x!==null&&(properties[h][M].latexLeftParens===!1&&(w=!1),properties[x][T].latexParens===!1&&(w=!1)),_!==null&&(properties[h][M].latexRightParens===!1&&(S=!1),properties[_][O].latexParens===!1&&(S=!1))}p=[w,S]}break;default:(o.getIdentifier()==="OperatorNode:add"||o.getIdentifier()==="OperatorNode:multiply")&&(p=f.map(function(J){var F=getPrecedence(J,l,u,o),z=isAssociativeWith(o,J,l),Z=getAssociativity(J,l);return F===null?!1:h===F&&d===Z&&!z?!0:F<h}));break}if(f.length>=2&&o.getIdentifier()==="OperatorNode:multiply"&&o.implicit&&l!=="all"&&u==="hide")for(var B=1;B<p.length;++B)s(f[B],l)&&!p[B-1]&&(l!=="keep"||!isParenthesisNode(f[B-1]))&&(p[B]=!0);return p}class a extends r{constructor(l,u,f,c,h){if(super(),typeof l!="string")throw new TypeError('string expected for parameter "op"');if(typeof u!="string")throw new TypeError('string expected for parameter "fn"');if(!Array.isArray(f)||!f.every(isNode))throw new TypeError('Array containing Nodes expected for parameter "args"');this.implicit=c===!0,this.isPercentage=h===!0,this.op=l,this.fn=u,this.args=f||[]}get type(){return name$1o}get isOperatorNode(){return!0}_compile(l,u){if(typeof this.fn!="string"||!isSafeMethod(l,this.fn))throw l[this.fn]?new Error('No access to function "'+this.fn+'"'):new Error("Function "+this.fn+' missing in provided namespace "math"');var f=getSafeProperty(l,this.fn),c=map$1(this.args,function(v){return v._compile(l,u)});if(c.length===1){var h=c[0];return function(y,b,w){return f(h(y,b,w))}}else if(c.length===2){var d=c[0],p=c[1];return function(y,b,w){return f(d(y,b,w),p(y,b,w))}}else return function(y,b,w){return f.apply(null,map$1(c,function(x){return x(y,b,w)}))}}forEach(l){for(var u=0;u<this.args.length;u++)l(this.args[u],"args["+u+"]",this)}map(l){for(var u=[],f=0;f<this.args.length;f++)u[f]=this._ifNode(l(this.args[f],"args["+f+"]",this));return new a(this.op,this.fn,u,this.implicit,this.isPercentage)}clone(){return new a(this.op,this.fn,this.args.slice(0),this.implicit,this.isPercentage)}isUnary(){return this.args.length===1}isBinary(){return this.args.length===2}_toString(l){var u=l&&l.parenthesis?l.parenthesis:"keep",f=l&&l.implicit?l.implicit:"hide",c=this.args,h=n(this,u,f,c,!1);if(c.length===1){var d=getAssociativity(this,u),p=c[0].toString(l);h[0]&&(p="("+p+")");var v=/[a-zA-Z]+/.test(this.op);return d==="right"?this.op+(v?" ":"")+p:d==="left"?p+(v?" ":"")+this.op:p+this.op}else if(c.length===2){var y=c[0].toString(l),b=c[1].toString(l);return h[0]&&(y="("+y+")"),h[1]&&(b="("+b+")"),this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&f==="hide"?y+" "+b:y+" "+this.op+" "+b}else if(c.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")){var w=c.map(function(x,A){return x=x.toString(l),h[A]&&(x="("+x+")"),x});return this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&f==="hide"?w.join(" "):w.join(" "+this.op+" ")}else return this.fn+"("+this.args.join(", ")+")"}toJSON(){return{mathjs:name$1o,op:this.op,fn:this.fn,args:this.args,implicit:this.implicit,isPercentage:this.isPercentage}}static fromJSON(l){return new a(l.op,l.fn,l.args,l.implicit,l.isPercentage)}toHTML(l){var u=l&&l.parenthesis?l.parenthesis:"keep",f=l&&l.implicit?l.implicit:"hide",c=this.args,h=n(this,u,f,c,!1);if(c.length===1){var d=getAssociativity(this,u),p=c[0].toHTML(l);return h[0]&&(p='<span class="math-parenthesis math-round-parenthesis">(</span>'+p+'<span class="math-parenthesis math-round-parenthesis">)</span>'),d==="right"?'<span class="math-operator math-unary-operator math-lefthand-unary-operator">'+escape$1(this.op)+"</span>"+p:p+'<span class="math-operator math-unary-operator math-righthand-unary-operator">'+escape$1(this.op)+"</span>"}else if(c.length===2){var v=c[0].toHTML(l),y=c[1].toHTML(l);return h[0]&&(v='<span class="math-parenthesis math-round-parenthesis">(</span>'+v+'<span class="math-parenthesis math-round-parenthesis">)</span>'),h[1]&&(y='<span class="math-parenthesis math-round-parenthesis">(</span>'+y+'<span class="math-parenthesis math-round-parenthesis">)</span>'),this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&f==="hide"?v+'<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'+y:v+'<span class="math-operator math-binary-operator math-explicit-binary-operator">'+escape$1(this.op)+"</span>"+y}else{var b=c.map(function(w,x){return w=w.toHTML(l),h[x]&&(w='<span class="math-parenthesis math-round-parenthesis">(</span>'+w+'<span class="math-parenthesis math-round-parenthesis">)</span>'),w});return c.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")?this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&f==="hide"?b.join('<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'):b.join('<span class="math-operator math-binary-operator math-explicit-binary-operator">'+escape$1(this.op)+"</span>"):'<span class="math-function">'+escape$1(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+b.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}}_toTex(l){var u=l&&l.parenthesis?l.parenthesis:"keep",f=l&&l.implicit?l.implicit:"hide",c=this.args,h=n(this,u,f,c,!0),d=latexOperators[this.fn];if(d=typeof d>"u"?this.op:d,c.length===1){var p=getAssociativity(this,u),v=c[0].toTex(l);return h[0]&&(v="\\left(".concat(v,"\\right)")),p==="right"?d+v:v+d}else if(c.length===2){var y=c[0],b=y.toTex(l);h[0]&&(b="\\left(".concat(b,"\\right)"));var w=c[1],x=w.toTex(l);h[1]&&(x="\\left(".concat(x,"\\right)"));var A;switch(u==="keep"?A=y.getIdentifier():A=y.getContent().getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return d+"{"+b+"}{"+x+"}";case"OperatorNode:pow":switch(b="{"+b+"}",x="{"+x+"}",A){case"ConditionalNode":case"OperatorNode:divide":b="\\left(".concat(b,"\\right)")}break;case"OperatorNode:multiply":if(this.implicit&&f==="hide")return b+"~"+x}return b+d+x}else if(c.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")){var S=c.map(function(_,$){return _=_.toTex(l),h[$]&&(_="\\left(".concat(_,"\\right)")),_});return this.getIdentifier()==="OperatorNode:multiply"&&this.implicit&&f==="hide"?S.join("~"):S.join(d)}else return"\\mathrm{"+this.fn+"}\\left("+c.map(function(_){return _.toTex(l)}).join(",")+"\\right)"}getIdentifier(){return this.type+":"+this.fn}}return _defineProperty(a,"name",name$1o),a},{isClass:!0,isNode:!0}),name$1n="ParenthesisNode",dependencies$1n=["Node"],createParenthesisNode=factory(name$1n,dependencies$1n,t=>{var{Node:r}=t;class s extends r{constructor(a){if(super(),!isNode(a))throw new TypeError('Node expected for parameter "content"');this.content=a}get type(){return name$1n}get isParenthesisNode(){return!0}_compile(a,o){return this.content._compile(a,o)}getContent(){return this.content.getContent()}forEach(a){a(this.content,"content",this)}map(a){var o=a(this.content,"content",this);return new s(o)}clone(){return new s(this.content)}_toString(a){return!a||a&&!a.parenthesis||a&&a.parenthesis==="keep"?"("+this.content.toString(a)+")":this.content.toString(a)}toJSON(){return{mathjs:name$1n,content:this.content}}static fromJSON(a){return new s(a.content)}toHTML(a){return!a||a&&!a.parenthesis||a&&a.parenthesis==="keep"?'<span class="math-parenthesis math-round-parenthesis">(</span>'+this.content.toHTML(a)+'<span class="math-parenthesis math-round-parenthesis">)</span>':this.content.toHTML(a)}_toTex(a){return!a||a&&!a.parenthesis||a&&a.parenthesis==="keep"?"\\left(".concat(this.content.toTex(a),"\\right)"):this.content.toTex(a)}}return _defineProperty(s,"name",name$1n),s},{isClass:!0,isNode:!0}),name$1m="RangeNode",dependencies$1m=["Node"],createRangeNode=factory(name$1m,dependencies$1m,t=>{var{Node:r}=t;function s(a,o,l){var u=getPrecedence(a,o,l),f={},c=getPrecedence(a.start,o,l);if(f.start=c!==null&&c<=u||o==="all",a.step){var h=getPrecedence(a.step,o,l);f.step=h!==null&&h<=u||o==="all"}var d=getPrecedence(a.end,o,l);return f.end=d!==null&&d<=u||o==="all",f}class n extends r{constructor(o,l,u){if(super(),!isNode(o))throw new TypeError("Node expected");if(!isNode(l))throw new TypeError("Node expected");if(u&&!isNode(u))throw new TypeError("Node expected");if(arguments.length>3)throw new Error("Too many arguments");this.start=o,this.end=l,this.step=u||null}get type(){return name$1m}get isRangeNode(){return!0}needsEnd(){var o=this.filter(function(l){return isSymbolNode(l)&&l.name==="end"});return o.length>0}_compile(o,l){var u=o.range,f=this.start._compile(o,l),c=this.end._compile(o,l);if(this.step){var h=this.step._compile(o,l);return function(p,v,y){return u(f(p,v,y),c(p,v,y),h(p,v,y))}}else return function(p,v,y){return u(f(p,v,y),c(p,v,y))}}forEach(o){o(this.start,"start",this),o(this.end,"end",this),this.step&&o(this.step,"step",this)}map(o){return new n(this._ifNode(o(this.start,"start",this)),this._ifNode(o(this.end,"end",this)),this.step&&this._ifNode(o(this.step,"step",this)))}clone(){return new n(this.start,this.end,this.step&&this.step)}_toString(o){var l=o&&o.parenthesis?o.parenthesis:"keep",u=s(this,l,o&&o.implicit),f,c=this.start.toString(o);if(u.start&&(c="("+c+")"),f=c,this.step){var h=this.step.toString(o);u.step&&(h="("+h+")"),f+=":"+h}var d=this.end.toString(o);return u.end&&(d="("+d+")"),f+=":"+d,f}toJSON(){return{mathjs:name$1m,start:this.start,end:this.end,step:this.step}}static fromJSON(o){return new n(o.start,o.end,o.step)}toHTML(o){var l=o&&o.parenthesis?o.parenthesis:"keep",u=s(this,l,o&&o.implicit),f,c=this.start.toHTML(o);if(u.start&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>'),f=c,this.step){var h=this.step.toHTML(o);u.step&&(h='<span class="math-parenthesis math-round-parenthesis">(</span>'+h+'<span class="math-parenthesis math-round-parenthesis">)</span>'),f+='<span class="math-operator math-range-operator">:</span>'+h}var d=this.end.toHTML(o);return u.end&&(d='<span class="math-parenthesis math-round-parenthesis">(</span>'+d+'<span class="math-parenthesis math-round-parenthesis">)</span>'),f+='<span class="math-operator math-range-operator">:</span>'+d,f}_toTex(o){var l=o&&o.parenthesis?o.parenthesis:"keep",u=s(this,l,o&&o.implicit),f=this.start.toTex(o);if(u.start&&(f="\\left(".concat(f,"\\right)")),this.step){var c=this.step.toTex(o);u.step&&(c="\\left(".concat(c,"\\right)")),f+=":"+c}var h=this.end.toTex(o);return u.end&&(h="\\left(".concat(h,"\\right)")),f+=":"+h,f}}return _defineProperty(n,"name",name$1m),n},{isClass:!0,isNode:!0}),name$1l="RelationalNode",dependencies$1l=["Node"],createRelationalNode=factory(name$1l,dependencies$1l,t=>{var{Node:r}=t,s={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="};class n extends r{constructor(o,l){if(super(),!Array.isArray(o))throw new TypeError("Parameter conditionals must be an array");if(!Array.isArray(l))throw new TypeError("Parameter params must be an array");if(o.length!==l.length-1)throw new TypeError("Parameter params must contain exactly one more element than parameter conditionals");this.conditionals=o,this.params=l}get type(){return name$1l}get isRelationalNode(){return!0}_compile(o,l){var u=this,f=this.params.map(c=>c._compile(o,l));return function(h,d,p){for(var v,y=f[0](h,d,p),b=0;b<u.conditionals.length;b++){v=y,y=f[b+1](h,d,p);var w=getSafeProperty(o,u.conditionals[b]);if(!w(v,y))return!1}return!0}}forEach(o){this.params.forEach((l,u)=>o(l,"params["+u+"]",this),this)}map(o){return new n(this.conditionals.slice(),this.params.map((l,u)=>this._ifNode(o(l,"params["+u+"]",this)),this))}clone(){return new n(this.conditionals,this.params)}_toString(o){for(var l=o&&o.parenthesis?o.parenthesis:"keep",u=getPrecedence(this,l,o&&o.implicit),f=this.params.map(function(d,p){var v=getPrecedence(d,l,o&&o.implicit);return l==="all"||v!==null&&v<=u?"("+d.toString(o)+")":d.toString(o)}),c=f[0],h=0;h<this.conditionals.length;h++)c+=" "+s[this.conditionals[h]],c+=" "+f[h+1];return c}toJSON(){return{mathjs:name$1l,conditionals:this.conditionals,params:this.params}}static fromJSON(o){return new n(o.conditionals,o.params)}toHTML(o){for(var l=o&&o.parenthesis?o.parenthesis:"keep",u=getPrecedence(this,l,o&&o.implicit),f=this.params.map(function(d,p){var v=getPrecedence(d,l,o&&o.implicit);return l==="all"||v!==null&&v<=u?'<span class="math-parenthesis math-round-parenthesis">(</span>'+d.toHTML(o)+'<span class="math-parenthesis math-round-parenthesis">)</span>':d.toHTML(o)}),c=f[0],h=0;h<this.conditionals.length;h++)c+='<span class="math-operator math-binary-operator math-explicit-binary-operator">'+escape$1(s[this.conditionals[h]])+"</span>"+f[h+1];return c}_toTex(o){for(var l=o&&o.parenthesis?o.parenthesis:"keep",u=getPrecedence(this,l,o&&o.implicit),f=this.params.map(function(d,p){var v=getPrecedence(d,l,o&&o.implicit);return l==="all"||v!==null&&v<=u?"\\left("+d.toTex(o)+"\right)":d.toTex(o)}),c=f[0],h=0;h<this.conditionals.length;h++)c+=latexOperators[this.conditionals[h]]+f[h+1];return c}}return _defineProperty(n,"name",name$1l),n},{isClass:!0,isNode:!0}),name$1k="SymbolNode",dependencies$1k=["math","?Unit","Node"],createSymbolNode=factory(name$1k,dependencies$1k,t=>{var{math:r,Unit:s,Node:n}=t;function a(l){return s?s.isValuelessUnit(l):!1}class o extends n{constructor(u){if(super(),typeof u!="string")throw new TypeError('String expected for parameter "name"');this.name=u}get type(){return"SymbolNode"}get isSymbolNode(){return!0}_compile(u,f){var c=this.name;if(f[c]===!0)return function(d,p,v){return p[c]};if(c in u)return function(d,p,v){return d.has(c)?d.get(c):getSafeProperty(u,c)};var h=a(c);return function(d,p,v){return d.has(c)?d.get(c):h?new s(null,c):o.onUndefinedSymbol(c)}}forEach(u){}map(u){return this.clone()}static onUndefinedSymbol(u){throw new Error("Undefined symbol "+u)}clone(){return new o(this.name)}_toString(u){return this.name}toHTML(u){var f=escape$1(this.name);return f==="true"||f==="false"?'<span class="math-symbol math-boolean">'+f+"</span>":f==="i"?'<span class="math-symbol math-imaginary-symbol">'+f+"</span>":f==="Infinity"?'<span class="math-symbol math-infinity-symbol">'+f+"</span>":f==="NaN"?'<span class="math-symbol math-nan-symbol">'+f+"</span>":f==="null"?'<span class="math-symbol math-null-symbol">'+f+"</span>":f==="undefined"?'<span class="math-symbol math-undefined-symbol">'+f+"</span>":'<span class="math-symbol">'+f+"</span>"}toJSON(){return{mathjs:"SymbolNode",name:this.name}}static fromJSON(u){return new o(u.name)}_toTex(u){var f=!1;typeof r[this.name]>"u"&&a(this.name)&&(f=!0);var c=toSymbol(this.name,f);return c[0]==="\\"?c:" "+c}}return o},{isClass:!0,isNode:!0});function createSubScope(t){for(var r=arguments.length,s=new Array(r>1?r-1:0),n=1;n<r;n++)s[n-1]=arguments[n];return typeof t.createSubScope=="function"?assign$1(t.createSubScope(),...s):assign$1(createEmptyMap(),t,...s)}var name$1j="FunctionNode",dependencies$1j=["math","Node","SymbolNode"],createFunctionNode=factory(name$1j,dependencies$1j,t=>{var{math:r,Node:s,SymbolNode:n}=t,a=u=>format$1(u,{truncate:78});function o(u,f,c){for(var h="",d=/\$(?:\{([a-z_][a-z_0-9]*)(?:\[([0-9]+)\])?\}|\$)/gi,p=0,v;(v=d.exec(u))!==null;)if(h+=u.substring(p,v.index),p=v.index,v[0]==="$$")h+="$",p++;else{p+=v[0].length;var y=f[v[1]];if(!y)throw new ReferenceError("Template: Property "+v[1]+" does not exist.");if(v[2]===void 0)switch(typeof y){case"string":h+=y;break;case"object":if(isNode(y))h+=y.toTex(c);else if(Array.isArray(y))h+=y.map(function(b,w){if(isNode(b))return b.toTex(c);throw new TypeError("Template: "+v[1]+"["+w+"] is not a Node.")}).join(",");else throw new TypeError("Template: "+v[1]+" has to be a Node, String or array of Nodes");break;default:throw new TypeError("Template: "+v[1]+" has to be a Node, String or array of Nodes")}else if(isNode(y[v[2]]&&y[v[2]]))h+=y[v[2]].toTex(c);else throw new TypeError("Template: "+v[1]+"["+v[2]+"] is not a Node.")}return h+=u.slice(p),h}class l extends s{constructor(f,c){if(super(),typeof f=="string"&&(f=new n(f)),!isNode(f))throw new TypeError('Node expected as parameter "fn"');if(!Array.isArray(c)||!c.every(isNode))throw new TypeError('Array containing Nodes expected for parameter "args"');this.fn=f,this.args=c||[]}get name(){return this.fn.name||""}get type(){return name$1j}get isFunctionNode(){return!0}_compile(f,c){var h=this.args.map(T=>T._compile(f,c));if(isSymbolNode(this.fn)){var d=this.fn.name;if(c[d]){var w=this.args;return function(O,B,J){var F=B[d];if(typeof F!="function")throw new TypeError("Argument '".concat(d,"' was not a function; received: ").concat(a(F)));if(F.rawArgs)return F(w,f,createSubScope(O,B),O);var z=h.map(Z=>Z(O,B,J));return F.apply(F,z)}}else{var p=d in f?getSafeProperty(f,d):void 0,v=typeof p=="function"&&p.rawArgs===!0,y=T=>{var O;if(T.has(d))O=T.get(d);else if(d in f)O=getSafeProperty(f,d);else return l.onUndefinedFunction(d);if(typeof O=="function")return O;throw new TypeError("'".concat(d,`' is not a function; its value is:
  `).concat(a(O)))};if(v){var b=this.args;return function(O,B,J){var F=y(O);return F(b,f,createSubScope(O,B),O)}}else switch(h.length){case 0:return function(O,B,J){var F=y(O);return F()};case 1:return function(O,B,J){var F=y(O),z=h[0];return F(z(O,B,J))};case 2:return function(O,B,J){var F=y(O),z=h[0],Z=h[1];return F(z(O,B,J),Z(O,B,J))};default:return function(O,B,J){var F=y(O),z=h.map(Z=>Z(O,B,J));return F(...z)}}}}else if(isAccessorNode(this.fn)&&isIndexNode(this.fn.index)&&this.fn.index.isObjectProperty()){var x=this.fn.object._compile(f,c),A=this.fn.index.getObjectProperty(),S=this.args;return function(O,B,J){var F=x(O,B,J);validateSafeMethod(F,A);var z=F[A]&&F[A].rawArgs;if(z)return F[A](S,f,createSubScope(O,B),O);var Z=h.map(se=>se(O,B,J));return F[A].apply(F,Z)}}else{var _=this.fn.toString(),$=this.fn._compile(f,c),M=this.args;return function(O,B,J){var F=$(O,B,J);if(typeof F!="function")throw new TypeError("Expression '".concat(_,"' did not evaluate to a function; value is:")+`
  `.concat(a(F)));if(F.rawArgs)return F(M,f,createSubScope(O,B),O);var z=h.map(Z=>Z(O,B,J));return F.apply(F,z)}}}forEach(f){f(this.fn,"fn",this);for(var c=0;c<this.args.length;c++)f(this.args[c],"args["+c+"]",this)}map(f){for(var c=this._ifNode(f(this.fn,"fn",this)),h=[],d=0;d<this.args.length;d++)h[d]=this._ifNode(f(this.args[d],"args["+d+"]",this));return new l(c,h)}clone(){return new l(this.fn,this.args.slice(0))}toString(f){var c,h=this.fn.toString(f);return f&&typeof f.handler=="object"&&hasOwnProperty$1(f.handler,h)&&(c=f.handler[h](this,f)),typeof c<"u"?c:super.toString(f)}_toString(f){var c=this.args.map(function(d){return d.toString(f)}),h=isFunctionAssignmentNode(this.fn)?"("+this.fn.toString(f)+")":this.fn.toString(f);return h+"("+c.join(", ")+")"}toJSON(){return{mathjs:name$1j,fn:this.fn,args:this.args}}toHTML(f){var c=this.args.map(function(h){return h.toHTML(f)});return'<span class="math-function">'+escape$1(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+c.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}toTex(f){var c;return f&&typeof f.handler=="object"&&hasOwnProperty$1(f.handler,this.name)&&(c=f.handler[this.name](this,f)),typeof c<"u"?c:super.toTex(f)}_toTex(f){var c=this.args.map(function(p){return p.toTex(f)}),h;latexFunctions[this.name]&&(h=latexFunctions[this.name]),r[this.name]&&(typeof r[this.name].toTex=="function"||typeof r[this.name].toTex=="object"||typeof r[this.name].toTex=="string")&&(h=r[this.name].toTex);var d;switch(typeof h){case"function":d=h(this,f);break;case"string":d=o(h,this,f);break;case"object":switch(typeof h[c.length]){case"function":d=h[c.length](this,f);break;case"string":d=o(h[c.length],this,f);break}}return typeof d<"u"?d:o(defaultTemplate,this,f)}getIdentifier(){return this.type+":"+this.name}}return _defineProperty(l,"name",name$1j),_defineProperty(l,"onUndefinedFunction",function(u){throw new Error("Undefined function "+u)}),_defineProperty(l,"fromJSON",function(u){return new l(u.fn,u.args)}),l},{isClass:!0,isNode:!0}),name$1i="parse",dependencies$1i=["typed","numeric","config","AccessorNode","ArrayNode","AssignmentNode","BlockNode","ConditionalNode","ConstantNode","FunctionAssignmentNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","RangeNode","RelationalNode","SymbolNode"],createParse=factory(name$1i,dependencies$1i,t=>{var{typed:r,numeric:s,config:n,AccessorNode:a,ArrayNode:o,AssignmentNode:l,BlockNode:u,ConditionalNode:f,ConstantNode:c,FunctionAssignmentNode:h,FunctionNode:d,IndexNode:p,ObjectNode:v,OperatorNode:y,ParenthesisNode:b,RangeNode:w,RelationalNode:x,SymbolNode:A}=t,S=r(name$1i,{string:function(we){return K(we,{})},"Array | Matrix":function(we){return _(we,{})},"string, Object":function(we,Ie){var k=Ie.nodes!==void 0?Ie.nodes:{};return K(we,k)},"Array | Matrix, Object":_});function _(L){var we=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ie=we.nodes!==void 0?we.nodes:{};return deepMap(L,function(k){if(typeof k!="string")throw new TypeError("String expected");return K(k,Ie)})}var $={NULL:0,DELIMITER:1,NUMBER:2,SYMBOL:3,UNKNOWN:4},M={",":!0,"(":!0,")":!0,"[":!0,"]":!0,"{":!0,"}":!0,'"':!0,"'":!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"=":!0,":":!0,"?":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},T={mod:!0,to:!0,in:!0,and:!0,xor:!0,or:!0,not:!0},O={true:!0,false:!1,null:null,undefined:void 0},B=["NaN","Infinity"];function J(){return{extraNodes:{},expression:"",comment:"",index:0,token:"",tokenType:$.NULL,nestingLevel:0,conditionalLevel:null}}function F(L,we){return L.expression.substr(L.index,we)}function z(L){return F(L,1)}function Z(L){L.index++}function se(L){return L.expression.charAt(L.index-1)}function ie(L){return L.expression.charAt(L.index+1)}function U(L){for(L.tokenType=$.NULL,L.token="",L.comment="";;){if(z(L)==="#")for(;z(L)!==`
`&&z(L)!=="";)L.comment+=z(L),Z(L);if(S.isWhitespace(z(L),L.nestingLevel))Z(L);else break}if(z(L)===""){L.tokenType=$.DELIMITER;return}if(z(L)===`
`&&!L.nestingLevel){L.tokenType=$.DELIMITER,L.token=z(L),Z(L);return}var we=z(L),Ie=F(L,2),k=F(L,3);if(k.length===3&&M[k]){L.tokenType=$.DELIMITER,L.token=k,Z(L),Z(L),Z(L);return}if(Ie.length===2&&M[Ie]){L.tokenType=$.DELIMITER,L.token=Ie,Z(L),Z(L);return}if(M[we]){L.tokenType=$.DELIMITER,L.token=we,Z(L);return}if(S.isDigitDot(we)){L.tokenType=$.NUMBER;var q=F(L,2);if(q==="0b"||q==="0o"||q==="0x"){for(L.token+=z(L),Z(L),L.token+=z(L),Z(L);S.isHexDigit(z(L));)L.token+=z(L),Z(L);if(z(L)===".")for(L.token+=".",Z(L);S.isHexDigit(z(L));)L.token+=z(L),Z(L);else if(z(L)==="i")for(L.token+="i",Z(L);S.isDigit(z(L));)L.token+=z(L),Z(L);return}if(z(L)==="."){if(L.token+=z(L),Z(L),!S.isDigit(z(L))){L.tokenType=$.DELIMITER;return}}else{for(;S.isDigit(z(L));)L.token+=z(L),Z(L);S.isDecimalMark(z(L),ie(L))&&(L.token+=z(L),Z(L))}for(;S.isDigit(z(L));)L.token+=z(L),Z(L);if(z(L)==="E"||z(L)==="e"){if(S.isDigit(ie(L))||ie(L)==="-"||ie(L)==="+"){if(L.token+=z(L),Z(L),(z(L)==="+"||z(L)==="-")&&(L.token+=z(L),Z(L)),!S.isDigit(z(L)))throw He(L,'Digit expected, got "'+z(L)+'"');for(;S.isDigit(z(L));)L.token+=z(L),Z(L);if(S.isDecimalMark(z(L),ie(L)))throw He(L,'Digit expected, got "'+z(L)+'"')}else if(ie(L)===".")throw Z(L),He(L,'Digit expected, got "'+z(L)+'"')}return}if(S.isAlpha(z(L),se(L),ie(L))){for(;S.isAlpha(z(L),se(L),ie(L))||S.isDigit(z(L));)L.token+=z(L),Z(L);hasOwnProperty$1(T,L.token)?L.tokenType=$.DELIMITER:L.tokenType=$.SYMBOL;return}for(L.tokenType=$.UNKNOWN;z(L)!=="";)L.token+=z(L),Z(L);throw He(L,'Syntax error in part "'+L.token+'"')}function H(L){do U(L);while(L.token===`
`)}function ue(L){L.nestingLevel++}function Y(L){L.nestingLevel--}S.isAlpha=function(we,Ie,k){return S.isValidLatinOrGreek(we)||S.isValidMathSymbol(we,k)||S.isValidMathSymbol(Ie,we)},S.isValidLatinOrGreek=function(we){return/^[a-zA-Z_$\u00C0-\u02AF\u0370-\u03FF\u2100-\u214F]$/.test(we)},S.isValidMathSymbol=function(we,Ie){return/^[\uD835]$/.test(we)&&/^[\uDC00-\uDFFF]$/.test(Ie)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(Ie)},S.isWhitespace=function(we,Ie){return we===" "||we==="	"||we===`
`&&Ie>0},S.isDecimalMark=function(we,Ie){return we==="."&&Ie!=="/"&&Ie!=="*"&&Ie!=="^"},S.isDigitDot=function(we){return we>="0"&&we<="9"||we==="."},S.isDigit=function(we){return we>="0"&&we<="9"},S.isHexDigit=function(we){return we>="0"&&we<="9"||we>="a"&&we<="f"||we>="A"&&we<="F"};function K(L,we){var Ie=J();_extends(Ie,{expression:L,extraNodes:we}),U(Ie);var k=te(Ie);if(Ie.token!=="")throw Ie.tokenType===$.DELIMITER?ht(Ie,"Unexpected operator "+Ie.token):He(Ie,'Unexpected part "'+Ie.token+'"');return k}function te(L){var we,Ie=[],k;for(L.token!==""&&L.token!==`
`&&L.token!==";"&&(we=ae(L),L.comment&&(we.comment=L.comment));L.token===`
`||L.token===";";)Ie.length===0&&we&&(k=L.token!==";",Ie.push({node:we,visible:k})),U(L),L.token!==`
`&&L.token!==";"&&L.token!==""&&(we=ae(L),L.comment&&(we.comment=L.comment),k=L.token!==";",Ie.push({node:we,visible:k}));return Ie.length>0?new u(Ie):(we||(we=new c(void 0),L.comment&&(we.comment=L.comment)),we)}function ae(L){var we,Ie,k,q,Le=ee(L);if(L.token==="="){if(isSymbolNode(Le))return we=Le.name,H(L),k=ae(L),new l(new A(we),k);if(isAccessorNode(Le))return H(L),k=ae(L),new l(Le.object,Le.index,k);if(isFunctionNode(Le)&&isSymbolNode(Le.fn)&&(q=!0,Ie=[],we=Le.name,Le.args.forEach(function(oe,Ce){isSymbolNode(oe)?Ie[Ce]=oe.name:q=!1}),q))return H(L),k=ae(L),new h(we,Ie,k);throw He(L,"Invalid left hand side of assignment operator =")}return Le}function ee(L){for(var we=de(L);L.token==="?";){var Ie=L.conditionalLevel;L.conditionalLevel=L.nestingLevel,H(L);var k=we,q=ae(L);if(L.token!==":")throw He(L,"False part of conditional expression expected");L.conditionalLevel=null,H(L);var Le=ae(L);we=new f(k,q,Le),L.conditionalLevel=Ie}return we}function de(L){for(var we=ce(L);L.token==="or";)H(L),we=new y("or","or",[we,ce(L)]);return we}function ce(L){for(var we=xe(L);L.token==="xor";)H(L),we=new y("xor","xor",[we,xe(L)]);return we}function xe(L){for(var we=Me(L);L.token==="and";)H(L),we=new y("and","and",[we,Me(L)]);return we}function Me(L){for(var we=Ae(L);L.token==="|";)H(L),we=new y("|","bitOr",[we,Ae(L)]);return we}function Ae(L){for(var we=Xe(L);L.token==="^|";)H(L),we=new y("^|","bitXor",[we,Xe(L)]);return we}function Xe(L){for(var we=Be(L);L.token==="&";)H(L),we=new y("&","bitAnd",[we,Be(L)]);return we}function Be(L){for(var we=[Ze(L)],Ie=[],k={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};hasOwnProperty$1(k,L.token);){var q={name:L.token,fn:k[L.token]};Ie.push(q),H(L),we.push(Ze(L))}return we.length===1?we[0]:we.length===2?new y(Ie[0].name,Ie[0].fn,we):new x(Ie.map(Le=>Le.fn),we)}function Ze(L){var we,Ie,k,q;we=nt(L);for(var Le={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};hasOwnProperty$1(Le,L.token);)Ie=L.token,k=Le[Ie],H(L),q=[we,nt(L)],we=new y(Ie,k,q);return we}function nt(L){var we,Ie,k,q;we=rt(L);for(var Le={to:"to",in:"to"};hasOwnProperty$1(Le,L.token);)Ie=L.token,k=Le[Ie],H(L),Ie==="in"&&L.token===""?we=new y("*","multiply",[we,new A("in")],!0):(q=[we,rt(L)],we=new y(Ie,k,q));return we}function rt(L){var we,Ie=[];if(L.token===":"?we=new c(1):we=it(L),L.token===":"&&L.conditionalLevel!==L.nestingLevel){for(Ie.push(we);L.token===":"&&Ie.length<3;)H(L),L.token===")"||L.token==="]"||L.token===","||L.token===""?Ie.push(new A("end")):Ie.push(it(L));Ie.length===3?we=new w(Ie[0],Ie[2],Ie[1]):we=new w(Ie[0],Ie[1])}return we}function it(L){var we,Ie,k,q;we=me(L);for(var Le={"+":"add","-":"subtract"};hasOwnProperty$1(Le,L.token);){Ie=L.token,k=Le[Ie],H(L);var oe=me(L);oe.isPercentage?q=[we,new y("*","multiply",[we,oe])]:q=[we,oe],we=new y(Ie,k,q)}return we}function me(L){var we,Ie,k,q;we=be(L),Ie=we;for(var Le={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide"};hasOwnProperty$1(Le,L.token);)k=L.token,q=Le[k],H(L),Ie=be(L),we=new y(k,q,[we,Ie]);return we}function be(L){var we,Ie;for(we=Re(L),Ie=we;L.tokenType===$.SYMBOL||L.token==="in"&&isConstantNode(we)||L.tokenType===$.NUMBER&&!isConstantNode(Ie)&&(!isOperatorNode(Ie)||Ie.op==="!")||L.token==="(";)Ie=Re(L),we=new y("*","multiply",[we,Ie],!0);return we}function Re(L){for(var we=ye(L),Ie=we,k=[];L.token==="/"&&rule2Node(Ie);)if(k.push(_extends({},L)),H(L),L.tokenType===$.NUMBER)if(k.push(_extends({},L)),H(L),L.tokenType===$.SYMBOL||L.token==="(")_extends(L,k.pop()),k.pop(),Ie=ye(L),we=new y("/","divide",[we,Ie]);else{k.pop(),_extends(L,k.pop());break}else{_extends(L,k.pop());break}return we}function ye(L){var we,Ie,k,q;we=$e(L);for(var Le={"%":"mod",mod:"mod"};hasOwnProperty$1(Le,L.token);)Ie=L.token,k=Le[Ie],H(L),Ie==="%"&&L.tokenType===$.DELIMITER&&L.token!=="("?we=new y("/","divide",[we,new c(100)],!1,!0):(q=[we,$e(L)],we=new y(Ie,k,q));return we}function $e(L){var we,Ie,k,q={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"};return hasOwnProperty$1(q,L.token)?(k=q[L.token],we=L.token,H(L),Ie=[$e(L)],new y(we,k,Ie)):Te(L)}function Te(L){var we,Ie,k,q;return we=et(L),(L.token==="^"||L.token===".^")&&(Ie=L.token,k=Ie==="^"?"pow":"dotPow",H(L),q=[we,$e(L)],we=new y(Ie,k,q)),we}function et(L){var we,Ie,k,q;we=Ke(L);for(var Le={"!":"factorial","'":"ctranspose"};hasOwnProperty$1(Le,L.token);)Ie=L.token,k=Le[Ie],U(L),q=[we],we=new y(Ie,k,q),we=ve(L,we);return we}function Ke(L){var we=[];if(L.tokenType===$.SYMBOL&&hasOwnProperty$1(L.extraNodes,L.token)){var Ie=L.extraNodes[L.token];if(U(L),L.token==="("){if(we=[],ue(L),U(L),L.token!==")")for(we.push(ae(L));L.token===",";)U(L),we.push(ae(L));if(L.token!==")")throw He(L,"Parenthesis ) expected");Y(L),U(L)}return new Ie(we)}return pe(L)}function pe(L){var we,Ie;return L.tokenType===$.SYMBOL||L.tokenType===$.DELIMITER&&L.token in T?(Ie=L.token,U(L),hasOwnProperty$1(O,Ie)?we=new c(O[Ie]):B.indexOf(Ie)!==-1?we=new c(s(Ie,"number")):we=new A(Ie),we=ve(L,we),we):De(L)}function ve(L,we,Ie){for(var k;L.token==="("||L.token==="["||L.token===".";)if(k=[],L.token==="(")if(isSymbolNode(we)||isAccessorNode(we)){if(ue(L),U(L),L.token!==")")for(k.push(ae(L));L.token===",";)U(L),k.push(ae(L));if(L.token!==")")throw He(L,"Parenthesis ) expected");Y(L),U(L),we=new d(we,k)}else return we;else if(L.token==="["){if(ue(L),U(L),L.token!=="]")for(k.push(ae(L));L.token===",";)U(L),k.push(ae(L));if(L.token!=="]")throw He(L,"Parenthesis ] expected");Y(L),U(L),we=new a(we,new p(k))}else{if(U(L),L.tokenType!==$.SYMBOL)throw He(L,"Property name expected after dot");k.push(new c(L.token)),U(L);var q=!0;we=new a(we,new p(k,q))}return we}function De(L){var we,Ie;return L.token==='"'?(Ie=_e(L),we=new c(Ie),we=ve(L,we),we):Oe(L)}function _e(L){for(var we="";z(L)!==""&&z(L)!=='"';)z(L)==="\\"&&(we+=z(L),Z(L)),we+=z(L),Z(L);if(U(L),L.token!=='"')throw He(L,'End of string " expected');return U(L),JSON.parse('"'+we+'"')}function Oe(L){var we,Ie;return L.token==="'"?(Ie=Ye(L),we=new c(Ie),we=ve(L,we),we):tt(L)}function Ye(L){for(var we="";z(L)!==""&&z(L)!=="'";)z(L)==="\\"&&(we+=z(L),Z(L)),we+=z(L),Z(L);if(U(L),L.token!=="'")throw He(L,"End of string ' expected");return U(L),JSON.parse('"'+we+'"')}function tt(L){var we,Ie,k,q;if(L.token==="["){if(ue(L),U(L),L.token!=="]"){var Le=Ve(L);if(L.token===";"){for(k=1,Ie=[Le];L.token===";";)U(L),Ie[k]=Ve(L),k++;if(L.token!=="]")throw He(L,"End of matrix ] expected");Y(L),U(L),q=Ie[0].items.length;for(var oe=1;oe<k;oe++)if(Ie[oe].items.length!==q)throw ht(L,"Column dimensions mismatch ("+Ie[oe].items.length+" !== "+q+")");we=new o(Ie)}else{if(L.token!=="]")throw He(L,"End of matrix ] expected");Y(L),U(L),we=Le}}else Y(L),U(L),we=new o([]);return ve(L,we)}return qe(L)}function Ve(L){for(var we=[ae(L)],Ie=1;L.token===",";)U(L),we[Ie]=ae(L),Ie++;return new o(we)}function qe(L){if(L.token==="{"){ue(L);var we,Ie={};do if(U(L),L.token!=="}"){if(L.token==='"')we=_e(L);else if(L.token==="'")we=Ye(L);else if(L.tokenType===$.SYMBOL||L.tokenType===$.DELIMITER&&L.token in T)we=L.token,U(L);else throw He(L,"Symbol or string expected as object key");if(L.token!==":")throw He(L,"Colon : expected after object key");U(L),Ie[we]=ae(L)}while(L.token===",");if(L.token!=="}")throw He(L,"Comma , or bracket } expected after object value");Y(L),U(L);var k=new v(Ie);return k=ve(L,k),k}return Fe(L)}function Fe(L){var we;return L.tokenType===$.NUMBER?(we=L.token,U(L),new c(s(we,n.number))):at(L)}function at(L){var we;if(L.token==="("){if(ue(L),U(L),we=ae(L),L.token!==")")throw He(L,"Parenthesis ) expected");return Y(L),U(L),we=new b(we),we=ve(L,we),we}return vt(L)}function vt(L){throw L.token===""?He(L,"Unexpected end of expression"):He(L,"Value expected")}function pt(L){return L.index-L.token.length+1}function He(L,we){var Ie=pt(L),k=new SyntaxError(we+" (char "+Ie+")");return k.char=Ie,k}function ht(L,we){var Ie=pt(L),k=new SyntaxError(we+" (char "+Ie+")");return k.char=Ie,k}return r.addConversion({from:"string",to:"Node",convert:S}),S}),name$1h="compile",dependencies$1h=["typed","parse"],createCompile=factory(name$1h,dependencies$1h,t=>{var{typed:r,parse:s}=t;return r(name$1h,{string:function(a){return s(a).compile()},"Array | Matrix":function(a){return deepMap(a,function(o){return s(o).compile()})}})}),name$1g="evaluate",dependencies$1g=["typed","parse"],createEvaluate=factory(name$1g,dependencies$1g,t=>{var{typed:r,parse:s}=t;return r(name$1g,{string:function(a){var o=createEmptyMap();return s(a).compile().evaluate(o)},"string, Map | Object":function(a,o){return s(a).compile().evaluate(o)},"Array | Matrix":function(a){var o=createEmptyMap();return deepMap(a,function(l){return s(l).compile().evaluate(o)})},"Array | Matrix, Map | Object":function(a,o){return deepMap(a,function(l){return s(l).compile().evaluate(o)})}})}),name$1f="Parser",dependencies$1f=["evaluate"],createParserClass=factory(name$1f,dependencies$1f,t=>{var{evaluate:r}=t;function s(){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");Object.defineProperty(this,"scope",{value:createEmptyMap(),writable:!1})}return s.prototype.type="Parser",s.prototype.isParser=!0,s.prototype.evaluate=function(n){return r(n,this.scope)},s.prototype.get=function(n){if(this.scope.has(n))return this.scope.get(n)},s.prototype.getAll=function(){return toObject(this.scope)},s.prototype.getAllAsMap=function(){return this.scope},s.prototype.set=function(n,a){return this.scope.set(n,a),a},s.prototype.remove=function(n){this.scope.delete(n)},s.prototype.clear=function(){this.scope.clear()},s},{isClass:!0}),name$1e="parser",dependencies$1e=["typed","Parser"],createParser=factory(name$1e,dependencies$1e,t=>{var{typed:r,Parser:s}=t;return r(name$1e,{"":function(){return new s}})}),name$1d="lup",dependencies$1d=["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtract","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],createLup=factory(name$1d,dependencies$1d,t=>{var{typed:r,matrix:s,abs:n,addScalar:a,divideScalar:o,multiplyScalar:l,subtract:u,larger:f,equalScalar:c,unaryMinus:h,DenseMatrix:d,SparseMatrix:p,Spa:v}=t;return r(name$1d,{DenseMatrix:function(x){return y(x)},SparseMatrix:function(x){return b(x)},Array:function(x){var A=s(x),S=y(A);return{L:S.L.valueOf(),U:S.U.valueOf(),p:S.p}}});function y(w){var x=w._size[0],A=w._size[1],S=Math.min(x,A),_=clone$2(w._data),$=[],M=[x,S],T=[],O=[S,A],B,J,F,z=[];for(B=0;B<x;B++)z[B]=B;for(J=0;J<A;J++){if(J>0)for(B=0;B<x;B++){var Z=Math.min(B,J),se=0;for(F=0;F<Z;F++)se=a(se,l(_[B][F],_[F][J]));_[B][J]=u(_[B][J],se)}var ie=J,U=0,H=0;for(B=J;B<x;B++){var ue=_[B][J],Y=n(ue);f(Y,U)&&(ie=B,U=Y,H=ue)}if(J!==ie&&(z[J]=[z[ie],z[ie]=z[J]][0],d._swapRows(J,ie,_)),J<x)for(B=J+1;B<x;B++){var K=_[B][J];c(K,0)||(_[B][J]=o(_[B][J],H))}}for(J=0;J<A;J++)for(B=0;B<x;B++){if(J===0&&(B<A&&(T[B]=[]),$[B]=[]),B<J){B<A&&(T[B][J]=_[B][J]),J<x&&($[B][J]=0);continue}if(B===J){B<A&&(T[B][J]=_[B][J]),J<x&&($[B][J]=1);continue}B<A&&(T[B][J]=0),J<x&&($[B][J]=_[B][J])}var te=new d({data:$,size:M}),ae=new d({data:T,size:O}),ee=[];for(B=0,S=z.length;B<S;B++)ee[z[B]]=B;return{L:te,U:ae,p:ee,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}function b(w){var x=w._size[0],A=w._size[1],S=Math.min(x,A),_=w._values,$=w._index,M=w._ptr,T=[],O=[],B=[],J=[x,S],F=[],z=[],Z=[],se=[S,A],ie,U,H,ue=[],Y=[];for(ie=0;ie<x;ie++)ue[ie]=ie,Y[ie]=ie;var K=function(ee,de){var ce=Y[ee],xe=Y[de];ue[ce]=de,ue[xe]=ee,Y[ee]=xe,Y[de]=ce},te=function(){var ee=new v;U<x&&(B.push(T.length),T.push(1),O.push(U)),Z.push(F.length);var de=M[U],ce=M[U+1];for(H=de;H<ce;H++)ie=$[H],ee.set(ue[ie],_[H]);U>0&&ee.forEach(0,U-1,function(Xe,Be){p._forEachRow(Xe,T,O,B,function(Ze,nt){Ze>Xe&&ee.accumulate(Ze,h(l(nt,Be)))})});var xe=U,Me=ee.get(U),Ae=n(Me);ee.forEach(U+1,x-1,function(Xe,Be){var Ze=n(Be);f(Ze,Ae)&&(xe=Xe,Ae=Ze,Me=Be)}),U!==xe&&(p._swapRows(U,xe,J[1],T,O,B),p._swapRows(U,xe,se[1],F,z,Z),ee.swap(U,xe),K(U,xe)),ee.forEach(0,x-1,function(Xe,Be){Xe<=U?(F.push(Be),z.push(Xe)):(Be=o(Be,Me),c(Be,0)||(T.push(Be),O.push(Xe)))})};for(U=0;U<A;U++)te();return Z.push(F.length),B.push(T.length),{L:new p({values:T,index:O,ptr:B,size:J}),U:new p({values:F,index:z,ptr:Z,size:se}),p:ue,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}}),name$1c="qr",dependencies$1c=["typed","matrix","zeros","identity","isZero","equal","sign","sqrt","conj","unaryMinus","addScalar","divideScalar","multiplyScalar","subtract","complex"],createQr=factory(name$1c,dependencies$1c,t=>{var{typed:r,matrix:s,zeros:n,identity:a,isZero:o,equal:l,sign:u,sqrt:f,conj:c,unaryMinus:h,addScalar:d,divideScalar:p,multiplyScalar:v,subtract:y,complex:b}=t;return _extends(r(name$1c,{DenseMatrix:function(_){return x(_)},SparseMatrix:function(_){return A()},Array:function(_){var $=s(_),M=x($);return{Q:M.Q.valueOf(),R:M.R.valueOf()}}}),{_denseQRimpl:w});function w(S){var _=S._size[0],$=S._size[1],M=a([_],"dense"),T=M._data,O=S.clone(),B=O._data,J,F,z,Z=n([_],"");for(z=0;z<Math.min($,_);++z){var se=B[z][z],ie=h(l(se,0)?1:u(se)),U=c(ie),H=0;for(J=z;J<_;J++)H=d(H,v(B[J][z],c(B[J][z])));var ue=v(ie,f(H));if(!o(ue)){var Y=y(se,ue);for(Z[z]=1,J=z+1;J<_;J++)Z[J]=p(B[J][z],Y);var K=h(c(p(Y,ue))),te=void 0;for(F=z;F<$;F++){for(te=0,J=z;J<_;J++)te=d(te,v(c(Z[J]),B[J][F]));for(te=v(te,K),J=z;J<_;J++)B[J][F]=v(y(B[J][F],v(Z[J],te)),U)}for(J=0;J<_;J++){for(te=0,F=z;F<_;F++)te=d(te,v(T[J][F],Z[F]));for(te=v(te,K),F=z;F<_;++F)T[J][F]=p(y(T[J][F],v(te,c(Z[F]))),U)}}}return{Q:M,R:O,toString:function(){return"Q: "+this.Q.toString()+`
R: `+this.R.toString()}}}function x(S){var _=w(S),$=_.R._data;if(S._data.length>0)for(var M=$[0][0].type==="Complex"?b(0):0,T=0;T<$.length;++T)for(var O=0;O<T&&O<($[0]||[]).length;++O)$[T][O]=M;return _}function A(S){throw new Error("qr not implemented for sparse matrices yet")}});function csPermute(t,r,s,n){t._values;for(var a=t._index,o=t._ptr,l=t._size,u=t._datatype,f=l[0],c=l[1],h=null,d=[],p=[],v=0,y=0;y<c;y++){p[y]=v;for(var b=s?s[y]:y,w=o[b],x=o[b+1],A=w;A<x;A++){var S=a[A];d[v]=S,v++}}return p[c]=v,t.createSparseMatrix({values:h,index:d,ptr:p,size:[f,c],datatype:u})}function csTdfs(t,r,s,n,a,o,l){var u=0;for(s[l]=t;u>=0;){var f=s[l+u],c=s[n+f];c===-1?(u--,o[r++]=f):(s[n+f]=s[a+c],++u,s[l+u]=c)}return r}function csPost(t,r){if(!t)return null;var s=0,n,a=[],o=[],l=0,u=r,f=2*r;for(n=0;n<r;n++)o[l+n]=-1;for(n=r-1;n>=0;n--)t[n]!==-1&&(o[u+n]=o[l+t[n]],o[l+t[n]]=n);for(n=0;n<r;n++)t[n]===-1&&(s=csTdfs(n,s,o,l,u,a,f));return a}function csEtree(t,r){if(!t)return null;var s=t._index,n=t._ptr,a=t._size,o=a[0],l=a[1],u=[],f=[],c=0,h=l,d,p;for(d=0;d<o;d++)f[h+d]=-1;for(var v=0;v<l;v++){u[v]=-1,f[c+v]=-1;for(var y=n[v],b=n[v+1],w=y;w<b;w++){var x=s[w];for(d=f[h+x];d!==-1&&d<v;d=p)p=f[c+d],f[c+d]=v,p===-1&&(u[d]=v);f[h+x]=v}}return u}function csFkeep(t,r,s){for(var n=t._values,a=t._index,o=t._ptr,l=t._size,u=l[1],f=0,c=0;c<u;c++){var h=o[c];for(o[c]=f;h<o[c+1];h++)r(a[h],c,n?n[h]:1,s)&&(a[f]=a[h],n&&(n[f]=n[h]),f++)}return o[u]=f,a.splice(f,a.length-f),n&&n.splice(f,n.length-f),f}function csFlip(t){return-t-2}var name$1b="csAmd",dependencies$1b=["add","multiply","transpose"],createCsAmd=factory(name$1b,dependencies$1b,t=>{var{add:r,multiply:s,transpose:n}=t;return function(h,d){if(!d||h<=0||h>3)return null;var p=d._size,v=p[0],y=p[1],b=0,w=Math.max(16,10*Math.sqrt(y));w=Math.min(y-2,w);var x=a(h,d,v,y,w);csFkeep(x,f,null);for(var A=x._index,S=x._ptr,_=S[y],$=[],M=[],T=0,O=y+1,B=2*(y+1),J=3*(y+1),F=4*(y+1),z=5*(y+1),Z=6*(y+1),se=7*(y+1),ie=$,U=o(y,S,M,T,J,ie,B,se,O,Z,F,z),H=l(y,S,M,z,F,Z,w,O,J,ie,B),ue=0,Y,K,te,ae,ee,de,ce,xe,Me,Ae,Xe,Be,Ze,nt,rt,it;H<y;){for(te=-1;ue<y&&(te=M[J+ue])===-1;ue++);M[B+te]!==-1&&(ie[M[B+te]]=-1),M[J+ue]=M[B+te];var me=M[F+te],be=M[O+te];H+=be;var Re=0;M[O+te]=-be;var ye=S[te],$e=me===0?ye:_,Te=$e;for(ae=1;ae<=me+1;ae++){for(ae>me?(de=te,ce=ye,xe=M[T+te]-me):(de=A[ye++],ce=S[de],xe=M[T+de]),ee=1;ee<=xe;ee++)Y=A[ce++],!((Me=M[O+Y])<=0)&&(Re+=Me,M[O+Y]=-Me,A[Te++]=Y,M[B+Y]!==-1&&(ie[M[B+Y]]=ie[Y]),ie[Y]!==-1?M[B+ie[Y]]=M[B+Y]:M[J+M[z+Y]]=M[B+Y]);de!==te&&(S[de]=csFlip(te),M[Z+de]=0)}for(me!==0&&(_=Te),M[z+te]=Re,S[te]=$e,M[T+te]=Te-$e,M[F+te]=-2,U=u(U,b,M,Z,y),Ae=$e;Ae<Te;Ae++)if(Y=A[Ae],!((Xe=M[F+Y])<=0)){Me=-M[O+Y];var et=U-Me;for(ye=S[Y],Be=S[Y]+Xe-1;ye<=Be;ye++)de=A[ye],M[Z+de]>=U?M[Z+de]-=Me:M[Z+de]!==0&&(M[Z+de]=M[z+de]+et)}for(Ae=$e;Ae<Te;Ae++){for(Y=A[Ae],Be=S[Y],Ze=Be+M[F+Y]-1,nt=Be,rt=0,it=0,ye=Be;ye<=Ze;ye++)if(de=A[ye],M[Z+de]!==0){var Ke=M[Z+de]-U;Ke>0?(it+=Ke,A[nt++]=de,rt+=de):(S[de]=csFlip(te),M[Z+de]=0)}M[F+Y]=nt-Be+1;var pe=nt,ve=Be+M[T+Y];for(ye=Ze+1;ye<ve;ye++){K=A[ye];var De=M[O+K];De<=0||(it+=De,A[nt++]=K,rt+=K)}it===0?(S[Y]=csFlip(te),Me=-M[O+Y],Re-=Me,be+=Me,H+=Me,M[O+Y]=0,M[F+Y]=-1):(M[z+Y]=Math.min(M[z+Y],it),A[nt]=A[pe],A[pe]=A[Be],A[Be]=te,M[T+Y]=nt-Be+1,rt=(rt<0?-rt:rt)%y,M[B+Y]=M[se+rt],M[se+rt]=Y,ie[Y]=rt)}for(M[z+te]=Re,b=Math.max(b,Re),U=u(U+b,b,M,Z,y),Ae=$e;Ae<Te;Ae++)if(Y=A[Ae],!(M[O+Y]>=0))for(rt=ie[Y],Y=M[se+rt],M[se+rt]=-1;Y!==-1&&M[B+Y]!==-1;Y=M[B+Y],U++){for(xe=M[T+Y],Xe=M[F+Y],ye=S[Y]+1;ye<=S[Y]+xe-1;ye++)M[Z+A[ye]]=U;var _e=Y;for(K=M[B+Y];K!==-1;){var Oe=M[T+K]===xe&&M[F+K]===Xe;for(ye=S[K]+1;Oe&&ye<=S[K]+xe-1;ye++)M[Z+A[ye]]!==U&&(Oe=0);Oe?(S[K]=csFlip(Y),M[O+Y]+=M[O+K],M[O+K]=0,M[F+K]=-1,K=M[B+K],M[B+_e]=K):(_e=K,K=M[B+K])}}for(ye=$e,Ae=$e;Ae<Te;Ae++)Y=A[Ae],!((Me=-M[O+Y])<=0)&&(M[O+Y]=Me,it=M[z+Y]+Re-Me,it=Math.min(it,y-H-Me),M[J+it]!==-1&&(ie[M[J+it]]=Y),M[B+Y]=M[J+it],ie[Y]=-1,M[J+it]=Y,ue=Math.min(ue,it),M[z+Y]=it,A[ye++]=Y);M[O+te]=be,(M[T+te]=ye-$e)===0&&(S[te]=-1,M[Z+te]=0),me!==0&&(_=ye)}for(Y=0;Y<y;Y++)S[Y]=csFlip(S[Y]);for(K=0;K<=y;K++)M[J+K]=-1;for(K=y;K>=0;K--)M[O+K]>0||(M[B+K]=M[J+S[K]],M[J+S[K]]=K);for(de=y;de>=0;de--)M[O+de]<=0||S[de]!==-1&&(M[B+de]=M[J+S[de]],M[J+S[de]]=de);for(te=0,Y=0;Y<=y;Y++)S[Y]===-1&&(te=csTdfs(Y,te,M,J,B,$,Z));return $.splice($.length-1,1),$};function a(c,h,d,p,v){var y=n(h);if(c===1&&p===d)return r(h,y);if(c===2){for(var b=y._index,w=y._ptr,x=0,A=0;A<d;A++){var S=w[A];if(w[A]=x,!(w[A+1]-S>v))for(var _=w[A+1];S<_;S++)b[x++]=b[S]}return w[d]=x,h=n(y),s(y,h)}return s(y,h)}function o(c,h,d,p,v,y,b,w,x,A,S,_){for(var $=0;$<c;$++)d[p+$]=h[$+1]-h[$];d[p+c]=0;for(var M=0;M<=c;M++)d[v+M]=-1,y[M]=-1,d[b+M]=-1,d[w+M]=-1,d[x+M]=1,d[A+M]=1,d[S+M]=0,d[_+M]=d[p+M];var T=u(0,0,d,A,c);return d[S+c]=-2,h[c]=-1,d[A+c]=0,T}function l(c,h,d,p,v,y,b,w,x,A,S){for(var _=0,$=0;$<c;$++){var M=d[p+$];if(M===0)d[v+$]=-2,_++,h[$]=-1,d[y+$]=0;else if(M>b)d[w+$]=0,d[v+$]=-1,_++,h[$]=csFlip(c),d[w+c]++;else{var T=d[x+M];T!==-1&&(A[T]=$),d[S+$]=d[x+M],d[x+M]=$}}return _}function u(c,h,d,p,v){if(c<2||c+h<0){for(var y=0;y<v;y++)d[p+y]!==0&&(d[p+y]=1);c=2}return c}function f(c,h){return c!==h}});function csLeaf(t,r,s,n,a,o,l){var u,f,c=0,h;if(t<=r||s[n+r]<=s[a+t])return-1;s[a+t]=s[n+r];var d=s[o+t];if(s[o+t]=r,d===-1)c=1,h=t;else{for(c=2,h=d;h!==s[l+h];h=s[l+h]);for(u=d;u!==h;u=f)f=s[l+u],s[l+u]=h}return{jleaf:c,q:h}}var name$1a="csCounts",dependencies$1a=["transpose"],createCsCounts=factory(name$1a,dependencies$1a,t=>{var{transpose:r}=t;return function(s,n,a,o){if(!s||!n||!a)return null;var l=s._size,u=l[0],f=l[1],c,h,d,p,v,y,b,w=4*f+(o?f+u+1:0),x=[],A=0,S=f,_=2*f,$=3*f,M=4*f,T=5*f+1;for(d=0;d<w;d++)x[d]=-1;var O=[],B=r(s),J=B._index,F=B._ptr;for(d=0;d<f;d++)for(h=a[d],O[h]=x[$+h]===-1?1:0;h!==-1&&x[$+h]===-1;h=n[h])x[$+h]=d;if(o){for(d=0;d<f;d++)x[a[d]]=d;for(c=0;c<u;c++){for(d=f,y=F[c],b=F[c+1],v=y;v<b;v++)d=Math.min(d,x[J[v]]);x[T+c]=x[M+d],x[M+d]=c}}for(c=0;c<f;c++)x[A+c]=c;for(d=0;d<f;d++){for(h=a[d],n[h]!==-1&&O[n[h]]--,p=o?x[M+d]:h;p!==-1;p=o?x[T+p]:-1)for(v=F[p];v<F[p+1];v++){c=J[v];var z=csLeaf(c,h,x,$,S,_,A);z.jleaf>=1&&O[h]++,z.jleaf===2&&O[z.q]--}n[h]!==-1&&(x[A+h]=n[h])}for(h=0;h<f;h++)n[h]!==-1&&(O[n[h]]+=O[h]);return O}}),name$19="csSqr",dependencies$19=["add","multiply","transpose"],createCsSqr=factory(name$19,dependencies$19,t=>{var{add:r,multiply:s,transpose:n}=t,a=createCsAmd({add:r,multiply:s,transpose:n}),o=createCsCounts({transpose:n});return function(f,c,h){var d=c._ptr,p=c._size,v=p[1],y,b={};if(b.q=a(f,c),f&&!b.q)return null;if(h){var w=f?csPermute(c,null,b.q):c;b.parent=csEtree(w);var x=csPost(b.parent,v);if(b.cp=o(w,b.parent,x,1),w&&b.parent&&b.cp&&l(w,b))for(b.unz=0,y=0;y<v;y++)b.unz+=b.cp[y]}else b.unz=4*d[v]+v,b.lnz=b.unz;return b};function l(u,f){var c=u._ptr,h=u._index,d=u._size,p=d[0],v=d[1];f.pinv=[],f.leftmost=[];var y=f.parent,b=f.pinv,w=f.leftmost,x=[],A=0,S=p,_=p+v,$=p+2*v,M,T,O,B,J;for(T=0;T<v;T++)x[S+T]=-1,x[_+T]=-1,x[$+T]=0;for(M=0;M<p;M++)w[M]=-1;for(T=v-1;T>=0;T--)for(B=c[T],J=c[T+1],O=B;O<J;O++)w[h[O]]=T;for(M=p-1;M>=0;M--)b[M]=-1,T=w[M],T!==-1&&(x[$+T]++===0&&(x[_+T]=M),x[A+M]=x[S+T],x[S+T]=M);for(f.lnz=0,f.m2=p,T=0;T<v;T++)if(M=x[S+T],f.lnz++,M<0&&(M=f.m2++),b[M]=T,!(--$[T]<=0)){f.lnz+=x[$+T];var F=y[T];F!==-1&&(x[$+F]===0&&(x[_+F]=x[_+T]),x[A+x[_+T]]=x[S+F],x[S+F]=x[A+M],x[$+F]+=x[$+T])}for(M=0;M<p;M++)b[M]<0&&(b[M]=T++);return!0}});function csMarked(t,r){return t[r]<0}function csMark(t,r){t[r]=csFlip(t[r])}function csUnflip(t){return t<0?csFlip(t):t}function csDfs(t,r,s,n,a){var o=r._index,l=r._ptr,u=r._size,f=u[1],c,h,d,p=0;for(n[0]=t;p>=0;){t=n[p];var v=a?a[t]:t;csMarked(l,t)||(csMark(l,t),n[f+p]=v<0?0:csUnflip(l[v]));var y=1;for(h=n[f+p],d=v<0?0:csUnflip(l[v+1]);h<d;h++)if(c=o[h],!csMarked(l,c)){n[f+p]=h,n[++p]=c,y=0;break}y&&(p--,n[--s]=t)}return s}function csReach(t,r,s,n,a){var o=t._ptr,l=t._size,u=r._index,f=r._ptr,c=l[1],h,d,p,v=c;for(d=f[s],p=f[s+1],h=d;h<p;h++){var y=u[h];csMarked(o,y)||(v=csDfs(y,t,v,n,a))}for(h=v;h<c;h++)csMark(o,n[h]);return v}var name$18="csSpsolve",dependencies$18=["divideScalar","multiply","subtract"],createCsSpsolve=factory(name$18,dependencies$18,t=>{var{divideScalar:r,multiply:s,subtract:n}=t;return function(o,l,u,f,c,h,d){var p=o._values,v=o._index,y=o._ptr,b=o._size,w=b[1],x=l._values,A=l._index,S=l._ptr,_,$,M,T,O=csReach(o,l,u,f,h);for(_=O;_<w;_++)c[f[_]]=0;for($=S[u],M=S[u+1],_=$;_<M;_++)c[A[_]]=x[_];for(var B=O;B<w;B++){var J=f[B],F=h?h[J]:J;if(!(F<0))for($=y[F],M=y[F+1],c[J]=r(c[J],p[d?$:M-1]),_=d?$+1:$,T=d?M:M-1;_<T;_++){var z=v[_];c[z]=n(c[z],s(p[_],c[J]))}}return O}}),name$17="csLu",dependencies$17=["abs","divideScalar","multiply","subtract","larger","largerEq","SparseMatrix"],createCsLu=factory(name$17,dependencies$17,t=>{var{abs:r,divideScalar:s,multiply:n,subtract:a,larger:o,largerEq:l,SparseMatrix:u}=t,f=createCsSpsolve({divideScalar:s,multiply:n,subtract:a});return function(h,d,p){if(!h)return null;var v=h._size,y=v[1],b,w=100,x=100;d&&(b=d.q,w=d.lnz||w,x=d.unz||x);var A=[],S=[],_=[],$=new u({values:A,index:S,ptr:_,size:[y,y]}),M=[],T=[],O=[],B=new u({values:M,index:T,ptr:O,size:[y,y]}),J=[],F,z,Z=[],se=[];for(F=0;F<y;F++)Z[F]=0,J[F]=-1,_[F+1]=0;w=0,x=0;for(var ie=0;ie<y;ie++){_[ie]=w,O[ie]=x;var U=b?b[ie]:ie,H=f($,h,U,se,Z,J,1),ue=-1,Y=-1;for(z=H;z<y;z++)if(F=se[z],J[F]<0){var K=r(Z[F]);o(K,Y)&&(Y=K,ue=F)}else T[x]=J[F],M[x++]=Z[F];if(ue===-1||Y<=0)return null;J[U]<0&&l(r(Z[U]),n(Y,p))&&(ue=U);var te=Z[ue];for(T[x]=ie,M[x++]=te,J[ue]=ie,S[w]=ue,A[w++]=1,z=H;z<y;z++)F=se[z],J[F]<0&&(S[w]=F,A[w++]=s(Z[F],te)),Z[F]=0}for(_[y]=w,O[y]=x,z=0;z<w;z++)S[z]=J[S[z]];return A.splice(w,A.length-w),S.splice(w,S.length-w),M.splice(x,M.length-x),T.splice(x,T.length-x),{L:$,U:B,pinv:J}}}),name$16="slu",dependencies$16=["typed","abs","add","multiply","transpose","divideScalar","subtract","larger","largerEq","SparseMatrix"],createSlu=factory(name$16,dependencies$16,t=>{var{typed:r,abs:s,add:n,multiply:a,transpose:o,divideScalar:l,subtract:u,larger:f,largerEq:c,SparseMatrix:h}=t,d=createCsSqr({add:n,multiply:a,transpose:o}),p=createCsLu({abs:s,divideScalar:l,multiply:a,subtract:u,larger:f,largerEq:c,SparseMatrix:h});return r(name$16,{"SparseMatrix, number, number":function(y,b,w){if(!isInteger$1(b)||b<0||b>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(w<0||w>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var x=d(b,y,!1),A=p(y,x,w);return{L:A.L,U:A.U,p:A.pinv,q:x.q,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
p: `+this.p.toString()+(this.q?`
q: `+this.q.toString():"")+`
`}}}})});function csIpvec(t,r){var s,n=r.length,a=[];if(t)for(s=0;s<n;s++)a[t[s]]=r[s];else for(s=0;s<n;s++)a[s]=r[s];return a}var name$15="lusolve",dependencies$15=["typed","matrix","lup","slu","usolve","lsolve","DenseMatrix"],createLusolve=factory(name$15,dependencies$15,t=>{var{typed:r,matrix:s,lup:n,slu:a,usolve:o,lsolve:l,DenseMatrix:u}=t,f=createSolveValidation({DenseMatrix:u});return r(name$15,{"Array, Array | Matrix":function(p,v){p=s(p);var y=n(p),b=h(y.L,y.U,y.p,null,v);return b.valueOf()},"DenseMatrix, Array | Matrix":function(p,v){var y=n(p);return h(y.L,y.U,y.p,null,v)},"SparseMatrix, Array | Matrix":function(p,v){var y=n(p);return h(y.L,y.U,y.p,null,v)},"SparseMatrix, Array | Matrix, number, number":function(p,v,y,b){var w=a(p,y,b);return h(w.L,w.U,w.p,w.q,v)},"Object, Array | Matrix":function(p,v){return h(p.L,p.U,p.p,p.q,v)}});function c(d){if(isMatrix(d))return d;if(isArray(d))return s(d);throw new TypeError("Invalid Matrix LU decomposition")}function h(d,p,v,y,b){d=c(d),p=c(p),v&&(b=f(d,b,!0),b._data=csIpvec(v,b._data));var w=l(d,b),x=o(p,w);return y&&(x._data=csIpvec(y,x._data)),x}}),name$14="polynomialRoot",dependencies$14=["typed","isZero","equalScalar","add","subtract","multiply","divide","sqrt","unaryMinus","cbrt","typeOf","im","re"],createPolynomialRoot=factory(name$14,dependencies$14,t=>{var{typed:r,isZero:s,equalScalar:n,add:a,subtract:o,multiply:l,divide:u,sqrt:f,unaryMinus:c,cbrt:h,typeOf:d,im:p,re:v}=t;return r(name$14,{"number|Complex, ...number|Complex":(y,b)=>{for(var w=[y,...b];w.length>0&&s(w[w.length-1]);)w.pop();if(w.length<2)throw new RangeError("Polynomial [".concat(y,", ").concat(b,"] must have a non-zero non-constant coefficient"));switch(w.length){case 2:return[c(u(w[0],w[1]))];case 3:{var[x,A,S]=w,_=l(2,S),$=l(A,A),M=l(4,S,x);if(n($,M))return[u(c(A),_)];var T=f(o($,M));return[u(o(T,A),_),u(o(c(T),A),_)]}case 4:{var[O,B,J,F]=w,z=c(l(3,F)),Z=l(J,J),se=l(3,F,B),ie=a(l(2,J,J,J),l(27,F,F,O)),U=l(9,F,J,B);if(n(Z,se)&&n(ie,U))return[u(J,z)];var H=o(Z,se),ue=o(ie,U),Y=a(l(18,F,J,B,O),l(J,J,B,B)),K=a(l(4,J,J,J,O),l(4,F,B,B,B),l(27,F,F,O,O));if(n(Y,K))return[u(o(l(4,F,J,B),a(l(9,F,F,O),l(J,J,J))),l(F,H)),u(o(l(9,F,O),l(J,B)),l(2,H))];var te;n(Z,se)?te=ue:te=u(a(ue,f(o(l(ue,ue),l(4,H,H,H)))),2);var ae=!0,ee=h(te,ae).toArray().map(de=>u(a(J,de,u(H,de)),z));return ee.map(de=>d(de)==="Complex"&&n(v(de),v(de)+p(de))?v(de):de)}default:throw new RangeError("only implemented for cubic or lower-order polynomials, not ".concat(w))}}})}),name$13="Help",dependencies$13=["parse"],createHelpClass=factory(name$13,dependencies$13,t=>{var{parse:r}=t;function s(n){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");if(!n)throw new Error('Argument "doc" missing');this.doc=n}return s.prototype.type="Help",s.prototype.isHelp=!0,s.prototype.toString=function(){var n=this.doc||{},a=`
`;if(n.name&&(a+="Name: "+n.name+`

`),n.category&&(a+="Category: "+n.category+`

`),n.description&&(a+=`Description:
    `+n.description+`

`),n.syntax&&(a+=`Syntax:
    `+n.syntax.join(`
    `)+`

`),n.examples){a+=`Examples:
`;for(var o={},l=0;l<n.examples.length;l++){var u=n.examples[l];a+="    "+u+`
`;var f=void 0;try{f=r(u).compile().evaluate(o)}catch(c){f=c}f!==void 0&&!isHelp(f)&&(a+="        "+format$1(f,{precision:14})+`
`)}a+=`
`}return n.mayThrow&&n.mayThrow.length&&(a+="Throws: "+n.mayThrow.join(", ")+`

`),n.seealso&&n.seealso.length&&(a+="See also: "+n.seealso.join(", ")+`
`),a},s.prototype.toJSON=function(){var n=clone$2(this.doc);return n.mathjs="Help",n},s.fromJSON=function(n){var a={};return Object.keys(n).filter(o=>o!=="mathjs").forEach(o=>{a[o]=n[o]}),new s(a)},s.prototype.valueOf=s.prototype.toString,s},{isClass:!0}),name$12="Chain",dependencies$12=["?on","math","typed"],createChainClass=factory(name$12,dependencies$12,t=>{var{on:r,math:s,typed:n}=t;function a(c){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");isChain(c)?this.value=c.value:this.value=c}a.prototype.type="Chain",a.prototype.isChain=!0,a.prototype.done=function(){return this.value},a.prototype.valueOf=function(){return this.value},a.prototype.toString=function(){return format$1(this.value)},a.prototype.toJSON=function(){return{mathjs:"Chain",value:this.value}},a.fromJSON=function(c){return new a(c.value)};function o(c,h){typeof h=="function"&&(a.prototype[c]=u(h))}function l(c,h){lazy(a.prototype,c,function(){var p=h();if(typeof p=="function")return u(p)})}function u(c){return function(){if(arguments.length===0)return new a(c(this.value));for(var h=[this.value],d=0;d<arguments.length;d++)h[d+1]=arguments[d];if(n.isTypedFunction(c)){var p=n.resolve(c,h);if(p.params.length===1)throw new Error("chain function "+c.name+" cannot match rest parameter between chain value and additional arguments.");return new a(p.implementation.apply(c,h))}return new a(c.apply(c,h))}}a.createProxy=function(c,h){if(typeof c=="string")o(c,h);else{var d=function(y){hasOwnProperty$1(c,y)&&f[y]===void 0&&l(y,()=>c[y])};for(var p in c)d(p)}};var f={expression:!0,docs:!0,type:!0,classes:!0,json:!0,error:!0,isChain:!0};return a.createProxy(s),r&&r("import",function(c,h,d){d||l(c,h)}),a},{isClass:!0}),eDocs={name:"e",category:"Constants",syntax:["e"],description:"Euler's number, the base of the natural logarithm. Approximately equal to 2.71828",examples:["e","e ^ 2","exp(2)","log(e)"],seealso:["exp"]},falseDocs={name:"false",category:"Constants",syntax:["false"],description:"Boolean value false",examples:["false"],seealso:["true"]},iDocs={name:"i",category:"Constants",syntax:["i"],description:"Imaginary unit, defined as i*i=-1. A complex number is described as a + b*i, where a is the real part, and b is the imaginary part.",examples:["i","i * i","sqrt(-1)"],seealso:[]},InfinityDocs={name:"Infinity",category:"Constants",syntax:["Infinity"],description:"Infinity, a number which is larger than the maximum number that can be handled by a floating point number.",examples:["Infinity","1 / 0"],seealso:[]},LN10Docs={name:"LN10",category:"Constants",syntax:["LN10"],description:"Returns the natural logarithm of 10, approximately equal to 2.302",examples:["LN10","log(10)"],seealso:[]},LN2Docs={name:"LN2",category:"Constants",syntax:["LN2"],description:"Returns the natural logarithm of 2, approximately equal to 0.693",examples:["LN2","log(2)"],seealso:[]},LOG10EDocs={name:"LOG10E",category:"Constants",syntax:["LOG10E"],description:"Returns the base-10 logarithm of E, approximately equal to 0.434",examples:["LOG10E","log(e, 10)"],seealso:[]},LOG2EDocs={name:"LOG2E",category:"Constants",syntax:["LOG2E"],description:"Returns the base-2 logarithm of E, approximately equal to 1.442",examples:["LOG2E","log(e, 2)"],seealso:[]},NaNDocs={name:"NaN",category:"Constants",syntax:["NaN"],description:"Not a number",examples:["NaN","0 / 0"],seealso:[]},nullDocs={name:"null",category:"Constants",syntax:["null"],description:"Value null",examples:["null"],seealso:["true","false"]},phiDocs={name:"phi",category:"Constants",syntax:["phi"],description:"Phi is the golden ratio. Two quantities are in the golden ratio if their ratio is the same as the ratio of their sum to the larger of the two quantities. Phi is defined as `(1 + sqrt(5)) / 2` and is approximately 1.618034...",examples:["phi"],seealso:[]},piDocs={name:"pi",category:"Constants",syntax:["pi"],description:"The number pi is a mathematical constant that is the ratio of a circle's circumference to its diameter, and is approximately equal to 3.14159",examples:["pi","sin(pi/2)"],seealso:["tau"]},SQRT12Docs={name:"SQRT1_2",category:"Constants",syntax:["SQRT1_2"],description:"Returns the square root of 1/2, approximately equal to 0.707",examples:["SQRT1_2","sqrt(1/2)"],seealso:[]},SQRT2Docs={name:"SQRT2",category:"Constants",syntax:["SQRT2"],description:"Returns the square root of 2, approximately equal to 1.414",examples:["SQRT2","sqrt(2)"],seealso:[]},tauDocs={name:"tau",category:"Constants",syntax:["tau"],description:"Tau is the ratio constant of a circle's circumference to radius, equal to 2 * pi, approximately 6.2832.",examples:["tau","2 * pi"],seealso:["pi"]},trueDocs={name:"true",category:"Constants",syntax:["true"],description:"Boolean value true",examples:["true"],seealso:["false"]},versionDocs={name:"version",category:"Constants",syntax:["version"],description:"A string with the version number of math.js",examples:["version"],seealso:[]},bignumberDocs={name:"bignumber",category:"Construction",syntax:["bignumber(x)"],description:"Create a big number from a number or string.",examples:["0.1 + 0.2","bignumber(0.1) + bignumber(0.2)",'bignumber("7.2")','bignumber("7.2e500")',"bignumber([0.1, 0.2, 0.3])"],seealso:["boolean","complex","fraction","index","matrix","string","unit"]},booleanDocs={name:"boolean",category:"Construction",syntax:["x","boolean(x)"],description:"Convert a string or number into a boolean.",examples:["boolean(0)","boolean(1)","boolean(3)",'boolean("true")','boolean("false")',"boolean([1, 0, 1, 1])"],seealso:["bignumber","complex","index","matrix","number","string","unit"]},complexDocs={name:"complex",category:"Construction",syntax:["complex()","complex(re, im)","complex(string)"],description:"Create a complex number.",examples:["complex()","complex(2, 3)",'complex("7 - 2i")'],seealso:["bignumber","boolean","index","matrix","number","string","unit"]},createUnitDocs={name:"createUnit",category:"Construction",syntax:["createUnit(definitions)","createUnit(name, definition)"],description:"Create a user-defined unit and register it with the Unit type.",examples:['createUnit("foo")','createUnit("knot", {definition: "0.514444444 m/s", aliases: ["knots", "kt", "kts"]})','createUnit("mph", "1 mile/hour")'],seealso:["unit","splitUnit"]},fractionDocs={name:"fraction",category:"Construction",syntax:["fraction(num)","fraction(matrix)","fraction(num,den)","fraction({n: num, d: den})"],description:"Create a fraction from a number or from integer numerator and denominator.",examples:["fraction(0.125)","fraction(1, 3) + fraction(2, 5)","fraction({n: 333, d: 53})","fraction([sqrt(9), sqrt(10), sqrt(11)])"],seealso:["bignumber","boolean","complex","index","matrix","string","unit"]},indexDocs={name:"index",category:"Construction",syntax:["[start]","[start:end]","[start:step:end]","[start1, start 2, ...]","[start1:end1, start2:end2, ...]","[start1:step1:end1, start2:step2:end2, ...]"],description:"Create an index to get or replace a subset of a matrix",examples:["[1, 2, 3]","A = [1, 2, 3; 4, 5, 6]","A[1, :]","A[1, 2] = 50","A[1:2, 1:2] = ones(2, 2)"],seealso:["bignumber","boolean","complex","matrix,","number","range","string","unit"]},matrixDocs={name:"matrix",category:"Construction",syntax:["[]","[a1, b1, ...; a2, b2, ...]","matrix()",'matrix("dense")',"matrix([...])"],description:"Create a matrix.",examples:["[]","[1, 2, 3]","[1, 2, 3; 4, 5, 6]","matrix()","matrix([3, 4])",'matrix([3, 4; 5, 6], "sparse")','matrix([3, 4; 5, 6], "sparse", "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","sparse"]},numberDocs={name:"number",category:"Construction",syntax:["x","number(x)","number(unit, valuelessUnit)"],description:"Create a number or convert a string or boolean into a number.",examples:["2","2e3","4.05","number(2)",'number("7.2")',"number(true)","number([true, false, true, true])",'number(unit("52cm"), "m")'],seealso:["bignumber","boolean","complex","fraction","index","matrix","string","unit"]},sparseDocs={name:"sparse",category:"Construction",syntax:["sparse()","sparse([a1, b1, ...; a1, b2, ...])",'sparse([a1, b1, ...; a1, b2, ...], "number")'],description:"Create a sparse matrix.",examples:["sparse()","sparse([3, 4; 5, 6])",'sparse([3, 0; 5, 0], "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","matrix"]},splitUnitDocs={name:"splitUnit",category:"Construction",syntax:["splitUnit(unit: Unit, parts: Unit[])"],description:"Split a unit in an array of units whose sum is equal to the original unit.",examples:['splitUnit(1 m, ["feet", "inch"])'],seealso:["unit","createUnit"]},stringDocs={name:"string",category:"Construction",syntax:['"text"',"string(x)"],description:"Create a string or convert a value to a string",examples:['"Hello World!"',"string(4.2)","string(3 + 2i)"],seealso:["bignumber","boolean","complex","index","matrix","number","unit"]},unitDocs={name:"unit",category:"Construction",syntax:["value unit","unit(value, unit)","unit(string)"],description:"Create a unit.",examples:["5.5 mm","3 inch",'unit(7.1, "kilogram")','unit("23 deg")'],seealso:["bignumber","boolean","complex","index","matrix","number","string"]},configDocs={name:"config",category:"Core",syntax:["config()","config(options)"],description:"Get configuration or change configuration.",examples:["config()","1/3 + 1/4",'config({number: "Fraction"})',"1/3 + 1/4"],seealso:[]},importDocs={name:"import",category:"Core",syntax:["import(functions)","import(functions, options)"],description:"Import functions or constants from an object.",examples:["import({myFn: f(x)=x^2, myConstant: 32 })","myFn(2)","myConstant"],seealso:[]},typedDocs={name:"typed",category:"Core",syntax:["typed(signatures)","typed(name, signatures)"],description:"Create a typed function.",examples:['double = typed({ "number": f(x)=x+x })',"double(2)",'double("hello")'],seealso:[]},derivativeDocs={name:"derivative",category:"Algebra",syntax:["derivative(expr, variable)","derivative(expr, variable, {simplify: boolean})"],description:"Takes the derivative of an expression expressed in parser Nodes. The derivative will be taken over the supplied variable in the second parameter. If there are multiple variables in the expression, it will return a partial derivative.",examples:['derivative("2x^3", "x")','derivative("2x^3", "x", {simplify: false})','derivative("2x^2 + 3x + 4", "x")','derivative("sin(2x)", "x")','f = parse("x^2 + x")','x = parse("x")',"df = derivative(f, x)","df.evaluate({x: 3})"],seealso:["simplify","parse","evaluate"]},leafCountDocs={name:"leafCount",category:"Algebra",syntax:["leafCount(expr)"],description:"Computes the number of leaves in the parse tree of the given expression",examples:['leafCount("e^(i*pi)-1")','leafCount(parse("{a: 22/7, b: 10^(1/2)}"))'],seealso:["simplify"]},lsolveDocs={name:"lsolve",category:"Algebra",syntax:["x=lsolve(L, b)"],description:"Finds one solution of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolveAll","lup","lusolve","usolve","matrix","sparse"]},lsolveAllDocs={name:"lsolveAll",category:"Algebra",syntax:["x=lsolveAll(L, b)"],description:"Finds all solutions of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolve","lup","lusolve","usolve","matrix","sparse"]},lupDocs={name:"lup",category:"Algebra",syntax:["lup(m)"],description:"Calculate the Matrix LU decomposition with partial pivoting. Matrix A is decomposed in three matrices (L, U, P) where P * A = L * U",examples:["lup([[2, 1], [1, 4]])","lup(matrix([[2, 1], [1, 4]]))","lup(sparse([[2, 1], [1, 4]]))"],seealso:["lusolve","lsolve","usolve","matrix","sparse","slu","qr"]},lusolveDocs={name:"lusolve",category:"Algebra",syntax:["x=lusolve(A, b)","x=lusolve(lu, b)"],description:"Solves the linear system A * x = b where A is an [n x n] matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lusolve(a, b)"],seealso:["lup","slu","lsolve","usolve","matrix","sparse"]},polynomialRootDocs={name:"polynomialRoot",category:"Algebra",syntax:["x=polynomialRoot(-6, 3)","x=polynomialRoot(4, -4, 1)","x=polynomialRoot(-8, 12, -6, 1)"],description:"Finds the roots of a univariate polynomial given by its coefficients starting from constant, linear, and so on, increasing in degree.",examples:["a = polynomialRoot(-6, 11, -6 1)"],seealso:["cbrt","sqrt"]},qrDocs={name:"qr",category:"Algebra",syntax:["qr(A)"],description:"Calculates the Matrix QR decomposition. Matrix `A` is decomposed in two matrices (`Q`, `R`) where `Q` is an orthogonal matrix and `R` is an upper triangular matrix.",examples:["qr([[1, -1,  4], [1,  4, -2], [1,  4,  2], [1,  -1, 0]])"],seealso:["lup","slu","matrix"]},rationalizeDocs={name:"rationalize",category:"Algebra",syntax:["rationalize(expr)","rationalize(expr, scope)","rationalize(expr, scope, detailed)"],description:"Transform a rationalizable expression in a rational fraction. If rational fraction is one variable polynomial then converts the numerator and denominator in canonical form, with decreasing exponents, returning the coefficients of numerator.",examples:['rationalize("2x/y - y/(x+1)")','rationalize("2x/y - y/(x+1)", true)'],seealso:["simplify"]},resolveDocs={name:"resolve",category:"Algebra",syntax:["resolve(node, scope)"],description:"Recursively substitute variables in an expression tree.",examples:['resolve(parse("1 + x"), { x: 7 })','resolve(parse("size(text)"), { text: "Hello World" })','resolve(parse("x + y"), { x: parse("3z") })','resolve(parse("3x"), { x: parse("y+z"), z: parse("w^y") })'],seealso:["simplify","evaluate"],mayThrow:["ReferenceError"]},simplifyDocs={name:"simplify",category:"Algebra",syntax:["simplify(expr)","simplify(expr, rules)"],description:"Simplify an expression tree.",examples:['simplify("3 + 2 / 4")','simplify("2x + x")','f = parse("x * (x + 2 + x)")',"simplified = simplify(f)","simplified.evaluate({x: 2})"],seealso:["simplifyCore","derivative","evaluate","parse","rationalize","resolve"]},simplifyConstantDocs={name:"simplifyConstant",category:"Algebra",syntax:["simplifyConstant(expr)","simplifyConstant(expr, options)"],description:"Replace constant subexpressions of node with their values.",examples:['simplifyConatant("(3-3)*x")','simplifyConstant(parse("z-cos(tau/8)"))'],seealso:["simplify","simplifyCore","evaluate"]},simplifyCoreDocs={name:"simplifyCore",category:"Algebra",syntax:["simplifyCore(node)"],description:"Perform simple one-pass simplifications on an expression tree.",examples:['simplifyCore(parse("0*x"))','simplifyCore(parse("(x+0)*2"))'],seealso:["simplify","simplifyConstant","evaluate"]},sluDocs={name:"slu",category:"Algebra",syntax:["slu(A, order, threshold)"],description:"Calculate the Matrix LU decomposition with full pivoting. Matrix A is decomposed in two matrices (L, U) and two permutation vectors (pinv, q) where P * A * Q = L * U",examples:["slu(sparse([4.5, 0, 3.2, 0; 3.1, 2.9, 0, 0.9; 0, 1.7, 3, 0; 3.5, 0.4, 0, 1]), 1, 0.001)"],seealso:["lusolve","lsolve","usolve","matrix","sparse","lup","qr"]},symbolicEqualDocs={name:"symbolicEqual",category:"Algebra",syntax:["symbolicEqual(expr1, expr2)","symbolicEqual(expr1, expr2, options)"],description:"Returns true if the difference of the expressions simplifies to 0",examples:['symbolicEqual("x*y","y*x")','symbolicEqual("abs(x^2)", "x^2")','symbolicEqual("abs(x)", "x", {context: {abs: {trivial: true}}})'],seealso:["simplify","evaluate"]},usolveDocs={name:"usolve",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds one solution of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolveAll","lup","lusolve","lsolve","matrix","sparse"]},usolveAllDocs={name:"usolveAll",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds all solutions of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolve","lup","lusolve","lsolve","matrix","sparse"]},absDocs={name:"abs",category:"Arithmetic",syntax:["abs(x)"],description:"Compute the absolute value.",examples:["abs(3.5)","abs(-4.2)"],seealso:["sign"]},addDocs={name:"add",category:"Operators",syntax:["x + y","add(x, y)"],description:"Add two values.",examples:["a = 2.1 + 3.6","a - 3.6","3 + 2i","3 cm + 2 inch",'"2.3" + "4"'],seealso:["subtract"]},cbrtDocs={name:"cbrt",category:"Arithmetic",syntax:["cbrt(x)","cbrt(x, allRoots)"],description:"Compute the cubic root value. If x = y * y * y, then y is the cubic root of x. When `x` is a number or complex number, an optional second argument `allRoots` can be provided to return all three cubic roots. If not provided, the principal root is returned",examples:["cbrt(64)","cube(4)","cbrt(-8)","cbrt(2 + 3i)","cbrt(8i)","cbrt(8i, true)","cbrt(27 m^3)"],seealso:["square","sqrt","cube","multiply"]},ceilDocs={name:"ceil",category:"Arithmetic",syntax:["ceil(x)"],description:"Round a value towards plus infinity. If x is complex, both real and imaginary part are rounded towards plus infinity.",examples:["ceil(3.2)","ceil(3.8)","ceil(-4.2)"],seealso:["floor","fix","round"]},cubeDocs={name:"cube",category:"Arithmetic",syntax:["cube(x)"],description:"Compute the cube of a value. The cube of x is x * x * x.",examples:["cube(2)","2^3","2 * 2 * 2"],seealso:["multiply","square","pow"]},divideDocs={name:"divide",category:"Operators",syntax:["x / y","divide(x, y)"],description:"Divide two values.",examples:["a = 2 / 3","a * 3","4.5 / 2","3 + 4 / 2","(3 + 4) / 2","18 km / 4.5"],seealso:["multiply"]},dotDivideDocs={name:"dotDivide",category:"Operators",syntax:["x ./ y","dotDivide(x, y)"],description:"Divide two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a ./ b"],seealso:["multiply","dotMultiply","divide"]},dotMultiplyDocs={name:"dotMultiply",category:"Operators",syntax:["x .* y","dotMultiply(x, y)"],description:"Multiply two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a .* b"],seealso:["multiply","divide","dotDivide"]},dotPowDocs={name:"dotPow",category:"Operators",syntax:["x .^ y","dotPow(x, y)"],description:"Calculates the power of x to y element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","a .^ 2"],seealso:["pow"]},expDocs={name:"exp",category:"Arithmetic",syntax:["exp(x)"],description:"Calculate the exponent of a value.",examples:["exp(1.3)","e ^ 1.3","log(exp(1.3))","x = 2.4","(exp(i*x) == cos(x) + i*sin(x))   # Euler's formula"],seealso:["expm","expm1","pow","log"]},expmDocs={name:"expm",category:"Arithmetic",syntax:["exp(x)"],description:"Compute the matrix exponential, expm(A) = e^A. The matrix must be square. Not to be confused with exp(a), which performs element-wise exponentiation.",examples:["expm([[0,2],[0,0]])"],seealso:["exp"]},expm1Docs={name:"expm1",category:"Arithmetic",syntax:["expm1(x)"],description:"Calculate the value of subtracting 1 from the exponential value.",examples:["expm1(2)","pow(e, 2) - 1","log(expm1(2) + 1)"],seealso:["exp","pow","log"]},fixDocs={name:"fix",category:"Arithmetic",syntax:["fix(x)"],description:"Round a value towards zero. If x is complex, both real and imaginary part are rounded towards zero.",examples:["fix(3.2)","fix(3.8)","fix(-4.2)","fix(-4.8)"],seealso:["ceil","floor","round"]},floorDocs={name:"floor",category:"Arithmetic",syntax:["floor(x)"],description:"Round a value towards minus infinity.If x is complex, both real and imaginary part are rounded towards minus infinity.",examples:["floor(3.2)","floor(3.8)","floor(-4.2)"],seealso:["ceil","fix","round"]},gcdDocs={name:"gcd",category:"Arithmetic",syntax:["gcd(a, b)","gcd(a, b, c, ...)"],description:"Compute the greatest common divisor.",examples:["gcd(8, 12)","gcd(-4, 6)","gcd(25, 15, -10)"],seealso:["lcm","xgcd"]},hypotDocs={name:"hypot",category:"Arithmetic",syntax:["hypot(a, b, c, ...)","hypot([a, b, c, ...])"],description:"Calculate the hypotenusa of a list with values. ",examples:["hypot(3, 4)","sqrt(3^2 + 4^2)","hypot(-2)","hypot([3, 4, 5])"],seealso:["abs","norm"]},invmodDocs={name:"invmod",category:"Arithmetic",syntax:["invmod(a, b)"],description:"Calculate the (modular) multiplicative inverse of a modulo b. Solution to the equation ax  1 (mod b)",examples:["invmod(8, 12)=NaN","invmod(7, 13)=2","invmod(15151, 15122)=10429"],seealso:["gcd","xgcd"]},lcmDocs={name:"lcm",category:"Arithmetic",syntax:["lcm(x, y)"],description:"Compute the least common multiple.",examples:["lcm(4, 6)","lcm(6, 21)","lcm(6, 21, 5)"],seealso:["gcd"]},logDocs={name:"log",category:"Arithmetic",syntax:["log(x)","log(x, base)"],description:"Compute the logarithm of a value. If no base is provided, the natural logarithm of x is calculated. If base if provided, the logarithm is calculated for the specified base. log(x, base) is defined as log(x) / log(base).",examples:["log(3.5)","a = log(2.4)","exp(a)","10 ^ 4","log(10000, 10)","log(10000) / log(10)","b = log(1024, 2)","2 ^ b"],seealso:["exp","log1p","log2","log10"]},log10Docs={name:"log10",category:"Arithmetic",syntax:["log10(x)"],description:"Compute the 10-base logarithm of a value.",examples:["log10(0.00001)","log10(10000)","10 ^ 4","log(10000) / log(10)","log(10000, 10)"],seealso:["exp","log"]},log1pDocs={name:"log1p",category:"Arithmetic",syntax:["log1p(x)","log1p(x, base)"],description:"Calculate the logarithm of a `value+1`",examples:["log1p(2.5)","exp(log1p(1.4))","pow(10, 4)","log1p(9999, 10)","log1p(9999) / log(10)"],seealso:["exp","log","log2","log10"]},log2Docs={name:"log2",category:"Arithmetic",syntax:["log2(x)"],description:"Calculate the 2-base of a value. This is the same as calculating `log(x, 2)`.",examples:["log2(0.03125)","log2(16)","log2(16) / log2(2)","pow(2, 4)"],seealso:["exp","log1p","log","log10"]},modDocs={name:"mod",category:"Operators",syntax:["x % y","x mod y","mod(x, y)"],description:"Calculates the modulus, the remainder of an integer division.",examples:["7 % 3","11 % 2","10 mod 4","isOdd(x) = x % 2","isOdd(2)","isOdd(3)"],seealso:["divide"]},multiplyDocs={name:"multiply",category:"Operators",syntax:["x * y","multiply(x, y)"],description:"multiply two values.",examples:["a = 2.1 * 3.4","a / 3.4","2 * 3 + 4","2 * (3 + 4)","3 * 2.1 km"],seealso:["divide"]},normDocs={name:"norm",category:"Arithmetic",syntax:["norm(x)","norm(x, p)"],description:"Calculate the norm of a number, vector or matrix.",examples:["abs(-3.5)","norm(-3.5)","norm(3 - 4i)","norm([1, 2, -3], Infinity)","norm([1, 2, -3], -Infinity)","norm([3, 4], 2)","norm([[1, 2], [3, 4]], 1)",'norm([[1, 2], [3, 4]], "inf")','norm([[1, 2], [3, 4]], "fro")']},nthRootDocs={name:"nthRoot",category:"Arithmetic",syntax:["nthRoot(a)","nthRoot(a, root)"],description:'Calculate the nth root of a value. The principal nth root of a positive real number A, is the positive real solution of the equation "x^root = A".',examples:["4 ^ 3","nthRoot(64, 3)","nthRoot(9, 2)","sqrt(9)"],seealso:["nthRoots","pow","sqrt"]},nthRootsDocs={name:"nthRoots",category:"Arithmetic",syntax:["nthRoots(A)","nthRoots(A, root)"],description:'Calculate the nth roots of a value. An nth root of a positive real number A, is a positive real solution of the equation "x^root = A". This function returns an array of complex values.',examples:["nthRoots(1)","nthRoots(1, 3)"],seealso:["sqrt","pow","nthRoot"]},powDocs={name:"pow",category:"Operators",syntax:["x ^ y","pow(x, y)"],description:"Calculates the power of x to y, x^y.",examples:["2^3","2*2*2","1 + e ^ (pi * i)","pow([[1, 2], [4, 3]], 2)","pow([[1, 2], [4, 3]], -1)"],seealso:["multiply","nthRoot","nthRoots","sqrt"]},roundDocs={name:"round",category:"Arithmetic",syntax:["round(x)","round(x, n)"],description:"round a value towards the nearest integer.If x is complex, both real and imaginary part are rounded towards the nearest integer. When n is specified, the value is rounded to n decimals.",examples:["round(3.2)","round(3.8)","round(-4.2)","round(-4.8)","round(pi, 3)","round(123.45678, 2)"],seealso:["ceil","floor","fix"]},signDocs={name:"sign",category:"Arithmetic",syntax:["sign(x)"],description:"Compute the sign of a value. The sign of a value x is 1 when x>1, -1 when x<0, and 0 when x=0.",examples:["sign(3.5)","sign(-4.2)","sign(0)"],seealso:["abs"]},sqrtDocs={name:"sqrt",category:"Arithmetic",syntax:["sqrt(x)"],description:"Compute the square root value. If x = y * y, then y is the square root of x.",examples:["sqrt(25)","5 * 5","sqrt(-1)"],seealso:["square","sqrtm","multiply","nthRoot","nthRoots","pow"]},sqrtmDocs={name:"sqrtm",category:"Arithmetic",syntax:["sqrtm(x)"],description:"Calculate the principal square root of a square matrix. The principal square root matrix `X` of another matrix `A` is such that `X * X = A`.",examples:["sqrtm([[33, 24], [48, 57]])"],seealso:["sqrt","abs","square","multiply"]},sylvesterDocs={name:"sylvester",category:"Matrix",syntax:["sylvester(A,B,C)"],description:"Solves the real-valued Sylvester equation AX+XB=C for X",examples:["sylvester([[-1, -2], [1, 1]], [[-2, 1], [-1, 2]], [[-3, 2], [3, 0]])","sylvester(A,B,C)"],seealso:["schur","lyap"]},schurDocs={name:"schur",category:"Matrix",syntax:["schur(A)"],description:"Performs a real Schur decomposition of the real matrix A = UTU'",examples:["schur([[1, 0], [-4, 3]])","schur(A)"],seealso:["lyap","sylvester"]},lyapDocs={name:"lyap",category:"Matrix",syntax:["lyap(A,Q)"],description:"Solves the Continuous-time Lyapunov equation AP+PA'+Q=0 for P",examples:["lyap([[-2, 0], [1, -4]], [[3, 1], [1, 3]])","lyap(A,Q)"],seealso:["schur","sylvester"]},squareDocs={name:"square",category:"Arithmetic",syntax:["square(x)"],description:"Compute the square of a value. The square of x is x * x.",examples:["square(3)","sqrt(9)","3^2","3 * 3"],seealso:["multiply","pow","sqrt","cube"]},subtractDocs={name:"subtract",category:"Operators",syntax:["x - y","subtract(x, y)"],description:"subtract two values.",examples:["a = 5.3 - 2","a + 2","2/3 - 1/6","2 * 3 - 3","2.1 km - 500m"],seealso:["add"]},unaryMinusDocs={name:"unaryMinus",category:"Operators",syntax:["-x","unaryMinus(x)"],description:"Inverse the sign of a value. Converts booleans and strings to numbers.",examples:["-4.5","-(-5.6)",'-"22"'],seealso:["add","subtract","unaryPlus"]},unaryPlusDocs={name:"unaryPlus",category:"Operators",syntax:["+x","unaryPlus(x)"],description:"Converts booleans and strings to numbers.",examples:["+true",'+"2"'],seealso:["add","subtract","unaryMinus"]},xgcdDocs={name:"xgcd",category:"Arithmetic",syntax:["xgcd(a, b)"],description:"Calculate the extended greatest common divisor for two values. The result is an array [d, x, y] with 3 entries, where d is the greatest common divisor, and d = x * a + y * b.",examples:["xgcd(8, 12)","gcd(8, 12)","xgcd(36163, 21199)"],seealso:["gcd","lcm"]},bitAndDocs={name:"bitAnd",category:"Bitwise",syntax:["x & y","bitAnd(x, y)"],description:"Bitwise AND operation. Performs the logical AND operation on each pair of the corresponding bits of the two given values by multiplying them. If both bits in the compared position are 1, the bit in the resulting binary representation is 1, otherwise, the result is 0",examples:["5 & 3","bitAnd(53, 131)","[1, 12, 31] & 42"],seealso:["bitNot","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]},bitNotDocs={name:"bitNot",category:"Bitwise",syntax:["~x","bitNot(x)"],description:"Bitwise NOT operation. Performs a logical negation on each bit of the given value. Bits that are 0 become 1, and those that are 1 become 0.",examples:["~1","~2","bitNot([2, -3, 4])"],seealso:["bitAnd","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]},bitOrDocs={name:"bitOr",category:"Bitwise",syntax:["x | y","bitOr(x, y)"],description:"Bitwise OR operation. Performs the logical inclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if the first bit is 1 or the second bit is 1 or both bits are 1, otherwise, the result is 0.",examples:["5 | 3","bitOr([1, 2, 3], 4)"],seealso:["bitAnd","bitNot","bitXor","leftShift","rightArithShift","rightLogShift"]},bitXorDocs={name:"bitXor",category:"Bitwise",syntax:["bitXor(x, y)"],description:"Bitwise XOR operation, exclusive OR. Performs the logical exclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if only the first bit is 1 or only the second bit is 1, but will be 0 if both are 0 or both are 1.",examples:["bitOr(1, 2)","bitXor([2, 3, 4], 4)"],seealso:["bitAnd","bitNot","bitOr","leftShift","rightArithShift","rightLogShift"]},leftShiftDocs={name:"leftShift",category:"Bitwise",syntax:["x << y","leftShift(x, y)"],description:"Bitwise left logical shift of a value x by y number of bits.",examples:["4 << 1","8 >> 1"],seealso:["bitAnd","bitNot","bitOr","bitXor","rightArithShift","rightLogShift"]},rightArithShiftDocs={name:"rightArithShift",category:"Bitwise",syntax:["x >> y","rightArithShift(x, y)"],description:"Bitwise right arithmetic shift of a value x by y number of bits.",examples:["8 >> 1","4 << 1","-12 >> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightLogShift"]},rightLogShiftDocs={name:"rightLogShift",category:"Bitwise",syntax:["x >>> y","rightLogShift(x, y)"],description:"Bitwise right logical shift of a value x by y number of bits.",examples:["8 >>> 1","4 << 1","-12 >>> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightArithShift"]},bellNumbersDocs={name:"bellNumbers",category:"Combinatorics",syntax:["bellNumbers(n)"],description:"The Bell Numbers count the number of partitions of a set. A partition is a pairwise disjoint subset of S whose union is S. `bellNumbers` only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["bellNumbers(3)","bellNumbers(8)"],seealso:["stirlingS2"]},catalanDocs={name:"catalan",category:"Combinatorics",syntax:["catalan(n)"],description:"The Catalan Numbers enumerate combinatorial structures of many different types. catalan only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["catalan(3)","catalan(8)"],seealso:["bellNumbers"]},compositionDocs={name:"composition",category:"Combinatorics",syntax:["composition(n, k)"],description:"The composition counts of n into k parts. composition only takes integer arguments. The following condition must be enforced: k <= n.",examples:["composition(5, 3)"],seealso:["combinations"]},stirlingS2Docs={name:"stirlingS2",category:"Combinatorics",syntax:["stirlingS2(n, k)"],description:"he Stirling numbers of the second kind, counts the number of ways to partition a set of n labelled objects into k nonempty unlabelled subsets. `stirlingS2` only takes integer arguments. The following condition must be enforced: k <= n. If n = k or k = 1, then s(n,k) = 1.",examples:["stirlingS2(5, 3)"],seealso:["bellNumbers"]},argDocs={name:"arg",category:"Complex",syntax:["arg(x)"],description:"Compute the argument of a complex value. If x = a+bi, the argument is computed as atan2(b, a).",examples:["arg(2 + 2i)","atan2(3, 2)","arg(2 + 3i)"],seealso:["re","im","conj","abs"]},conjDocs={name:"conj",category:"Complex",syntax:["conj(x)"],description:"Compute the complex conjugate of a complex value. If x = a+bi, the complex conjugate is a-bi.",examples:["conj(2 + 3i)","conj(2 - 3i)","conj(-5.2i)"],seealso:["re","im","abs","arg"]},imDocs={name:"im",category:"Complex",syntax:["im(x)"],description:"Get the imaginary part of a complex number.",examples:["im(2 + 3i)","re(2 + 3i)","im(-5.2i)","im(2.4)"],seealso:["re","conj","abs","arg"]},reDocs={name:"re",category:"Complex",syntax:["re(x)"],description:"Get the real part of a complex number.",examples:["re(2 + 3i)","im(2 + 3i)","re(-5.2i)","re(2.4)"],seealso:["im","conj","abs","arg"]},evaluateDocs={name:"evaluate",category:"Expression",syntax:["evaluate(expression)","evaluate([expr1, expr2, expr3, ...])"],description:"Evaluate an expression or an array with expressions.",examples:['evaluate("2 + 3")','evaluate("sqrt(" + 4 + ")")'],seealso:[]},helpDocs={name:"help",category:"Expression",syntax:["help(object)","help(string)"],description:"Display documentation on a function or data type.",examples:["help(sqrt)",'help("complex")'],seealso:[]},distanceDocs={name:"distance",category:"Geometry",syntax:["distance([x1, y1], [x2, y2])","distance([[x1, y1], [x2, y2]])"],description:"Calculates the Euclidean distance between two points.",examples:["distance([0,0], [4,4])","distance([[0,0], [4,4]])"],seealso:[]},intersectDocs={name:"intersect",category:"Geometry",syntax:["intersect(expr1, expr2, expr3, expr4)","intersect(expr1, expr2, expr3)"],description:"Computes the intersection point of lines and/or planes.",examples:["intersect([0, 0], [10, 10], [10, 0], [0, 10])","intersect([1, 0, 1],  [4, -2, 2], [1, 1, 1, 6])"],seealso:[]},andDocs={name:"and",category:"Logical",syntax:["x and y","and(x, y)"],description:"Logical and. Test whether two values are both defined with a nonzero/nonempty value.",examples:["true and false","true and true","2 and 4"],seealso:["not","or","xor"]},notDocs={name:"not",category:"Logical",syntax:["not x","not(x)"],description:"Logical not. Flips the boolean value of given argument.",examples:["not true","not false","not 2","not 0"],seealso:["and","or","xor"]},orDocs={name:"or",category:"Logical",syntax:["x or y","or(x, y)"],description:"Logical or. Test if at least one value is defined with a nonzero/nonempty value.",examples:["true or false","false or false","0 or 4"],seealso:["not","and","xor"]},xorDocs={name:"xor",category:"Logical",syntax:["x xor y","xor(x, y)"],description:"Logical exclusive or, xor. Test whether one and only one value is defined with a nonzero/nonempty value.",examples:["true xor false","false xor false","true xor true","0 xor 4"],seealso:["not","and","or"]},columnDocs={name:"column",category:"Matrix",syntax:["column(x, index)"],description:"Return a column from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","column(A, 1)","column(A, 2)"],seealso:["row","matrixFromColumns"]},concatDocs={name:"concat",category:"Matrix",syntax:["concat(A, B, C, ...)","concat(A, B, C, ..., dim)"],description:"Concatenate matrices. By default, the matrices are concatenated by the last dimension. The dimension on which to concatenate can be provided as last argument.",examples:["A = [1, 2; 5, 6]","B = [3, 4; 7, 8]","concat(A, B)","concat(A, B, 1)","concat(A, B, 2)"],seealso:["det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},countDocs={name:"count",category:"Matrix",syntax:["count(x)"],description:"Count the number of elements of a matrix, array or string.",examples:["a = [1, 2; 3, 4; 5, 6]","count(a)","size(a)",'count("hello world")'],seealso:["size"]},crossDocs={name:"cross",category:"Matrix",syntax:["cross(A, B)"],description:"Calculate the cross product for two vectors in three dimensional space.",examples:["cross([1, 1, 0],  [0, 1, 1])","cross([3, -3, 1], [4, 9, 2])","cross([2, 3, 4],  [5, 6, 7])"],seealso:["multiply","dot"]},ctransposeDocs={name:"ctranspose",category:"Matrix",syntax:["x'","ctranspose(x)"],description:"Complex Conjugate and Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","ctranspose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]},detDocs={name:"det",category:"Matrix",syntax:["det(x)"],description:"Calculate the determinant of a matrix",examples:["det([1, 2; 3, 4])","det([-2, 2, 3; -1, 1, 3; 2, 0, -1])"],seealso:["concat","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},diagDocs={name:"diag",category:"Matrix",syntax:["diag(x)","diag(x, k)"],description:"Create a diagonal matrix or retrieve the diagonal of a matrix. When x is a vector, a matrix with the vector values on the diagonal will be returned. When x is a matrix, a vector with the diagonal values of the matrix is returned. When k is provided, the k-th diagonal will be filled in or retrieved, if k is positive, the values are placed on the super diagonal. When k is negative, the values are placed on the sub diagonal.",examples:["diag(1:3)","diag(1:3, 1)","a = [1, 2, 3; 4, 5, 6; 7, 8, 9]","diag(a)"],seealso:["concat","det","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},diffDocs={name:"diff",category:"Matrix",syntax:["diff(arr)","diff(arr, dim)"],description:["Create a new matrix or array with the difference of the passed matrix or array.","Dim parameter is optional and used to indicant the dimension of the array/matrix to apply the difference","If no dimension parameter is passed it is assumed as dimension 0","Dimension is zero-based in javascript and one-based in the parser","Arrays must be 'rectangular' meaning arrays like [1, 2]","If something is passed as a matrix it will be returned as a matrix but other than that all matrices are converted to arrays"],examples:["diff([1, 2, 4, 7, 0])","diff([1, 2, 4, 7, 0], 0)","diff(matrix([1, 2, 4, 7, 0]))","diff([[1, 2], [3, 4]])","diff([[1, 2], [3, 4]], 0)","diff([[1, 2], [3, 4]], 1)","diff([[1, 2], [3, 4]], bignumber(1))","diff(matrix([[1, 2], [3, 4]]), 1)","diff([[1, 2], matrix([3, 4])], 1)"],seealso:["subtract","partitionSelect"]},dotDocs={name:"dot",category:"Matrix",syntax:["dot(A, B)","A * B"],description:"Calculate the dot product of two vectors. The dot product of A = [a1, a2, a3, ..., an] and B = [b1, b2, b3, ..., bn] is defined as dot(A, B) = a1 * b1 + a2 * b2 + a3 * b3 + ... + an * bn",examples:["dot([2, 4, 1], [2, 2, 3])","[2, 4, 1] * [2, 2, 3]"],seealso:["multiply","cross"]},eigsDocs={name:"eigs",category:"Matrix",syntax:["eigs(x)"],description:"Calculate the eigenvalues and eigenvectors of a real symmetric matrix",examples:["eigs([[5, 2.3], [2.3, 1]])"],seealso:["inv"]},filterDocs={name:"filter",category:"Matrix",syntax:["filter(x, test)"],description:"Filter items in a matrix.",examples:["isPositive(x) = x > 0","filter([6, -2, -1, 4, 3], isPositive)","filter([6, -2, 0, 1, 0], x != 0)"],seealso:["sort","map","forEach"]},flattenDocs={name:"flatten",category:"Matrix",syntax:["flatten(x)"],description:"Flatten a multi dimensional matrix into a single dimensional matrix.",examples:["a = [1, 2, 3; 4, 5, 6]","size(a)","b = flatten(a)","size(b)"],seealso:["concat","resize","size","squeeze"]},forEachDocs={name:"forEach",category:"Matrix",syntax:["forEach(x, callback)"],description:"Iterates over all elements of a matrix/array, and executes the given callback function.",examples:["numberOfPets = {}","addPet(n) = numberOfPets[n] = (numberOfPets[n] ? numberOfPets[n]:0 ) + 1;",'forEach(["Dog","Cat","Cat"], addPet)',"numberOfPets"],seealso:["map","sort","filter"]},getMatrixDataTypeDocs={name:"getMatrixDataType",category:"Matrix",syntax:["getMatrixDataType(x)"],description:'Find the data type of all elements in a matrix or array, for example "number" if all items are a number and "Complex" if all values are complex numbers. If a matrix contains more than one data type, it will return "mixed".',examples:["getMatrixDataType([1, 2, 3])","getMatrixDataType([[5 cm], [2 inch]])",'getMatrixDataType([1, "text"])',"getMatrixDataType([1, bignumber(4)])"],seealso:["matrix","sparse","typeOf"]},identityDocs={name:"identity",category:"Matrix",syntax:["identity(n)","identity(m, n)","identity([m, n])"],description:"Returns the identity matrix with size m-by-n. The matrix has ones on the diagonal and zeros elsewhere.",examples:["identity(3)","identity(3, 5)","a = [1, 2, 3; 4, 5, 6]","identity(size(a))"],seealso:["concat","det","diag","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},invDocs={name:"inv",category:"Matrix",syntax:["inv(x)"],description:"Calculate the inverse of a matrix",examples:["inv([1, 2; 3, 4])","inv(4)","1 / 4"],seealso:["concat","det","diag","identity","ones","range","size","squeeze","subset","trace","transpose","zeros"]},pinvDocs={name:"pinv",category:"Matrix",syntax:["pinv(x)"],description:"Calculate the MoorePenrose inverse of a matrix",examples:["pinv([1, 2; 3, 4])","pinv([[1, 0], [0, 1], [0, 1]])","pinv(4)"],seealso:["inv"]},kronDocs={name:"kron",category:"Matrix",syntax:["kron(x, y)"],description:"Calculates the kronecker product of 2 matrices or vectors.",examples:["kron([[1, 0], [0, 1]], [[1, 2], [3, 4]])","kron([1,1], [2,3,4])"],seealso:["multiply","dot","cross"]},mapDocs={name:"map",category:"Matrix",syntax:["map(x, callback)"],description:"Create a new matrix or array with the results of the callback function executed on each entry of the matrix/array.",examples:["map([1, 2, 3], square)"],seealso:["filter","forEach"]},matrixFromColumnsDocs={name:"matrixFromColumns",category:"Matrix",syntax:["matrixFromColumns(...arr)","matrixFromColumns(row1, row2)","matrixFromColumns(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual columns.",examples:["matrixFromColumns([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromRows","matrixFromFunction","zeros"]},matrixFromFunctionDocs={name:"matrixFromFunction",category:"Matrix",syntax:["matrixFromFunction(size, fn)","matrixFromFunction(size, fn, format)","matrixFromFunction(size, fn, format, datatype)","matrixFromFunction(size, format, fn)","matrixFromFunction(size, format, datatype, fn)"],description:"Create a matrix by evaluating a generating function at each index.",examples:["f(I) = I[1] - I[2]","matrixFromFunction([3,3], f)","g(I) = I[1] - I[2] == 1 ? 4 : 0",'matrixFromFunction([100, 100], "sparse", g)',"matrixFromFunction([5], random)"],seealso:["matrix","matrixFromRows","matrixFromColumns","zeros"]},matrixFromRowsDocs={name:"matrixFromRows",category:"Matrix",syntax:["matrixFromRows(...arr)","matrixFromRows(row1, row2)","matrixFromRows(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual rows.",examples:["matrixFromRows([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromColumns","matrixFromFunction","zeros"]},onesDocs={name:"ones",category:"Matrix",syntax:["ones(m)","ones(m, n)","ones(m, n, p, ...)","ones([m])","ones([m, n])","ones([m, n, p, ...])"],description:"Create a matrix containing ones.",examples:["ones(3)","ones(3, 5)","ones([2,3]) * 4.5","a = [1, 2, 3; 4, 5, 6]","ones(size(a))"],seealso:["concat","det","diag","identity","inv","range","size","squeeze","subset","trace","transpose","zeros"]},partitionSelectDocs={name:"partitionSelect",category:"Matrix",syntax:["partitionSelect(x, k)","partitionSelect(x, k, compare)"],description:"Partition-based selection of an array or 1D matrix. Will find the kth smallest value, and mutates the input array. Uses Quickselect.",examples:["partitionSelect([5, 10, 1], 2)",'partitionSelect(["C", "B", "A", "D"], 1, compareText)',"arr = [5, 2, 1]","partitionSelect(arr, 0) # returns 1, arr is now: [1, 2, 5]","arr","partitionSelect(arr, 1, 'desc') # returns 2, arr is now: [5, 2, 1]","arr"],seealso:["sort"]},rangeDocs={name:"range",category:"Type",syntax:["start:end","start:step:end","range(start, end)","range(start, end, step)","range(string)"],description:"Create a range. Lower bound of the range is included, upper bound is excluded.",examples:["1:5","3:-1:-3","range(3, 7)","range(0, 12, 2)",'range("4:10")',"a = [1, 2, 3, 4; 5, 6, 7, 8]","a[1:2, 1:2]"],seealso:["concat","det","diag","identity","inv","ones","size","squeeze","subset","trace","transpose","zeros"]},reshapeDocs={name:"reshape",category:"Matrix",syntax:["reshape(x, sizes)"],description:"Reshape a multi dimensional array to fit the specified dimensions.",examples:["reshape([1, 2, 3, 4, 5, 6], [2, 3])","reshape([[1, 2], [3, 4]], [1, 4])","reshape([[1, 2], [3, 4]], [4])","reshape([1, 2, 3, 4], [-1, 2])"],seealso:["size","squeeze","resize"]},resizeDocs={name:"resize",category:"Matrix",syntax:["resize(x, size)","resize(x, size, defaultValue)"],description:"Resize a matrix.",examples:["resize([1,2,3,4,5], [3])","resize([1,2,3], [5])","resize([1,2,3], [5], -1)","resize(2, [2, 3])",'resize("hello", [8], "!")'],seealso:["size","subset","squeeze","reshape"]},rotateDocs={name:"rotate",category:"Matrix",syntax:["rotate(w, theta)","rotate(w, theta, v)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotate([1, 0], pi / 2)",'rotate(matrix([1, 0]), unit("35deg"))','rotate([1, 0, 0], unit("90deg"), [0, 0, 1])','rotate(matrix([1, 0, 0]), unit("90deg"), matrix([0, 0, 1]))'],seealso:["matrix","rotationMatrix"]},rotationMatrixDocs={name:"rotationMatrix",category:"Matrix",syntax:["rotationMatrix(theta)","rotationMatrix(theta, v)","rotationMatrix(theta, v, format)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotationMatrix(pi / 2)",'rotationMatrix(unit("45deg"), [0, 0, 1])','rotationMatrix(1, matrix([0, 0, 1]), "sparse")'],seealso:["cos","sin"]},rowDocs={name:"row",category:"Matrix",syntax:["row(x, index)"],description:"Return a row from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","row(A, 1)","row(A, 2)"],seealso:["column","matrixFromRows"]},sizeDocs={name:"size",category:"Matrix",syntax:["size(x)"],description:"Calculate the size of a matrix.",examples:["size(2.3)",'size("hello world")',"a = [1, 2; 3, 4; 5, 6]","size(a)","size(1:6)"],seealso:["concat","count","det","diag","identity","inv","ones","range","squeeze","subset","trace","transpose","zeros"]},sortDocs={name:"sort",category:"Matrix",syntax:["sort(x)","sort(x, compare)"],description:'Sort the items in a matrix. Compare can be a string "asc", "desc", "natural", or a custom sort function.',examples:["sort([5, 10, 1])",'sort(["C", "B", "A", "D"], "natural")',"sortByLength(a, b) = size(a)[1] - size(b)[1]",'sort(["Langdon", "Tom", "Sara"], sortByLength)','sort(["10", "1", "2"], "natural")'],seealso:["map","filter","forEach"]},squeezeDocs={name:"squeeze",category:"Matrix",syntax:["squeeze(x)"],description:"Remove inner and outer singleton dimensions from a matrix.",examples:["a = zeros(3,2,1)","size(squeeze(a))","b = zeros(1,1,3)","size(squeeze(b))"],seealso:["concat","det","diag","identity","inv","ones","range","size","subset","trace","transpose","zeros"]},subsetDocs={name:"subset",category:"Matrix",syntax:["value(index)","value(index) = replacement","subset(value, [index])","subset(value, [index], replacement)"],description:"Get or set a subset of the entries of a matrix or characters of a string. Indexes are one-based. There should be one index specification for each dimension of the target. Each specification can be a single index, a list of indices, or a range in colon notation `l:u`. In a range, both the lower bound l and upper bound u are included; and if a bound is omitted it defaults to the most extreme valid value. The cartesian product of the indices specified in each dimension determines the target of the operation.",examples:["d = [1, 2; 3, 4]","e = []","e[1, 1:2] = [5, 6]","e[2, :] = [7, 8]","f = d * e","f[2, 1]","f[:, 1]","f[[1,2], [1,3]] = [9, 10; 11, 12]","f"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","trace","transpose","zeros"]},traceDocs={name:"trace",category:"Matrix",syntax:["trace(A)"],description:"Calculate the trace of a matrix: the sum of the elements on the main diagonal of a square matrix.",examples:["A = [1, 2, 3; -1, 2, 3; 2, 0, 3]","trace(A)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","transpose","zeros"]},transposeDocs={name:"transpose",category:"Matrix",syntax:["x'","transpose(x)"],description:"Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","transpose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]},zerosDocs={name:"zeros",category:"Matrix",syntax:["zeros(m)","zeros(m, n)","zeros(m, n, p, ...)","zeros([m])","zeros([m, n])","zeros([m, n, p, ...])"],description:"Create a matrix containing zeros.",examples:["zeros(3)","zeros(3, 5)","a = [1, 2, 3; 4, 5, 6]","zeros(size(a))"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose"]},fftDocs={name:"fft",category:"Matrix",syntax:["fft(x)"],description:"Calculate N-dimensional fourier transform",examples:["fft([[1, 0], [1, 0]])"],seealso:["ifft"]},ifftDocs={name:"ifft",category:"Matrix",syntax:["ifft(x)"],description:"Calculate N-dimensional inverse fourier transform",examples:["ifft([[2, 2], [0, 0]])"],seealso:["fft"]},combinationsDocs={name:"combinations",category:"Probability",syntax:["combinations(n, k)"],description:"Compute the number of combinations of n items taken k at a time",examples:["combinations(7, 5)"],seealso:["combinationsWithRep","permutations","factorial"]},combinationsWithRepDocs={name:"combinationsWithRep",category:"Probability",syntax:["combinationsWithRep(n, k)"],description:"Compute the number of combinations of n items taken k at a time with replacements.",examples:["combinationsWithRep(7, 5)"],seealso:["combinations","permutations","factorial"]},factorialDocs={name:"factorial",category:"Probability",syntax:["n!","factorial(n)"],description:"Compute the factorial of a value",examples:["5!","5 * 4 * 3 * 2 * 1","3!"],seealso:["combinations","combinationsWithRep","permutations","gamma"]},gammaDocs={name:"gamma",category:"Probability",syntax:["gamma(n)"],description:"Compute the gamma function. For small values, the Lanczos approximation is used, and for large values the extended Stirling approximation.",examples:["gamma(4)","3!","gamma(1/2)","sqrt(pi)"],seealso:["factorial"]},lgammaDocs={name:"lgamma",category:"Probability",syntax:["lgamma(n)"],description:"Logarithm of the gamma function for real, positive numbers and complex numbers, using Lanczos approximation for numbers and Stirling series for complex numbers.",examples:["lgamma(4)","lgamma(1/2)","lgamma(i)","lgamma(complex(1.1, 2))"],seealso:["gamma"]},kldivergenceDocs={name:"kldivergence",category:"Probability",syntax:["kldivergence(x, y)"],description:"Calculate the Kullback-Leibler (KL) divergence  between two distributions.",examples:["kldivergence([0.7,0.5,0.4], [0.2,0.9,0.5])"],seealso:[]},multinomialDocs={name:"multinomial",category:"Probability",syntax:["multinomial(A)"],description:"Multinomial Coefficients compute the number of ways of picking a1, a2, ..., ai unordered outcomes from `n` possibilities. multinomial takes one array of integers as an argument. The following condition must be enforced: every ai > 0.",examples:["multinomial([1, 2, 1])"],seealso:["combinations","factorial"]},permutationsDocs={name:"permutations",category:"Probability",syntax:["permutations(n)","permutations(n, k)"],description:"Compute the number of permutations of n items taken k at a time",examples:["permutations(5)","permutations(5, 3)"],seealso:["combinations","combinationsWithRep","factorial"]},pickRandomDocs={name:"pickRandom",category:"Probability",syntax:["pickRandom(array)","pickRandom(array, number)","pickRandom(array, weights)","pickRandom(array, number, weights)","pickRandom(array, weights, number)"],description:"Pick a random entry from a given array.",examples:["pickRandom(0:10)","pickRandom([1, 3, 1, 6])","pickRandom([1, 3, 1, 6], 2)","pickRandom([1, 3, 1, 6], [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], 2, [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], [2, 3, 2, 1], 2)"],seealso:["random","randomInt"]},randomDocs={name:"random",category:"Probability",syntax:["random()","random(max)","random(min, max)","random(size)","random(size, max)","random(size, min, max)"],description:"Return a random number.",examples:["random()","random(10, 20)","random([2, 3])"],seealso:["pickRandom","randomInt"]},randomIntDocs={name:"randomInt",category:"Probability",syntax:["randomInt(max)","randomInt(min, max)","randomInt(size)","randomInt(size, max)","randomInt(size, min, max)"],description:"Return a random integer number",examples:["randomInt(10, 20)","randomInt([2, 3], 10)"],seealso:["pickRandom","random"]},compareDocs={name:"compare",category:"Relational",syntax:["compare(x, y)"],description:"Compare two values. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compare(2, 3)","compare(3, 2)","compare(2, 2)","compare(5cm, 40mm)","compare(2, [1, 2, 3])"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compareNatural","compareText"]},compareNaturalDocs={name:"compareNatural",category:"Relational",syntax:["compareNatural(x, y)"],description:"Compare two values of any type in a deterministic, natural way. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compareNatural(2, 3)","compareNatural(3, 2)","compareNatural(2, 2)","compareNatural(5cm, 40mm)",'compareNatural("2", "10")',"compareNatural(2 + 3i, 2 + 4i)","compareNatural([1, 2, 4], [1, 2, 3])","compareNatural([1, 5], [1, 2, 3])","compareNatural([1, 2], [1, 2])","compareNatural({a: 2}, {a: 4})"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare","compareText"]},compareTextDocs={name:"compareText",category:"Relational",syntax:["compareText(x, y)"],description:"Compare two strings lexically. Comparison is case sensitive. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:['compareText("B", "A")','compareText("A", "B")','compareText("A", "A")','compareText("2", "10")','compare("2", "10")',"compare(2, 10)",'compareNatural("2", "10")','compareText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural"]},deepEqualDocs={name:"deepEqual",category:"Relational",syntax:["deepEqual(x, y)"],description:"Check equality of two matrices element wise. Returns true if the size of both matrices is equal and when and each of the elements are equal.",examples:["deepEqual([1,3,4], [1,3,4])","deepEqual([1,3,4], [1,3])"],seealso:["equal","unequal","smaller","larger","smallerEq","largerEq","compare"]},equalDocs={name:"equal",category:"Relational",syntax:["x == y","equal(x, y)"],description:"Check equality of two values. Returns true if the values are equal, and false if not.",examples:["2+2 == 3","2+2 == 4","a = 3.2","b = 6-2.8","a == b","50cm == 0.5m"],seealso:["unequal","smaller","larger","smallerEq","largerEq","compare","deepEqual","equalText"]},equalTextDocs={name:"equalText",category:"Relational",syntax:["equalText(x, y)"],description:"Check equality of two strings. Comparison is case sensitive. Returns true if the values are equal, and false if not.",examples:['equalText("Hello", "Hello")','equalText("a", "A")','equal("2e3", "2000")','equalText("2e3", "2000")','equalText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural","compareText","equal"]},largerDocs={name:"larger",category:"Relational",syntax:["x > y","larger(x, y)"],description:"Check if value x is larger than y. Returns true if x is larger than y, and false if not.",examples:["2 > 3","5 > 2*2","a = 3.3","b = 6-2.8","(a > b)","(b < a)","5 cm > 2 inch"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare"]},largerEqDocs={name:"largerEq",category:"Relational",syntax:["x >= y","largerEq(x, y)"],description:"Check if value x is larger or equal to y. Returns true if x is larger or equal to y, and false if not.",examples:["2 >= 1+1","2 > 1+1","a = 3.2","b = 6-2.8","(a >= b)"],seealso:["equal","unequal","smallerEq","smaller","compare"]},smallerDocs={name:"smaller",category:"Relational",syntax:["x < y","smaller(x, y)"],description:"Check if value x is smaller than value y. Returns true if x is smaller than y, and false if not.",examples:["2 < 3","5 < 2*2","a = 3.3","b = 6-2.8","(a < b)","5 cm < 2 inch"],seealso:["equal","unequal","larger","smallerEq","largerEq","compare"]},smallerEqDocs={name:"smallerEq",category:"Relational",syntax:["x <= y","smallerEq(x, y)"],description:"Check if value x is smaller or equal to value y. Returns true if x is smaller than y, and false if not.",examples:["2 <= 1+1","2 < 1+1","a = 3.2","b = 6-2.8","(a <= b)"],seealso:["equal","unequal","larger","smaller","largerEq","compare"]},unequalDocs={name:"unequal",category:"Relational",syntax:["x != y","unequal(x, y)"],description:"Check unequality of two values. Returns true if the values are unequal, and false if they are equal.",examples:["2+2 != 3","2+2 != 4","a = 3.2","b = 6-2.8","a != b","50cm != 0.5m","5 cm != 2 inch"],seealso:["equal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]},setCartesianDocs={name:"setCartesian",category:"Set",syntax:["setCartesian(set1, set2)"],description:"Create the cartesian product of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays and the values will be sorted in ascending order before the operation.",examples:["setCartesian([1, 2], [3, 4])"],seealso:["setUnion","setIntersect","setDifference","setPowerset"]},setDifferenceDocs={name:"setDifference",category:"Set",syntax:["setDifference(set1, set2)"],description:"Create the difference of two (multi)sets: every element of set1, that is not the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setDifference([1, 2, 3, 4], [3, 4, 5, 6])","setDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setSymDifference"]},setDistinctDocs={name:"setDistinct",category:"Set",syntax:["setDistinct(set)"],description:"Collect the distinct elements of a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setDistinct([1, 1, 1, 2, 2, 3])"],seealso:["setMultiplicity"]},setIntersectDocs={name:"setIntersect",category:"Set",syntax:["setIntersect(set1, set2)"],description:"Create the intersection of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIntersect([1, 2, 3, 4], [3, 4, 5, 6])","setIntersect([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setDifference"]},setIsSubsetDocs={name:"setIsSubset",category:"Set",syntax:["setIsSubset(set1, set2)"],description:"Check whether a (multi)set is a subset of another (multi)set: every element of set1 is the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIsSubset([1, 2], [3, 4, 5, 6])","setIsSubset([3, 4], [3, 4, 5, 6])"],seealso:["setUnion","setIntersect","setDifference"]},setMultiplicityDocs={name:"setMultiplicity",category:"Set",syntax:["setMultiplicity(element, set)"],description:"Count the multiplicity of an element in a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setMultiplicity(1, [1, 2, 2, 4])","setMultiplicity(2, [1, 2, 2, 4])"],seealso:["setDistinct","setSize"]},setPowersetDocs={name:"setPowerset",category:"Set",syntax:["setPowerset(set)"],description:"Create the powerset of a (multi)set: the powerset contains very possible subsets of a (multi)set. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setPowerset([1, 2, 3])"],seealso:["setCartesian"]},setSizeDocs={name:"setSize",category:"Set",syntax:["setSize(set)","setSize(set, unique)"],description:'Count the number of elements of a (multi)set. When the second parameter "unique" is true, count only the unique values. A multi-dimension array will be converted to a single-dimension array before the operation.',examples:["setSize([1, 2, 2, 4])","setSize([1, 2, 2, 4], true)"],seealso:["setUnion","setIntersect","setDifference"]},setSymDifferenceDocs={name:"setSymDifference",category:"Set",syntax:["setSymDifference(set1, set2)"],description:"Create the symmetric difference of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setSymDifference([1, 2, 3, 4], [3, 4, 5, 6])","setSymDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setDifference"]},setUnionDocs={name:"setUnion",category:"Set",syntax:["setUnion(set1, set2)"],description:"Create the union of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setUnion([1, 2, 3, 4], [3, 4, 5, 6])","setUnion([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setIntersect","setDifference"]},erfDocs={name:"erf",category:"Special",syntax:["erf(x)"],description:"Compute the erf function of a value using a rational Chebyshev approximations for different intervals of x",examples:["erf(0.2)","erf(-0.5)","erf(4)"],seealso:[]},madDocs={name:"mad",category:"Statistics",syntax:["mad(a, b, c, ...)","mad(A)"],description:"Compute the median absolute deviation of a matrix or a list with values. The median absolute deviation is defined as the median of the absolute deviations from the median.",examples:["mad(10, 20, 30)","mad([1, 2, 3])"],seealso:["mean","median","std","abs"]},maxDocs={name:"max",category:"Statistics",syntax:["max(a, b, c, ...)","max(A)","max(A, dimension)"],description:"Compute the maximum value of a list of values.",examples:["max(2, 3, 4, 1)","max([2, 3, 4, 1])","max([2, 5; 4, 3])","max([2, 5; 4, 3], 1)","max([2, 5; 4, 3], 2)","max(2.7, 7.1, -4.5, 2.0, 4.1)","min(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["mean","median","min","prod","std","sum","variance"]},meanDocs={name:"mean",category:"Statistics",syntax:["mean(a, b, c, ...)","mean(A)","mean(A, dimension)"],description:"Compute the arithmetic mean of a list of values.",examples:["mean(2, 3, 4, 1)","mean([2, 3, 4, 1])","mean([2, 5; 4, 3])","mean([2, 5; 4, 3], 1)","mean([2, 5; 4, 3], 2)","mean([1.0, 2.7, 3.2, 4.0])"],seealso:["max","median","min","prod","std","sum","variance"]},medianDocs={name:"median",category:"Statistics",syntax:["median(a, b, c, ...)","median(A)"],description:"Compute the median of all values. The values are sorted and the middle value is returned. In case of an even number of values, the average of the two middle values is returned.",examples:["median(5, 2, 7)","median([3, -1, 5, 7])"],seealso:["max","mean","min","prod","std","sum","variance","quantileSeq"]},minDocs={name:"min",category:"Statistics",syntax:["min(a, b, c, ...)","min(A)","min(A, dimension)"],description:"Compute the minimum value of a list of values.",examples:["min(2, 3, 4, 1)","min([2, 3, 4, 1])","min([2, 5; 4, 3])","min([2, 5; 4, 3], 1)","min([2, 5; 4, 3], 2)","min(2.7, 7.1, -4.5, 2.0, 4.1)","max(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["max","mean","median","prod","std","sum","variance"]},modeDocs={name:"mode",category:"Statistics",syntax:["mode(a, b, c, ...)","mode(A)","mode(A, a, b, B, c, ...)"],description:"Computes the mode of all values as an array. In case mode being more than one, multiple values are returned in an array.",examples:["mode(2, 1, 4, 3, 1)","mode([1, 2.7, 3.2, 4, 2.7])","mode(1, 4, 6, 1, 6)"],seealso:["max","mean","min","median","prod","std","sum","variance"]},prodDocs={name:"prod",category:"Statistics",syntax:["prod(a, b, c, ...)","prod(A)"],description:"Compute the product of all values.",examples:["prod(2, 3, 4)","prod([2, 3, 4])","prod([2, 5; 4, 3])"],seealso:["max","mean","min","median","min","std","sum","variance"]},quantileSeqDocs={name:"quantileSeq",category:"Statistics",syntax:["quantileSeq(A, prob[, sorted])","quantileSeq(A, [prob1, prob2, ...][, sorted])","quantileSeq(A, N[, sorted])"],description:`Compute the prob order quantile of a matrix or a list with values. The sequence is sorted and the middle value is returned. Supported types of sequence values are: Number, BigNumber, Unit Supported types of probablity are: Number, BigNumber. 

In case of a (multi dimensional) array or matrix, the prob order quantile of all elements will be calculated.`,examples:["quantileSeq([3, -1, 5, 7], 0.5)","quantileSeq([3, -1, 5, 7], [1/3, 2/3])","quantileSeq([3, -1, 5, 7], 2)","quantileSeq([-1, 3, 5, 7], 0.5, true)"],seealso:["mean","median","min","max","prod","std","sum","variance"]},stdDocs={name:"std",category:"Statistics",syntax:["std(a, b, c, ...)","std(A)","std(A, dimension)","std(A, normalization)","std(A, dimension, normalization)"],description:'Compute the standard deviation of all values, defined as std(A) = sqrt(variance(A)). Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["std(2, 4, 6)","std([2, 4, 6, 8])",'std([2, 4, 6, 8], "uncorrected")','std([2, 4, 6, 8], "biased")',"std([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","prod","sum","variance"]},cumSumDocs={name:"cumsum",category:"Statistics",syntax:["cumsum(a, b, c, ...)","cumsum(A)"],description:"Compute the cumulative sum of all values.",examples:["cumsum(2, 3, 4, 1)","cumsum([2, 3, 4, 1])","cumsum([1, 2; 3, 4])","cumsum([1, 2; 3, 4], 1)","cumsum([1, 2; 3, 4], 2)"],seealso:["max","mean","median","min","prod","std","sum","variance"]},sumDocs={name:"sum",category:"Statistics",syntax:["sum(a, b, c, ...)","sum(A)","sum(A, dimension)"],description:"Compute the sum of all values.",examples:["sum(2, 3, 4, 1)","sum([2, 3, 4, 1])","sum([2, 5; 4, 3])"],seealso:["max","mean","median","min","prod","std","sum","variance"]},varianceDocs={name:"variance",category:"Statistics",syntax:["variance(a, b, c, ...)","variance(A)","variance(A, dimension)","variance(A, normalization)","variance(A, dimension, normalization)"],description:'Compute the variance of all values. Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["variance(2, 4, 6)","variance([2, 4, 6, 8])",'variance([2, 4, 6, 8], "uncorrected")','variance([2, 4, 6, 8], "biased")',"variance([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","std","sum"]},acosDocs={name:"acos",category:"Trigonometry",syntax:["acos(x)"],description:"Compute the inverse cosine of a value in radians.",examples:["acos(0.5)","acos(cos(2.3))"],seealso:["cos","atan","asin"]},acoshDocs={name:"acosh",category:"Trigonometry",syntax:["acosh(x)"],description:"Calculate the hyperbolic arccos of a value, defined as `acosh(x) = ln(sqrt(x^2 - 1) + x)`.",examples:["acosh(1.5)"],seealso:["cosh","asinh","atanh"]},acotDocs={name:"acot",category:"Trigonometry",syntax:["acot(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acot(0.5)","acot(cot(0.5))","acot(2)"],seealso:["cot","atan"]},acothDocs={name:"acoth",category:"Trigonometry",syntax:["acoth(x)"],description:"Calculate the hyperbolic arccotangent of a value, defined as `acoth(x) = (ln((x+1)/x) + ln(x/(x-1))) / 2`.",examples:["acoth(2)","acoth(0.5)"],seealso:["acsch","asech"]},acscDocs={name:"acsc",category:"Trigonometry",syntax:["acsc(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acsc(2)","acsc(csc(0.5))","acsc(0.5)"],seealso:["csc","asin","asec"]},acschDocs={name:"acsch",category:"Trigonometry",syntax:["acsch(x)"],description:"Calculate the hyperbolic arccosecant of a value, defined as `acsch(x) = ln(1/x + sqrt(1/x^2 + 1))`.",examples:["acsch(0.5)"],seealso:["asech","acoth"]},asecDocs={name:"asec",category:"Trigonometry",syntax:["asec(x)"],description:"Calculate the inverse secant of a value.",examples:["asec(0.5)","asec(sec(0.5))","asec(2)"],seealso:["acos","acot","acsc"]},asechDocs={name:"asech",category:"Trigonometry",syntax:["asech(x)"],description:"Calculate the inverse secant of a value.",examples:["asech(0.5)"],seealso:["acsch","acoth"]},asinDocs={name:"asin",category:"Trigonometry",syntax:["asin(x)"],description:"Compute the inverse sine of a value in radians.",examples:["asin(0.5)","asin(sin(0.5))"],seealso:["sin","acos","atan"]},asinhDocs={name:"asinh",category:"Trigonometry",syntax:["asinh(x)"],description:"Calculate the hyperbolic arcsine of a value, defined as `asinh(x) = ln(x + sqrt(x^2 + 1))`.",examples:["asinh(0.5)"],seealso:["acosh","atanh"]},atanDocs={name:"atan",category:"Trigonometry",syntax:["atan(x)"],description:"Compute the inverse tangent of a value in radians.",examples:["atan(0.5)","atan(tan(0.5))"],seealso:["tan","acos","asin"]},atan2Docs={name:"atan2",category:"Trigonometry",syntax:["atan2(y, x)"],description:"Computes the principal value of the arc tangent of y/x in radians.",examples:["atan2(2, 2) / pi","angle = 60 deg in rad","x = cos(angle)","y = sin(angle)","atan2(y, x)"],seealso:["sin","cos","tan"]},atanhDocs={name:"atanh",category:"Trigonometry",syntax:["atanh(x)"],description:"Calculate the hyperbolic arctangent of a value, defined as `atanh(x) = ln((1 + x)/(1 - x)) / 2`.",examples:["atanh(0.5)"],seealso:["acosh","asinh"]},cosDocs={name:"cos",category:"Trigonometry",syntax:["cos(x)"],description:"Compute the cosine of x in radians.",examples:["cos(2)","cos(pi / 4) ^ 2","cos(180 deg)","cos(60 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["acos","sin","tan"]},coshDocs={name:"cosh",category:"Trigonometry",syntax:["cosh(x)"],description:"Compute the hyperbolic cosine of x in radians.",examples:["cosh(0.5)"],seealso:["sinh","tanh","coth"]},cotDocs={name:"cot",category:"Trigonometry",syntax:["cot(x)"],description:"Compute the cotangent of x in radians. Defined as 1/tan(x)",examples:["cot(2)","1 / tan(2)"],seealso:["sec","csc","tan"]},cothDocs={name:"coth",category:"Trigonometry",syntax:["coth(x)"],description:"Compute the hyperbolic cotangent of x in radians.",examples:["coth(2)","1 / tanh(2)"],seealso:["sech","csch","tanh"]},cscDocs={name:"csc",category:"Trigonometry",syntax:["csc(x)"],description:"Compute the cosecant of x in radians. Defined as 1/sin(x)",examples:["csc(2)","1 / sin(2)"],seealso:["sec","cot","sin"]},cschDocs={name:"csch",category:"Trigonometry",syntax:["csch(x)"],description:"Compute the hyperbolic cosecant of x in radians. Defined as 1/sinh(x)",examples:["csch(2)","1 / sinh(2)"],seealso:["sech","coth","sinh"]},secDocs={name:"sec",category:"Trigonometry",syntax:["sec(x)"],description:"Compute the secant of x in radians. Defined as 1/cos(x)",examples:["sec(2)","1 / cos(2)"],seealso:["cot","csc","cos"]},sechDocs={name:"sech",category:"Trigonometry",syntax:["sech(x)"],description:"Compute the hyperbolic secant of x in radians. Defined as 1/cosh(x)",examples:["sech(2)","1 / cosh(2)"],seealso:["coth","csch","cosh"]},sinDocs={name:"sin",category:"Trigonometry",syntax:["sin(x)"],description:"Compute the sine of x in radians.",examples:["sin(2)","sin(pi / 4) ^ 2","sin(90 deg)","sin(30 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["asin","cos","tan"]},sinhDocs={name:"sinh",category:"Trigonometry",syntax:["sinh(x)"],description:"Compute the hyperbolic sine of x in radians.",examples:["sinh(0.5)"],seealso:["cosh","tanh"]},tanDocs={name:"tan",category:"Trigonometry",syntax:["tan(x)"],description:"Compute the tangent of x in radians.",examples:["tan(0.5)","sin(0.5) / cos(0.5)","tan(pi / 4)","tan(45 deg)"],seealso:["atan","sin","cos"]},tanhDocs={name:"tanh",category:"Trigonometry",syntax:["tanh(x)"],description:"Compute the hyperbolic tangent of x in radians.",examples:["tanh(0.5)","sinh(0.5) / cosh(0.5)"],seealso:["sinh","cosh"]},toDocs={name:"to",category:"Units",syntax:["x to unit","to(x, unit)"],description:"Change the unit of a value.",examples:["5 inch to cm","3.2kg to g","16 bytes in bits"],seealso:[]},binDocs={name:"bin",category:"Utils",syntax:["bin(value)"],description:"Format a number as binary",examples:["bin(2)"],seealso:["oct","hex"]},cloneDocs={name:"clone",category:"Utils",syntax:["clone(x)"],description:"Clone a variable. Creates a copy of primitive variables,and a deep copy of matrices",examples:["clone(3.5)","clone(2 - 4i)","clone(45 deg)","clone([1, 2; 3, 4])",'clone("hello world")'],seealso:[]},formatDocs={name:"format",category:"Utils",syntax:["format(value)","format(value, precision)"],description:"Format a value of any type as string.",examples:["format(2.3)","format(3 - 4i)","format([])","format(pi, 3)"],seealso:["print"]},hasNumericValueDocs={name:"hasNumericValue",category:"Utils",syntax:["hasNumericValue(x)"],description:"Test whether a value is an numeric value. In case of a string, true is returned if the string contains a numeric value.",examples:["hasNumericValue(2)",'hasNumericValue("2")','isNumeric("2")',"hasNumericValue(0)","hasNumericValue(bignumber(500))","hasNumericValue(fraction(0.125))","hasNumericValue(2 + 3i)",'hasNumericValue([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","isNumeric"]},hexDocs={name:"hex",category:"Utils",syntax:["hex(value)"],description:"Format a number as hexadecimal",examples:["hex(240)"],seealso:["bin","oct"]},isIntegerDocs={name:"isInteger",category:"Utils",syntax:["isInteger(x)"],description:"Test whether a value is an integer number.",examples:["isInteger(2)","isInteger(3.5)","isInteger([3, 0.5, -2])"],seealso:["isNegative","isNumeric","isPositive","isZero"]},isNaNDocs={name:"isNaN",category:"Utils",syntax:["isNaN(x)"],description:"Test whether a value is NaN (not a number)",examples:["isNaN(2)","isNaN(0 / 0)","isNaN(NaN)","isNaN(Infinity)"],seealso:["isNegative","isNumeric","isPositive","isZero"]},isNegativeDocs={name:"isNegative",category:"Utils",syntax:["isNegative(x)"],description:"Test whether a value is negative: smaller than zero.",examples:["isNegative(2)","isNegative(0)","isNegative(-4)","isNegative([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isPositive","isZero"]},isNumericDocs={name:"isNumeric",category:"Utils",syntax:["isNumeric(x)"],description:"Test whether a value is a numeric value. Returns true when the input is a number, BigNumber, Fraction, or boolean.",examples:["isNumeric(2)",'isNumeric("2")','hasNumericValue("2")',"isNumeric(0)","isNumeric(bignumber(500))","isNumeric(fraction(0.125))","isNumeric(2 + 3i)",'isNumeric([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","hasNumericValue"]},isPositiveDocs={name:"isPositive",category:"Utils",syntax:["isPositive(x)"],description:"Test whether a value is positive: larger than zero.",examples:["isPositive(2)","isPositive(0)","isPositive(-4)","isPositive([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isNegative","isZero"]},isPrimeDocs={name:"isPrime",category:"Utils",syntax:["isPrime(x)"],description:"Test whether a value is prime: has no divisors other than itself and one.",examples:["isPrime(3)","isPrime(-2)","isPrime([2, 17, 100])"],seealso:["isInteger","isNumeric","isNegative","isZero"]},isZeroDocs={name:"isZero",category:"Utils",syntax:["isZero(x)"],description:"Test whether a value is zero.",examples:["isZero(2)","isZero(0)","isZero(-4)","isZero([3, 0, -2, 0])"],seealso:["isInteger","isNumeric","isNegative","isPositive"]},numericDocs={name:"numeric",category:"Utils",syntax:["numeric(x)"],description:"Convert a numeric input to a specific numeric type: number, BigNumber, or Fraction.",examples:['numeric("4")','numeric("4", "number")','numeric("4", "BigNumber")','numeric("4", "Fraction)','numeric(4, "Fraction")','numeric(fraction(2, 5), "number)'],seealso:["number","fraction","bignumber","string","format"]},octDocs={name:"oct",category:"Utils",syntax:["oct(value)"],description:"Format a number as octal",examples:["oct(56)"],seealso:["bin","hex"]},printDocs={name:"print",category:"Utils",syntax:["print(template, values)","print(template, values, precision)"],description:"Interpolate values into a string template.",examples:['print("Lucy is $age years old", {age: 5})','print("The value of pi is $pi", {pi: pi}, 3)','print("Hello, $user.name!", {user: {name: "John"}})','print("Values: $0, $1, $2", [6, 9, 4])'],seealso:["format"]},typeOfDocs={name:"typeOf",category:"Utils",syntax:["typeOf(x)"],description:"Get the type of a variable.",examples:["typeOf(3.5)","typeOf(2 - 4i)","typeOf(45 deg)",'typeOf("hello world")'],seealso:["getMatrixDataType"]},embeddedDocs={bignumber:bignumberDocs,boolean:booleanDocs,complex:complexDocs,createUnit:createUnitDocs,fraction:fractionDocs,index:indexDocs,matrix:matrixDocs,number:numberDocs,sparse:sparseDocs,splitUnit:splitUnitDocs,string:stringDocs,unit:unitDocs,e:eDocs,E:eDocs,false:falseDocs,i:iDocs,Infinity:InfinityDocs,LN2:LN2Docs,LN10:LN10Docs,LOG2E:LOG2EDocs,LOG10E:LOG10EDocs,NaN:NaNDocs,null:nullDocs,pi:piDocs,PI:piDocs,phi:phiDocs,SQRT1_2:SQRT12Docs,SQRT2:SQRT2Docs,tau:tauDocs,true:trueDocs,version:versionDocs,speedOfLight:{description:"Speed of light in vacuum",examples:["speedOfLight"]},gravitationConstant:{description:"Newtonian constant of gravitation",examples:["gravitationConstant"]},planckConstant:{description:"Planck constant",examples:["planckConstant"]},reducedPlanckConstant:{description:"Reduced Planck constant",examples:["reducedPlanckConstant"]},magneticConstant:{description:"Magnetic constant (vacuum permeability)",examples:["magneticConstant"]},electricConstant:{description:"Electric constant (vacuum permeability)",examples:["electricConstant"]},vacuumImpedance:{description:"Characteristic impedance of vacuum",examples:["vacuumImpedance"]},coulomb:{description:"Coulomb's constant",examples:["coulomb"]},elementaryCharge:{description:"Elementary charge",examples:["elementaryCharge"]},bohrMagneton:{description:"Borh magneton",examples:["bohrMagneton"]},conductanceQuantum:{description:"Conductance quantum",examples:["conductanceQuantum"]},inverseConductanceQuantum:{description:"Inverse conductance quantum",examples:["inverseConductanceQuantum"]},magneticFluxQuantum:{description:"Magnetic flux quantum",examples:["magneticFluxQuantum"]},nuclearMagneton:{description:"Nuclear magneton",examples:["nuclearMagneton"]},klitzing:{description:"Von Klitzing constant",examples:["klitzing"]},bohrRadius:{description:"Borh radius",examples:["bohrRadius"]},classicalElectronRadius:{description:"Classical electron radius",examples:["classicalElectronRadius"]},electronMass:{description:"Electron mass",examples:["electronMass"]},fermiCoupling:{description:"Fermi coupling constant",examples:["fermiCoupling"]},fineStructure:{description:"Fine-structure constant",examples:["fineStructure"]},hartreeEnergy:{description:"Hartree energy",examples:["hartreeEnergy"]},protonMass:{description:"Proton mass",examples:["protonMass"]},deuteronMass:{description:"Deuteron Mass",examples:["deuteronMass"]},neutronMass:{description:"Neutron mass",examples:["neutronMass"]},quantumOfCirculation:{description:"Quantum of circulation",examples:["quantumOfCirculation"]},rydberg:{description:"Rydberg constant",examples:["rydberg"]},thomsonCrossSection:{description:"Thomson cross section",examples:["thomsonCrossSection"]},weakMixingAngle:{description:"Weak mixing angle",examples:["weakMixingAngle"]},efimovFactor:{description:"Efimov factor",examples:["efimovFactor"]},atomicMass:{description:"Atomic mass constant",examples:["atomicMass"]},avogadro:{description:"Avogadro's number",examples:["avogadro"]},boltzmann:{description:"Boltzmann constant",examples:["boltzmann"]},faraday:{description:"Faraday constant",examples:["faraday"]},firstRadiation:{description:"First radiation constant",examples:["firstRadiation"]},loschmidt:{description:"Loschmidt constant at T=273.15 K and p=101.325 kPa",examples:["loschmidt"]},gasConstant:{description:"Gas constant",examples:["gasConstant"]},molarPlanckConstant:{description:"Molar Planck constant",examples:["molarPlanckConstant"]},molarVolume:{description:"Molar volume of an ideal gas at T=273.15 K and p=101.325 kPa",examples:["molarVolume"]},sackurTetrode:{description:"Sackur-Tetrode constant at T=1 K and p=101.325 kPa",examples:["sackurTetrode"]},secondRadiation:{description:"Second radiation constant",examples:["secondRadiation"]},stefanBoltzmann:{description:"Stefan-Boltzmann constant",examples:["stefanBoltzmann"]},wienDisplacement:{description:"Wien displacement law constant",examples:["wienDisplacement"]},molarMass:{description:"Molar mass constant",examples:["molarMass"]},molarMassC12:{description:"Molar mass constant of carbon-12",examples:["molarMassC12"]},gravity:{description:"Standard acceleration of gravity (standard acceleration of free-fall on Earth)",examples:["gravity"]},planckLength:{description:"Planck length",examples:["planckLength"]},planckMass:{description:"Planck mass",examples:["planckMass"]},planckTime:{description:"Planck time",examples:["planckTime"]},planckCharge:{description:"Planck charge",examples:["planckCharge"]},planckTemperature:{description:"Planck temperature",examples:["planckTemperature"]},derivative:derivativeDocs,lsolve:lsolveDocs,lsolveAll:lsolveAllDocs,lup:lupDocs,lusolve:lusolveDocs,leafCount:leafCountDocs,polynomialRoot:polynomialRootDocs,resolve:resolveDocs,simplify:simplifyDocs,simplifyConstant:simplifyConstantDocs,simplifyCore:simplifyCoreDocs,symbolicEqual:symbolicEqualDocs,rationalize:rationalizeDocs,slu:sluDocs,usolve:usolveDocs,usolveAll:usolveAllDocs,qr:qrDocs,abs:absDocs,add:addDocs,cbrt:cbrtDocs,ceil:ceilDocs,cube:cubeDocs,divide:divideDocs,dotDivide:dotDivideDocs,dotMultiply:dotMultiplyDocs,dotPow:dotPowDocs,exp:expDocs,expm:expmDocs,expm1:expm1Docs,fix:fixDocs,floor:floorDocs,gcd:gcdDocs,hypot:hypotDocs,lcm:lcmDocs,log:logDocs,log2:log2Docs,log1p:log1pDocs,log10:log10Docs,mod:modDocs,multiply:multiplyDocs,norm:normDocs,nthRoot:nthRootDocs,nthRoots:nthRootsDocs,pow:powDocs,round:roundDocs,sign:signDocs,sqrt:sqrtDocs,sqrtm:sqrtmDocs,square:squareDocs,subtract:subtractDocs,unaryMinus:unaryMinusDocs,unaryPlus:unaryPlusDocs,xgcd:xgcdDocs,invmod:invmodDocs,bitAnd:bitAndDocs,bitNot:bitNotDocs,bitOr:bitOrDocs,bitXor:bitXorDocs,leftShift:leftShiftDocs,rightArithShift:rightArithShiftDocs,rightLogShift:rightLogShiftDocs,bellNumbers:bellNumbersDocs,catalan:catalanDocs,composition:compositionDocs,stirlingS2:stirlingS2Docs,config:configDocs,import:importDocs,typed:typedDocs,arg:argDocs,conj:conjDocs,re:reDocs,im:imDocs,evaluate:evaluateDocs,help:helpDocs,distance:distanceDocs,intersect:intersectDocs,and:andDocs,not:notDocs,or:orDocs,xor:xorDocs,concat:concatDocs,count:countDocs,cross:crossDocs,column:columnDocs,ctranspose:ctransposeDocs,det:detDocs,diag:diagDocs,diff:diffDocs,dot:dotDocs,getMatrixDataType:getMatrixDataTypeDocs,identity:identityDocs,filter:filterDocs,flatten:flattenDocs,forEach:forEachDocs,inv:invDocs,pinv:pinvDocs,eigs:eigsDocs,kron:kronDocs,matrixFromFunction:matrixFromFunctionDocs,matrixFromRows:matrixFromRowsDocs,matrixFromColumns:matrixFromColumnsDocs,map:mapDocs,ones:onesDocs,partitionSelect:partitionSelectDocs,range:rangeDocs,resize:resizeDocs,reshape:reshapeDocs,rotate:rotateDocs,rotationMatrix:rotationMatrixDocs,row:rowDocs,size:sizeDocs,sort:sortDocs,squeeze:squeezeDocs,subset:subsetDocs,trace:traceDocs,transpose:transposeDocs,zeros:zerosDocs,fft:fftDocs,ifft:ifftDocs,sylvester:sylvesterDocs,schur:schurDocs,lyap:lyapDocs,combinations:combinationsDocs,combinationsWithRep:combinationsWithRepDocs,factorial:factorialDocs,gamma:gammaDocs,kldivergence:kldivergenceDocs,lgamma:lgammaDocs,multinomial:multinomialDocs,permutations:permutationsDocs,pickRandom:pickRandomDocs,random:randomDocs,randomInt:randomIntDocs,compare:compareDocs,compareNatural:compareNaturalDocs,compareText:compareTextDocs,deepEqual:deepEqualDocs,equal:equalDocs,equalText:equalTextDocs,larger:largerDocs,largerEq:largerEqDocs,smaller:smallerDocs,smallerEq:smallerEqDocs,unequal:unequalDocs,setCartesian:setCartesianDocs,setDifference:setDifferenceDocs,setDistinct:setDistinctDocs,setIntersect:setIntersectDocs,setIsSubset:setIsSubsetDocs,setMultiplicity:setMultiplicityDocs,setPowerset:setPowersetDocs,setSize:setSizeDocs,setSymDifference:setSymDifferenceDocs,setUnion:setUnionDocs,erf:erfDocs,cumsum:cumSumDocs,mad:madDocs,max:maxDocs,mean:meanDocs,median:medianDocs,min:minDocs,mode:modeDocs,prod:prodDocs,quantileSeq:quantileSeqDocs,std:stdDocs,sum:sumDocs,variance:varianceDocs,acos:acosDocs,acosh:acoshDocs,acot:acotDocs,acoth:acothDocs,acsc:acscDocs,acsch:acschDocs,asec:asecDocs,asech:asechDocs,asin:asinDocs,asinh:asinhDocs,atan:atanDocs,atanh:atanhDocs,atan2:atan2Docs,cos:cosDocs,cosh:coshDocs,cot:cotDocs,coth:cothDocs,csc:cscDocs,csch:cschDocs,sec:secDocs,sech:sechDocs,sin:sinDocs,sinh:sinhDocs,tan:tanDocs,tanh:tanhDocs,to:toDocs,clone:cloneDocs,format:formatDocs,bin:binDocs,oct:octDocs,hex:hexDocs,isNaN:isNaNDocs,isInteger:isIntegerDocs,isNegative:isNegativeDocs,isNumeric:isNumericDocs,hasNumericValue:hasNumericValueDocs,isPositive:isPositiveDocs,isPrime:isPrimeDocs,isZero:isZeroDocs,print:printDocs,typeOf:typeOfDocs,numeric:numericDocs},name$11="help",dependencies$11=["typed","mathWithTransform","Help"],createHelp=factory(name$11,dependencies$11,t=>{var{typed:r,mathWithTransform:s,Help:n}=t;return r(name$11,{any:function(o){var l,u=o;if(typeof o!="string"){for(l in s)if(hasOwnProperty$1(s,l)&&o===s[l]){u=l;break}}var f=getSafeProperty(embeddedDocs,u);if(!f){var c=typeof u=="function"?u.name:u;throw new Error('No documentation found on "'+c+'"')}return new n(f)}})}),name$10="chain",dependencies$10=["typed","Chain"],createChain=factory(name$10,dependencies$10,t=>{var{typed:r,Chain:s}=t;return r(name$10,{"":function(){return new s},any:function(a){return new s(a)}})}),name$$="det",dependencies$$=["typed","matrix","subtract","multiply","divideScalar","isZero","unaryMinus"],createDet=factory(name$$,dependencies$$,t=>{var{typed:r,matrix:s,subtract:n,multiply:a,divideScalar:o,isZero:l,unaryMinus:u}=t;return r(name$$,{any:function(h){return clone$2(h)},"Array | Matrix":function(h){var d;switch(isMatrix(h)?d=h.size():Array.isArray(h)?(h=s(h),d=h.size()):d=[],d.length){case 0:return clone$2(h);case 1:if(d[0]===1)return clone$2(h.valueOf()[0]);if(d[0]===0)return 1;throw new RangeError("Matrix must be square (size: "+format$1(d)+")");case 2:{var p=d[0],v=d[1];if(p===v)return f(h.clone().valueOf(),p);if(v===0)return 1;throw new RangeError("Matrix must be square (size: "+format$1(d)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+format$1(d)+")")}}});function f(c,h,d){if(h===1)return clone$2(c[0][0]);if(h===2)return n(a(c[0][0],c[1][1]),a(c[1][0],c[0][1]));for(var p=!1,v=new Array(h).fill(0).map((T,O)=>O),y=0;y<h;y++){var b=v[y];if(l(c[b][y])){var w=void 0;for(w=y+1;w<h;w++)if(!l(c[v[w]][y])){b=v[w],v[w]=v[y],v[y]=b,p=!p;break}if(w===h)return c[b][y]}for(var x=c[b][y],A=y===0?1:c[v[y-1]][y-1],S=y+1;S<h;S++)for(var _=v[S],$=y+1;$<h;$++)c[_][$]=o(n(a(c[_][$],x),a(c[_][y],c[b][$])),A)}var M=c[v[h-1]][h-1];return p?u(M):M}}),name$_="inv",dependencies$_=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],createInv=factory(name$_,dependencies$_,t=>{var{typed:r,matrix:s,divideScalar:n,addScalar:a,multiply:o,unaryMinus:l,det:u,identity:f,abs:c}=t;return r(name$_,{"Array | Matrix":function(p){var v=isMatrix(p)?p.size():arraySize(p);switch(v.length){case 1:if(v[0]===1)return isMatrix(p)?s([n(1,p.valueOf()[0])]):[n(1,p[0])];throw new RangeError("Matrix must be square (size: "+format$1(v)+")");case 2:{var y=v[0],b=v[1];if(y===b)return isMatrix(p)?s(h(p.valueOf(),y,b),p.storage()):h(p,y,b);throw new RangeError("Matrix must be square (size: "+format$1(v)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+format$1(v)+")")}},any:function(p){return n(1,p)}});function h(d,p,v){var y,b,w,x,A;if(p===1){if(x=d[0][0],x===0)throw Error("Cannot calculate inverse, determinant is zero");return[[n(1,x)]]}else if(p===2){var S=u(d);if(S===0)throw Error("Cannot calculate inverse, determinant is zero");return[[n(d[1][1],S),n(l(d[0][1]),S)],[n(l(d[1][0]),S),n(d[0][0],S)]]}else{var _=d.concat();for(y=0;y<p;y++)_[y]=_[y].concat();for(var $=f(p).valueOf(),M=0;M<v;M++){var T=c(_[M][M]),O=M;for(y=M+1;y<p;)c(_[y][M])>T&&(T=c(_[y][M]),O=y),y++;if(T===0)throw Error("Cannot calculate inverse, determinant is zero");y=O,y!==M&&(A=_[M],_[M]=_[y],_[y]=A,A=$[M],$[M]=$[y],$[y]=A);var B=_[M],J=$[M];for(y=0;y<p;y++){var F=_[y],z=$[y];if(y!==M){if(F[M]!==0){for(w=n(l(F[M]),B[M]),b=M;b<v;b++)F[b]=a(F[b],o(w,B[b]));for(b=0;b<v;b++)z[b]=a(z[b],o(w,J[b]))}}else{for(w=B[M],b=M;b<v;b++)F[b]=n(F[b],w);for(b=0;b<v;b++)z[b]=n(z[b],w)}}}return $}}}),name$Z="pinv",dependencies$Z=["typed","matrix","inv","deepEqual","equal","dotDivide","dot","ctranspose","divideScalar","multiply","add","Complex"],createPinv=factory(name$Z,dependencies$Z,t=>{var{typed:r,matrix:s,inv:n,deepEqual:a,equal:o,dotDivide:l,dot:u,ctranspose:f,divideScalar:c,multiply:h,add:d,Complex:p}=t;return r(name$Z,{"Array | Matrix":function(S){var _=isMatrix(S)?S.size():arraySize(S);switch(_.length){case 1:return x(S)?f(S):_[0]===1?n(S):l(f(S),u(S,S));case 2:{if(x(S))return f(S);var $=_[0],M=_[1];if($===M)try{return n(S)}catch(T){if(!(T instanceof Error&&T.message.match(/Cannot calculate inverse, determinant is zero/)))throw T}return isMatrix(S)?s(v(S.valueOf(),$,M),S.storage()):v(S,$,M)}default:throw new RangeError("Matrix must be two dimensional (size: "+format$1(_)+")")}},any:function(S){return o(S,0)?clone$2(S):c(1,S)}});function v(A,S,_){var{C:$,F:M}=b(A,S,_),T=h(n(h(f($),$)),f($)),O=h(f(M),n(h(M,f(M))));return h(O,T)}function y(A,S,_){for(var $=clone$2(A),M=0,T=0;T<S;T++){if(_<=M)return $;for(var O=T;w($[O][M]);)if(O++,S===O&&(O=T,M++,_===M))return $;[$[O],$[T]]=[$[T],$[O]];for(var B=$[T][M],J=0;J<_;J++)$[T][J]=l($[T][J],B);for(var F=0;F<S;F++)if(F!==T){B=$[F][M];for(var z=0;z<_;z++)$[F][z]=d($[F][z],h(-1,h(B,$[T][z])))}M++}return $}function b(A,S,_){var $=y(A,S,_),M=A.map((O,B)=>O.filter((J,F)=>F<S&&!w(u($[F],$[F])))),T=$.filter((O,B)=>!w(u($[B],$[B])));return{C:M,F:T}}function w(A){return o(d(A,p(1,1)),d(0,p(1,1)))}function x(A){return a(d(A,p(1,1)),d(h(A,0),p(1,1)))}});function createComplexEigs(t){var{addScalar:r,subtract:s,flatten:n,multiply:a,multiplyScalar:o,divideScalar:l,sqrt:u,abs:f,bignumber:c,diag:h,inv:d,qr:p,usolve:v,usolveAll:y,equal:b,complex:w,larger:x,smaller:A,matrixFromColumns:S,dot:_}=t;function $(K,te,ae,ee,de){de===void 0&&(de=!0);var ce=M(K,te,ae,ee,de);T(K,te,ae,ee,de,ce);var{values:xe,C:Me}=O(K,te,ae,ee,de),Ae;return de&&(Ae=B(K,te,Me,ce,xe,ae,ee),Ae=S(...Ae)),{values:xe,vectors:Ae}}function M(K,te,ae,ee,de){var ce=ee==="BigNumber",xe=ee==="Complex",Me=ce?c(0):0,Ae=ce?c(1):xe?w(1):1,Xe=ce?c(1):1,Be=ce?c(10):2,Ze=o(Be,Be),nt;de&&(nt=Array(te).fill(Ae));for(var rt=!1;!rt;){rt=!0;for(var it=0;it<te;it++){for(var me=Me,be=Me,Re=0;Re<te;Re++)if(it!==Re){var ye=f(K[it][Re]);me=r(me,ye),be=r(be,ye)}if(!b(me,0)&&!b(be,0)){for(var $e=Xe,Te=me,et=l(be,Be),Ke=o(be,Be);A(Te,et);)Te=o(Te,Ze),$e=o($e,Be);for(;x(Te,Ke);)Te=l(Te,Ze),$e=l($e,Be);var pe=A(l(r(Te,be),$e),o(r(me,be),.95));if(pe){rt=!1;for(var ve=l(1,$e),De=0;De<te;De++)it!==De&&(K[it][De]=o(K[it][De],$e),K[De][it]=o(K[De][it],ve));de&&(nt[it]=o(nt[it],$e))}}}}return h(nt)}function T(K,te,ae,ee,de,ce){var xe=ee==="BigNumber",Me=ee==="Complex",Ae=xe?c(0):Me?w(0):0;xe&&(ae=c(ae));for(var Xe=0;Xe<te-2;Xe++){for(var Be=0,Ze=Ae,nt=Xe+1;nt<te;nt++){var rt=K[nt][Xe];A(f(Ze),f(rt))&&(Ze=rt,Be=nt)}if(!A(f(Ze),ae)){if(Be!==Xe+1){var it=K[Be];K[Be]=K[Xe+1],K[Xe+1]=it;for(var me=0;me<te;me++){var be=K[me][Be];K[me][Be]=K[me][Xe+1],K[me][Xe+1]=be}if(de){var Re=ce[Be];ce[Be]=ce[Xe+1],ce[Xe+1]=Re}}for(var ye=Xe+2;ye<te;ye++){var $e=l(K[ye][Xe],Ze);if($e!==0){for(var Te=0;Te<te;Te++)K[ye][Te]=s(K[ye][Te],o($e,K[Xe+1][Te]));for(var et=0;et<te;et++)K[et][Xe+1]=r(K[et][Xe+1],o($e,K[et][ye]));if(de)for(var Ke=0;Ke<te;Ke++)ce[ye][Ke]=s(ce[ye][Ke],o($e,ce[Xe+1][Ke]))}}}}return ce}function O(K,te,ae,ee,de){var ce=ee==="BigNumber",xe=ee==="Complex",Me=ce?c(1):xe?w(1):1;ce&&(ae=c(ae));for(var Ae=clone$2(K),Xe=[],Be=te,Ze=[],nt=de?h(Array(te).fill(Me)):void 0,rt=de?h(Array(Be).fill(Me)):void 0,it=0;it<=100;){it+=1;for(var me=0,be=0;be<Be;be++)Ae[be][be]=s(Ae[be][be],me);var{Q:Re,R:ye}=p(Ae);Ae=a(ye,Re);for(var $e=0;$e<Be;$e++)Ae[$e][$e]=r(Ae[$e][$e],me);if(de&&(rt=a(rt,Re)),Be===1||A(f(Ae[Be-1][Be-2]),ae)){it=0,Xe.push(Ae[Be-1][Be-1]),de&&(Ze.unshift([[1]]),z(rt,te),nt=a(nt,rt),Be>1&&(rt=h(Array(Be-1).fill(Me)))),Be-=1,Ae.pop();for(var Te=0;Te<Be;Te++)Ae[Te].pop()}else if(Be===2||A(f(Ae[Be-2][Be-3]),ae)){it=0;var et=J(Ae[Be-2][Be-2],Ae[Be-2][Be-1],Ae[Be-1][Be-2],Ae[Be-1][Be-1]);Xe.push(...et),de&&(Ze.unshift(F(Ae[Be-2][Be-2],Ae[Be-2][Be-1],Ae[Be-1][Be-2],Ae[Be-1][Be-1],et[0],et[1],ae,ee)),z(rt,te),nt=a(nt,rt),Be>2&&(rt=h(Array(Be-2).fill(Me)))),Be-=2,Ae.pop(),Ae.pop();for(var Ke=0;Ke<Be;Ke++)Ae[Ke].pop(),Ae[Ke].pop()}if(Be===0)break}if(Xe.sort((De,_e)=>+s(f(De),f(_e))),it>100){var pe=Error("The eigenvalues failed to converge. Only found these eigenvalues: "+Xe.join(", "));throw pe.values=Xe,pe.vectors=[],pe}var ve=de?a(nt,Z(Ze,te)):void 0;return{values:Xe,C:ve}}function B(K,te,ae,ee,de,ce,xe){var Me=d(ae),Ae=a(Me,K,ae),Xe=xe==="BigNumber",Be=xe==="Complex",Ze=Xe?c(0):Be?w(0):0,nt=Xe?c(1):Be?w(1):1,rt=[],it=[];for(var me of de){var be=se(rt,me,b);be===-1?(rt.push(me),it.push(1)):it[be]+=1}for(var Re=[],ye=rt.length,$e=Array(te).fill(Ze),Te=h(Array(te).fill(nt)),et=[],Ke=function(){var _e=rt[pe],Oe=s(Ae,a(_e,Te)),Ye=y(Oe,$e);for(Ye.shift();Ye.length<it[pe];){var tt=ie(Oe,te,Ye,ce,xe);if(tt==null){et.push(_e);break}Ye.push(tt)}var Ve=a(d(ee),ae);Ye=Ye.map(qe=>a(Ve,qe)),Re.push(...Ye.map(qe=>n(qe)))},pe=0;pe<ye;pe++)Ke();if(et.length!==0){var ve=new Error("Failed to find eigenvectors for the following eigenvalues: "+et.join(", "));throw ve.values=de,ve.vectors=Re,ve}return Re}function J(K,te,ae,ee){var de=r(K,ee),ce=s(o(K,ee),o(te,ae)),xe=o(de,.5),Me=o(u(s(o(de,de),o(4,ce))),.5);return[r(xe,Me),s(xe,Me)]}function F(K,te,ae,ee,de,ce,xe,Me){var Ae=Me==="BigNumber",Xe=Me==="Complex",Be=Ae?c(0):Xe?w(0):0,Ze=Ae?c(1):Xe?w(1):1;if(A(f(ae),xe))return[[Ze,Be],[Be,Ze]];if(x(f(s(de,ce)),xe))return[[s(de,ee),s(ce,ee)],[ae,ae]];var nt=s(K,de),rt=s(te,de),it=s(ae,de),me=s(ee,de);return A(f(rt),xe)?[[nt,Ze],[it,Be]]:[[rt,Be],[me,Ze]]}function z(K,te){for(var ae=0;ae<K.length;ae++)K[ae].push(...Array(te-K[ae].length).fill(0));for(var ee=K.length;ee<te;ee++)K.push(Array(te).fill(0)),K[ee][ee]=1;return K}function Z(K,te){for(var ae=[],ee=0;ee<te;ee++)ae[ee]=Array(te).fill(0);var de=0;for(var ce of K){for(var xe=ce.length,Me=0;Me<xe;Me++)for(var Ae=0;Ae<xe;Ae++)ae[de+Me][de+Ae]=ce[Me][Ae];de+=xe}return ae}function se(K,te,ae){for(var ee=0;ee<K.length;ee++)if(ae(K[ee],te))return ee;return-1}function ie(K,te,ae,ee,de){for(var ce=de==="BigNumber"?c(1e3):1e3,xe,Me=0;xe=U(te,ae,de),xe=v(K,xe),!x(ue(xe),ce);)if(++Me>=5)return null;for(Me=0;;){var Ae=v(K,xe);if(A(ue(H(xe,[Ae])),ee))break;if(++Me>=10)return null;xe=Y(Ae)}return xe}function U(K,te,ae){var ee=ae==="BigNumber",de=ae==="Complex",ce=Array(K).fill(0).map(xe=>2*Math.random()-1);return ee&&(ce=ce.map(xe=>c(xe))),de&&(ce=ce.map(xe=>w(xe))),ce=H(ce,te),Y(ce,ae)}function H(K,te){for(var ae of te)K=s(K,a(l(_(ae,K),_(ae,ae)),ae));return K}function ue(K){return f(u(_(K,K)))}function Y(K,te){var ae=te==="BigNumber",ee=te==="Complex",de=ae?c(1):ee?w(1):1;return a(l(de,ue(K)),K)}return $}function createRealSymmetric(t){var{config:r,addScalar:s,subtract:n,abs:a,atan:o,cos:l,sin:u,multiplyScalar:f,inv:c,bignumber:h,multiply:d,add:p}=t;function v(J,F){var z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:r.epsilon,Z=arguments.length>3?arguments[3]:void 0;if(Z==="number")return y(J,z);if(Z==="BigNumber")return b(J,z);throw TypeError("Unsupported data type: "+Z)}function y(J,F){for(var z=J.length,Z=Math.abs(F/z),se,ie=new Array(z),U=0;U<z;U++)ie[U]=B(z,0),ie[U][U]=1;for(var H=M(J);Math.abs(H[1])>=Math.abs(Z);){var ue=H[0][0],Y=H[0][1];se=w(J[ue][ue],J[Y][Y],J[ue][Y]),J=$(J,se,ue,Y),ie=A(ie,se,ue,Y),H=M(J)}for(var K=B(z,0),te=0;te<z;te++)K[te]=J[te][te];return O(clone$2(K),clone$2(ie))}function b(J,F){for(var z=J.length,Z=a(F/z),se,ie=new Array(z),U=0;U<z;U++)ie[U]=B(z,0),ie[U][U]=1;for(var H=T(J);a(H[1])>=a(Z);){var ue=H[0][0],Y=H[0][1];se=x(J[ue][ue],J[Y][Y],J[ue][Y]),J=_(J,se,ue,Y),ie=S(ie,se,ue,Y),H=T(J)}for(var K=B(z,0),te=0;te<z;te++)K[te]=J[te][te];return O(clone$2(K),clone$2(ie))}function w(J,F,z){var Z=F-J;return Math.abs(Z)<=r.epsilon?Math.PI/4:.5*Math.atan(2*z/(F-J))}function x(J,F,z){var Z=n(F,J);return a(Z)<=r.epsilon?h(-1).acos().div(4):f(.5,o(d(2,z,c(Z))))}function A(J,F,z,Z){for(var se=J.length,ie=Math.cos(F),U=Math.sin(F),H=B(se,0),ue=B(se,0),Y=0;Y<se;Y++)H[Y]=ie*J[Y][z]-U*J[Y][Z],ue[Y]=U*J[Y][z]+ie*J[Y][Z];for(var K=0;K<se;K++)J[K][z]=H[K],J[K][Z]=ue[K];return J}function S(J,F,z,Z){for(var se=J.length,ie=l(F),U=u(F),H=B(se,h(0)),ue=B(se,h(0)),Y=0;Y<se;Y++)H[Y]=n(f(ie,J[Y][z]),f(U,J[Y][Z])),ue[Y]=s(f(U,J[Y][z]),f(ie,J[Y][Z]));for(var K=0;K<se;K++)J[K][z]=H[K],J[K][Z]=ue[K];return J}function _(J,F,z,Z){for(var se=J.length,ie=h(l(F)),U=h(u(F)),H=f(ie,ie),ue=f(U,U),Y=B(se,h(0)),K=B(se,h(0)),te=d(h(2),ie,U,J[z][Z]),ae=s(n(f(H,J[z][z]),te),f(ue,J[Z][Z])),ee=p(f(ue,J[z][z]),te,f(H,J[Z][Z])),de=0;de<se;de++)Y[de]=n(f(ie,J[z][de]),f(U,J[Z][de])),K[de]=s(f(U,J[z][de]),f(ie,J[Z][de]));J[z][z]=ae,J[Z][Z]=ee,J[z][Z]=h(0),J[Z][z]=h(0);for(var ce=0;ce<se;ce++)ce!==z&&ce!==Z&&(J[z][ce]=Y[ce],J[ce][z]=Y[ce],J[Z][ce]=K[ce],J[ce][Z]=K[ce]);return J}function $(J,F,z,Z){for(var se=J.length,ie=Math.cos(F),U=Math.sin(F),H=ie*ie,ue=U*U,Y=B(se,0),K=B(se,0),te=H*J[z][z]-2*ie*U*J[z][Z]+ue*J[Z][Z],ae=ue*J[z][z]+2*ie*U*J[z][Z]+H*J[Z][Z],ee=0;ee<se;ee++)Y[ee]=ie*J[z][ee]-U*J[Z][ee],K[ee]=U*J[z][ee]+ie*J[Z][ee];J[z][z]=te,J[Z][Z]=ae,J[z][Z]=0,J[Z][z]=0;for(var de=0;de<se;de++)de!==z&&de!==Z&&(J[z][de]=Y[de],J[de][z]=Y[de],J[Z][de]=K[de],J[de][Z]=K[de]);return J}function M(J){for(var F=J.length,z=0,Z=[0,1],se=0;se<F;se++)for(var ie=se+1;ie<F;ie++)Math.abs(z)<Math.abs(J[se][ie])&&(z=Math.abs(J[se][ie]),Z=[se,ie]);return[Z,z]}function T(J){for(var F=J.length,z=0,Z=[0,1],se=0;se<F;se++)for(var ie=se+1;ie<F;ie++)a(z)<a(J[se][ie])&&(z=a(J[se][ie]),Z=[se,ie]);return[Z,z]}function O(J,F){for(var z=J.length,Z=Array(z),se=Array(z),ie=0;ie<z;ie++)se[ie]=Array(z);for(var U=0;U<z;U++){for(var H=0,ue=J[0],Y=0;Y<J.length;Y++)a(J[Y])<a(ue)&&(H=Y,ue=J[H]);Z[U]=J.splice(H,1)[0];for(var K=0;K<z;K++)se[K][U]=F[K][H],F[K].splice(H,1)}return{values:Z,vectors:se}}function B(J,F){for(var z=new Array(J),Z=0;Z<J;Z++)z[Z]=F;return z}return v}var name$Y="eigs",dependencies$Y=["config","typed","matrix","addScalar","equal","subtract","abs","atan","cos","sin","multiplyScalar","divideScalar","inv","bignumber","multiply","add","larger","column","flatten","number","complex","sqrt","diag","qr","usolve","usolveAll","im","re","smaller","matrixFromColumns","dot"],createEigs=factory(name$Y,dependencies$Y,t=>{var{config:r,typed:s,matrix:n,addScalar:a,subtract:o,equal:l,abs:u,atan:f,cos:c,sin:h,multiplyScalar:d,divideScalar:p,inv:v,bignumber:y,multiply:b,add:w,larger:x,column:A,flatten:S,number:_,complex:$,sqrt:M,diag:T,qr:O,usolve:B,usolveAll:J,im:F,re:z,smaller:Z,matrixFromColumns:se,dot:ie}=t,U=createRealSymmetric({config:r,addScalar:a,subtract:o,abs:u,atan:f,cos:c,sin:h,multiplyScalar:d,inv:v,bignumber:y,multiply:b,add:w}),H=createComplexEigs({addScalar:a,subtract:o,multiply:b,multiplyScalar:d,flatten:S,divideScalar:p,sqrt:M,abs:u,bignumber:y,diag:T,qr:O,inv:v,usolve:B,usolveAll:J,equal:l,complex:$,larger:x,smaller:Z,matrixFromColumns:se,dot:ie});return s("eigs",{Array:function(de){var ce=n(de);return ue(ce)},"Array, number|BigNumber":function(de,ce){var xe=n(de);return ue(xe,ce)},Matrix:function(de){var{values:ce,vectors:xe}=ue(de);return{values:n(ce),vectors:n(xe)}},"Matrix, number|BigNumber":function(de,ce){var{values:xe,vectors:Me}=ue(de,ce);return{values:n(xe),vectors:n(Me)}}});function ue(ee,de){de===void 0&&(de=r.epsilon);var ce=ee.size();if(ce.length!==2||ce[0]!==ce[1])throw new RangeError("Matrix must be square (size: "+format$1(ce)+")");var xe=ee.toArray(),Me=ce[0];if(K(xe,Me,de)&&(te(xe,Me),Y(xe,Me,de))){var Ae=ae(ee,xe,Me);return U(xe,Me,de,Ae)}var Xe=ae(ee,xe,Me);return H(xe,Me,de,Xe)}function Y(ee,de,ce){for(var xe=0;xe<de;xe++)for(var Me=xe;Me<de;Me++)if(x(y(u(o(ee[xe][Me],ee[Me][xe]))),ce))return!1;return!0}function K(ee,de,ce){for(var xe=0;xe<de;xe++)for(var Me=0;Me<de;Me++)if(x(y(u(F(ee[xe][Me]))),ce))return!1;return!0}function te(ee,de){for(var ce=0;ce<de;ce++)for(var xe=0;xe<de;xe++)ee[ce][xe]=z(ee[ce][xe])}function ae(ee,de,ce){var xe=ee.datatype();if(xe==="number"||xe==="BigNumber"||xe==="Complex")return xe;for(var Me=!1,Ae=!1,Xe=!1,Be=0;Be<ce;Be++)for(var Ze=0;Ze<ce;Ze++){var nt=de[Be][Ze];if(isNumber(nt)||isFraction(nt))Me=!0;else if(isBigNumber(nt))Ae=!0;else if(isComplex(nt))Xe=!0;else throw TypeError("Unsupported type in Matrix: "+typeOf$1(nt))}if(Ae&&Xe&&console.warn("Complex BigNumbers not supported, this operation will lose precission."),Xe){for(var rt=0;rt<ce;rt++)for(var it=0;it<ce;it++)de[rt][it]=$(de[rt][it]);return"Complex"}if(Ae){for(var me=0;me<ce;me++)for(var be=0;be<ce;be++)de[me][be]=y(de[me][be]);return"BigNumber"}if(Me){for(var Re=0;Re<ce;Re++)for(var ye=0;ye<ce;ye++)de[Re][ye]=_(de[Re][ye]);return"number"}else throw TypeError("Matrix contains unsupported types only.")}}),name$X="expm",dependencies$X=["typed","abs","add","identity","inv","multiply"],createExpm=factory(name$X,dependencies$X,t=>{var{typed:r,abs:s,add:n,identity:a,inv:o,multiply:l}=t;return r(name$X,{Matrix:function(d){var p=d.size();if(p.length!==2||p[0]!==p[1])throw new RangeError("Matrix must be square (size: "+format$1(p)+")");for(var v=p[0],y=1e-15,b=u(d),w=f(b,y),x=w.q,A=w.j,S=l(d,Math.pow(2,-A)),_=a(v),$=a(v),M=1,T=S,O=-1,B=1;B<=x;B++)B>1&&(T=l(T,S),O=-O),M=M*(x-B+1)/((2*x-B+1)*B),_=n(_,l(M,T)),$=n($,l(M*O,T));for(var J=l(o($),_),F=0;F<A;F++)J=l(J,J);return isSparseMatrix(d)?d.createSparseMatrix(J):J}});function u(h){for(var d=h.size()[0],p=0,v=0;v<d;v++){for(var y=0,b=0;b<d;b++)y+=s(h.get([v,b]));p=Math.max(y,p)}return p}function f(h,d){for(var p=30,v=0;v<p;v++)for(var y=0;y<=v;y++){var b=v-y;if(c(h,y,b)<d)return{q:y,j:b}}throw new Error("Could not find acceptable parameters to compute the matrix exponential (try increasing maxSearchSize in expm.js)")}function c(h,d,p){for(var v=1,y=2;y<=d;y++)v*=y;for(var b=v,w=d+1;w<=2*d;w++)b*=w;var x=b*(2*d+1);return 8*Math.pow(h/Math.pow(2,p),2*d)*v*v/(b*x)}}),name$W="sqrtm",dependencies$W=["typed","abs","add","multiply","map","sqrt","subtract","inv","size","max","identity"],createSqrtm=factory(name$W,dependencies$W,t=>{var{typed:r,abs:s,add:n,multiply:a,map:o,sqrt:l,subtract:u,inv:f,size:c,max:h,identity:d}=t,p=1e3,v=1e-6;function y(b){var w,x=0,A=b,S=d(c(b));do{var _=A;if(A=a(.5,n(_,f(S))),S=a(.5,n(S,f(_))),w=h(s(u(A,_))),w>v&&++x>p)throw new Error("computing square root of matrix: iterative method could not converge")}while(w>v);return A}return r(name$W,{"Array | Matrix":function(w){var x=isMatrix(w)?w.size():arraySize(w);switch(x.length){case 1:if(x[0]===1)return o(w,l);throw new RangeError("Matrix must be square (size: "+format$1(x)+")");case 2:{var A=x[0],S=x[1];if(A===S)return y(w);throw new RangeError("Matrix must be square (size: "+format$1(x)+")")}default:throw new RangeError("Matrix must be at most two dimensional (size: "+format$1(x)+")")}}})}),name$V="sylvester",dependencies$V=["typed","schur","matrixFromColumns","matrix","multiply","range","concat","transpose","index","subset","add","subtract","identity","lusolve","abs"],createSylvester=factory(name$V,dependencies$V,t=>{var{typed:r,schur:s,matrixFromColumns:n,matrix:a,multiply:o,range:l,concat:u,transpose:f,index:c,subset:h,add:d,subtract:p,identity:v,lusolve:y,abs:b}=t;return r(name$V,{"Matrix, Matrix, Matrix":w,"Array, Matrix, Matrix":function(A,S,_){return w(a(A),S,_)},"Array, Array, Matrix":function(A,S,_){return w(a(A),a(S),_)},"Array, Matrix, Array":function(A,S,_){return w(a(A),S,a(_))},"Matrix, Array, Matrix":function(A,S,_){return w(A,a(S),_)},"Matrix, Array, Array":function(A,S,_){return w(A,a(S),a(_))},"Matrix, Matrix, Array":function(A,S,_){return w(A,S,a(_))},"Array, Array, Array":function(A,S,_){return w(a(A),a(S),a(_)).toArray()}});function w(x,A,S){for(var _=A.size()[0],$=x.size()[0],M=s(x),T=M.T,O=M.U,B=s(o(-1,A)),J=B.T,F=B.U,z=o(o(f(O),S),F),Z=l(0,$),se=[],ie=(nt,rt)=>u(nt,rt,1),U=(nt,rt)=>u(nt,rt,0),H=0;H<_;H++)if(H<_-1&&b(h(J,c(H+1,H)))>1e-5){for(var ue=U(h(z,c(Z,H)),h(z,c(Z,H+1))),Y=0;Y<H;Y++)ue=d(ue,U(o(se[Y],h(J,c(Y,H))),o(se[Y],h(J,c(Y,H+1)))));var K=o(v($),o(-1,h(J,c(H,H)))),te=o(v($),o(-1,h(J,c(H+1,H)))),ae=o(v($),o(-1,h(J,c(H,H+1)))),ee=o(v($),o(-1,h(J,c(H+1,H+1)))),de=U(ie(d(T,K),te),ie(ae,d(T,ee))),ce=y(de,ue);se[H]=ce.subset(c(l(0,$),0)),se[H+1]=ce.subset(c(l($,2*$),0)),H++}else{for(var xe=h(z,c(Z,H)),Me=0;Me<H;Me++)xe=d(xe,o(se[Me],h(J,c(Me,H))));var Ae=h(J,c(H,H)),Xe=p(T,o(Ae,v($)));se[H]=y(Xe,xe)}var Be=a(n(...se)),Ze=o(O,o(Be,f(F)));return Ze}}),name$U="schur",dependencies$U=["typed","matrix","identity","multiply","qr","norm","subtract"],createSchur=factory(name$U,dependencies$U,t=>{var{typed:r,matrix:s,identity:n,multiply:a,qr:o,norm:l,subtract:u}=t;return r(name$U,{Array:function(h){var d=f(s(h));return{U:d.U.valueOf(),T:d.T.valueOf()}},Matrix:function(h){return f(h)}});function f(c){var h=c.size()[0],d=c,p=n(h),v=0,y;do{y=d;var b=o(d),w=b.Q,x=b.R;if(d=a(x,w),p=a(p,w),v++>100)break}while(l(u(d,y))>1e-4);return{U:p,T:d}}}),name$T="lyap",dependencies$T=["typed","matrix","sylvester","multiply","transpose"],createLyap=factory(name$T,dependencies$T,t=>{var{typed:r,matrix:s,sylvester:n,multiply:a,transpose:o}=t;return r(name$T,{"Matrix, Matrix":function(u,f){return n(u,o(u),a(-1,f))},"Array, Matrix":function(u,f){return n(s(u),o(s(u)),a(-1,f))},"Matrix, Array":function(u,f){return n(u,o(s(u)),s(a(-1,f)))},"Array, Array":function(u,f){return n(s(u),o(s(u)),s(a(-1,f))).toArray()}})}),name$S="divide",dependencies$S=["typed","matrix","multiply","equalScalar","divideScalar","inv"],createDivide=factory(name$S,dependencies$S,t=>{var{typed:r,matrix:s,multiply:n,equalScalar:a,divideScalar:o,inv:l}=t,u=createMatAlgo11xS0s({typed:r,equalScalar:a}),f=createMatAlgo14xDs({typed:r});return r("divide",extend({"Array | Matrix, Array | Matrix":function(h,d){return n(h,l(d))},"DenseMatrix, any":function(h,d){return f(h,d,o,!1)},"SparseMatrix, any":function(h,d){return u(h,d,o,!1)},"Array, any":function(h,d){return f(s(h),d,o,!1).valueOf()},"any, Array | Matrix":function(h,d){return n(h,l(d))}},o.signatures))}),name$R="distance",dependencies$R=["typed","addScalar","subtract","divideScalar","multiplyScalar","unaryMinus","sqrt","abs"],createDistance=factory(name$R,dependencies$R,t=>{var{typed:r,addScalar:s,subtract:n,multiplyScalar:a,divideScalar:o,unaryMinus:l,sqrt:u,abs:f}=t;return r(name$R,{"Array, Array, Array":function($,M,T){if($.length===2&&M.length===2&&T.length===2){if(!h($))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!h(M))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!h(T))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");var O=o(n(T[1],T[0]),n(M[1],M[0])),B=a(a(O,O),M[0]),J=l(a(O,M[0])),F=$[1];return w($[0],$[1],B,J,F)}else throw new TypeError("Invalid Arguments: Try again")},"Object, Object, Object":function($,M,T){if(Object.keys($).length===2&&Object.keys(M).length===2&&Object.keys(T).length===2){if(!h($))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!h(M))throw new TypeError("Values of lineOnePtX and lineOnePtY should be numbers or BigNumbers");if(!h(T))throw new TypeError("Values of lineTwoPtX and lineTwoPtY should be numbers or BigNumbers");if("pointX"in $&&"pointY"in $&&"lineOnePtX"in M&&"lineOnePtY"in M&&"lineTwoPtX"in T&&"lineTwoPtY"in T){var O=o(n(T.lineTwoPtY,T.lineTwoPtX),n(M.lineOnePtY,M.lineOnePtX)),B=a(a(O,O),M.lineOnePtX),J=l(a(O,M.lineOnePtX)),F=$.pointX;return w($.pointX,$.pointY,B,J,F)}else throw new TypeError("Key names do not match")}else throw new TypeError("Invalid Arguments: Try again")},"Array, Array":function($,M){if($.length===2&&M.length===3){if(!h($))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!d(M))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");return w($[0],$[1],M[0],M[1],M[2])}else if($.length===3&&M.length===6){if(!d($))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!v(M))throw new TypeError("Array with 6 numbers or BigNumbers expected for second argument");return x($[0],$[1],$[2],M[0],M[1],M[2],M[3],M[4],M[5])}else if($.length===M.length&&$.length>0){if(!p($))throw new TypeError("All values of an array should be numbers or BigNumbers");if(!p(M))throw new TypeError("All values of an array should be numbers or BigNumbers");return A($,M)}else throw new TypeError("Invalid Arguments: Try again")},"Object, Object":function($,M){if(Object.keys($).length===2&&Object.keys(M).length===3){if(!h($))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!d(M))throw new TypeError("Values of xCoeffLine, yCoeffLine and constant should be numbers or BigNumbers");if("pointX"in $&&"pointY"in $&&"xCoeffLine"in M&&"yCoeffLine"in M&&"constant"in M)return w($.pointX,$.pointY,M.xCoeffLine,M.yCoeffLine,M.constant);throw new TypeError("Key names do not match")}else if(Object.keys($).length===3&&Object.keys(M).length===6){if(!d($))throw new TypeError("Values of pointX, pointY and pointZ should be numbers or BigNumbers");if(!v(M))throw new TypeError("Values of x0, y0, z0, a, b and c should be numbers or BigNumbers");if("pointX"in $&&"pointY"in $&&"x0"in M&&"y0"in M&&"z0"in M&&"a"in M&&"b"in M&&"c"in M)return x($.pointX,$.pointY,$.pointZ,M.x0,M.y0,M.z0,M.a,M.b,M.c);throw new TypeError("Key names do not match")}else if(Object.keys($).length===2&&Object.keys(M).length===2){if(!h($))throw new TypeError("Values of pointOneX and pointOneY should be numbers or BigNumbers");if(!h(M))throw new TypeError("Values of pointTwoX and pointTwoY should be numbers or BigNumbers");if("pointOneX"in $&&"pointOneY"in $&&"pointTwoX"in M&&"pointTwoY"in M)return A([$.pointOneX,$.pointOneY],[M.pointTwoX,M.pointTwoY]);throw new TypeError("Key names do not match")}else if(Object.keys($).length===3&&Object.keys(M).length===3){if(!d($))throw new TypeError("Values of pointOneX, pointOneY and pointOneZ should be numbers or BigNumbers");if(!d(M))throw new TypeError("Values of pointTwoX, pointTwoY and pointTwoZ should be numbers or BigNumbers");if("pointOneX"in $&&"pointOneY"in $&&"pointOneZ"in $&&"pointTwoX"in M&&"pointTwoY"in M&&"pointTwoZ"in M)return A([$.pointOneX,$.pointOneY,$.pointOneZ],[M.pointTwoX,M.pointTwoY,M.pointTwoZ]);throw new TypeError("Key names do not match")}else throw new TypeError("Invalid Arguments: Try again")},Array:function($){if(!b($))throw new TypeError("Incorrect array format entered for pairwise distance calculation");return S($)}});function c(_){return typeof _=="number"||isBigNumber(_)}function h(_){return _.constructor!==Array&&(_=y(_)),c(_[0])&&c(_[1])}function d(_){return _.constructor!==Array&&(_=y(_)),c(_[0])&&c(_[1])&&c(_[2])}function p(_){return Array.isArray(_)||(_=y(_)),_.every(c)}function v(_){return _.constructor!==Array&&(_=y(_)),c(_[0])&&c(_[1])&&c(_[2])&&c(_[3])&&c(_[4])&&c(_[5])}function y(_){for(var $=Object.keys(_),M=[],T=0;T<$.length;T++)M.push(_[$[T]]);return M}function b(_){if(_[0].length===2&&c(_[0][0])&&c(_[0][1])){if(_.some($=>$.length!==2||!c($[0])||!c($[1])))return!1}else if(_[0].length===3&&c(_[0][0])&&c(_[0][1])&&c(_[0][2])){if(_.some($=>$.length!==3||!c($[0])||!c($[1])||!c($[2])))return!1}else return!1;return!0}function w(_,$,M,T,O){var B=f(s(s(a(M,_),a(T,$)),O)),J=u(s(a(M,M),a(T,T)));return o(B,J)}function x(_,$,M,T,O,B,J,F,z){var Z=[n(a(n(O,$),z),a(n(B,M),F)),n(a(n(B,M),J),a(n(T,_),z)),n(a(n(T,_),F),a(n(O,$),J))];Z=u(s(s(a(Z[0],Z[0]),a(Z[1],Z[1])),a(Z[2],Z[2])));var se=u(s(s(a(J,J),a(F,F)),a(z,z)));return o(Z,se)}function A(_,$){for(var M=_.length,T=0,O=0,B=0;B<M;B++)O=n(_[B],$[B]),T=s(a(O,O),T);return u(T)}function S(_){for(var $=[],M=[],T=[],O=0;O<_.length-1;O++)for(var B=O+1;B<_.length;B++)_[0].length===2?(M=[_[O][0],_[O][1]],T=[_[B][0],_[B][1]]):_[0].length===3&&(M=[_[O][0],_[O][1],_[O][2]],T=[_[B][0],_[B][1],_[B][2]]),$.push(A(M,T));return $}}),name$Q="intersect",dependencies$Q=["typed","config","abs","add","addScalar","matrix","multiply","multiplyScalar","divideScalar","subtract","smaller","equalScalar","flatten","isZero","isNumeric"],createIntersect=factory(name$Q,dependencies$Q,t=>{var{typed:r,config:s,abs:n,add:a,addScalar:o,matrix:l,multiply:u,multiplyScalar:f,divideScalar:c,subtract:h,smaller:d,equalScalar:p,flatten:v,isZero:y,isNumeric:b}=t;return r("intersect",{"Array, Array, Array":w,"Array, Array, Array, Array":x,"Matrix, Matrix, Matrix":function(F,z,Z){var se=w(F.valueOf(),z.valueOf(),Z.valueOf());return se===null?null:l(se)},"Matrix, Matrix, Matrix, Matrix":function(F,z,Z,se){var ie=x(F.valueOf(),z.valueOf(),Z.valueOf(),se.valueOf());return ie===null?null:l(ie)}});function w(J,F,z){if(J=A(J),F=A(F),z=A(z),!_(J))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!_(F))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!$(z))throw new TypeError("Array with 4 numbers expected as third argument");return B(J[0],J[1],J[2],F[0],F[1],F[2],z[0],z[1],z[2],z[3])}function x(J,F,z,Z){if(J=A(J),F=A(F),z=A(z),Z=A(Z),J.length===2){if(!S(J))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!S(F))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!S(z))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(!S(Z))throw new TypeError("Array with 2 numbers or BigNumbers expected for fourth argument");return M(J,F,z,Z)}else if(J.length===3){if(!_(J))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!_(F))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!_(z))throw new TypeError("Array with 3 numbers or BigNumbers expected for third argument");if(!_(Z))throw new TypeError("Array with 3 numbers or BigNumbers expected for fourth argument");return O(J[0],J[1],J[2],F[0],F[1],F[2],z[0],z[1],z[2],Z[0],Z[1],Z[2])}else throw new TypeError("Arrays with two or thee dimensional points expected")}function A(J){return J.length===1?J[0]:J.length>1&&Array.isArray(J[0])&&J.every(F=>Array.isArray(F)&&F.length===1)?v(J):J}function S(J){return J.length===2&&b(J[0])&&b(J[1])}function _(J){return J.length===3&&b(J[0])&&b(J[1])&&b(J[2])}function $(J){return J.length===4&&b(J[0])&&b(J[1])&&b(J[2])&&b(J[3])}function M(J,F,z,Z){var se=J,ie=z,U=h(se,F),H=h(ie,Z),ue=h(f(U[0],H[1]),f(H[0],U[1]));if(y(ue)||d(n(ue),s.epsilon))return null;var Y=f(H[0],se[1]),K=f(H[1],se[0]),te=f(H[0],ie[1]),ae=f(H[1],ie[0]),ee=c(o(h(h(Y,K),te),ae),ue);return a(u(U,ee),se)}function T(J,F,z,Z,se,ie,U,H,ue,Y,K,te){var ae=f(h(J,F),h(z,Z)),ee=f(h(se,ie),h(U,H)),de=f(h(ue,Y),h(K,te));return o(o(ae,ee),de)}function O(J,F,z,Z,se,ie,U,H,ue,Y,K,te){var ae=T(J,U,Y,U,F,H,K,H,z,ue,te,ue),ee=T(Y,U,Z,J,K,H,se,F,te,ue,ie,z),de=T(J,U,Z,J,F,H,se,F,z,ue,ie,z),ce=T(Y,U,Y,U,K,H,K,H,te,ue,te,ue),xe=T(Z,J,Z,J,se,F,se,F,ie,z,ie,z),Me=h(f(ae,ee),f(de,ce)),Ae=h(f(xe,ce),f(ee,ee));if(y(Ae))return null;var Xe=c(Me,Ae),Be=c(o(ae,f(Xe,ee)),ce),Ze=o(J,f(Xe,h(Z,J))),nt=o(F,f(Xe,h(se,F))),rt=o(z,f(Xe,h(ie,z))),it=o(U,f(Be,h(Y,U))),me=o(H,f(Be,h(K,H))),be=o(ue,f(Be,h(te,ue)));return p(Ze,it)&&p(nt,me)&&p(rt,be)?[Ze,nt,rt]:null}function B(J,F,z,Z,se,ie,U,H,ue,Y){var K=f(J,U),te=f(Z,U),ae=f(F,H),ee=f(se,H),de=f(z,ue),ce=f(ie,ue),xe=h(h(h(Y,K),ae),de),Me=h(h(h(o(o(te,ee),ce),K),ae),de),Ae=c(xe,Me),Xe=o(J,f(Ae,h(Z,J))),Be=o(F,f(Ae,h(se,F))),Ze=o(z,f(Ae,h(ie,z)));return[Xe,Be,Ze]}}),name$P="sum",dependencies$P=["typed","config","add","numeric"],createSum=factory(name$P,dependencies$P,t=>{var{typed:r,config:s,add:n,numeric:a}=t;return r(name$P,{"Array | Matrix":o,"Array | Matrix, number | BigNumber":l,"...":function(f){if(containsCollections(f))throw new TypeError("Scalar values expected in function sum");return o(f)}});function o(u){var f;return deepForEach(u,function(c){try{f=f===void 0?c:n(f,c)}catch(h){throw improveErrorMessage(h,"sum",c)}}),f===void 0&&(f=a(0,s.number)),typeof f=="string"&&(f=a(f,s.number)),f}function l(u,f){try{var c=reduce(u,f,n);return c}catch(h){throw improveErrorMessage(h,"sum")}}}),name$O="cumsum",dependencies$O=["typed","add","unaryPlus"],createCumSum=factory(name$O,dependencies$O,t=>{var{typed:r,add:s,unaryPlus:n}=t;return r(name$O,{Array:a,Matrix:function(c){return c.create(a(c.valueOf()))},"Array, number | BigNumber":l,"Matrix, number | BigNumber":function(c,h){return c.create(l(c.valueOf(),h))},"...":function(c){if(containsCollections(c))throw new TypeError("All values expected to be scalar in function cumsum");return a(c)}});function a(f){try{return o(f)}catch(c){throw improveErrorMessage(c,name$O)}}function o(f){if(f.length===0)return[];for(var c=[n(f[0])],h=1;h<f.length;++h)c.push(s(c[h-1],f[h]));return c}function l(f,c){var h=arraySize(f);if(c<0||c>=h.length)throw new IndexError(c,h.length);try{return u(f,c)}catch(d){throw improveErrorMessage(d,name$O)}}function u(f,c){var h,d,p;if(c<=0){var v=f[0][0];if(Array.isArray(v)){for(p=_switch$1(f),d=[],h=0;h<p.length;h++)d[h]=u(p[h],c-1);return d}else return o(f)}else{for(d=[],h=0;h<f.length;h++)d[h]=u(f[h],c-1);return d}}}),name$N="mean",dependencies$N=["typed","add","divide"],createMean=factory(name$N,dependencies$N,t=>{var{typed:r,add:s,divide:n}=t;return r(name$N,{"Array | Matrix":o,"Array | Matrix, number | BigNumber":a,"...":function(u){if(containsCollections(u))throw new TypeError("Scalar values expected in function mean");return o(u)}});function a(l,u){try{var f=reduce(l,u,s),c=Array.isArray(l)?arraySize(l):l.size();return n(f,c[u])}catch(h){throw improveErrorMessage(h,"mean")}}function o(l){var u,f=0;if(deepForEach(l,function(c){try{u=u===void 0?c:s(u,c),f++}catch(h){throw improveErrorMessage(h,"mean",c)}}),f===0)throw new Error("Cannot calculate the mean of an empty array");return n(u,f)}}),name$M="median",dependencies$M=["typed","add","divide","compare","partitionSelect"],createMedian=factory(name$M,dependencies$M,t=>{var{typed:r,add:s,divide:n,compare:a,partitionSelect:o}=t;function l(c){try{c=flatten$1(c.valueOf());var h=c.length;if(h===0)throw new Error("Cannot calculate median of an empty array");if(h%2===0){for(var d=h/2-1,p=o(c,d+1),v=c[d],y=0;y<d;++y)a(c[y],v)>0&&(v=c[y]);return f(v,p)}else{var b=o(c,(h-1)/2);return u(b)}}catch(w){throw improveErrorMessage(w,"median")}}var u=r({"number | BigNumber | Complex | Unit":function(h){return h}}),f=r({"number | BigNumber | Complex | Unit, number | BigNumber | Complex | Unit":function(h,d){return n(s(h,d),2)}});return r(name$M,{"Array | Matrix":l,"Array | Matrix, number | BigNumber":function(h,d){throw new Error("median(A, dim) is not yet supported")},"...":function(h){if(containsCollections(h))throw new TypeError("Scalar values expected in function median");return l(h)}})}),name$L="mad",dependencies$L=["typed","abs","map","median","subtract"],createMad=factory(name$L,dependencies$L,t=>{var{typed:r,abs:s,map:n,median:a,subtract:o}=t;return r(name$L,{"Array | Matrix":l,"...":function(f){return l(f)}});function l(u){if(u=flatten$1(u.valueOf()),u.length===0)throw new Error("Cannot calculate median absolute deviation (mad) of an empty array");try{var f=a(u);return a(n(u,function(c){return s(o(c,f))}))}catch(c){throw c instanceof TypeError&&c.message.indexOf("median")!==-1?new TypeError(c.message.replace("median","mad")):improveErrorMessage(c,"mad")}}}),DEFAULT_NORMALIZATION="unbiased",name$K="variance",dependencies$K=["typed","add","subtract","multiply","divide","apply","isNaN"],createVariance=factory(name$K,dependencies$K,t=>{var{typed:r,add:s,subtract:n,multiply:a,divide:o,apply:l,isNaN:u}=t;return r(name$K,{"Array | Matrix":function(d){return f(d,DEFAULT_NORMALIZATION)},"Array | Matrix, string":f,"Array | Matrix, number | BigNumber":function(d,p){return c(d,p,DEFAULT_NORMALIZATION)},"Array | Matrix, number | BigNumber, string":c,"...":function(d){return f(d,DEFAULT_NORMALIZATION)}});function f(h,d){var p,v=0;if(h.length===0)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");if(deepForEach(h,function(w){try{p=p===void 0?w:s(p,w),v++}catch(x){throw improveErrorMessage(x,"variance",w)}}),v===0)throw new Error("Cannot calculate variance of an empty array");var y=o(p,v);if(p=void 0,deepForEach(h,function(w){var x=n(w,y);p=p===void 0?a(x,x):s(p,a(x,x))}),u(p))return p;switch(d){case"uncorrected":return o(p,v);case"biased":return o(p,v+1);case"unbiased":{var b=isBigNumber(p)?p.mul(0):0;return v===1?b:o(p,v-1)}default:throw new Error('Unknown normalization "'+d+'". Choose "unbiased" (default), "uncorrected", or "biased".')}}function c(h,d,p){try{if(h.length===0)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");return l(h,d,v=>f(v,p))}catch(v){throw improveErrorMessage(v,"variance")}}}),name$J="quantileSeq",dependencies$J=["typed","add","multiply","partitionSelect","compare"],createQuantileSeq=factory(name$J,dependencies$J,t=>{var{typed:r,add:s,multiply:n,partitionSelect:a,compare:o}=t;function l(c,h,d){var p,v,y;if(arguments.length<2||arguments.length>3)throw new SyntaxError("Function quantileSeq requires two or three parameters");if(isCollection(c)){if(d=d||!1,typeof d=="boolean"){if(v=c.valueOf(),isNumber(h)){if(h<0)throw new Error("N/prob must be non-negative");if(h<=1)return u(v,h,d);if(h>1){if(!isInteger$1(h))throw new Error("N must be a positive integer");var b=h+1;p=new Array(h);for(var w=0;w<h;)p[w]=u(v,++w/b,d);return p}}if(isBigNumber(h)){var x=h.constructor;if(h.isNegative())throw new Error("N/prob must be non-negative");if(y=new x(1),h.lte(y))return new x(u(v,h,d));if(h.gt(y)){if(!h.isInteger())throw new Error("N must be a positive integer");var A=h.toNumber();if(A>4294967295)throw new Error("N must be less than or equal to 2^32-1, as that is the maximum length of an Array");var S=new x(A+1);p=new Array(A);for(var _=0;_<A;)p[_]=new x(u(v,new x(++_).div(S),d));return p}}if(isCollection(h)){var $=h.valueOf();p=new Array($.length);for(var M=0;M<p.length;++M){var T=$[M];if(isNumber(T)){if(T<0||T>1)throw new Error("Probability must be between 0 and 1, inclusive")}else if(isBigNumber(T)){if(y=new T.constructor(1),T.isNegative()||T.gt(y))throw new Error("Probability must be between 0 and 1, inclusive")}else throw new TypeError("Unexpected type of argument in function quantileSeq");p[M]=u(v,T,d)}return p}throw new TypeError("Unexpected type of argument in function quantileSeq")}throw new TypeError("Unexpected type of argument in function quantileSeq")}throw new TypeError("Unexpected type of argument in function quantileSeq")}function u(c,h,d){var p=flatten$1(c),v=p.length;if(v===0)throw new Error("Cannot calculate quantile of an empty sequence");if(isNumber(h)){var y=h*(v-1),b=y%1;if(b===0){var w=d?p[y]:a(p,y);return f(w),w}var x=Math.floor(y),A,S;if(d)A=p[x],S=p[x+1];else{S=a(p,x+1),A=p[x];for(var _=0;_<x;++_)o(p[_],A)>0&&(A=p[_])}return f(A),f(S),s(n(A,1-b),n(S,b))}var $=h.times(v-1);if($.isInteger()){$=$.toNumber();var M=d?p[$]:a(p,$);return f(M),M}var T=$.floor(),O=$.minus(T),B=T.toNumber(),J,F;if(d)J=p[B],F=p[B+1];else{F=a(p,B+1),J=p[B];for(var z=0;z<B;++z)o(p[z],J)>0&&(J=p[z])}f(J),f(F);var Z=new O.constructor(1);return s(n(J,Z.minus(O)),n(F,O))}var f=r({"number | BigNumber | Unit":function(h){return h}});return l}),name$I="std",dependencies$I=["typed","map","sqrt","variance"],createStd=factory(name$I,dependencies$I,t=>{var{typed:r,map:s,sqrt:n,variance:a}=t;return r(name$I,{"Array | Matrix":o,"Array | Matrix, string":o,"Array | Matrix, number | BigNumber":o,"Array | Matrix, number | BigNumber, string":o,"...":function(u){return o(u)}});function o(l,u){if(l.length===0)throw new SyntaxError("Function std requires one or more parameters (0 provided)");try{var f=a.apply(null,arguments);return isCollection(f)?s(f,n):n(f)}catch(c){throw c instanceof TypeError&&c.message.indexOf(" variance")!==-1?new TypeError(c.message.replace(" variance"," std")):c}}}),name$H="combinations",dependencies$H=["typed"],createCombinations=factory(name$H,dependencies$H,t=>{var{typed:r}=t;return r(name$H,{"number, number":combinationsNumber,"BigNumber, BigNumber":function(n,a){var o=n.constructor,l,u,f=n.minus(a),c=new o(1);if(!isPositiveInteger$2(n)||!isPositiveInteger$2(a))throw new TypeError("Positive integer value expected in function combinations");if(a.gt(n))throw new TypeError("k must be less than n in function combinations");if(l=c,a.lt(f))for(u=c;u.lte(f);u=u.plus(c))l=l.times(a.plus(u)).dividedBy(u);else for(u=c;u.lte(a);u=u.plus(c))l=l.times(f.plus(u)).dividedBy(u);return l}})});function isPositiveInteger$2(t){return t.isInteger()&&t.gte(0)}var name$G="combinationsWithRep",dependencies$G=["typed"],createCombinationsWithRep=factory(name$G,dependencies$G,t=>{var{typed:r}=t;return r(name$G,{"number, number":function(n,a){if(!isInteger$1(n)||n<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(!isInteger$1(a)||a<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(n<1)throw new TypeError("k must be less than or equal to n + k - 1");if(a<n-1){var o=product(n,n+a-1);return o/product(1,a)}var l=product(a+1,n+a-1);return l/product(1,n-1)},"BigNumber, BigNumber":function(n,a){var o=n.constructor,l,u,f=new o(1),c=n.minus(f);if(!isPositiveInteger$1(n)||!isPositiveInteger$1(a))throw new TypeError("Positive integer value expected in function combinationsWithRep");if(n.lt(f))throw new TypeError("k must be less than or equal to n + k - 1 in function combinationsWithRep");if(l=f,a.lt(c))for(u=f;u.lte(c);u=u.plus(f))l=l.times(a.plus(u)).dividedBy(u);else for(u=f;u.lte(a);u=u.plus(f))l=l.times(c.plus(u)).dividedBy(u);return l}})});function isPositiveInteger$1(t){return t.isInteger()&&t.gte(0)}var name$F="gamma",dependencies$F=["typed","config","multiplyScalar","pow","BigNumber","Complex"],createGamma=factory(name$F,dependencies$F,t=>{var{typed:r,config:s,multiplyScalar:n,pow:a,BigNumber:o,Complex:l}=t;function u(c){if(c.im===0)return gammaNumber(c.re);if(c.re<.5){var h=new l(1-c.re,-c.im),d=new l(Math.PI*c.re,Math.PI*c.im);return new l(Math.PI).div(d.sin()).div(u(h))}c=new l(c.re-1,c.im);for(var p=new l(gammaP[0],0),v=1;v<gammaP.length;++v){var y=new l(gammaP[v],0);p=p.add(y.div(c.add(v)))}var b=new l(c.re+gammaG+.5,c.im),w=Math.sqrt(2*Math.PI),x=b.pow(c.add(.5)),A=b.neg().exp();return p.mul(w).mul(x).mul(A)}return r(name$F,{number:gammaNumber,Complex:u,BigNumber:function(h){if(h.isInteger())return h.isNegative()||h.isZero()?new o(1/0):f(h.minus(1));if(!h.isFinite())return new o(h.isNegative()?NaN:1/0);throw new Error("Integer BigNumber expected")}});function f(c){if(c<8)return new o([1,1,2,6,24,120,720,5040][c]);var h=s.precision+(Math.log(c.toNumber())|0),d=o.clone({precision:h});if(c%2===1)return c.times(f(new o(c-1)));for(var p=c,v=new d(c),y=c.toNumber();p>2;)p-=2,y+=p,v=v.times(y);return new o(v.toPrecision(o.precision))}}),name$E="lgamma",dependencies$E=["Complex","typed"],createLgamma=factory(name$E,dependencies$E,t=>{var{Complex:r,typed:s}=t,n=7,a=7,o=[-.029550653594771242,.00641025641025641,-.0019175269175269176,.0008417508417508417,-.0005952380952380953,.0007936507936507937,-.002777777777777778,.08333333333333333];return s(name$E,{number:lgammaNumber,Complex:l,BigNumber:function(){throw new Error("mathjs doesn't yet provide an implementation of the algorithm lgamma for BigNumber")}});function l(c){var h=6.283185307179586,d=1.1447298858494002,p=.1;if(c.isNaN())return new r(NaN,NaN);if(c.im===0)return new r(lgammaNumber(c.re),0);if(c.re>=n||Math.abs(c.im)>=a)return u(c);if(c.re<=p){var v=copysign(h,c.im)*Math.floor(.5*c.re+.25),y=c.mul(Math.PI).sin().log(),b=l(new r(1-c.re,-c.im));return new r(d,v).sub(y).sub(b)}else return c.im>=0?f(c):f(c.conjugate()).conjugate()}function u(c){for(var h=c.sub(.5).mul(c.log()).sub(c).add(lnSqrt2PI),d=new r(1,0).div(c),p=d.div(c),v=o[0],y=o[1],b=2*p.re,w=p.re*p.re+p.im*p.im,x=2;x<8;x++){var A=y;y=-w*v+o[x],v=b*v+A}var S=d.mul(p.mul(v).add(y));return h.add(S)}function f(c){var h=0,d=0,p=c;for(c=c.add(1);c.re<=n;){p=p.mul(c);var v=p.im<0?1:0;v!==0&&d===0&&h++,d=v,c=c.add(1)}return u(c).sub(p.log()).sub(new r(0,h*2*Math.PI*1))}}),name$D="factorial",dependencies$D=["typed","gamma"],createFactorial=factory(name$D,dependencies$D,t=>{var{typed:r,gamma:s}=t;return r(name$D,{number:function(a){if(a<0)throw new Error("Value must be non-negative");return s(a+1)},BigNumber:function(a){if(a.isNegative())throw new Error("Value must be non-negative");return s(a.plus(1))},"Array | Matrix":r.referToSelf(n=>a=>deepMap(a,n))})}),name$C="kldivergence",dependencies$C=["typed","matrix","divide","sum","multiply","map","dotDivide","log","isNumeric"],createKldivergence=factory(name$C,dependencies$C,t=>{var{typed:r,matrix:s,divide:n,sum:a,multiply:o,map:l,dotDivide:u,log:f,isNumeric:c}=t;return r(name$C,{"Array, Array":function(p,v){return h(s(p),s(v))},"Matrix, Array":function(p,v){return h(p,s(v))},"Array, Matrix":function(p,v){return h(s(p),v)},"Matrix, Matrix":function(p,v){return h(p,v)}});function h(d,p){var v=p.size().length,y=d.size().length;if(v>1)throw new Error("first object must be one dimensional");if(y>1)throw new Error("second object must be one dimensional");if(v!==y)throw new Error("Length of two vectors must be equal");var b=a(d);if(b===0)throw new Error("Sum of elements in first object must be non zero");var w=a(p);if(w===0)throw new Error("Sum of elements in second object must be non zero");var x=n(d,a(d)),A=n(p,a(p)),S=a(o(x,l(u(x,A),_=>f(_))));return c(S)?S:Number.NaN}}),name$B="multinomial",dependencies$B=["typed","add","divide","multiply","factorial","isInteger","isPositive"],createMultinomial=factory(name$B,dependencies$B,t=>{var{typed:r,add:s,divide:n,multiply:a,factorial:o,isInteger:l,isPositive:u}=t;return r(name$B,{"Array | Matrix":function(c){var h=0,d=1;return deepForEach(c,function(p){if(!l(p)||!u(p))throw new TypeError("Positive integer value expected in function multinomial");h=s(h,p),d=a(d,o(p))}),n(o(h),d)}})}),name$A="permutations",dependencies$A=["typed","factorial"],createPermutations=factory(name$A,dependencies$A,t=>{var{typed:r,factorial:s}=t;return r(name$A,{"number | BigNumber":s,"number, number":function(a,o){if(!isInteger$1(a)||a<0)throw new TypeError("Positive integer value expected in function permutations");if(!isInteger$1(o)||o<0)throw new TypeError("Positive integer value expected in function permutations");if(o>a)throw new TypeError("second argument k must be less than or equal to first argument n");return product(a-o+1,a)},"BigNumber, BigNumber":function(a,o){var l,u;if(!isPositiveInteger(a)||!isPositiveInteger(o))throw new TypeError("Positive integer value expected in function permutations");if(o.gt(a))throw new TypeError("second argument k must be less than or equal to first argument n");var f=a.mul(0).add(1);for(l=f,u=a.minus(o).plus(1);u.lte(a);u=u.plus(1))l=l.times(u);return l}})});function isPositiveInteger(t){return t.isInteger()&&t.gte(0)}var alea$1={exports:{}},alea=alea$1.exports,hasRequiredAlea;function requireAlea(){return hasRequiredAlea||(hasRequiredAlea=1,(function(t){(function(r,s,n){function a(f){var c=this,h=u();c.next=function(){var d=2091639*c.s0+c.c*23283064365386963e-26;return c.s0=c.s1,c.s1=c.s2,c.s2=d-(c.c=d|0)},c.c=1,c.s0=h(" "),c.s1=h(" "),c.s2=h(" "),c.s0-=h(f),c.s0<0&&(c.s0+=1),c.s1-=h(f),c.s1<0&&(c.s1+=1),c.s2-=h(f),c.s2<0&&(c.s2+=1),h=null}function o(f,c){return c.c=f.c,c.s0=f.s0,c.s1=f.s1,c.s2=f.s2,c}function l(f,c){var h=new a(f),d=c&&c.state,p=h.next;return p.int32=function(){return h.next()*4294967296|0},p.double=function(){return p()+(p()*2097152|0)*11102230246251565e-32},p.quick=p,d&&(typeof d=="object"&&o(d,h),p.state=function(){return o(h,{})}),p}function u(){var f=4022871197,c=function(h){h=String(h);for(var d=0;d<h.length;d++){f+=h.charCodeAt(d);var p=.02519603282416938*f;f=p>>>0,p-=f,p*=f,f=p>>>0,p-=f,f+=p*4294967296}return(f>>>0)*23283064365386963e-26};return c}s&&s.exports?s.exports=l:this.alea=l})(alea,t)})(alea$1)),alea$1.exports}var xor128$1={exports:{}},xor128=xor128$1.exports,hasRequiredXor128;function requireXor128(){return hasRequiredXor128||(hasRequiredXor128=1,(function(t){(function(r,s,n){function a(u){var f=this,c="";f.x=0,f.y=0,f.z=0,f.w=0,f.next=function(){var d=f.x^f.x<<11;return f.x=f.y,f.y=f.z,f.z=f.w,f.w^=f.w>>>19^d^d>>>8},u===(u|0)?f.x=u:c+=u;for(var h=0;h<c.length+64;h++)f.x^=c.charCodeAt(h)|0,f.next()}function o(u,f){return f.x=u.x,f.y=u.y,f.z=u.z,f.w=u.w,f}function l(u,f){var c=new a(u),h=f&&f.state,d=function(){return(c.next()>>>0)/4294967296};return d.double=function(){do var p=c.next()>>>11,v=(c.next()>>>0)/4294967296,y=(p+v)/(1<<21);while(y===0);return y},d.int32=c.next,d.quick=d,h&&(typeof h=="object"&&o(h,c),d.state=function(){return o(c,{})}),d}s&&s.exports?s.exports=l:this.xor128=l})(xor128,t)})(xor128$1)),xor128$1.exports}var xorwow$1={exports:{}},xorwow=xorwow$1.exports,hasRequiredXorwow;function requireXorwow(){return hasRequiredXorwow||(hasRequiredXorwow=1,(function(t){(function(r,s,n){function a(u){var f=this,c="";f.next=function(){var d=f.x^f.x>>>2;return f.x=f.y,f.y=f.z,f.z=f.w,f.w=f.v,(f.d=f.d+362437|0)+(f.v=f.v^f.v<<4^(d^d<<1))|0},f.x=0,f.y=0,f.z=0,f.w=0,f.v=0,u===(u|0)?f.x=u:c+=u;for(var h=0;h<c.length+64;h++)f.x^=c.charCodeAt(h)|0,h==c.length&&(f.d=f.x<<10^f.x>>>4),f.next()}function o(u,f){return f.x=u.x,f.y=u.y,f.z=u.z,f.w=u.w,f.v=u.v,f.d=u.d,f}function l(u,f){var c=new a(u),h=f&&f.state,d=function(){return(c.next()>>>0)/4294967296};return d.double=function(){do var p=c.next()>>>11,v=(c.next()>>>0)/4294967296,y=(p+v)/(1<<21);while(y===0);return y},d.int32=c.next,d.quick=d,h&&(typeof h=="object"&&o(h,c),d.state=function(){return o(c,{})}),d}s&&s.exports?s.exports=l:this.xorwow=l})(xorwow,t)})(xorwow$1)),xorwow$1.exports}var xorshift7$1={exports:{}},xorshift7=xorshift7$1.exports,hasRequiredXorshift7;function requireXorshift7(){return hasRequiredXorshift7||(hasRequiredXorshift7=1,(function(t){(function(r,s,n){function a(u){var f=this;f.next=function(){var h=f.x,d=f.i,p,v;return p=h[d],p^=p>>>7,v=p^p<<24,p=h[d+1&7],v^=p^p>>>10,p=h[d+3&7],v^=p^p>>>3,p=h[d+4&7],v^=p^p<<7,p=h[d+7&7],p=p^p<<13,v^=p^p<<9,h[d]=v,f.i=d+1&7,v};function c(h,d){var p,v=[];if(d===(d|0))v[0]=d;else for(d=""+d,p=0;p<d.length;++p)v[p&7]=v[p&7]<<15^d.charCodeAt(p)+v[p+1&7]<<13;for(;v.length<8;)v.push(0);for(p=0;p<8&&v[p]===0;++p);for(p==8?v[7]=-1:v[p],h.x=v,h.i=0,p=256;p>0;--p)h.next()}c(f,u)}function o(u,f){return f.x=u.x.slice(),f.i=u.i,f}function l(u,f){u==null&&(u=+new Date);var c=new a(u),h=f&&f.state,d=function(){return(c.next()>>>0)/4294967296};return d.double=function(){do var p=c.next()>>>11,v=(c.next()>>>0)/4294967296,y=(p+v)/(1<<21);while(y===0);return y},d.int32=c.next,d.quick=d,h&&(h.x&&o(h,c),d.state=function(){return o(c,{})}),d}s&&s.exports?s.exports=l:this.xorshift7=l})(xorshift7,t)})(xorshift7$1)),xorshift7$1.exports}var xor4096$1={exports:{}},xor4096=xor4096$1.exports,hasRequiredXor4096;function requireXor4096(){return hasRequiredXor4096||(hasRequiredXor4096=1,(function(t){(function(r,s,n){function a(u){var f=this;f.next=function(){var h=f.w,d=f.X,p=f.i,v,y;return f.w=h=h+1640531527|0,y=d[p+34&127],v=d[p=p+1&127],y^=y<<13,v^=v<<17,y^=y>>>15,v^=v>>>12,y=d[p]=y^v,f.i=p,y+(h^h>>>16)|0};function c(h,d){var p,v,y,b,w,x=[],A=128;for(d===(d|0)?(v=d,d=null):(d=d+"\0",v=0,A=Math.max(A,d.length)),y=0,b=-32;b<A;++b)d&&(v^=d.charCodeAt((b+32)%d.length)),b===0&&(w=v),v^=v<<10,v^=v>>>15,v^=v<<4,v^=v>>>13,b>=0&&(w=w+1640531527|0,p=x[b&127]^=v+w,y=p==0?y+1:0);for(y>=128&&(x[(d&&d.length||0)&127]=-1),y=127,b=512;b>0;--b)v=x[y+34&127],p=x[y=y+1&127],v^=v<<13,p^=p<<17,v^=v>>>15,p^=p>>>12,x[y]=v^p;h.w=w,h.X=x,h.i=y}c(f,u)}function o(u,f){return f.i=u.i,f.w=u.w,f.X=u.X.slice(),f}function l(u,f){u==null&&(u=+new Date);var c=new a(u),h=f&&f.state,d=function(){return(c.next()>>>0)/4294967296};return d.double=function(){do var p=c.next()>>>11,v=(c.next()>>>0)/4294967296,y=(p+v)/(1<<21);while(y===0);return y},d.int32=c.next,d.quick=d,h&&(h.X&&o(h,c),d.state=function(){return o(c,{})}),d}s&&s.exports?s.exports=l:this.xor4096=l})(xor4096,t)})(xor4096$1)),xor4096$1.exports}var tychei$1={exports:{}},tychei=tychei$1.exports,hasRequiredTychei;function requireTychei(){return hasRequiredTychei||(hasRequiredTychei=1,(function(t){(function(r,s,n){function a(u){var f=this,c="";f.next=function(){var d=f.b,p=f.c,v=f.d,y=f.a;return d=d<<25^d>>>7^p,p=p-v|0,v=v<<24^v>>>8^y,y=y-d|0,f.b=d=d<<20^d>>>12^p,f.c=p=p-v|0,f.d=v<<16^p>>>16^y,f.a=y-d|0},f.a=0,f.b=0,f.c=-1640531527,f.d=1367130551,u===Math.floor(u)?(f.a=u/4294967296|0,f.b=u|0):c+=u;for(var h=0;h<c.length+20;h++)f.b^=c.charCodeAt(h)|0,f.next()}function o(u,f){return f.a=u.a,f.b=u.b,f.c=u.c,f.d=u.d,f}function l(u,f){var c=new a(u),h=f&&f.state,d=function(){return(c.next()>>>0)/4294967296};return d.double=function(){do var p=c.next()>>>11,v=(c.next()>>>0)/4294967296,y=(p+v)/(1<<21);while(y===0);return y},d.int32=c.next,d.quick=d,h&&(typeof h=="object"&&o(h,c),d.state=function(){return o(c,{})}),d}s&&s.exports?s.exports=l:this.tychei=l})(tychei,t)})(tychei$1)),tychei$1.exports}var seedrandom$3={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(__viteBrowserExternal$1);var seedrandom$2=seedrandom$3.exports,hasRequiredSeedrandom$1;function requireSeedrandom$1(){return hasRequiredSeedrandom$1||(hasRequiredSeedrandom$1=1,(function(t){(function(r,s,n){var a=256,o=6,l=52,u="random",f=n.pow(a,o),c=n.pow(2,l),h=c*2,d=a-1,p;function v(_,$,M){var T=[];$=$==!0?{entropy:!0}:$||{};var O=x(w($.entropy?[_,S(s)]:_??A(),3),T),B=new y(T),J=function(){for(var F=B.g(o),z=f,Z=0;F<c;)F=(F+Z)*a,z*=a,Z=B.g(1);for(;F>=h;)F/=2,z/=2,Z>>>=1;return(F+Z)/z};return J.int32=function(){return B.g(4)|0},J.quick=function(){return B.g(4)/4294967296},J.double=J,x(S(B.S),s),($.pass||M||function(F,z,Z,se){return se&&(se.S&&b(se,B),F.state=function(){return b(B,{})}),Z?(n[u]=F,z):F})(J,O,"global"in $?$.global:this==n,$.state)}function y(_){var $,M=_.length,T=this,O=0,B=T.i=T.j=0,J=T.S=[];for(M||(_=[M++]);O<a;)J[O]=O++;for(O=0;O<a;O++)J[O]=J[B=d&B+_[O%M]+($=J[O])],J[B]=$;(T.g=function(F){for(var z,Z=0,se=T.i,ie=T.j,U=T.S;F--;)z=U[se=d&se+1],Z=Z*a+U[d&(U[se]=U[ie=d&ie+z])+(U[ie]=z)];return T.i=se,T.j=ie,Z})(a)}function b(_,$){return $.i=_.i,$.j=_.j,$.S=_.S.slice(),$}function w(_,$){var M=[],T=typeof _,O;if($&&T=="object")for(O in _)try{M.push(w(_[O],$-1))}catch{}return M.length?M:T=="string"?_:_+"\0"}function x(_,$){for(var M=_+"",T,O=0;O<M.length;)$[d&O]=d&(T^=$[d&O]*19)+M.charCodeAt(O++);return S($)}function A(){try{var _;return p&&(_=p.randomBytes)?_=_(a):(_=new Uint8Array(a),(r.crypto||r.msCrypto).getRandomValues(_)),S(_)}catch{var $=r.navigator,M=$&&$.plugins;return[+new Date,r,M,r.screen,S(s)]}}function S(_){return String.fromCharCode.apply(0,_)}if(x(n.random(),s),t.exports){t.exports=v;try{p=require$$0}catch{}}else n["seed"+u]=v})(typeof self<"u"?self:seedrandom$2,[],Math)})(seedrandom$3)),seedrandom$3.exports}var seedrandom$1,hasRequiredSeedrandom;function requireSeedrandom(){if(hasRequiredSeedrandom)return seedrandom$1;hasRequiredSeedrandom=1;var t=requireAlea(),r=requireXor128(),s=requireXorwow(),n=requireXorshift7(),a=requireXor4096(),o=requireTychei(),l=requireSeedrandom$1();return l.alea=t,l.xor128=r,l.xorwow=s,l.xorshift7=n,l.xor4096=a,l.tychei=o,seedrandom$1=l,seedrandom$1}var seedrandomExports=requireSeedrandom();const seedrandom=getDefaultExportFromCjs(seedrandomExports);var singletonRandom=seedrandom(Date.now());function createRng(t){var r;function s(a){r=a===null?singletonRandom:seedrandom(String(a))}s(t);function n(){return r()}return n}var name$z="pickRandom",dependencies$z=["typed","config","?on"],createPickRandom=factory(name$z,dependencies$z,t=>{var{typed:r,config:s,on:n}=t,a=createRng(s.randomSeed);return n&&n("config",function(l,u){l.randomSeed!==u.randomSeed&&(a=createRng(l.randomSeed))}),r(name$z,{"Array | Matrix":function(u){return o(u,{})},"Array | Matrix, Object":function(u,f){return o(u,f)},"Array | Matrix, number":function(u,f){return o(u,{number:f})},"Array | Matrix, Array | Matrix":function(u,f){return o(u,{weights:f})},"Array | Matrix, Array | Matrix, number":function(u,f,c){return o(u,{number:c,weights:f})},"Array | Matrix, number, Array | Matrix":function(u,f,c){return o(u,{number:f,weights:c})}});function o(l,u){var{number:f,weights:c,elementWise:h=!0}=u,d=typeof f>"u";d&&(f=1);var p=isMatrix(l)?l.create:isMatrix(c)?c.create:null;l=l.valueOf(),c&&(c=c.valueOf()),h===!0&&(l=flatten$1(l),c=flatten$1(c));var v=0;if(typeof c<"u"){if(c.length!==l.length)throw new Error("Weights must have the same length as possibles");for(var y=0,b=c.length;y<b;y++){if(!isNumber(c[y])||c[y]<0)throw new Error("Weights must be an array of positive numbers");v+=c[y]}}for(var w=l.length,x=[],A;x.length<f;){if(typeof c>"u")A=l[Math.floor(a()*w)];else for(var S=a()*v,_=0,$=l.length;_<$;_++)if(S-=c[_],S<0){A=l[_];break}x.push(A)}return d?x[0]:p?p(x):x}});function randomMatrix(t,r){var s=[];if(t=t.slice(0),t.length>1)for(var n=0,a=t.shift();n<a;n++)s.push(randomMatrix(t,r));else for(var o=0,l=t.shift();o<l;o++)s.push(r());return s}var name$y="random",dependencies$y=["typed","config","?on"],createRandom=factory(name$y,dependencies$y,t=>{var{typed:r,config:s,on:n}=t,a=createRng(s.randomSeed);return n&&n("config",function(u,f){u.randomSeed!==f.randomSeed&&(a=createRng(u.randomSeed))}),r(name$y,{"":()=>l(0,1),number:u=>l(0,u),"number, number":(u,f)=>l(u,f),"Array | Matrix":u=>o(u,0,1),"Array | Matrix, number":(u,f)=>o(u,0,f),"Array | Matrix, number, number":(u,f,c)=>o(u,f,c)});function o(u,f,c){var h=randomMatrix(u.valueOf(),()=>l(f,c));return isMatrix(u)?u.create(h):h}function l(u,f){return u+a()*(f-u)}}),name$x="randomInt",dependencies$x=["typed","config","?on"],createRandomInt=factory(name$x,dependencies$x,t=>{var{typed:r,config:s,on:n}=t,a=createRng(s.randomSeed);return n&&n("config",function(u,f){u.randomSeed!==f.randomSeed&&(a=createRng(u.randomSeed))}),r(name$x,{"":()=>l(0,1),number:u=>l(0,u),"number, number":(u,f)=>l(u,f),"Array | Matrix":u=>o(u,0,1),"Array | Matrix, number":(u,f)=>o(u,0,f),"Array | Matrix, number, number":(u,f,c)=>o(u,f,c)});function o(u,f,c){var h=randomMatrix(u.valueOf(),()=>l(f,c));return isMatrix(u)?u.create(h):h}function l(u,f){return Math.floor(u+a()*(f-u))}}),name$w="stirlingS2",dependencies$w=["typed","addScalar","subtract","multiplyScalar","divideScalar","pow","factorial","combinations","isNegative","isInteger","number","?bignumber","larger"],createStirlingS2=factory(name$w,dependencies$w,t=>{var{typed:r,addScalar:s,subtract:n,multiplyScalar:a,divideScalar:o,pow:l,factorial:u,combinations:f,isNegative:c,isInteger:h,number:d,bignumber:p,larger:v}=t,y=[],b=[];return r(name$w,{"number | BigNumber, number | BigNumber":function(x,A){if(!h(x)||c(x)||!h(A)||c(A))throw new TypeError("Non-negative integer value expected in function stirlingS2");if(v(A,x))throw new TypeError("k must be less than or equal to n in function stirlingS2");var S=!(isNumber(x)&&isNumber(A)),_=S?b:y,$=S?p:d,M=d(x),T=d(A);if(_[M]&&_[M].length>T)return _[M][T];for(var O=0;O<=M;++O)if(_[O]||(_[O]=[$(O===0?1:0)]),O!==0)for(var B=_[O],J=_[O-1],F=B.length;F<=O&&F<=T;++F)F===O?B[F]=1:B[F]=s(a($(F),J[F]),J[F-1]);return _[M][T]}})}),name$v="bellNumbers",dependencies$v=["typed","addScalar","isNegative","isInteger","stirlingS2"],createBellNumbers=factory(name$v,dependencies$v,t=>{var{typed:r,addScalar:s,isNegative:n,isInteger:a,stirlingS2:o}=t;return r(name$v,{"number | BigNumber":function(u){if(!a(u)||n(u))throw new TypeError("Non-negative integer value expected in function bellNumbers");for(var f=0,c=0;c<=u;c++)f=s(f,o(u,c));return f}})}),name$u="catalan",dependencies$u=["typed","addScalar","divideScalar","multiplyScalar","combinations","isNegative","isInteger"],createCatalan=factory(name$u,dependencies$u,t=>{var{typed:r,addScalar:s,divideScalar:n,multiplyScalar:a,combinations:o,isNegative:l,isInteger:u}=t;return r(name$u,{"number | BigNumber":function(c){if(!u(c)||l(c))throw new TypeError("Non-negative integer value expected in function catalan");return n(o(a(c,2),c),s(c,1))}})}),name$t="composition",dependencies$t=["typed","addScalar","combinations","isNegative","isPositive","isInteger","larger"],createComposition=factory(name$t,dependencies$t,t=>{var{typed:r,addScalar:s,combinations:n,isPositive:a,isNegative:o,isInteger:l,larger:u}=t;return r(name$t,{"number | BigNumber, number | BigNumber":function(c,h){if(!l(c)||!a(c)||!l(h)||!a(h))throw new TypeError("Positive integer value expected in function composition");if(u(h,c))throw new TypeError("k must be less than or equal to n in function composition");return n(s(c,-1),s(h,-1))}})}),name$s="leafCount",dependencies$s=["parse","typed"],createLeafCount=factory(name$s,dependencies$s,t=>{var{parse:r,typed:s}=t;function n(a){var o=0;return a.forEach(l=>{o+=n(l)}),o||1}return s(name$s,{Node:function(o){return n(o)}})});function isNumericNode(t){return isConstantNode(t)||isOperatorNode(t)&&t.isUnary()&&isConstantNode(t.args[0])}function isConstantExpression(t){return!!(isConstantNode(t)||(isFunctionNode(t)||isOperatorNode(t))&&t.args.every(isConstantExpression)||isParenthesisNode(t)&&isConstantExpression(t.content))}function ownKeys(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,n)}return s}function _objectSpread(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?ownKeys(Object(s),!0).forEach(function(n){_defineProperty(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):ownKeys(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}var name$r="simplifyUtil",dependencies$r=["FunctionNode","OperatorNode","SymbolNode"],createUtil=factory(name$r,dependencies$r,t=>{var{FunctionNode:r,OperatorNode:s,SymbolNode:n}=t,a=!0,o=!1,l="defaultF",u={add:{trivial:a,total:a,commutative:a,associative:a},unaryPlus:{trivial:a,total:a,commutative:a,associative:a},subtract:{trivial:o,total:a,commutative:o,associative:o},multiply:{trivial:a,total:a,commutative:a,associative:a},divide:{trivial:o,total:a,commutative:o,associative:o},paren:{trivial:a,total:a,commutative:a,associative:o},defaultF:{trivial:o,total:a,commutative:o,associative:o}},f={divide:{total:o},log:{total:o}},c={subtract:{total:o},abs:{trivial:a},log:{total:a}};function h(S,_){var $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:u,M=l;if(typeof S=="string"?M=S:isOperatorNode(S)?M=S.fn.toString():isFunctionNode(S)?M=S.name:isParenthesisNode(S)&&(M="paren"),hasOwnProperty$1($,M)){var T=$[M];if(hasOwnProperty$1(T,_))return T[_];if(hasOwnProperty$1(u,M))return u[M][_]}if(hasOwnProperty$1($,l)){var O=$[l];return hasOwnProperty$1(O,_)?O[_]:u[l][_]}if(hasOwnProperty$1(u,M)){var B=u[M];if(hasOwnProperty$1(B,_))return B[_]}return u[l][_]}function d(S){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u;return h(S,"commutative",_)}function p(S){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u;return h(S,"associative",_)}function v(S,_){var $=_objectSpread({},S);for(var M in _)hasOwnProperty$1(S,M)?$[M]=_objectSpread(_objectSpread({},_[M]),S[M]):$[M]=_[M];return $}function y(S,_){if(!S.args||S.args.length===0)return S;S.args=b(S,_);for(var $=0;$<S.args.length;$++)y(S.args[$],_)}function b(S,_){var $,M=[],T=function O(B){for(var J=0;J<B.args.length;J++){var F=B.args[J];isOperatorNode(F)&&$===F.op?O(F):M.push(F)}};return p(S,_)?($=S.op,T(S),M):S.args}function w(S,_){if(!(!S.args||S.args.length===0)){for(var $=A(S),M=S.args.length,T=0;T<M;T++)w(S.args[T],_);if(M>2&&p(S,_)){for(var O=S.args.pop();S.args.length>0;)O=$([S.args.pop(),O]);S.args=O.args}}}function x(S,_){if(!(!S.args||S.args.length===0)){for(var $=A(S),M=S.args.length,T=0;T<M;T++)x(S.args[T],_);if(M>2&&p(S,_)){for(var O=S.args.shift();S.args.length>0;)O=$([O,S.args.shift()]);S.args=O.args}}}function A(S){return isOperatorNode(S)?function(_){try{return new s(S.op,S.fn,_,S.implicit)}catch($){return console.error($),[]}}:function(_){return new r(new n(S.name),_)}}return{createMakeNodeFunction:A,hasProperty:h,isCommutative:d,isAssociative:p,mergeContext:v,flatten:y,allChildren:b,unflattenr:w,unflattenl:x,defaultContext:u,realContext:f,positiveContext:c}}),name$q="simplify",dependencies$q=["config","typed","parse","add","subtract","multiply","divide","pow","isZero","equal","resolve","simplifyConstant","simplifyCore","?fraction","?bignumber","mathWithTransform","matrix","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode"],createSimplify=factory(name$q,dependencies$q,t=>{var{config:r,typed:s,parse:n,add:a,subtract:o,multiply:l,divide:u,pow:f,isZero:c,equal:h,resolve:d,simplifyConstant:p,simplifyCore:v,fraction:y,bignumber:b,mathWithTransform:w,matrix:x,AccessorNode:A,ArrayNode:S,ConstantNode:_,FunctionNode:$,IndexNode:M,ObjectNode:T,OperatorNode:O,ParenthesisNode:B,SymbolNode:J}=t,{hasProperty:F,isCommutative:z,isAssociative:Z,mergeContext:se,flatten:ie,unflattenr:U,unflattenl:H,createMakeNodeFunction:ue,defaultContext:Y,realContext:K,positiveContext:te}=createUtil({FunctionNode:$,OperatorNode:O,SymbolNode:J});s.addConversion({from:"Object",to:"Map",convert:createMap$1});var ae=s("simplify",{Node:Xe,"Node, Map":(ye,$e)=>Xe(ye,!1,$e),"Node, Map, Object":(ye,$e,Te)=>Xe(ye,!1,$e,Te),"Node, Array":Xe,"Node, Array, Map":Xe,"Node, Array, Map, Object":Xe});s.removeConversion({from:"Object",to:"Map",convert:createMap$1}),ae.defaultContext=Y,ae.realContext=K,ae.positiveContext=te;function ee(ye){return ye.transform(function($e,Te,et){return isParenthesisNode($e)?ee($e.content):$e})}var de={true:!0,false:!0,e:!0,i:!0,Infinity:!0,LN2:!0,LN10:!0,LOG2E:!0,LOG10E:!0,NaN:!0,phi:!0,pi:!0,SQRT1_2:!0,SQRT2:!0,tau:!0};ae.rules=[v,{l:"log(e)",r:"1"},{s:"n-n1 -> n+-n1",assuming:{subtract:{total:!0}}},{s:"n-n -> 0",assuming:{subtract:{total:!1}}},{s:"-(cl*v) -> v * (-cl)",assuming:{multiply:{commutative:!0},subtract:{total:!0}}},{s:"-(cl*v) -> (-cl) * v",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{s:"-(v*cl) -> v * (-cl)",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{l:"-(n1/n2)",r:"-n1/n2"},{l:"-v",r:"v * (-1)"},{l:"(n1 + n2)*(-1)",r:"n1*(-1) + n2*(-1)",repeat:!0},{l:"n/n1^n2",r:"n*n1^-n2"},{l:"n/n1",r:"n*n1^-1"},{s:"(n1*n2)^n3 -> n1^n3 * n2^n3",assuming:{multiply:{commutative:!0}}},{s:"(n1*n2)^(-1) -> n2^(-1) * n1^(-1)",assuming:{multiply:{commutative:!1}}},{s:"(n ^ n1) ^ n2 -> n ^ (n1 * n2)",assuming:{divide:{total:!0}}},{l:" vd   * ( vd   * n1 + n2)",r:"vd^2       * n1 +  vd   * n2"},{s:" vd   * (vd^n4 * n1 + n2)   ->  vd^(1+n4)  * n1 +  vd   * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * ( vd   * n1 + n2)   ->  vd^(n3+1)  * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * (vd^n4 * n1 + n2)   ->  vd^(n3+n4) * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{l:"n*n",r:"n^2"},{s:"n * n^n1 -> n^(n1+1)",assuming:{divide:{total:!0}}},{s:"n^n1 * n^n2 -> n^(n1+n2)",assuming:{divide:{total:!0}}},p,{s:"n+n -> 2*n",assuming:{add:{total:!0}}},{l:"n+-n",r:"0"},{l:"vd*n + vd",r:"vd*(n+1)"},{l:"n3*n1 + n3*n2",r:"n3*(n1+n2)"},{l:"n3^(-n4)*n1 +   n3  * n2",r:"n3^(-n4)*(n1 + n3^(n4+1) *n2)"},{l:"n3^(-n4)*n1 + n3^n5 * n2",r:"n3^(-n4)*(n1 + n3^(n4+n5)*n2)"},{s:"n*vd + vd -> (n+1)*vd",assuming:{multiply:{commutative:!1}}},{s:"vd + n*vd -> (1+n)*vd",assuming:{multiply:{commutative:!1}}},{s:"n1*n3 + n2*n3 -> (n1+n2)*n3",assuming:{multiply:{commutative:!1}}},{s:"n^n1 * n -> n^(n1+1)",assuming:{divide:{total:!0},multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3    -> (n1 + n2*n3^(n4 +  1))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3^n5 -> (n1 + n2*n3^(n4 + n5))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{l:"n*cd + cd",r:"(n+1)*cd"},{s:"cd*n + cd -> cd*(n+1)",assuming:{multiply:{commutative:!1}}},{s:"cd + cd*n -> cd*(1+n)",assuming:{multiply:{commutative:!1}}},p,{s:"(-n)*n1 -> -(n*n1)",assuming:{subtract:{total:!0}}},{s:"n1*(-n) -> -(n1*n)",assuming:{subtract:{total:!0},multiply:{commutative:!1}}},{s:"ce+ve -> ve+ce",assuming:{add:{commutative:!0}},imposeContext:{add:{commutative:!1}}},{s:"vd*cd -> cd*vd",assuming:{multiply:{commutative:!0}},imposeContext:{multiply:{commutative:!1}}},{l:"n+-n1",r:"n-n1"},{s:"n*(n1^-1) -> n/n1",assuming:{multiply:{commutative:!0}}},{s:"n*n1^-n2 -> n/n1^n2",assuming:{multiply:{commutative:!0}}},{s:"n^-1 -> 1/n",assuming:{multiply:{commutative:!0}}},{l:"n^1",r:"n"},{s:"n*(n1/n2) -> (n*n1)/n2",assuming:{multiply:{associative:!0}}},{s:"n-(n1+n2) -> n-n1-n2",assuming:{addition:{associative:!0,commutative:!0}}},{l:"1*n",r:"n",imposeContext:{multiply:{commutative:!0}}},{s:"n1/(n2/n3) -> (n1*n3)/n2",assuming:{multiply:{associative:!0}}},{l:"n1/(-n2)",r:"-n1/n2"}];function ce(ye,$e){var Te={};if(ye.s){var et=ye.s.split("->");if(et.length===2)Te.l=et[0],Te.r=et[1];else throw SyntaxError("Could not parse rule: "+ye.s)}else Te.l=ye.l,Te.r=ye.r;Te.l=ee(n(Te.l)),Te.r=ee(n(Te.r));for(var Ke of["imposeContext","repeat","assuming"])Ke in ye&&(Te[Ke]=ye[Ke]);if(ye.evaluate&&(Te.evaluate=n(ye.evaluate)),Z(Te.l,$e)){var pe=!z(Te.l,$e),ve;pe&&(ve=Ae());var De=ue(Te.l),_e=Ae();Te.expanded={},Te.expanded.l=De([Te.l,_e]),ie(Te.expanded.l,$e),U(Te.expanded.l,$e),Te.expanded.r=De([Te.r,_e]),pe&&(Te.expandedNC1={},Te.expandedNC1.l=De([ve,Te.l]),Te.expandedNC1.r=De([ve,Te.r]),Te.expandedNC2={},Te.expandedNC2.l=De([ve,Te.expanded.l]),Te.expandedNC2.r=De([ve,Te.expanded.r]))}return Te}function xe(ye,$e){for(var Te=[],et=0;et<ye.length;et++){var Ke=ye[et],pe=void 0,ve=typeof Ke;switch(ve){case"string":Ke={s:Ke};case"object":pe=ce(Ke,$e);break;case"function":pe=Ke;break;default:throw TypeError("Unsupported type of rule: "+ve)}Te.push(pe)}return Te}var Me=0;function Ae(){return new J("_p"+Me++)}function Xe(ye,$e){var Te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:createEmptyMap(),et=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},Ke=et.consoleDebug;$e=xe($e||ae.rules,et.context);var pe=d(ye,Te);pe=ee(pe);for(var ve={},De=pe.toString({parenthesis:"all"});!ve[De];){ve[De]=!0,Me=0;var _e=De;Ke&&console.log("Working on: ",De);for(var Oe=0;Oe<$e.length;Oe++){var Ye="";if(typeof $e[Oe]=="function"?(pe=$e[Oe](pe,et),Ke&&(Ye=$e[Oe].name)):(ie(pe,et.context),pe=Ze(pe,$e[Oe],et.context),Ke&&(Ye="".concat($e[Oe].l.toString()," -> ").concat($e[Oe].r.toString()))),Ke){var tt=pe.toString({parenthesis:"all"});tt!==_e&&(console.log("Applying",Ye,"produced",tt),_e=tt)}H(pe,et.context)}De=pe.toString({parenthesis:"all"})}return pe}function Be(ye,$e,Te){var et=ye;if(ye)for(var Ke=0;Ke<ye.length;++Ke){var pe=Ze(ye[Ke],$e,Te);pe!==ye[Ke]&&(et===ye&&(et=ye.slice()),et[Ke]=pe)}return et}function Ze(ye,$e,Te){if($e.assuming){for(var et in $e.assuming)for(var Ke in $e.assuming[et])if(F(et,Ke,Te)!==$e.assuming[et][Ke])return ye}var pe=se($e.imposeContext,Te),ve=ye;if(ve instanceof O||ve instanceof $){var De=Be(ve.args,$e,Te);De!==ve.args&&(ve=ve.clone(),ve.args=De)}else if(ve instanceof B){if(ve.content){var _e=Ze(ve.content,$e,Te);_e!==ve.content&&(ve=new B(_e))}}else if(ve instanceof S){var Oe=Be(ve.items,$e,Te);Oe!==ve.items&&(ve=new S(Oe))}else if(ve instanceof A){var Ye=ve.object;ve.object&&(Ye=Ze(ve.object,$e,Te));var tt=ve.index;ve.index&&(tt=Ze(ve.index,$e,Te)),(Ye!==ve.object||tt!==ve.index)&&(ve=new A(Ye,tt))}else if(ve instanceof M){var Ve=Be(ve.dimensions,$e,Te);Ve!==ve.dimensions&&(ve=new M(Ve))}else if(ve instanceof T){var qe=!1,Fe={};for(var at in ve.properties)Fe[at]=Ze(ve.properties[at],$e,Te),Fe[at]!==ve.properties[at]&&(qe=!0);qe&&(ve=new T(Fe))}var vt=$e.r,pt=be($e.l,ve,pe)[0];if(!pt&&$e.expanded&&(vt=$e.expanded.r,pt=be($e.expanded.l,ve,pe)[0]),!pt&&$e.expandedNC1&&(vt=$e.expandedNC1.r,pt=be($e.expandedNC1.l,ve,pe)[0],pt||(vt=$e.expandedNC2.r,pt=be($e.expandedNC2.l,ve,pe)[0])),pt){var He=ve.implicit;ve=vt.clone(),He&&"implicit"in vt&&(ve.implicit=!0),ve=ve.transform(function(ht){return ht.isSymbolNode&&hasOwnProperty$1(pt.placeholders,ht.name)?pt.placeholders[ht.name].clone():ht})}return $e.repeat&&ve!==ye&&(ve=Ze(ve,$e,Te)),ve}function nt(ye,$e){var Te=[],et,Ke,pe=ue(ye);if(z(ye,$e))for(var ve=0;ve<ye.args.length;ve++)Ke=ye.args.slice(0),Ke.splice(ve,1),et=Ke.length===1?Ke[0]:pe(Ke),Te.push(pe([ye.args[ve],et]));else for(var De=1;De<ye.args.length;De++){var _e=ye.args[0];De>1&&(_e=pe(ye.args.slice(0,De))),Ke=ye.args.slice(De),et=Ke.length===1?Ke[0]:pe(Ke),Te.push(pe([_e,et]))}return Te}function rt(ye,$e){var Te={placeholders:{}};if(!ye.placeholders&&!$e.placeholders)return Te;if(ye.placeholders){if(!$e.placeholders)return ye}else return $e;for(var et in ye.placeholders)if(hasOwnProperty$1(ye.placeholders,et)&&(Te.placeholders[et]=ye.placeholders[et],hasOwnProperty$1($e.placeholders,et)&&!Re(ye.placeholders[et],$e.placeholders[et])))return null;for(var Ke in $e.placeholders)hasOwnProperty$1($e.placeholders,Ke)&&(Te.placeholders[Ke]=$e.placeholders[Ke]);return Te}function it(ye,$e){var Te=[];if(ye.length===0||$e.length===0)return Te;for(var et,Ke=0;Ke<ye.length;Ke++)for(var pe=0;pe<$e.length;pe++)et=rt(ye[Ke],$e[pe]),et&&Te.push(et);return Te}function me(ye){if(ye.length===0)return ye;for(var $e=ye.reduce(it),Te=[],et={},Ke=0;Ke<$e.length;Ke++){var pe=JSON.stringify($e[Ke]);et[pe]||(et[pe]=!0,Te.push($e[Ke]))}return Te}function be(ye,$e,Te,et){var Ke=[{placeholders:{}}];if(ye instanceof O&&$e instanceof O||ye instanceof $&&$e instanceof $){if(ye instanceof O){if(ye.op!==$e.op||ye.fn!==$e.fn)return[]}else if(ye instanceof $&&ye.name!==$e.name)return[];if($e.args.length===1&&ye.args.length===1||!Z($e,Te)&&$e.args.length===ye.args.length||et){for(var pe=[],ve=0;ve<ye.args.length;ve++){var De=be(ye.args[ve],$e.args[ve],Te);if(De.length===0)break;pe.push(De)}if(pe.length!==ye.args.length){if(!z($e,Te)||ye.args.length===1)return[];if(ye.args.length>2)throw new Error("permuting >2 commutative non-associative rule arguments not yet implemented");var _e=be(ye.args[0],$e.args[1],Te);if(_e.length===0)return[];var Oe=be(ye.args[1],$e.args[0],Te);if(Oe.length===0)return[];pe=[_e,Oe]}Ke=me(pe)}else if($e.args.length>=2&&ye.args.length===2){for(var Ye=nt($e,Te),tt=[],Ve=0;Ve<Ye.length;Ve++){var qe=be(ye,Ye[Ve],Te,!0);tt=tt.concat(qe)}return tt}else{if(ye.args.length>2)throw Error("Unexpected non-binary associative function: "+ye.toString());return[]}}else if(ye instanceof J){if(ye.name.length===0)throw new Error("Symbol in rule has 0 length...!?");if(de[ye.name]){if(ye.name!==$e.name)return[]}else switch(ye.name[1]>="a"&&ye.name[1]<="z"?ye.name.substring(0,2):ye.name[0]){case"n":case"_p":Ke[0].placeholders[ye.name]=$e;break;case"c":case"cl":if(isConstantNode($e))Ke[0].placeholders[ye.name]=$e;else return[];break;case"v":if(!isConstantNode($e))Ke[0].placeholders[ye.name]=$e;else return[];break;case"vl":if(isSymbolNode($e))Ke[0].placeholders[ye.name]=$e;else return[];break;case"cd":if(isNumericNode($e))Ke[0].placeholders[ye.name]=$e;else return[];break;case"vd":if(!isNumericNode($e))Ke[0].placeholders[ye.name]=$e;else return[];break;case"ce":if(isConstantExpression($e))Ke[0].placeholders[ye.name]=$e;else return[];break;case"ve":if(!isConstantExpression($e))Ke[0].placeholders[ye.name]=$e;else return[];break;default:throw new Error("Invalid symbol in rule: "+ye.name)}}else if(ye instanceof _){if(!h(ye.value,$e.value))return[]}else return[];return Ke}function Re(ye,$e){if(ye instanceof _&&$e instanceof _){if(!h(ye.value,$e.value))return!1}else if(ye instanceof J&&$e instanceof J){if(ye.name!==$e.name)return!1}else if(ye instanceof O&&$e instanceof O||ye instanceof $&&$e instanceof $){if(ye instanceof O){if(ye.op!==$e.op||ye.fn!==$e.fn)return!1}else if(ye instanceof $&&ye.name!==$e.name)return!1;if(ye.args.length!==$e.args.length)return!1;for(var Te=0;Te<ye.args.length;Te++)if(!Re(ye.args[Te],$e.args[Te]))return!1}else return!1;return!0}return ae}),name$p="simplifyConstant",dependencies$p=["typed","config","mathWithTransform","matrix","?fraction","?bignumber","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode"],createSimplifyConstant=factory(name$p,dependencies$p,t=>{var{typed:r,config:s,mathWithTransform:n,matrix:a,fraction:o,bignumber:l,AccessorNode:u,ArrayNode:f,ConstantNode:c,FunctionNode:h,IndexNode:d,ObjectNode:p,OperatorNode:v,SymbolNode:y}=t,{isCommutative:b,isAssociative:w,allChildren:x,createMakeNodeFunction:A}=createUtil({FunctionNode:h,OperatorNode:v,SymbolNode:y}),S=r("simplifyConstant",{Node:ie=>T(se(ie,{})),"Node, Object":function(U,H){return T(se(U,H))}});function _(ie){return isFraction(ie)?ie.valueOf():ie instanceof Array?ie.map(_):isMatrix(ie)?a(_(ie.valueOf())):ie}function $(ie,U,H){try{return n[ie].apply(null,U)}catch{return U=U.map(_),B(n[ie].apply(null,U),H)}}var M=r({Fraction:F,number:function(U){return U<0?J(new c(-U)):new c(U)},BigNumber:function(U){return U<0?J(new c(-U)):new c(U)},Complex:function(U){throw new Error("Cannot convert Complex number to Node")},string:function(U){return new c(U)},Matrix:function(U){return new f(U.valueOf().map(H=>M(H)))}});function T(ie){return isNode(ie)?ie:M(ie)}function O(ie,U){var H=U&&U.exactFractions!==!1;if(H&&isFinite(ie)&&o){var ue=o(ie),Y=U&&typeof U.fractionsLimit=="number"?U.fractionsLimit:1/0;if(ue.valueOf()===ie&&ue.n<Y&&ue.d<Y)return ue}return ie}var B=r({"string, Object":function(U,H){if(s.number==="BigNumber")return l===void 0&&noBignumber(),l(U);if(s.number==="Fraction")return o===void 0&&noFraction(),o(U);var ue=parseFloat(U);return O(ue,H)},"Fraction, Object":function(U,H){return U},"BigNumber, Object":function(U,H){return U},"number, Object":function(U,H){return O(U,H)},"Complex, Object":function(U,H){return U.im!==0?U:O(U.re,H)},"Matrix, Object":function(U,H){return a(O(U.valueOf()))},"Array, Object":function(U,H){return U.map(O)}});function J(ie){return new v("-","unaryMinus",[ie])}function F(ie){var U,H=ie.s*ie.n;return H<0?U=new v("-","unaryMinus",[new c(-H)]):U=new c(H),ie.d===1?U:new v("/","divide",[U,new c(ie.d)])}function z(ie,U,H){if(!isIndexNode(U))return new u(T(ie),T(U));if(isArrayNode(ie)||isMatrix(ie)){for(var ue=Array.from(U.dimensions);ue.length>0;)if(isConstantNode(ue[0])&&typeof ue[0].value!="string"){var Y=B(ue.shift().value,H);isArrayNode(ie)?ie=ie.items[Y-1]:(ie=ie.valueOf()[Y-1],ie instanceof Array&&(ie=a(ie)))}else if(ue.length>1&&isConstantNode(ue[1])&&typeof ue[1].value!="string"){var K=B(ue[1].value,H),te=[],ae=isArrayNode(ie)?ie.items:ie.valueOf();for(var ee of ae)if(isArrayNode(ee))te.push(ee.items[K-1]);else if(isMatrix(ie))te.push(ee[K-1]);else break;if(te.length===ae.length)isArrayNode(ie)?ie=new f(te):ie=a(te),ue.splice(1,1);else break}else break;return ue.length===U.dimensions.length?new u(T(ie),U):ue.length>0?(U=new d(ue),new u(T(ie),U)):ie}if(isObjectNode(ie)&&U.dimensions.length===1&&isConstantNode(U.dimensions[0])){var de=U.dimensions[0].value;return de in ie.properties?ie.properties[de]:new c}return new u(T(ie),U)}function Z(ie,U,H,ue){var Y=U.shift(),K=U.reduce((te,ae)=>{if(!isNode(ae)){var ee=te.pop();if(isNode(ee))return[ee,ae];try{return te.push($(ie,[ee,ae],ue)),te}catch{te.push(ee)}}te.push(T(te.pop()));var de=te.length===1?te[0]:H(te);return[H([de,T(ae)])]},[Y]);return K.length===1?K[0]:H([K[0],M(K[1])])}function se(ie,U){switch(ie.type){case"SymbolNode":return ie;case"ConstantNode":switch(typeof ie.value){case"number":return B(ie.value,U);case"string":return ie.value;default:if(!isNaN(ie.value))return B(ie.value,U)}return ie;case"FunctionNode":if(n[ie.name]&&n[ie.name].rawArgs)return ie;{var H=["add","multiply"];if(H.indexOf(ie.name)===-1){var ue=ie.args.map(Ze=>se(Ze,U));if(!ue.some(isNode))try{return $(ie.name,ue,U)}catch{}if(ie.name==="size"&&ue.length===1&&isArrayNode(ue[0])){for(var Y=[],K=ue[0];isArrayNode(K);)Y.push(K.items.length),K=K.items[0];return a(Y)}return new h(ie.name,ue.map(T))}}case"OperatorNode":{var te=ie.fn.toString(),ae,ee,de=A(ie);if(isOperatorNode(ie)&&ie.isUnary())ae=[se(ie.args[0],U)],isNode(ae[0])?ee=de(ae):ee=$(te,ae,U);else if(w(ie,U.context))if(ae=x(ie,U.context),ae=ae.map(Ze=>se(Ze,U)),b(te,U.context)){for(var ce=[],xe=[],Me=0;Me<ae.length;Me++)isNode(ae[Me])?xe.push(ae[Me]):ce.push(ae[Me]);ce.length>1?(ee=Z(te,ce,de,U),xe.unshift(ee),ee=Z(te,xe,de,U)):ee=Z(te,ae,de,U)}else ee=Z(te,ae,de,U);else ae=ie.args.map(Ze=>se(Ze,U)),ee=Z(te,ae,de,U);return ee}case"ParenthesisNode":return se(ie.content,U);case"AccessorNode":return z(se(ie.object,U),se(ie.index,U),U);case"ArrayNode":{var Ae=ie.items.map(Ze=>se(Ze,U));return Ae.some(isNode)?new f(Ae.map(T)):a(Ae)}case"IndexNode":return new d(ie.dimensions.map(Ze=>S(Ze,U)));case"ObjectNode":{var Xe={};for(var Be in ie.properties)Xe[Be]=S(ie.properties[Be],U);return new p(Xe)}case"AssignmentNode":case"BlockNode":case"FunctionAssignmentNode":case"RangeNode":case"ConditionalNode":default:throw new Error("Unimplemented node type in simplifyConstant: ".concat(ie.type))}}return S}),name$o="simplifyCore",dependencies$o=["typed","parse","equal","isZero","add","subtract","multiply","divide","pow","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode"],createSimplifyCore=factory(name$o,dependencies$o,t=>{var{typed:r,parse:s,equal:n,isZero:a,add:o,subtract:l,multiply:u,divide:f,pow:c,AccessorNode:h,ArrayNode:d,ConstantNode:p,FunctionNode:v,IndexNode:y,ObjectNode:b,OperatorNode:w,ParenthesisNode:x,SymbolNode:A}=t,S=new p(0),_=new p(1),$=new p(!0),M=new p(!1);function T(F){return isOperatorNode(F)&&["and","not","or"].includes(F.op)}var{hasProperty:O,isCommutative:B}=createUtil({FunctionNode:v,OperatorNode:w,SymbolNode:A});function J(F){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Z=z?z.context:void 0;if(O(F,"trivial",Z)){if(isFunctionNode(F)&&F.args.length===1)return J(F.args[0],z);var se=!1,ie=0;if(F.forEach(xe=>{++ie,ie===1&&(se=J(xe,z))}),ie===1)return se}var U=F;if(isFunctionNode(U)){var H=getOperator(U.name);if(H){if(U.args.length>2&&O(U,"associative",Z))for(;U.args.length>2;){var ue=U.args.pop(),Y=U.args.pop();U.args.push(new w(H,U.name,[ue,Y]))}U=new w(H,U.name,U.args)}else return new v(J(U.fn),U.args.map(xe=>J(xe,z)))}if(isOperatorNode(U)&&U.isUnary()){var K=J(U.args[0],z);if(U.op==="~"&&isOperatorNode(K)&&K.isUnary()&&K.op==="~"||U.op==="not"&&isOperatorNode(K)&&K.isUnary()&&K.op==="not"&&T(K.args[0]))return K.args[0];var te=!0;if(U.op==="-"&&isOperatorNode(K)&&(K.isBinary()&&K.fn==="subtract"&&(U=new w("-","subtract",[K.args[1],K.args[0]]),te=!1),K.isUnary()&&K.op==="-"))return K.args[0];if(te)return new w(U.op,U.fn,[K])}if(isOperatorNode(U)&&U.isBinary()){var ae=J(U.args[0],z),ee=J(U.args[1],z);if(U.op==="+"){if(isConstantNode(ae)&&a(ae.value))return ee;if(isConstantNode(ee)&&a(ee.value))return ae;isOperatorNode(ee)&&ee.isUnary()&&ee.op==="-"&&(ee=ee.args[0],U=new w("-","subtract",[ae,ee]))}if(U.op==="-")return isOperatorNode(ee)&&ee.isUnary()&&ee.op==="-"?J(new w("+","add",[ae,ee.args[0]]),z):isConstantNode(ae)&&a(ae.value)?J(new w("-","unaryMinus",[ee])):isConstantNode(ee)&&a(ee.value)?ae:new w(U.op,U.fn,[ae,ee]);if(U.op==="*"){if(isConstantNode(ae)){if(a(ae.value))return S;if(n(ae.value,1))return ee}if(isConstantNode(ee)){if(a(ee.value))return S;if(n(ee.value,1))return ae;if(B(U,Z))return new w(U.op,U.fn,[ee,ae],U.implicit)}return new w(U.op,U.fn,[ae,ee],U.implicit)}if(U.op==="/")return isConstantNode(ae)&&a(ae.value)?S:isConstantNode(ee)&&n(ee.value,1)?ae:new w(U.op,U.fn,[ae,ee]);if(U.op==="^"&&isConstantNode(ee)){if(a(ee.value))return _;if(n(ee.value,1))return ae}if(U.op==="and"){if(isConstantNode(ae))if(ae.value){if(T(ee))return ee}else return M;if(isConstantNode(ee))if(ee.value){if(T(ae))return ae}else return M}if(U.op==="or"){if(isConstantNode(ae)){if(ae.value)return $;if(T(ee))return ee}if(isConstantNode(ee)){if(ee.value)return $;if(T(ae))return ae}}return new w(U.op,U.fn,[ae,ee])}if(isOperatorNode(U))return new w(U.op,U.fn,U.args.map(xe=>J(xe,z)));if(isArrayNode(U))return new d(U.items.map(xe=>J(xe,z)));if(isAccessorNode(U))return new h(J(U.object,z),J(U.index,z));if(isIndexNode(U))return new y(U.dimensions.map(xe=>J(xe,z)));if(isObjectNode(U)){var de={};for(var ce in U.properties)de[ce]=J(U.properties[ce],z);return new b(de)}return U}return r(name$o,{Node:J,"Node,Object":J})}),name$n="resolve",dependencies$n=["typed","parse","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode"],createResolve=factory(name$n,dependencies$n,t=>{var{typed:r,parse:s,ConstantNode:n,FunctionNode:a,OperatorNode:o,ParenthesisNode:l}=t;function u(f,c){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:new Set;if(!c)return f;if(isSymbolNode(f)){if(h.has(f.name)){var d=Array.from(h).join(", ");throw new ReferenceError("recursive loop of variable definitions among {".concat(d,"}"))}var p=c.get(f.name);if(isNode(p)){var v=new Set(h);return v.add(f.name),u(p,c,v)}else return typeof p=="number"?s(String(p)):p!==void 0?new n(p):f}else if(isOperatorNode(f)){var y=f.args.map(function(w){return u(w,c,h)});return new o(f.op,f.fn,y,f.implicit)}else{if(isParenthesisNode(f))return new l(u(f.content,c,h));if(isFunctionNode(f)){var b=f.args.map(function(w){return u(w,c,h)});return new a(f.name,b)}}return f.map(w=>u(w,c,h))}return r("resolve",{Node:u,"Node, Map | null | undefined":u,"Node, Object":(f,c)=>u(f,createMap$1(c)),"Array | Matrix":r.referToSelf(f=>c=>c.map(h=>f(h))),"Array | Matrix, null | undefined":r.referToSelf(f=>c=>c.map(h=>f(h))),"Array, Object":r.referTo("Array,Map",f=>(c,h)=>f(c,createMap$1(h))),"Matrix, Object":r.referTo("Matrix,Map",f=>(c,h)=>f(c,createMap$1(h))),"Array | Matrix, Map":r.referToSelf(f=>(c,h)=>c.map(d=>f(d,h)))})}),name$m="symbolicEqual",dependencies$m=["parse","simplify","typed","OperatorNode"],createSymbolicEqual=factory(name$m,dependencies$m,t=>{var{parse:r,simplify:s,typed:n,OperatorNode:a}=t;function o(l,u){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},c=new a("-","subtract",[l,u]),h=s(c,{},f);return isConstantNode(h)&&!h.value}return n(name$m,{"Node, Node":o,"Node, Node, Object":o})}),name$l="derivative",dependencies$l=["typed","config","parse","simplify","equal","isZero","numeric","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode","SymbolNode"],createDerivative=factory(name$l,dependencies$l,t=>{var{typed:r,config:s,parse:n,simplify:a,equal:o,isZero:l,numeric:u,ConstantNode:f,FunctionNode:c,OperatorNode:h,ParenthesisNode:d,SymbolNode:p}=t;function v(_,$){var M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{simplify:!0},T={};w(T,_,$.name);var O=x(_,T);return M.simplify?a(O):O}r.addConversion({from:"identifier",to:"SymbolNode",convert:n});var y=r(name$l,{"Node, SymbolNode":v,"Node, SymbolNode, Object":v});r.removeConversion({from:"identifier",to:"SymbolNode",convert:n}),y._simplify=!0,y.toTex=function(_){return b.apply(null,_.args)};var b=r("_derivTex",{"Node, SymbolNode":function($,M){return isConstantNode($)&&typeOf$1($.value)==="string"?b(n($.value).toString(),M.toString(),1):b($.toTex(),M.toString(),1)},"Node, ConstantNode":function($,M){if(typeOf$1(M.value)==="string")return b($,n(M.value));throw new Error("The second parameter to 'derivative' is a non-string constant")},"Node, SymbolNode, ConstantNode":function($,M,T){return b($.toString(),M.name,T.value)},"string, string, number":function($,M,T){var O;return T===1?O="{d\\over d"+M+"}":O="{d^{"+T+"}\\over d"+M+"^{"+T+"}}",O+"\\left[".concat($,"\\right]")}}),w=r("constTag",{"Object, ConstantNode, string":function($,M){return $[M]=!0,!0},"Object, SymbolNode, string":function($,M,T){return M.name!==T?($[M]=!0,!0):!1},"Object, ParenthesisNode, string":function($,M,T){return w($,M.content,T)},"Object, FunctionAssignmentNode, string":function($,M,T){return M.params.indexOf(T)===-1?($[M]=!0,!0):w($,M.expr,T)},"Object, FunctionNode | OperatorNode, string":function($,M,T){if(M.args.length>0){for(var O=w($,M.args[0],T),B=1;B<M.args.length;++B)O=w($,M.args[B],T)&&O;if(O)return $[M]=!0,!0}return!1}}),x=r("_derivative",{"ConstantNode, Object":function($){return S(0)},"SymbolNode, Object":function($,M){return M[$]!==void 0?S(0):S(1)},"ParenthesisNode, Object":function($,M){return new d(x($.content,M))},"FunctionAssignmentNode, Object":function($,M){return M[$]!==void 0?S(0):x($.expr,M)},"FunctionNode, Object":function($,M){if($.args.length!==1&&A($),M[$]!==void 0)return S(0);var T=$.args[0],O,B=!1,J=!1,F;switch($.name){case"cbrt":B=!0,F=new h("*","multiply",[S(3),new h("^","pow",[T,new h("/","divide",[S(2),S(3)])])]);break;case"sqrt":case"nthRoot":if($.args.length===1)B=!0,F=new h("*","multiply",[S(2),new c("sqrt",[T])]);else if($.args.length===2)return O=new h("/","divide",[S(1),$.args[1]]),M[O]=M[$.args[1]],x(new h("^","pow",[T,O]),M);break;case"log10":O=S(10);case"log":if(!O&&$.args.length===1)F=T.clone(),B=!0;else if($.args.length===1&&O||$.args.length===2&&M[$.args[1]]!==void 0)F=new h("*","multiply",[T.clone(),new c("log",[O||$.args[1]])]),B=!0;else if($.args.length===2)return x(new h("/","divide",[new c("log",[T]),new c("log",[$.args[1]])]),M);break;case"pow":return M[O]=M[$.args[1]],x(new h("^","pow",[T,$.args[1]]),M);case"exp":F=new c("exp",[T.clone()]);break;case"sin":F=new c("cos",[T.clone()]);break;case"cos":F=new h("-","unaryMinus",[new c("sin",[T.clone()])]);break;case"tan":F=new h("^","pow",[new c("sec",[T.clone()]),S(2)]);break;case"sec":F=new h("*","multiply",[$,new c("tan",[T.clone()])]);break;case"csc":J=!0,F=new h("*","multiply",[$,new c("cot",[T.clone()])]);break;case"cot":J=!0,F=new h("^","pow",[new c("csc",[T.clone()]),S(2)]);break;case"asin":B=!0,F=new c("sqrt",[new h("-","subtract",[S(1),new h("^","pow",[T.clone(),S(2)])])]);break;case"acos":B=!0,J=!0,F=new c("sqrt",[new h("-","subtract",[S(1),new h("^","pow",[T.clone(),S(2)])])]);break;case"atan":B=!0,F=new h("+","add",[new h("^","pow",[T.clone(),S(2)]),S(1)]);break;case"asec":B=!0,F=new h("*","multiply",[new c("abs",[T.clone()]),new c("sqrt",[new h("-","subtract",[new h("^","pow",[T.clone(),S(2)]),S(1)])])]);break;case"acsc":B=!0,J=!0,F=new h("*","multiply",[new c("abs",[T.clone()]),new c("sqrt",[new h("-","subtract",[new h("^","pow",[T.clone(),S(2)]),S(1)])])]);break;case"acot":B=!0,J=!0,F=new h("+","add",[new h("^","pow",[T.clone(),S(2)]),S(1)]);break;case"sinh":F=new c("cosh",[T.clone()]);break;case"cosh":F=new c("sinh",[T.clone()]);break;case"tanh":F=new h("^","pow",[new c("sech",[T.clone()]),S(2)]);break;case"sech":J=!0,F=new h("*","multiply",[$,new c("tanh",[T.clone()])]);break;case"csch":J=!0,F=new h("*","multiply",[$,new c("coth",[T.clone()])]);break;case"coth":J=!0,F=new h("^","pow",[new c("csch",[T.clone()]),S(2)]);break;case"asinh":B=!0,F=new c("sqrt",[new h("+","add",[new h("^","pow",[T.clone(),S(2)]),S(1)])]);break;case"acosh":B=!0,F=new c("sqrt",[new h("-","subtract",[new h("^","pow",[T.clone(),S(2)]),S(1)])]);break;case"atanh":B=!0,F=new h("-","subtract",[S(1),new h("^","pow",[T.clone(),S(2)])]);break;case"asech":B=!0,J=!0,F=new h("*","multiply",[T.clone(),new c("sqrt",[new h("-","subtract",[S(1),new h("^","pow",[T.clone(),S(2)])])])]);break;case"acsch":B=!0,J=!0,F=new h("*","multiply",[new c("abs",[T.clone()]),new c("sqrt",[new h("+","add",[new h("^","pow",[T.clone(),S(2)]),S(1)])])]);break;case"acoth":B=!0,J=!0,F=new h("-","subtract",[S(1),new h("^","pow",[T.clone(),S(2)])]);break;case"abs":F=new h("/","divide",[new c(new p("abs"),[T.clone()]),T.clone()]);break;case"gamma":default:throw new Error('Function "'+$.name+'" is not supported by derivative, or a wrong number of arguments is passed')}var z,Z;B?(z="/",Z="divide"):(z="*",Z="multiply");var se=x(T,M);return J&&(se=new h("-","unaryMinus",[se])),new h(z,Z,[se,F])},"OperatorNode, Object":function($,M){if(M[$]!==void 0)return S(0);if($.op==="+")return new h($.op,$.fn,$.args.map(function(U){return x(U,M)}));if($.op==="-"){if($.isUnary())return new h($.op,$.fn,[x($.args[0],M)]);if($.isBinary())return new h($.op,$.fn,[x($.args[0],M),x($.args[1],M)])}if($.op==="*"){var T=$.args.filter(function(U){return M[U]!==void 0});if(T.length>0){var O=$.args.filter(function(U){return M[U]===void 0}),B=O.length===1?O[0]:new h("*","multiply",O),J=T.concat(x(B,M));return new h("*","multiply",J)}return new h("+","add",$.args.map(function(U){return new h("*","multiply",$.args.map(function(H){return H===U?x(H,M):H.clone()}))}))}if($.op==="/"&&$.isBinary()){var F=$.args[0],z=$.args[1];return M[z]!==void 0?new h("/","divide",[x(F,M),z]):M[F]!==void 0?new h("*","multiply",[new h("-","unaryMinus",[F]),new h("/","divide",[x(z,M),new h("^","pow",[z.clone(),S(2)])])]):new h("/","divide",[new h("-","subtract",[new h("*","multiply",[x(F,M),z.clone()]),new h("*","multiply",[F.clone(),x(z,M)])]),new h("^","pow",[z.clone(),S(2)])])}if($.op==="^"&&$.isBinary()){var Z=$.args[0],se=$.args[1];if(M[Z]!==void 0)return isConstantNode(Z)&&(l(Z.value)||o(Z.value,1))?S(0):new h("*","multiply",[$,new h("*","multiply",[new c("log",[Z.clone()]),x(se.clone(),M)])]);if(M[se]!==void 0){if(isConstantNode(se)){if(l(se.value))return S(0);if(o(se.value,1))return x(Z,M)}var ie=new h("^","pow",[Z.clone(),new h("-","subtract",[se,S(1)])]);return new h("*","multiply",[se.clone(),new h("*","multiply",[x(Z,M),ie])])}return new h("*","multiply",[new h("^","pow",[Z.clone(),se.clone()]),new h("+","add",[new h("*","multiply",[x(Z,M),new h("/","divide",[se.clone(),Z.clone()])]),new h("*","multiply",[x(se,M),new c("log",[Z.clone()])])])])}throw new Error('Operator "'+$.op+'" is not supported by derivative, or a wrong number of arguments is passed')}});function A(_){if(!((_.name==="log"||_.name==="nthRoot"||_.name==="pow")&&_.args.length===2)){for(var $=0;$<_.args.length;++$)_.args[$]=S(0);throw _.compile().evaluate(),new Error("Expected TypeError, but none found")}}function S(_,$){return new f(u(_,s.number))}return y}),name$k="rationalize",dependencies$k=["config","typed","equal","isZero","add","subtract","multiply","divide","pow","parse","simplifyConstant","simplifyCore","simplify","?bignumber","?fraction","mathWithTransform","matrix","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode","ParenthesisNode"],createRationalize=factory(name$k,dependencies$k,t=>{var{config:r,typed:s,equal:n,isZero:a,add:o,subtract:l,multiply:u,divide:f,pow:c,parse:h,simplifyConstant:d,simplifyCore:p,simplify:v,fraction:y,bignumber:b,mathWithTransform:w,matrix:x,AccessorNode:A,ArrayNode:S,ConstantNode:_,FunctionNode:$,IndexNode:M,ObjectNode:T,OperatorNode:O,SymbolNode:B,ParenthesisNode:J}=t;function F(U){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,Y=Z(),K=z(U,H,!0,Y.firstRules),te=K.variables.length,ae={exactFractions:!1},ee={exactFractions:!0};if(U=K.expression,te>=1){U=se(U);var de,ce,xe=!0,Me=!1;U=v(U,Y.firstRules,{},ae);for(var Ae;ce=xe?Y.distrDivRules:Y.sucDivRules,U=v(U,ce,{},ee),xe=!xe,Ae=U.toString(),Ae!==de;)Me=!0,de=Ae;Me&&(U=v(U,Y.firstRulesAgain,{},ae)),U=v(U,Y.finalRules,{},ae)}var Xe=[],Be={};return U.type==="OperatorNode"&&U.isBinary()&&U.op==="/"?(te===1&&(U.args[0]=ie(U.args[0],Xe),U.args[1]=ie(U.args[1])),ue&&(Be.numerator=U.args[0],Be.denominator=U.args[1])):(te===1&&(U=ie(U,Xe)),ue&&(Be.numerator=U,Be.denominator=null)),ue?(Be.coefficients=Xe,Be.variables=K.variables,Be.expression=U,Be):U}return s(name$k,{Node:F,"Node, boolean":(U,H)=>F(U,{},H),"Node, Object":F,"Node, Object, boolean":F});function z(U,H,ue,Y){var K=[],te=v(U,Y,H,{exactFractions:!1});ue=!!ue;var ae="+-*"+(ue?"/":"");de(te);var ee={};return ee.expression=te,ee.variables=K,ee;function de(ce){var xe=ce.type;if(xe==="FunctionNode")throw new Error("There is an unsolved function call");if(xe==="OperatorNode")if(ce.op==="^"){if(ce.args[1].type!=="ConstantNode"||!isInteger$1(parseFloat(ce.args[1].value)))throw new Error("There is a non-integer exponent");de(ce.args[0])}else{if(ae.indexOf(ce.op)===-1)throw new Error("Operator "+ce.op+" invalid in polynomial expression");for(var Me=0;Me<ce.args.length;Me++)de(ce.args[Me])}else if(xe==="SymbolNode"){var Ae=ce.name,Xe=K.indexOf(Ae);Xe===-1&&K.push(Ae)}else if(xe==="ParenthesisNode")de(ce.content);else if(xe!=="ConstantNode")throw new Error("type "+xe+" is not allowed in polynomial expression")}}function Z(){var U=[p,{l:"n+n",r:"2*n"},{l:"n+-n",r:"0"},d,{l:"n*(n1^-1)",r:"n/n1"},{l:"n*n1^-n2",r:"n/n1^n2"},{l:"n1^-1",r:"1/n1"},{l:"n*(n1/n2)",r:"(n*n1)/n2"},{l:"1*n",r:"n"}],H=[{l:"(-n1)/(-n2)",r:"n1/n2"},{l:"(-n1)*(-n2)",r:"n1*n2"},{l:"n1--n2",r:"n1+n2"},{l:"n1-n2",r:"n1+(-n2)"},{l:"(n1+n2)*n3",r:"(n1*n3 + n2*n3)"},{l:"n1*(n2+n3)",r:"(n1*n2+n1*n3)"},{l:"c1*n + c2*n",r:"(c1+c2)*n"},{l:"c1*n + n",r:"(c1+1)*n"},{l:"c1*n - c2*n",r:"(c1-c2)*n"},{l:"c1*n - n",r:"(c1-1)*n"},{l:"v/c",r:"(1/c)*v"},{l:"v/-c",r:"-(1/c)*v"},{l:"-v*-c",r:"c*v"},{l:"-v*c",r:"-c*v"},{l:"v*-c",r:"-c*v"},{l:"v*c",r:"c*v"},{l:"-(-n1*n2)",r:"(n1*n2)"},{l:"-(n1*n2)",r:"(-n1*n2)"},{l:"-(-n1+n2)",r:"(n1-n2)"},{l:"-(n1+n2)",r:"(-n1-n2)"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"},{l:"-(-n1/n2)",r:"(n1/n2)"},{l:"-(n1/n2)",r:"(-n1/n2)"}],ue=[{l:"(n1/n2 + n3/n4)",r:"((n1*n4 + n3*n2)/(n2*n4))"},{l:"(n1/n2 + n3)",r:"((n1 + n3*n2)/n2)"},{l:"(n1 + n2/n3)",r:"((n1*n3 + n2)/n3)"}],Y=[{l:"(n1/(n2/n3))",r:"((n1*n3)/n2)"},{l:"(n1/n2/n3)",r:"(n1/(n2*n3))"}],K={};return K.firstRules=U.concat(H,Y),K.distrDivRules=ue,K.sucDivRules=Y,K.firstRulesAgain=U.concat(H),K.finalRules=[p,{l:"n*-n",r:"-n^2"},{l:"n*n",r:"n^2"},d,{l:"n*-n^n1",r:"-n^(n1+1)"},{l:"n*n^n1",r:"n^(n1+1)"},{l:"n^n1*-n^n2",r:"-n^(n1+n2)"},{l:"n^n1*n^n2",r:"n^(n1+n2)"},{l:"n^n1*-n",r:"-n^(n1+1)"},{l:"n^n1*n",r:"n^(n1+1)"},{l:"n^n1/-n",r:"-n^(n1-1)"},{l:"n^n1/n",r:"n^(n1-1)"},{l:"n/-n^n1",r:"-n^(1-n1)"},{l:"n/n^n1",r:"n^(1-n1)"},{l:"n^n1/-n^n2",r:"n^(n1-n2)"},{l:"n^n1/n^n2",r:"n^(n1-n2)"},{l:"n1+(-n2*n3)",r:"n1-n2*n3"},{l:"v*(-c)",r:"-c*v"},{l:"n1+-n2",r:"n1-n2"},{l:"v*c",r:"c*v"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"}],K}function se(U,H,ue){var Y=U.type,K=arguments.length>1;if(Y==="OperatorNode"&&U.isBinary()){var te=!1,ae;if(U.op==="^"&&(U.args[0].type==="ParenthesisNode"||U.args[0].type==="OperatorNode")&&U.args[1].type==="ConstantNode"&&(ae=parseFloat(U.args[1].value),te=ae>=2&&isInteger$1(ae)),te){if(ae>2){var ee=U.args[0],de=new O("^","pow",[U.args[0].cloneDeep(),new _(ae-1)]);U=new O("*","multiply",[ee,de])}else U=new O("*","multiply",[U.args[0],U.args[0].cloneDeep()]);K&&(ue==="content"?H.content=U:H.args[ue]=U)}}if(Y==="ParenthesisNode")se(U.content,U,"content");else if(Y!=="ConstantNode"&&Y!=="SymbolNode")for(var ce=0;ce<U.args.length;ce++)se(U.args[ce],U,ce);if(!K)return U}function ie(U,H){H===void 0&&(H=[]),H[0]=0;var ue={};ue.cte=1,ue.oper="+",ue.fire="";var Y=0,K="";Ae(U,null,ue),Y=H.length-1;for(var te=!0,ae,ee=Y;ee>=0;ee--)if(H[ee]!==0){var de=new _(te?H[ee]:Math.abs(H[ee])),ce=H[ee]<0?"-":"+";if(ee>0){var xe=new B(K);if(ee>1){var Me=new _(ee);xe=new O("^","pow",[xe,Me])}H[ee]===-1&&te?de=new O("-","unaryMinus",[xe]):Math.abs(H[ee])===1?de=xe:de=new O("*","multiply",[de,xe])}te?ae=de:ce==="+"?ae=new O("+","add",[ae,de]):ae=new O("-","subtract",[ae,de]),te=!1}if(te)return new _(0);return ae;function Ae(Xe,Be,Ze){var nt=Xe.type;if(nt==="FunctionNode")throw new Error("There is an unsolved function call");if(nt==="OperatorNode"){if("+-*^".indexOf(Xe.op)===-1)throw new Error("Operator "+Xe.op+" invalid");if(Be!==null){if((Xe.fn==="unaryMinus"||Xe.fn==="pow")&&Be.fn!=="add"&&Be.fn!=="subtract"&&Be.fn!=="multiply")throw new Error("Invalid "+Xe.op+" placing");if((Xe.fn==="subtract"||Xe.fn==="add"||Xe.fn==="multiply")&&Be.fn!=="add"&&Be.fn!=="subtract")throw new Error("Invalid "+Xe.op+" placing");if((Xe.fn==="subtract"||Xe.fn==="add"||Xe.fn==="unaryMinus")&&Ze.noFil!==0)throw new Error("Invalid "+Xe.op+" placing")}(Xe.op==="^"||Xe.op==="*")&&(Ze.fire=Xe.op);for(var rt=0;rt<Xe.args.length;rt++)Xe.fn==="unaryMinus"&&(Ze.oper="-"),(Xe.op==="+"||Xe.fn==="subtract")&&(Ze.fire="",Ze.cte=1,Ze.oper=rt===0?"+":Xe.op),Ze.noFil=rt,Ae(Xe.args[rt],Xe,Ze)}else if(nt==="SymbolNode"){if(Xe.name!==K&&K!=="")throw new Error("There is more than one variable");if(K=Xe.name,Be===null){H[1]=1;return}if(Be.op==="^"&&Ze.noFil!==0)throw new Error("In power the variable should be the first parameter");if(Be.op==="*"&&Ze.noFil!==1)throw new Error("In multiply the variable should be the second parameter");(Ze.fire===""||Ze.fire==="*")&&(Y<1&&(H[1]=0),H[1]+=Ze.cte*(Ze.oper==="+"?1:-1),Y=Math.max(1,Y))}else if(nt==="ConstantNode"){var it=parseFloat(Xe.value);if(Be===null){H[0]=it;return}if(Be.op==="^"){if(Ze.noFil!==1)throw new Error("Constant cannot be powered");if(!isInteger$1(it)||it<=0)throw new Error("Non-integer exponent is not allowed");for(var me=Y+1;me<it;me++)H[me]=0;it>Y&&(H[it]=0),H[it]+=Ze.cte*(Ze.oper==="+"?1:-1),Y=Math.max(it,Y);return}Ze.cte=it,Ze.fire===""&&(H[0]+=Ze.cte*(Ze.oper==="+"?1:-1))}else throw new Error("Type "+nt+" is not allowed")}}}),name$j="reviver",dependencies$j=["classes"],createReviver=factory(name$j,dependencies$j,t=>{var{classes:r}=t;return function(n,a){var o=r[a&&a.mathjs];return o&&typeof o.fromJSON=="function"?o.fromJSON(a):a}}),name$i="replacer",dependencies$i=[],createReplacer=factory(name$i,dependencies$i,()=>function(r,s){return typeof s=="number"&&(!isFinite(s)||isNaN(s))?{mathjs:"number",value:String(s)}:s}),version$2="11.8.0",createTrue=factory("true",[],()=>!0),createFalse=factory("false",[],()=>!1),createNull=factory("null",[],()=>null),createInfinity=recreateFactory("Infinity",["config","?BigNumber"],t=>{var{config:r,BigNumber:s}=t;return r.number==="BigNumber"?new s(1/0):1/0}),createNaN=recreateFactory("NaN",["config","?BigNumber"],t=>{var{config:r,BigNumber:s}=t;return r.number==="BigNumber"?new s(NaN):NaN}),createPi=recreateFactory("pi",["config","?BigNumber"],t=>{var{config:r,BigNumber:s}=t;return r.number==="BigNumber"?createBigNumberPi(s):pi$1}),createTau=recreateFactory("tau",["config","?BigNumber"],t=>{var{config:r,BigNumber:s}=t;return r.number==="BigNumber"?createBigNumberTau(s):tau$1}),createE=recreateFactory("e",["config","?BigNumber"],t=>{var{config:r,BigNumber:s}=t;return r.number==="BigNumber"?createBigNumberE(s):e$1}),createPhi=recreateFactory("phi",["config","?BigNumber"],t=>{var{config:r,BigNumber:s}=t;return r.number==="BigNumber"?createBigNumberPhi(s):phi$1}),createLN2=recreateFactory("LN2",["config","?BigNumber"],t=>{var{config:r,BigNumber:s}=t;return r.number==="BigNumber"?new s(2).ln():Math.LN2}),createLN10=recreateFactory("LN10",["config","?BigNumber"],t=>{var{config:r,BigNumber:s}=t;return r.number==="BigNumber"?new s(10).ln():Math.LN10}),createLOG2E=recreateFactory("LOG2E",["config","?BigNumber"],t=>{var{config:r,BigNumber:s}=t;return r.number==="BigNumber"?new s(1).div(new s(2).ln()):Math.LOG2E}),createLOG10E=recreateFactory("LOG10E",["config","?BigNumber"],t=>{var{config:r,BigNumber:s}=t;return r.number==="BigNumber"?new s(1).div(new s(10).ln()):Math.LOG10E}),createSQRT1_2=recreateFactory("SQRT1_2",["config","?BigNumber"],t=>{var{config:r,BigNumber:s}=t;return r.number==="BigNumber"?new s("0.5").sqrt():Math.SQRT1_2}),createSQRT2=recreateFactory("SQRT2",["config","?BigNumber"],t=>{var{config:r,BigNumber:s}=t;return r.number==="BigNumber"?new s(2).sqrt():Math.SQRT2}),createI=recreateFactory("i",["Complex"],t=>{var{Complex:r}=t;return r.I}),createVersion=factory("version",[],()=>version$2);function recreateFactory(t,r,s){return factory(t,r,s,{recreateOnConfigChange:!0})}var createSpeedOfLight=unitFactory("speedOfLight","299792458","m s^-1"),createGravitationConstant=unitFactory("gravitationConstant","6.67430e-11","m^3 kg^-1 s^-2"),createPlanckConstant=unitFactory("planckConstant","6.62607015e-34","J s"),createReducedPlanckConstant=unitFactory("reducedPlanckConstant","1.0545718176461565e-34","J s"),createMagneticConstant=unitFactory("magneticConstant","1.25663706212e-6","N A^-2"),createElectricConstant=unitFactory("electricConstant","8.8541878128e-12","F m^-1"),createVacuumImpedance=unitFactory("vacuumImpedance","376.730313667","ohm"),createCoulomb=unitFactory("coulomb","8.987551792261171e9","N m^2 C^-2"),createElementaryCharge=unitFactory("elementaryCharge","1.602176634e-19","C"),createBohrMagneton=unitFactory("bohrMagneton","9.2740100783e-24","J T^-1"),createConductanceQuantum=unitFactory("conductanceQuantum","7.748091729863649e-5","S"),createInverseConductanceQuantum=unitFactory("inverseConductanceQuantum","12906.403729652257","ohm"),createMagneticFluxQuantum=unitFactory("magneticFluxQuantum","2.0678338484619295e-15","Wb"),createNuclearMagneton=unitFactory("nuclearMagneton","5.0507837461e-27","J T^-1"),createKlitzing=unitFactory("klitzing","25812.807459304513","ohm"),createBohrRadius=unitFactory("bohrRadius","5.29177210903e-11","m"),createClassicalElectronRadius=unitFactory("classicalElectronRadius","2.8179403262e-15","m"),createElectronMass=unitFactory("electronMass","9.1093837015e-31","kg"),createFermiCoupling=unitFactory("fermiCoupling","1.1663787e-5","GeV^-2"),createFineStructure=numberFactory("fineStructure",.0072973525693),createHartreeEnergy=unitFactory("hartreeEnergy","4.3597447222071e-18","J"),createProtonMass=unitFactory("protonMass","1.67262192369e-27","kg"),createDeuteronMass=unitFactory("deuteronMass","3.3435830926e-27","kg"),createNeutronMass=unitFactory("neutronMass","1.6749271613e-27","kg"),createQuantumOfCirculation=unitFactory("quantumOfCirculation","3.6369475516e-4","m^2 s^-1"),createRydberg=unitFactory("rydberg","10973731.568160","m^-1"),createThomsonCrossSection=unitFactory("thomsonCrossSection","6.6524587321e-29","m^2"),createWeakMixingAngle=numberFactory("weakMixingAngle",.2229),createEfimovFactor=numberFactory("efimovFactor",22.7),createAtomicMass=unitFactory("atomicMass","1.66053906660e-27","kg"),createAvogadro=unitFactory("avogadro","6.02214076e23","mol^-1"),createBoltzmann=unitFactory("boltzmann","1.380649e-23","J K^-1"),createFaraday=unitFactory("faraday","96485.33212331001","C mol^-1"),createFirstRadiation=unitFactory("firstRadiation","3.7417718521927573e-16","W m^2"),createLoschmidt=unitFactory("loschmidt","2.686780111798444e25","m^-3"),createGasConstant=unitFactory("gasConstant","8.31446261815324","J K^-1 mol^-1"),createMolarPlanckConstant=unitFactory("molarPlanckConstant","3.990312712893431e-10","J s mol^-1"),createMolarVolume=unitFactory("molarVolume","0.022413969545014137","m^3 mol^-1"),createSackurTetrode=numberFactory("sackurTetrode",-1.16487052358),createSecondRadiation=unitFactory("secondRadiation","0.014387768775039337","m K"),createStefanBoltzmann=unitFactory("stefanBoltzmann","5.67037441918443e-8","W m^-2 K^-4"),createWienDisplacement=unitFactory("wienDisplacement","2.897771955e-3","m K"),createMolarMass=unitFactory("molarMass","0.99999999965e-3","kg mol^-1"),createMolarMassC12=unitFactory("molarMassC12","11.9999999958e-3","kg mol^-1"),createGravity=unitFactory("gravity","9.80665","m s^-2"),createPlanckLength=unitFactory("planckLength","1.616255e-35","m"),createPlanckMass=unitFactory("planckMass","2.176435e-8","kg"),createPlanckTime=unitFactory("planckTime","5.391245e-44","s"),createPlanckCharge=unitFactory("planckCharge","1.87554603778e-18","C"),createPlanckTemperature=unitFactory("planckTemperature","1.416785e+32","K");function unitFactory(t,r,s){var n=["config","Unit","BigNumber"];return factory(t,n,a=>{var{config:o,Unit:l,BigNumber:u}=a,f=o.number==="BigNumber"?new u(r):parseFloat(r),c=new l(f,s);return c.fixPrefix=!0,c})}function numberFactory(t,r){var s=["config","BigNumber"];return factory(t,s,n=>{var{config:a,BigNumber:o}=n;return a.number==="BigNumber"?new o(r):r})}var name$h="apply",dependencies$h=["typed","isInteger"],createApplyTransform=factory(name$h,dependencies$h,t=>{var{typed:r,isInteger:s}=t,n=createApply({typed:r,isInteger:s});return r("apply",{"...any":function(o){var l=o[1];isNumber(l)?o[1]=l-1:isBigNumber(l)&&(o[1]=l.minus(1));try{return n.apply(null,o)}catch(u){throw errorTransform(u)}}})},{isTransformFunction:!0}),name$g="column",dependencies$g=["typed","Index","matrix","range"],createColumnTransform=factory(name$g,dependencies$g,t=>{var{typed:r,Index:s,matrix:n,range:a}=t,o=createColumn({typed:r,Index:s,matrix:n,range:a});return r("column",{"...any":function(u){var f=u.length-1,c=u[f];isNumber(c)&&(u[f]=c-1);try{return o.apply(null,u)}catch(h){throw errorTransform(h)}}})},{isTransformFunction:!0});function compileInlineExpression(t,r,s){var n=t.filter(function(u){return isSymbolNode(u)&&!(u.name in r)&&!s.has(u.name)})[0];if(!n)throw new Error('No undefined variable found in inline expression "'+t+'"');var a=n.name,o=createSubScope(s),l=t.compile();return function(f){return o.set(a,f),l.evaluate(o)}}var name$f="filter",dependencies$f=["typed"],createFilterTransform=factory(name$f,dependencies$f,t=>{var{typed:r}=t;function s(a,o,l){var u,f;return a[0]&&(u=a[0].compile().evaluate(l)),a[1]&&(isSymbolNode(a[1])||isFunctionAssignmentNode(a[1])?f=a[1].compile().evaluate(l):f=compileInlineExpression(a[1],o,l)),n(u,f)}s.rawArgs=!0;var n=r("filter",{"Array, function":_filter,"Matrix, function":function(o,l){return o.create(_filter(o.toArray(),l))},"Array, RegExp":filterRegExp,"Matrix, RegExp":function(o,l){return o.create(filterRegExp(o.toArray(),l))}});return s},{isTransformFunction:!0});function _filter(t,r){var s=maxArgumentCount(r);return filter$1(t,function(n,a,o){return s===1?r(n):s===2?r(n,[a+1]):r(n,[a+1],o)})}var name$e="forEach",dependencies$e=["typed"],createForEachTransform=factory(name$e,dependencies$e,t=>{var{typed:r}=t;function s(a,o,l){var u,f;return a[0]&&(u=a[0].compile().evaluate(l)),a[1]&&(isSymbolNode(a[1])||isFunctionAssignmentNode(a[1])?f=a[1].compile().evaluate(l):f=compileInlineExpression(a[1],o,l)),n(u,f)}s.rawArgs=!0;var n=r("forEach",{"Array | Matrix, function":function(o,l){var u=maxArgumentCount(l),f=function c(h,d){Array.isArray(h)?forEach$1(h,function(p,v){c(p,d.concat(v+1))}):u===1?l(h):u===2?l(h,d):l(h,d,o)};f(o.valueOf(),[])}});return s},{isTransformFunction:!0}),name$d="index",dependencies$d=["Index"],createIndexTransform=factory(name$d,dependencies$d,t=>{var{Index:r}=t;return function(){for(var n=[],a=0,o=arguments.length;a<o;a++){var l=arguments[a];if(isRange(l))l.start--,l.end-=l.step>0?0:2;else if(l&&l.isSet===!0)l=l.map(function(f){return f-1});else if(isArray(l)||isMatrix(l))l=l.map(function(f){return f-1});else if(isNumber(l))l--;else if(isBigNumber(l))l=l.toNumber()-1;else if(typeof l!="string")throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");n[a]=l}var u=new r;return r.apply(u,n),u}},{isTransformFunction:!0}),name$c="map",dependencies$c=["typed"],createMapTransform=factory(name$c,dependencies$c,t=>{var{typed:r}=t;function s(a,o,l){var u,f;return a[0]&&(u=a[0].compile().evaluate(l)),a[1]&&(isSymbolNode(a[1])||isFunctionAssignmentNode(a[1])?f=a[1].compile().evaluate(l):f=compileInlineExpression(a[1],o,l)),n(u,f)}s.rawArgs=!0;var n=r("map",{"Array, function":function(o,l){return _map(o,l,o)},"Matrix, function":function(o,l){return o.create(_map(o.valueOf(),l,o))}});return s},{isTransformFunction:!0});function _map(t,r,s){var n=maxArgumentCount(r);function a(o,l){return Array.isArray(o)?map$1(o,function(u,f){return a(u,l.concat(f+1))}):n===1?r(o):n===2?r(o,l):r(o,l,s)}return a(t,[])}function lastDimToZeroBase(t){if(t.length===2&&isCollection(t[0])){t=t.slice();var r=t[1];isNumber(r)?t[1]=r-1:isBigNumber(r)&&(t[1]=r.minus(1))}return t}var name$b="max",dependencies$b=["typed","config","numeric","larger"],createMaxTransform=factory(name$b,dependencies$b,t=>{var{typed:r,config:s,numeric:n,larger:a}=t,o=createMax({typed:r,config:s,numeric:n,larger:a});return r("max",{"...any":function(u){u=lastDimToZeroBase(u);try{return o.apply(null,u)}catch(f){throw errorTransform(f)}}})},{isTransformFunction:!0}),name$a="mean",dependencies$a=["typed","add","divide"],createMeanTransform=factory(name$a,dependencies$a,t=>{var{typed:r,add:s,divide:n}=t,a=createMean({typed:r,add:s,divide:n});return r("mean",{"...any":function(l){l=lastDimToZeroBase(l);try{return a.apply(null,l)}catch(u){throw errorTransform(u)}}})},{isTransformFunction:!0}),name$9="min",dependencies$9=["typed","config","numeric","smaller"],createMinTransform=factory(name$9,dependencies$9,t=>{var{typed:r,config:s,numeric:n,smaller:a}=t,o=createMin({typed:r,config:s,numeric:n,smaller:a});return r("min",{"...any":function(u){u=lastDimToZeroBase(u);try{return o.apply(null,u)}catch(f){throw errorTransform(f)}}})},{isTransformFunction:!0}),name$8="range",dependencies$8=["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq"],createRangeTransform=factory(name$8,dependencies$8,t=>{var{typed:r,config:s,matrix:n,bignumber:a,smaller:o,smallerEq:l,larger:u,largerEq:f}=t,c=createRange({typed:r,config:s,matrix:n,bignumber:a,smaller:o,smallerEq:l,larger:u,largerEq:f});return r("range",{"...any":function(d){var p=d.length-1,v=d[p];return typeof v!="boolean"&&d.push(!0),c.apply(null,d)}})},{isTransformFunction:!0}),name$7="row",dependencies$7=["typed","Index","matrix","range"],createRowTransform=factory(name$7,dependencies$7,t=>{var{typed:r,Index:s,matrix:n,range:a}=t,o=createRow({typed:r,Index:s,matrix:n,range:a});return r("row",{"...any":function(u){var f=u.length-1,c=u[f];isNumber(c)&&(u[f]=c-1);try{return o.apply(null,u)}catch(h){throw errorTransform(h)}}})},{isTransformFunction:!0}),name$6="subset",dependencies$6=["typed","matrix"],createSubsetTransform=factory(name$6,dependencies$6,t=>{var{typed:r,matrix:s}=t,n=createSubset({typed:r,matrix:s});return r("subset",{"...any":function(o){try{return n.apply(null,o)}catch(l){throw errorTransform(l)}}})},{isTransformFunction:!0}),name$5="concat",dependencies$5=["typed","matrix","isInteger"],createConcatTransform=factory(name$5,dependencies$5,t=>{var{typed:r,matrix:s,isInteger:n}=t,a=createConcat({typed:r,matrix:s,isInteger:n});return r("concat",{"...any":function(l){var u=l.length-1,f=l[u];isNumber(f)?l[u]=f-1:isBigNumber(f)&&(l[u]=f.minus(1));try{return a.apply(null,l)}catch(c){throw errorTransform(c)}}})},{isTransformFunction:!0}),name$4="diff",dependencies$4=["typed","matrix","subtract","number","bignumber"],createDiffTransform=factory(name$4,dependencies$4,t=>{var{typed:r,matrix:s,subtract:n,number:a,bignumber:o}=t,l=createDiff({typed:r,matrix:s,subtract:n,number:a,bignumber:o});return r(name$4,{"...any":function(f){f=lastDimToZeroBase(f);try{return l.apply(null,f)}catch(c){throw errorTransform(c)}}})},{isTransformFunction:!0}),name$3="std",dependencies$3=["typed","map","sqrt","variance"],createStdTransform=factory(name$3,dependencies$3,t=>{var{typed:r,map:s,sqrt:n,variance:a}=t,o=createStd({typed:r,map:s,sqrt:n,variance:a});return r("std",{"...any":function(u){u=lastDimToZeroBase(u);try{return o.apply(null,u)}catch(f){throw errorTransform(f)}}})},{isTransformFunction:!0}),name$2="sum",dependencies$2=["typed","config","add","numeric"],createSumTransform=factory(name$2,dependencies$2,t=>{var{typed:r,config:s,add:n,numeric:a}=t,o=createSum({typed:r,config:s,add:n,numeric:a});return r(name$2,{"...any":function(u){u=lastDimToZeroBase(u);try{return o.apply(null,u)}catch(f){throw errorTransform(f)}}})},{isTransformFunction:!0}),name$1="cumsum",dependencies$1=["typed","add","unaryPlus"],createCumSumTransform=factory(name$1,dependencies$1,t=>{var{typed:r,add:s,unaryPlus:n}=t,a=createCumSum({typed:r,add:s,unaryPlus:n});return r(name$1,{"...any":function(l){if(l.length===2&&isCollection(l[0])){var u=l[1];isNumber(u)?l[1]=u-1:isBigNumber(u)&&(l[1]=u.minus(1))}try{return a.apply(null,l)}catch(f){throw errorTransform(f)}}})},{isTransformFunction:!0}),name="variance",dependencies=["typed","add","subtract","multiply","divide","apply","isNaN"],createVarianceTransform=factory(name,dependencies,t=>{var{typed:r,add:s,subtract:n,multiply:a,divide:o,apply:l,isNaN:u}=t,f=createVariance({typed:r,add:s,subtract:n,multiply:a,divide:o,apply:l,isNaN:u});return r(name,{"...any":function(h){h=lastDimToZeroBase(h);try{return f.apply(null,h)}catch(d){throw errorTransform(d)}}})},{isTransformFunction:!0}),BigNumber=createBigNumberClass({config:config$1}),Complex$1=createComplexClass({}),e=createE({BigNumber,config:config$1}),_false=createFalse({}),fineStructure=createFineStructure({BigNumber,config:config$1}),Fraction=createFractionClass({}),i=createI({Complex:Complex$1}),_Infinity=createInfinity({BigNumber,config:config$1}),LN10=createLN10({BigNumber,config:config$1}),LOG10E=createLOG10E({BigNumber,config:config$1}),Matrix=createMatrixClass({}),_NaN=createNaN({BigNumber,config:config$1}),_null=createNull({}),phi=createPhi({BigNumber,config:config$1}),Range=createRangeClass({}),ResultSet=createResultSet({}),SQRT1_2=createSQRT1_2({BigNumber,config:config$1}),sackurTetrode=createSackurTetrode({BigNumber,config:config$1}),tau=createTau({BigNumber,config:config$1}),_true=createTrue({}),version$1=createVersion({}),DenseMatrix=createDenseMatrixClass({Matrix}),efimovFactor=createEfimovFactor({BigNumber,config:config$1}),LN2=createLN2({BigNumber,config:config$1}),pi=createPi({BigNumber,config:config$1}),replacer=createReplacer({}),SQRT2=createSQRT2({BigNumber,config:config$1}),typed=createTyped({BigNumber,Complex:Complex$1,DenseMatrix,Fraction}),unaryPlus=createUnaryPlus({BigNumber,config:config$1,typed}),weakMixingAngle=createWeakMixingAngle({BigNumber,config:config$1}),abs=createAbs({typed}),acos=createAcos({Complex:Complex$1,config:config$1,typed}),acot=createAcot({BigNumber,typed}),acsc=createAcsc({BigNumber,Complex:Complex$1,config:config$1,typed}),addScalar=createAddScalar({typed}),arg=createArg({typed}),asech=createAsech({BigNumber,Complex:Complex$1,config:config$1,typed}),asinh=createAsinh({typed}),atan=createAtan({typed}),atanh=createAtanh({Complex:Complex$1,config:config$1,typed}),bignumber=createBignumber({BigNumber,typed}),bitNot=createBitNot({typed}),boolean=createBoolean({typed}),clone=createClone({typed}),combinations=createCombinations({typed}),complex=createComplex({Complex:Complex$1,typed}),conj=createConj({typed}),cosh=createCosh({typed}),coth=createCoth({BigNumber,typed}),csc=createCsc({BigNumber,typed}),cube=createCube({typed}),equalScalar=createEqualScalar({config:config$1,typed}),erf=createErf({typed}),exp=createExp({typed}),expm1=createExpm1({Complex:Complex$1,typed}),filter=createFilter({typed}),forEach=createForEach({typed}),format=createFormat({typed}),getMatrixDataType=createGetMatrixDataType({typed}),hex=createHex({format,typed}),im=createIm({typed}),isInteger=createIsInteger({typed}),isNegative=createIsNegative({typed}),isPositive=createIsPositive({typed}),isZero=createIsZero({typed}),LOG2E=createLOG2E({BigNumber,config:config$1}),lgamma=createLgamma({Complex:Complex$1,typed}),log10=createLog10({Complex:Complex$1,config:config$1,typed}),log2=createLog2({Complex:Complex$1,config:config$1,typed}),map=createMap({typed}),multiplyScalar=createMultiplyScalar({typed}),not=createNot({typed}),number=createNumber({typed}),oct=createOct({format,typed}),pickRandom=createPickRandom({config:config$1,typed}),print=createPrint({typed}),random=createRandom({config:config$1,typed}),re=createRe({typed}),sec=createSec({BigNumber,typed}),sign=createSign({BigNumber,Fraction,complex,typed}),sin=createSin({typed}),SparseMatrix=createSparseMatrixClass({Matrix,equalScalar,typed}),splitUnit=createSplitUnit({typed}),square=createSquare({typed}),string=createString({typed}),tan=createTan({typed}),typeOf=createTypeOf({typed}),acosh=createAcosh({Complex:Complex$1,config:config$1,typed}),acsch=createAcsch({BigNumber,typed}),apply=createApply({isInteger,typed}),asec=createAsec({BigNumber,Complex:Complex$1,config:config$1,typed}),bin=createBin({format,typed}),combinationsWithRep=createCombinationsWithRep({typed}),cos=createCos({typed}),csch=createCsch({BigNumber,typed}),isNaN$1=createIsNaN({typed}),isPrime=createIsPrime({typed}),randomInt=createRandomInt({config:config$1,typed}),sech=createSech({BigNumber,typed}),sinh=createSinh({typed}),sparse=createSparse({SparseMatrix,typed}),sqrt=createSqrt({Complex:Complex$1,config:config$1,typed}),tanh=createTanh({typed}),unaryMinus=createUnaryMinus({typed}),acoth=createAcoth({BigNumber,Complex:Complex$1,config:config$1,typed}),cot=createCot({BigNumber,typed}),fraction=createFraction({Fraction,typed}),isNumeric=createIsNumeric({typed}),matrix=createMatrix({DenseMatrix,Matrix,SparseMatrix,typed}),matrixFromFunction=createMatrixFromFunction({isZero,matrix,typed}),mode=createMode({isNaN:isNaN$1,isNumeric,typed}),numeric=createNumeric({bignumber,fraction,number}),prod=createProd({config:config$1,multiplyScalar,numeric,typed}),reshape=createReshape({isInteger,matrix,typed}),size=createSize({matrix,config:config$1,typed}),squeeze=createSqueeze({matrix,typed}),subset=createSubset({matrix,typed}),transpose=createTranspose({matrix,typed}),xgcd=createXgcd({BigNumber,config:config$1,matrix,typed}),zeros=createZeros({BigNumber,config:config$1,matrix,typed}),asin=createAsin({Complex:Complex$1,config:config$1,typed}),cbrt=createCbrt({BigNumber,Complex:Complex$1,Fraction,config:config$1,isNegative,matrix,typed,unaryMinus}),concat=createConcat({isInteger,matrix,typed}),count=createCount({prod,size,typed}),ctranspose=createCtranspose({conj,transpose,typed}),diag=createDiag({DenseMatrix,SparseMatrix,matrix,typed}),divideScalar=createDivideScalar({numeric,typed}),dotDivide=createDotDivide({DenseMatrix,concat,divideScalar,equalScalar,matrix,typed}),equal=createEqual({DenseMatrix,concat,equalScalar,matrix,typed}),flatten=createFlatten({matrix,typed}),gcd=createGcd({BigNumber,DenseMatrix,concat,equalScalar,matrix,typed}),hasNumericValue=createHasNumericValue({isNumeric,typed}),identity=createIdentity({BigNumber,DenseMatrix,SparseMatrix,config:config$1,matrix,typed}),kron=createKron({matrix,multiplyScalar,typed}),largerEq=createLargerEq({DenseMatrix,concat,config:config$1,matrix,typed}),leftShift=createLeftShift({DenseMatrix,concat,equalScalar,matrix,typed,zeros}),matrixFromColumns=createMatrixFromColumns({flatten,matrix,size,typed}),mod=createMod({DenseMatrix,concat,equalScalar,matrix,typed}),nthRoot=createNthRoot({BigNumber,concat,equalScalar,matrix,typed}),ones=createOnes({BigNumber,config:config$1,matrix,typed}),resize=createResize({config:config$1,matrix}),rightArithShift=createRightArithShift({DenseMatrix,concat,equalScalar,matrix,typed,zeros}),round=createRound({BigNumber,DenseMatrix,equalScalar,matrix,typed,zeros}),smaller=createSmaller({DenseMatrix,concat,config:config$1,matrix,typed}),to=createTo({concat,matrix,typed}),unequal=createUnequal({DenseMatrix,concat,config:config$1,equalScalar,matrix,typed}),xor=createXor({DenseMatrix,concat,matrix,typed}),add=createAdd({DenseMatrix,SparseMatrix,addScalar,concat,equalScalar,matrix,typed}),bitAnd=createBitAnd({concat,equalScalar,matrix,typed}),bitXor=createBitXor({DenseMatrix,concat,matrix,typed}),catalan=createCatalan({addScalar,combinations,divideScalar,isInteger,isNegative,multiplyScalar,typed}),compare=createCompare({BigNumber,DenseMatrix,Fraction,concat,config:config$1,equalScalar,matrix,typed}),compareText=createCompareText({concat,matrix,typed}),cumsum=createCumSum({add,typed,unaryPlus}),deepEqual=createDeepEqual({equal,typed}),dot=createDot({addScalar,conj,multiplyScalar,size,typed}),equalText=createEqualText({compareText,isZero,typed}),floor=createFloor({DenseMatrix,config:config$1,equalScalar,matrix,round,typed,zeros}),hypot=createHypot({abs,addScalar,divideScalar,isPositive,multiplyScalar,smaller,sqrt,typed}),ImmutableDenseMatrix=createImmutableDenseMatrixClass({DenseMatrix,smaller}),Index=createIndexClass({ImmutableDenseMatrix}),invmod=createInvmod({BigNumber,add,config:config$1,equal,isInteger,mod,smaller,typed,xgcd}),larger=createLarger({DenseMatrix,concat,config:config$1,matrix,typed}),log=createLog({Complex:Complex$1,config:config$1,divideScalar,typed}),matrixFromRows=createMatrixFromRows({flatten,matrix,size,typed}),min=createMin({config:config$1,numeric,smaller,typed}),multiply=createMultiply({addScalar,dot,equalScalar,matrix,multiplyScalar,typed}),nthRoots=createNthRoots({Complex:Complex$1,config:config$1,divideScalar,typed}),or=createOr({DenseMatrix,concat,equalScalar,matrix,typed}),partitionSelect=createPartitionSelect({compare,isNaN:isNaN$1,isNumeric,typed}),quantileSeq=createQuantileSeq({add,compare,multiply,partitionSelect,typed}),rightLogShift=createRightLogShift({DenseMatrix,concat,equalScalar,matrix,typed,zeros}),smallerEq=createSmallerEq({DenseMatrix,concat,config:config$1,matrix,typed}),subtract=createSubtract({DenseMatrix,addScalar,concat,equalScalar,matrix,typed,unaryMinus}),trace=createTrace({add,matrix,typed}),usolve=createUsolve({DenseMatrix,divideScalar,equalScalar,matrix,multiplyScalar,subtract,typed}),and=createAnd({concat,equalScalar,matrix,not,typed,zeros}),bitOr=createBitOr({DenseMatrix,concat,equalScalar,matrix,typed}),ceil=createCeil({DenseMatrix,config:config$1,equalScalar,matrix,round,typed,zeros}),compareNatural=createCompareNatural({compare,typed}),composition=createComposition({addScalar,combinations,isInteger,isNegative,isPositive,larger,typed}),cross=createCross({matrix,multiply,subtract,typed}),det=createDet({divideScalar,isZero,matrix,multiply,subtract,typed,unaryMinus}),diff=createDiff({matrix,number,subtract,typed}),distance=createDistance({abs,addScalar,divideScalar,multiplyScalar,sqrt,subtract,typed,unaryMinus}),dotMultiply=createDotMultiply({concat,equalScalar,matrix,multiplyScalar,typed}),FibonacciHeap=createFibonacciHeapClass({larger,smaller}),fix=createFix({Complex:Complex$1,DenseMatrix,ceil,equalScalar,floor,matrix,typed,zeros}),index=createIndex({Index,typed}),intersect=createIntersect({abs,add,addScalar,config:config$1,divideScalar,equalScalar,flatten,isNumeric,isZero,matrix,multiply,multiplyScalar,smaller,subtract,typed}),lcm=createLcm({concat,equalScalar,matrix,typed}),log1p=createLog1p({Complex:Complex$1,config:config$1,divideScalar,log,typed}),lsolve=createLsolve({DenseMatrix,divideScalar,equalScalar,matrix,multiplyScalar,subtract,typed}),max=createMax({config:config$1,larger,numeric,typed}),qr=createQr({addScalar,complex,conj,divideScalar,equal,identity,isZero,matrix,multiplyScalar,sign,sqrt,subtract,typed,unaryMinus,zeros}),range=createRange({bignumber,matrix,config:config$1,larger,largerEq,smaller,smallerEq,typed}),row=createRow({Index,matrix,range,typed}),setCartesian=createSetCartesian({DenseMatrix,Index,compareNatural,size,subset,typed}),setDistinct=createSetDistinct({DenseMatrix,Index,compareNatural,size,subset,typed}),setIsSubset=createSetIsSubset({Index,compareNatural,size,subset,typed}),setPowerset=createSetPowerset({Index,compareNatural,size,subset,typed}),slu=createSlu({SparseMatrix,abs,add,divideScalar,larger,largerEq,multiply,subtract,transpose,typed}),Spa=createSpaClass({FibonacciHeap,addScalar,equalScalar}),sum=createSum({add,config:config$1,numeric,typed}),usolveAll=createUsolveAll({DenseMatrix,divideScalar,equalScalar,matrix,multiplyScalar,subtract,typed}),atan2=createAtan2({BigNumber,DenseMatrix,concat,equalScalar,matrix,typed}),column=createColumn({Index,matrix,range,typed}),lsolveAll=createLsolveAll({DenseMatrix,divideScalar,equalScalar,matrix,multiplyScalar,subtract,typed}),setDifference=createSetDifference({DenseMatrix,Index,compareNatural,size,subset,typed}),setMultiplicity=createSetMultiplicity({Index,compareNatural,size,subset,typed}),setSymDifference=createSetSymDifference({Index,concat,setDifference,size,subset,typed}),sort=createSort({compare,compareNatural,matrix,typed}),inv=createInv({abs,addScalar,det,divideScalar,identity,matrix,multiply,typed,unaryMinus}),lup=createLup({DenseMatrix,Spa,SparseMatrix,abs,addScalar,divideScalar,equalScalar,larger,matrix,multiplyScalar,subtract,typed,unaryMinus}),pinv=createPinv({Complex:Complex$1,add,ctranspose,deepEqual,divideScalar,dot,dotDivide,equal,inv,matrix,multiply,typed}),pow=createPow({Complex:Complex$1,config:config$1,fraction,identity,inv,matrix,multiply,number,typed}),setIntersect=createSetIntersect({DenseMatrix,Index,compareNatural,size,subset,typed}),setUnion=createSetUnion({Index,concat,setIntersect,setSymDifference,size,subset,typed}),sqrtm=createSqrtm({abs,add,identity,inv,map,max,multiply,size,sqrt,subtract,typed}),Unit=createUnitClass({BigNumber,Complex:Complex$1,Fraction,abs,addScalar,config:config$1,divideScalar,equal,fix,format,isNumeric,multiplyScalar,number,pow,round,subtract}),vacuumImpedance=createVacuumImpedance({BigNumber,Unit,config:config$1}),wienDisplacement=createWienDisplacement({BigNumber,Unit,config:config$1}),atomicMass=createAtomicMass({BigNumber,Unit,config:config$1}),bohrMagneton=createBohrMagneton({BigNumber,Unit,config:config$1}),boltzmann=createBoltzmann({BigNumber,Unit,config:config$1}),conductanceQuantum=createConductanceQuantum({BigNumber,Unit,config:config$1}),createUnit=createCreateUnit({Unit,typed}),deuteronMass=createDeuteronMass({BigNumber,Unit,config:config$1}),dotPow=createDotPow({DenseMatrix,concat,equalScalar,matrix,pow,typed}),electricConstant=createElectricConstant({BigNumber,Unit,config:config$1}),elementaryCharge=createElementaryCharge({BigNumber,Unit,config:config$1}),expm=createExpm({abs,add,identity,inv,multiply,typed}),faraday=createFaraday({BigNumber,Unit,config:config$1}),fft=createFft({addScalar,ceil,conj,divideScalar,dotDivide,exp,i,log2,matrix,multiplyScalar,pow,tau,typed}),gamma=createGamma({BigNumber,Complex:Complex$1,config:config$1,multiplyScalar,pow,typed}),gravitationConstant=createGravitationConstant({BigNumber,Unit,config:config$1}),hartreeEnergy=createHartreeEnergy({BigNumber,Unit,config:config$1}),ifft=createIfft({conj,dotDivide,fft,typed}),klitzing=createKlitzing({BigNumber,Unit,config:config$1}),loschmidt=createLoschmidt({BigNumber,Unit,config:config$1}),magneticConstant=createMagneticConstant({BigNumber,Unit,config:config$1}),molarMass=createMolarMass({BigNumber,Unit,config:config$1}),molarPlanckConstant=createMolarPlanckConstant({BigNumber,Unit,config:config$1}),neutronMass=createNeutronMass({BigNumber,Unit,config:config$1}),nuclearMagneton=createNuclearMagneton({BigNumber,Unit,config:config$1}),planckCharge=createPlanckCharge({BigNumber,Unit,config:config$1}),planckLength=createPlanckLength({BigNumber,Unit,config:config$1}),planckTemperature=createPlanckTemperature({BigNumber,Unit,config:config$1}),protonMass=createProtonMass({BigNumber,Unit,config:config$1}),reducedPlanckConstant=createReducedPlanckConstant({BigNumber,Unit,config:config$1}),rydberg=createRydberg({BigNumber,Unit,config:config$1}),secondRadiation=createSecondRadiation({BigNumber,Unit,config:config$1}),speedOfLight=createSpeedOfLight({BigNumber,Unit,config:config$1}),stefanBoltzmann=createStefanBoltzmann({BigNumber,Unit,config:config$1}),thomsonCrossSection=createThomsonCrossSection({BigNumber,Unit,config:config$1}),avogadro=createAvogadro({BigNumber,Unit,config:config$1}),bohrRadius=createBohrRadius({BigNumber,Unit,config:config$1}),coulomb=createCoulomb({BigNumber,Unit,config:config$1}),divide=createDivide({divideScalar,equalScalar,inv,matrix,multiply,typed}),electronMass=createElectronMass({BigNumber,Unit,config:config$1}),factorial=createFactorial({gamma,typed}),firstRadiation=createFirstRadiation({BigNumber,Unit,config:config$1}),gasConstant=createGasConstant({BigNumber,Unit,config:config$1}),inverseConductanceQuantum=createInverseConductanceQuantum({BigNumber,Unit,config:config$1}),lusolve=createLusolve({DenseMatrix,lsolve,lup,matrix,slu,typed,usolve}),magneticFluxQuantum=createMagneticFluxQuantum({BigNumber,Unit,config:config$1}),molarMassC12=createMolarMassC12({BigNumber,Unit,config:config$1}),multinomial=createMultinomial({add,divide,factorial,isInteger,isPositive,multiply,typed}),permutations=createPermutations({factorial,typed}),planckMass=createPlanckMass({BigNumber,Unit,config:config$1}),polynomialRoot=createPolynomialRoot({add,cbrt,divide,equalScalar,im,isZero,multiply,re,sqrt,subtract,typeOf,typed,unaryMinus}),setSize=createSetSize({compareNatural,typed}),stirlingS2=createStirlingS2({bignumber,addScalar,combinations,divideScalar,factorial,isInteger,isNegative,larger,multiplyScalar,number,pow,subtract,typed}),unit=createUnitFunction({Unit,typed}),bellNumbers=createBellNumbers({addScalar,isInteger,isNegative,stirlingS2,typed}),eigs=createEigs({abs,add,addScalar,atan,bignumber,column,complex,config:config$1,cos,diag,divideScalar,dot,equal,flatten,im,inv,larger,matrix,matrixFromColumns,multiply,multiplyScalar,number,qr,re,sin,smaller,sqrt,subtract,typed,usolve,usolveAll}),fermiCoupling=createFermiCoupling({BigNumber,Unit,config:config$1}),gravity=createGravity({BigNumber,Unit,config:config$1}),kldivergence=createKldivergence({divide,dotDivide,isNumeric,log,map,matrix,multiply,sum,typed}),mean=createMean({add,divide,typed}),molarVolume=createMolarVolume({BigNumber,Unit,config:config$1}),planckConstant=createPlanckConstant({BigNumber,Unit,config:config$1}),quantumOfCirculation=createQuantumOfCirculation({BigNumber,Unit,config:config$1}),variance=createVariance({add,apply,divide,isNaN:isNaN$1,multiply,subtract,typed}),classicalElectronRadius=createClassicalElectronRadius({BigNumber,Unit,config:config$1}),median=createMedian({add,compare,divide,partitionSelect,typed}),planckTime=createPlanckTime({BigNumber,Unit,config:config$1}),std=createStd({map,sqrt,typed,variance}),mad=createMad({abs,map,median,subtract,typed}),norm=createNorm({abs,add,conj,ctranspose,eigs,equalScalar,larger,matrix,multiply,pow,smaller,sqrt,typed}),rotationMatrix=createRotationMatrix({BigNumber,DenseMatrix,SparseMatrix,addScalar,config:config$1,cos,matrix,multiplyScalar,norm,sin,typed,unaryMinus}),rotate=createRotate({multiply,rotationMatrix,typed}),schur=createSchur({identity,matrix,multiply,norm,qr,subtract,typed}),sylvester=createSylvester({abs,add,concat,identity,index,lusolve,matrix,matrixFromColumns,multiply,range,schur,subset,subtract,transpose,typed}),lyap=createLyap({matrix,multiply,sylvester,transpose,typed}),math={},mathWithTransform={},classes={},Node=createNode({mathWithTransform}),ObjectNode=createObjectNode({Node}),OperatorNode=createOperatorNode({Node}),ParenthesisNode=createParenthesisNode({Node}),RelationalNode=createRelationalNode({Node}),ArrayNode=createArrayNode({Node}),BlockNode=createBlockNode({Node,ResultSet}),ConditionalNode=createConditionalNode({Node}),ConstantNode=createConstantNode({Node}),RangeNode=createRangeNode({Node}),reviver=createReviver({classes}),Chain=createChainClass({math,typed}),FunctionAssignmentNode=createFunctionAssignmentNode({Node,typed}),chain=createChain({Chain,typed}),AccessorNode=createAccessorNode({Node,subset}),IndexNode=createIndexNode({Node,size}),AssignmentNode=createAssignmentNode({matrix,Node,subset}),SymbolNode=createSymbolNode({Unit,Node,math}),FunctionNode=createFunctionNode({Node,SymbolNode,math}),parse=createParse({AccessorNode,ArrayNode,AssignmentNode,BlockNode,ConditionalNode,ConstantNode,FunctionAssignmentNode,FunctionNode,IndexNode,ObjectNode,OperatorNode,ParenthesisNode,RangeNode,RelationalNode,SymbolNode,config:config$1,numeric,typed}),resolve=createResolve({ConstantNode,FunctionNode,OperatorNode,ParenthesisNode,parse,typed}),simplifyConstant=createSimplifyConstant({bignumber,fraction,AccessorNode,ArrayNode,ConstantNode,FunctionNode,IndexNode,ObjectNode,OperatorNode,SymbolNode,config:config$1,mathWithTransform,matrix,typed}),compile=createCompile({parse,typed}),evaluate=createEvaluate({parse,typed}),Help=createHelpClass({parse}),Parser=createParserClass({evaluate}),simplifyCore=createSimplifyCore({AccessorNode,ArrayNode,ConstantNode,FunctionNode,IndexNode,ObjectNode,OperatorNode,ParenthesisNode,SymbolNode,add,divide,equal,isZero,multiply,parse,pow,subtract,typed}),help=createHelp({Help,mathWithTransform,typed}),simplify=createSimplify({bignumber,fraction,AccessorNode,ArrayNode,ConstantNode,FunctionNode,IndexNode,ObjectNode,OperatorNode,ParenthesisNode,SymbolNode,add,config:config$1,divide,equal,isZero,mathWithTransform,matrix,multiply,parse,pow,resolve,simplifyConstant,simplifyCore,subtract,typed}),symbolicEqual=createSymbolicEqual({OperatorNode,parse,simplify,typed}),derivative=createDerivative({ConstantNode,FunctionNode,OperatorNode,ParenthesisNode,SymbolNode,config:config$1,equal,isZero,numeric,parse,simplify,typed}),parser$1=createParser({Parser,typed}),leafCount=createLeafCount({parse,typed}),rationalize=createRationalize({bignumber,fraction,AccessorNode,ArrayNode,ConstantNode,FunctionNode,IndexNode,ObjectNode,OperatorNode,ParenthesisNode,SymbolNode,add,config:config$1,divide,equal,isZero,mathWithTransform,matrix,multiply,parse,pow,simplify,simplifyConstant,simplifyCore,subtract,typed});_extends(math,{e,false:_false,fineStructure,i,Infinity:_Infinity,LN10,LOG10E,NaN:_NaN,null:_null,phi,SQRT1_2,sackurTetrode,tau,true:_true,E:e,version:version$1,efimovFactor,LN2,pi,replacer,reviver,SQRT2,typed,unaryPlus,PI:pi,weakMixingAngle,abs,acos,acot,acsc,addScalar,arg,asech,asinh,atan,atanh,bignumber,bitNot,boolean,clone,combinations,complex,conj,cosh,coth,csc,cube,equalScalar,erf,exp,expm1,filter,forEach,format,getMatrixDataType,hex,im,isInteger,isNegative,isPositive,isZero,LOG2E,lgamma,log10,log2,map,multiplyScalar,not,number,oct,pickRandom,print,random,re,sec,sign,sin,splitUnit,square,string,tan,typeOf,acosh,acsch,apply,asec,bin,chain,combinationsWithRep,cos,csch,isNaN:isNaN$1,isPrime,randomInt,sech,sinh,sparse,sqrt,tanh,unaryMinus,acoth,cot,fraction,isNumeric,matrix,matrixFromFunction,mode,numeric,prod,reshape,size,squeeze,subset,transpose,xgcd,zeros,asin,cbrt,concat,count,ctranspose,diag,divideScalar,dotDivide,equal,flatten,gcd,hasNumericValue,identity,kron,largerEq,leftShift,matrixFromColumns,mod,nthRoot,ones,resize,rightArithShift,round,smaller,to,unequal,xor,add,bitAnd,bitXor,catalan,compare,compareText,cumsum,deepEqual,dot,equalText,floor,hypot,invmod,larger,log,matrixFromRows,min,multiply,nthRoots,or,partitionSelect,quantileSeq,rightLogShift,smallerEq,subtract,trace,usolve,and,bitOr,ceil,compareNatural,composition,cross,det,diff,distance,dotMultiply,fix,index,intersect,lcm,log1p,lsolve,max,qr,range,row,setCartesian,setDistinct,setIsSubset,setPowerset,slu,sum,usolveAll,atan2,column,lsolveAll,setDifference,setMultiplicity,setSymDifference,sort,inv,lup,pinv,pow,setIntersect,setUnion,sqrtm,vacuumImpedance,wienDisplacement,atomicMass,bohrMagneton,boltzmann,conductanceQuantum,createUnit,deuteronMass,dotPow,electricConstant,elementaryCharge,expm,faraday,fft,gamma,gravitationConstant,hartreeEnergy,ifft,klitzing,loschmidt,magneticConstant,molarMass,molarPlanckConstant,neutronMass,nuclearMagneton,planckCharge,planckLength,planckTemperature,protonMass,reducedPlanckConstant,rydberg,secondRadiation,speedOfLight,stefanBoltzmann,thomsonCrossSection,avogadro,bohrRadius,coulomb,divide,electronMass,factorial,firstRadiation,gasConstant,inverseConductanceQuantum,lusolve,magneticFluxQuantum,molarMassC12,multinomial,permutations,planckMass,polynomialRoot,setSize,stirlingS2,unit,bellNumbers,eigs,fermiCoupling,gravity,kldivergence,mean,molarVolume,planckConstant,quantumOfCirculation,variance,classicalElectronRadius,median,parse,planckTime,resolve,simplifyConstant,std,compile,evaluate,mad,simplifyCore,help,norm,rotationMatrix,simplify,symbolicEqual,derivative,parser:parser$1,rotate,leafCount,rationalize,schur,sylvester,lyap,config:config$1});_extends(mathWithTransform,math,{filter:createFilterTransform({typed}),forEach:createForEachTransform({typed}),map:createMapTransform({typed}),apply:createApplyTransform({isInteger,typed}),subset:createSubsetTransform({matrix,typed}),concat:createConcatTransform({isInteger,matrix,typed}),max:createMaxTransform({config:config$1,larger,numeric,typed}),sum:createSumTransform({add,config:config$1,numeric,typed}),min:createMinTransform({config:config$1,numeric,smaller,typed}),cumsum:createCumSumTransform({add,typed,unaryPlus}),diff:createDiffTransform({bignumber,matrix,number,subtract,typed}),index:createIndexTransform({Index}),range:createRangeTransform({bignumber,matrix,config:config$1,larger,largerEq,smaller,smallerEq,typed}),row:createRowTransform({Index,matrix,range,typed}),column:createColumnTransform({Index,matrix,range,typed}),mean:createMeanTransform({add,divide,typed}),variance:createVarianceTransform({add,apply,divide,isNaN:isNaN$1,multiply,subtract,typed}),std:createStdTransform({map,sqrt,typed,variance})});_extends(classes,{BigNumber,Complex:Complex$1,Fraction,Matrix,Node,ObjectNode,OperatorNode,ParenthesisNode,Range,RelationalNode,ResultSet,ArrayNode,BlockNode,ConditionalNode,ConstantNode,DenseMatrix,RangeNode,Chain,FunctionAssignmentNode,SparseMatrix,AccessorNode,IndexNode,AssignmentNode,ImmutableDenseMatrix,Index,FibonacciHeap,Spa,Unit,SymbolNode,FunctionNode,Help,Parser});Chain.createProxy(math);const evaluateExpression=(t,r)=>{try{let s=t.replace(/,/g,".");if(s.includes("=")){const o=s.split("=");if(o.length>=2){const l=o[0],u=o.slice(1).join("=");s=`(${l}) - (${u})`}}const a=evaluate(s,{x:r});return typeof a=="number"?a:null}catch{return null}},formatToLatex=t=>{try{return t.includes("=")?t.split("=").map(formatToLatex).join("="):parse(t).toTex({parenthesis:"auto",implicit:"hide"})}catch{return t}},areExpressionsEquivalent=(t,r)=>{const s=[0,1,-1,2.5,-3,10,Math.PI];for(const n of s){const a=evaluateExpression(t,n),o=evaluateExpression(r,n);if(a===null||o===null||Math.abs(a-o)>1e-4)return!1}return!0},getEquationSolution=t=>{try{const r=t.split("=");return r.length!==2?null:evaluate(r[1])}catch{return null}},checkEquationValidity=(t,r)=>{const s=evaluateExpression(t,r);if(s===null||Math.abs(s)>1e-4)return!1;const n=r+1.23,a=evaluateExpression(t,n);return!(a!==null&&Math.abs(a)<1e-4)};var jxg={};typeof JXG=="object"&&!JXG.extend&&(jxg=JXG);jxg.extend=function(t,r,s,n){var a,o;s=s||!1,n=n||!1;for(a in r)(!s||s&&r.hasOwnProperty(a))&&(n?o=a.toLowerCase():o=a,t[o]=r[a])};jxg.defineConstant=function(t,r,s,n){n=n||!1,!(n&&jxg.exists(t[r]))&&Object.defineProperty(t,r,{value:s,writable:!1,enumerable:!0,configurable:!1})};jxg.extendConstants=function(t,r,s,n){var a,o;s=s||!1,n=n||!1;for(a in r)(!s||s&&r.hasOwnProperty(a))&&(n?o=a.toUpperCase():o=a,this.defineConstant(t,o,r[a]))};jxg.extend(jxg,{boards:{},readers:{},elements:{},registerElement:function(t,r){t=t.toLowerCase(),this.elements[t]=r},registerReader:function(t,r){var s,n;for(s=0;s<r.length;s++)n=r[s].toLowerCase(),typeof this.readers[n]!="function"&&(this.readers[n]=t)},shortcut:function(t,r){return function(){return t[r].apply(this,arguments)}},getRef:function(t,r){return jxg.deprecated("JXG.getRef()","Board.select()"),t.select(r)},getReference:function(t,r){return jxg.deprecated("JXG.getReference()","Board.select()"),t.select(r)},getBoardByContainerId:function(t){var r;for(r in JXG.boards)if(JXG.boards.hasOwnProperty(r)&&JXG.boards[r].container===t)return JXG.boards[r];return null},deprecated:function(t,r){var s=t+" is deprecated.";r&&(s+=" Please use "+r+" instead."),jxg.warn(s)},warn:function(t){typeof window=="object"&&window.console&&console.warn?console.warn("WARNING:",t):typeof document=="object"&&document.getElementById("warning")&&(document.getElementById("debug").innerHTML+="WARNING: "+t+"<br />")},debugInt:function(t){var r,s;for(r=0;r<arguments.length;r++)s=arguments[r],typeof window=="object"&&window.console&&console.log?console.log(s):typeof document=="object"&&document.getElementById("debug")&&(document.getElementById("debug").innerHTML+=s+"<br/>")},debugWST:function(t){var r=new Error;jxg.debugInt.apply(this,arguments),r&&r.stack&&(jxg.debugInt("stacktrace"),jxg.debugInt(r.stack.split(`
`).slice(1).join(`
`)))},debugLine:function(t){var r=new Error;jxg.debugInt.apply(this,arguments),r&&r.stack&&jxg.debugInt("Called from",r.stack.split(`
`).slice(2,3).join(`
`))},debug:function(t){jxg.debugInt.apply(this,arguments)}});const JXG$1=jxg;var major=1,minor=6,patch=2,version=major+"."+minor+"."+patch,constants;constants={version,licenseText:"JSXGraph v"+version+" Copyright (C) see https://jsxgraph.org",COORDS_BY_USER:1,COORDS_BY_SCREEN:2,OBJECT_TYPE_ARC:1,OBJECT_TYPE_ARROW:2,OBJECT_TYPE_AXIS:3,OBJECT_TYPE_AXISPOINT:4,OBJECT_TYPE_TICKS:5,OBJECT_TYPE_CIRCLE:6,OBJECT_TYPE_CONIC:7,OBJECT_TYPE_CURVE:8,OBJECT_TYPE_GLIDER:9,OBJECT_TYPE_IMAGE:10,OBJECT_TYPE_LINE:11,OBJECT_TYPE_POINT:12,OBJECT_TYPE_SLIDER:13,OBJECT_TYPE_CAS:14,OBJECT_TYPE_GXTCAS:15,OBJECT_TYPE_POLYGON:16,OBJECT_TYPE_SECTOR:17,OBJECT_TYPE_TEXT:18,OBJECT_TYPE_ANGLE:19,OBJECT_TYPE_INTERSECTION:20,OBJECT_TYPE_TURTLE:21,OBJECT_TYPE_VECTOR:22,OBJECT_TYPE_OPROJECT:23,OBJECT_TYPE_GRID:24,OBJECT_TYPE_TANGENT:25,OBJECT_TYPE_HTMLSLIDER:26,OBJECT_TYPE_CHECKBOX:27,OBJECT_TYPE_INPUT:28,OBJECT_TYPE_BUTTON:29,OBJECT_TYPE_TRANSFORMATION:30,OBJECT_TYPE_FOREIGNOBJECT:31,OBJECT_TYPE_VIEW3D:32,OBJECT_TYPE_POINT3D:33,OBJECT_TYPE_LINE3D:34,OBJECT_TYPE_PLANE3D:35,OBJECT_TYPE_CURVE3D:36,OBJECT_TYPE_SURFACE3D:37,OBJECT_CLASS_POINT:1,OBJECT_CLASS_LINE:2,OBJECT_CLASS_CIRCLE:3,OBJECT_CLASS_CURVE:4,OBJECT_CLASS_AREA:5,OBJECT_CLASS_OTHER:6,OBJECT_CLASS_TEXT:7,OBJECT_CLASS_3D:8,GENTYPE_ABC:1,GENTYPE_AXIS:2,GENTYPE_MID:3,GENTYPE_REFLECTION:4,GENTYPE_MIRRORELEMENT:5,GENTYPE_REFLECTION_ON_LINE:4,GENTYPE_REFLECTION_ON_POINT:5,GENTYPE_TANGENT:6,GENTYPE_PARALLEL:7,GENTYPE_BISECTORLINES:8,GENTYPE_BOARDIMG:9,GENTYPE_BISECTOR:10,GENTYPE_NORMAL:11,GENTYPE_POINT:12,GENTYPE_GLIDER:13,GENTYPE_INTERSECTION:14,GENTYPE_CIRCLE:15,GENTYPE_CIRCLE2POINTS:16,GENTYPE_LINE:17,GENTYPE_TRIANGLE:18,GENTYPE_QUADRILATERAL:19,GENTYPE_TEXT:20,GENTYPE_POLYGON:21,GENTYPE_REGULARPOLYGON:22,GENTYPE_SECTOR:23,GENTYPE_ANGLE:24,GENTYPE_PLOT:25,GENTYPE_SLIDER:26,GENTYPE_TRUNCATE:27,GENTYPE_JCODE:28,GENTYPE_MOVEMENT:29,GENTYPE_COMBINED:30,GENTYPE_RULER:31,GENTYPE_SLOPETRIANGLE:32,GENTYPE_PERPSEGMENT:33,GENTYPE_LABELMOVEMENT:34,GENTYPE_VECTOR:35,GENTYPE_NONREFLEXANGLE:36,GENTYPE_REFLEXANGLE:37,GENTYPE_PATH:38,GENTYPE_DERIVATIVE:39,GENTYPE_DELETE:41,GENTYPE_COPY:42,GENTYPE_MIRROR:43,GENTYPE_ROTATE:44,GENTYPE_ABLATION:45,GENTYPE_MIGRATE:46,GENTYPE_VECTORCOPY:47,GENTYPE_POLYGONCOPY:48,GENTYPE_CTX_TYPE_G:51,GENTYPE_CTX_TYPE_P:52,GENTYPE_CTX_TRACE:53,GENTYPE_CTX_VISIBILITY:54,GENTYPE_CTX_CCVISIBILITY:55,GENTYPE_CTX_MPVISIBILITY:56,GENTYPE_CTX_WITHLABEL:57,GENTYPE_CTX_LABEL:58,GENTYPE_CTX_FIXED:59,GENTYPE_CTX_STROKEWIDTH:60,GENTYPE_CTX_LABELSIZE:61,GENTYPE_CTX_SIZE:62,GENTYPE_CTX_FACE:63,GENTYPE_CTX_STRAIGHT:64,GENTYPE_CTX_ARROW:65,GENTYPE_CTX_COLOR:66,GENTYPE_CTX_RADIUS:67,GENTYPE_CTX_COORDS:68,GENTYPE_CTX_TEXT:69,GENTYPE_CTX_ANGLERADIUS:70,GENTYPE_CTX_DOTVISIBILITY:71,GENTYPE_CTX_FILLOPACITY:72,GENTYPE_CTX_PLOT:73,GENTYPE_CTX_SCALE:74,GENTYPE_CTX_SLIDER_BOUND:75,GENTYPE_CTX_POINT1:76,GENTYPE_CTX_POINT2:77,GENTYPE_CTX_LABELSTICKY:78,GENTYPE_CTX_TYPE_I:79,GENTYPE_CTX_HASINNERPOINTS:80,GENTYPE_CTX_SLIDER_STEP:81,GENTYPE_CTX_SNAPTOGRID:82,GENTYPE_CTX_SNAPTOPOINTS:83,GENTYPE_CTX_STROKEDASH:84,GENTYPE_CTX_SLIDER_VALUE:85,GENTYPE_CTX_SECTORBORDERS:86,GENTYPE_CTX_CURVETAU:87,GENTYPE_CTX_SLIDER_POS:88};JXG$1.extendConstants(JXG$1,constants);const Const=constants;JXG$1.extend(JXG$1,{isBoard:function(t){return t!==null&&typeof t=="object"&&this.isNumber(t.BOARD_MODE_NONE)&&this.isObject(t.objects)&&this.isObject(t.jc)&&this.isFunction(t.update)&&!!t.containerObj&&this.isString(t.id)},isId:function(t,r){return typeof r=="string"&&!!t.objects[r]},isName:function(t,r){return typeof r=="string"&&!!t.elementsByName[r]},isGroup:function(t,r){return typeof r=="string"&&!!t.groups[r]},isString:function(t){return typeof t=="string"},isNumber:function(t,r){var s=typeof t=="number"||Object.prototype.toString.call(t)==="[Object Number]";return r=r||!1,r?s&&!isNaN(t):s},isFunction:function(t){return typeof t=="function"},isArray:function(t){var r;return Array.isArray?r=Array.isArray(t):r=t!==null&&typeof t=="object"&&typeof t.splice=="function"&&typeof t.join=="function",r},isObject:function(t){return typeof t=="object"&&!this.isArray(t)},isDocumentOrFragment:function(t){return this.isObject(t)&&(t.nodeType===9||t.nodeType===11)},isPoint:function(t){return t!==null&&typeof t=="object"&&this.exists(t.elementClass)?t.elementClass===Const.OBJECT_CLASS_POINT:!1},isPoint3D:function(t){return t!==null&&typeof t=="object"&&this.exists(t.elType)?t.elType==="point3d":!1},isPointType:function(t,r){var s,n;return this.isArray(r)||this.isFunction(r)&&(s=r(),this.isArray(s)&&s.length>1)?!0:(n=t.select(r),this.isPoint(n))},isTransformationOrArray:function(t){if(t!==null){if(this.isArray(t)&&t.length>0)return this.isTransformationOrArray(t[0]);if(typeof t=="object")return t.type===Const.OBJECT_TYPE_TRANSFORMATION}return!1},isEmpty:function(t){return Object.keys(t).length===0},exists:function(t,r){var s=!(t==null||t===null);return r=r||!1,r?s&&t!=="":s},def:function(t,r){return this.exists(t)?t:r},str2Bool:function(t){return this.exists(t)?typeof t=="boolean"?t:this.isString(t)?t.toLowerCase()==="true":!1:!0},createEvalFunction:function(t,r,s){var n=[],a,o,l,u={};for(o=0;o<s;o++){n[o]=JXG$1.createFunction(r[o],t,"",!0);for(l in n[o].deps)u[l]=n[o].deps}return a=function(f){return n[f]()},a.deps=u,a},createFunction:function(t,r,s,n){var a=null;return(!this.exists(n)||n)&&this.isString(t)?a=r.jc.snippet(t,!0,s,!0):this.isFunction(t)?(a=t,a.deps={}):this.isNumber(t)?(a=function(){return t},a.deps={}):this.isString(t)&&(a=function(){return t},a.deps={}),a!==null&&(a.origin=t),a},providePoints:function(t,r,s,n,a){var o,l,u,f=0,c=[],h,d;for(this.isArray(r)||(r=[r]),u=r.length,this.exists(a)&&(f=a.length),f===0&&(h=this.copyAttributes(s,t.options,n)),o=0;o<u;++o)if(f>0&&(l=Math.min(o,f-1),h=this.copyAttributes(s,t.options,n,a[l])),this.isArray(r[o])&&r[o].length>1?(c.push(t.create("point",r[o],h)),c[c.length-1]._is_new=!0):this.isFunction(r[o])?(d=r[o](),this.isArray(d)&&d.length>1&&(c.push(t.create("point",[r[o]],h)),c[c.length-1]._is_new=!0)):c.push(t.select(r[o])),!this.isPoint(c[o]))return!1;return c},providePoints3D:function(t,r,s,n,a){var o,l,u,f=0,c=[],h,d;for(this.isArray(r)||(r=[r]),u=r.length,this.exists(a)&&(f=a.length),f===0&&(h=this.copyAttributes(s,t.board.options,n)),o=0;o<u;++o)if(f>0&&(l=Math.min(o,f-1),h=this.copyAttributes(s,t.board.options,n,a[l])),this.isArray(r[o])&&r[o].length>1?(c.push(t.create("point3d",r[o],h)),c[c.length-1]._is_new=!0):this.isFunction(r[o])?(d=r[o](),this.isArray(d)&&d.length>1&&(c.push(t.create("point3d",[r[o]],h)),c[c.length-1]._is_new=!0)):c.push(t.select(r[o])),!this.isPoint3D(c[o]))return!1;return c},bind:function(t,r){return function(){return t.apply(r,arguments)}},evaluate:function(t){return this.isFunction(t)?t():t},indexOf:function(t,r,s){var n,a=this.exists(s);if(Array.indexOf&&!a)return t.indexOf(r);for(n=0;n<t.length;n++)if(a&&t[n][s]===r||!a&&t[n]===r)return n;return-1},eliminateDuplicates:function(t){var r,s=t.length,n=[],a={};for(r=0;r<s;r++)a[t[r]]=0;for(r in a)a.hasOwnProperty(r)&&n.push(r);return n},swap:function(t,r,s){var n;return n=t[r],t[r]=t[s],t[s]=n,t},uniqueArray:function(t){var r,s,n,a=[];if(t.length===0)return[];for(r=0;r<t.length;r++){if(n=this.isArray(t[r]),!this.exists(t[r])){t[r]="";continue}for(s=r+1;s<t.length;s++)n&&JXG$1.cmpArrays(t[r],t[s])?t[r]=[]:!n&&t[r]===t[s]&&(t[r]="")}for(s=0,r=0;r<t.length;r++)n=this.isArray(t[r]),!n&&t[r]!==""?(a[s]=t[r],s++):n&&t[r].length!==0&&(a[s]=t[r].slice(0),s++);return t=a,a},isInArray:function(t,r){return JXG$1.indexOf(t,r)>-1},coordsArrayToMatrix:function(t,r){var s,n=[],a=[];for(s=0;s<t.length;s++)r?(n.push(t[s].usrCoords[1]),a.push(t[s].usrCoords[2])):a.push([t[s].usrCoords[1],t[s].usrCoords[2]]);return r&&(a=[n,a]),a},cmpArrays:function(t,r){var s;if(t===r)return!0;if(t.length!==r.length)return!1;for(s=0;s<t.length;s++)if(this.isArray(t[s])&&this.isArray(r[s])){if(!this.cmpArrays(t[s],r[s]))return!1}else if(t[s]!==r[s])return!1;return!0},removeElementFromArray:function(t,r){var s;for(s=0;s<t.length;s++)if(t[s]===r)return t.splice(s,1),t;return t},trunc:function(t,r){return r=JXG$1.def(r,0),this.toFixed(t,r)},_decimalAdjust:function(t,r,s){return s===void 0||+s==0?Math[t](r):(r=+r,s=+s,isNaN(r)||!(typeof s=="number"&&s%1===0)?NaN:(r=r.toString().split("e"),r=Math[t](+(r[0]+"e"+(r[1]?+r[1]-s:-s))),r=r.toString().split("e"),+(r[0]+"e"+(r[1]?+r[1]+s:s))))},_round10:function(t,r){return this._decimalAdjust("round",t,r)},_floor10:function(t,r){return this._decimalAdjust("floor",t,r)},_ceil10:function(t,r){return this._decimalAdjust("ceil",t,r)},toFixed:function(t,r){return this._round10(t,-r).toFixed(r)},autoDigits:function(t){var r=Math.abs(t),s;return r>=.1?s=this.toFixed(t,2):r>=.01?s=this.toFixed(t,4):r>=1e-4?s=this.toFixed(t,6):s=t,s},keys:function(t,r){var s=[],n;for(n in t)r?t.hasOwnProperty(n)&&s.push(n):s.push(n);return s},clone:function(t){var r={};return r.prototype=t,r},cloneAndCopy:function(t,r){var s,n=function(){};n.prototype=t;for(s in r)n[s]=r[s];return n},merge:function(t,r){var s,n,a,o;for(s in r)if(r.hasOwnProperty(s))if(a=r[s],this.isArray(a))for(t[s]||(t[s]=[]),n=0;n<a.length;n++)o=r[s][n],typeof r[s][n]=="object"?t[s][n]=this.merge(t[s][n],o):t[s][n]=r[s][n];else typeof a=="object"?(t[s]||(t[s]={}),t[s]=this.merge(t[s],a)):t[s]=a;return t},deepCopy:function(t,r,s){var n,a,o,l;if(s=s||!1,typeof t!="object"||t===null)return t;if(this.isArray(t))for(n=[],a=0;a<t.length;a++)o=t[a],typeof o=="object"?this.exists(o.board)?n[a]=o.id:n[a]=this.deepCopy(o):n[a]=o;else{n={};for(a in t)t.hasOwnProperty(a)&&(l=s?a.toLowerCase():a,o=t[a],o!==null&&typeof o=="object"?this.exists(o.board)?n[l]=o.id:n[l]=this.deepCopy(o):n[l]=o);for(a in r)r.hasOwnProperty(a)&&(l=s?a.toLowerCase():a,o=r[a],typeof o=="object"?this.isArray(o)||!this.exists(n[l])?n[l]=this.deepCopy(o):n[l]=this.deepCopy(n[l],o,s):n[l]=o)}return n},mergeAttr:function(t,r,s){var n,a,o;s=s||!0;for(n in r)r.hasOwnProperty(n)&&(a=s?n.toLowerCase():n,o=r[n],this.isObject(o)&&o!==null&&!this.isDocumentOrFragment(o)&&!this.exists(o.board)&&typeof o.valueOf()!="string"?((t[a]===void 0||t[a]===null||!this.isObject(t[a]))&&(t[a]={}),this.mergeAttr(t[a],o,s)):t[a]=o)},copyAttributes:function(t,r,s){var n,a,o,l,u,f={circle:1,curve:1,foreignobject:1,image:1,line:1,point:1,polygon:1,text:1,ticks:1,integral:1};for(o=arguments.length,o<3||f[s]?n=JXG$1.deepCopy(r.elements,null,!0):n={},o<4&&this.exists(s)&&this.exists(r.layer[s])&&(n.layer=r.layer[s]),l=r,u=!0,a=2;a<o;a++)if(this.exists(l[arguments[a]]))l=l[arguments[a]];else{u=!1;break}for(u&&(n=JXG$1.deepCopy(n,l,!0)),l=typeof t=="object"?t:{},u=!0,a=3;a<o;a++)if(this.exists(l[arguments[a]]))l=l[arguments[a]];else{u=!1;break}if(u&&this.mergeAttr(n,l,!0),arguments[2]==="board")return n;for(l=r,u=!0,a=2;a<o;a++)if(this.exists(l[arguments[a]]))l=l[arguments[a]];else{u=!1;break}return u&&this.exists(l.label)&&(n.label=JXG$1.deepCopy(l.label,n.label)),n.label=JXG$1.deepCopy(r.label,n.label),n},copyPrototypeMethods:function(t,r,s){var n;t.prototype[s]=r.prototype.constructor;for(n in r.prototype)r.prototype.hasOwnProperty(n)&&(t.prototype[n]=r.prototype[n])},toJSON:function(t,r){var s,n,a,o,l;if(r=JXG$1.def(r,!1),JSON.stringify&&!r)try{return o=JSON.stringify(t),o}catch{}switch(typeof t){case"object":if(t){if(s=[],this.isArray(t)){for(a=0;a<t.length;a++)s.push(JXG$1.toJSON(t[a],r));return"["+s.join(",")+"]"}for(n in t)if(t.hasOwnProperty(n)){try{l=JXG$1.toJSON(t[n],r)}catch{l=""}r?s.push(n+":"+l):s.push('"'+n+'":'+l)}return"{"+s.join(",")+"} "}return"null";case"string":return"'"+t.replace(/(["'])/g,"\\$1")+"'";case"number":case"boolean":return t.toString()}return"0"},clearVisPropOld:function(t){return t.visPropOld={cssclass:"",cssdefaultstyle:"",cssstyle:"",fillcolor:"",fillopacity:"",firstarrow:!1,fontsize:-1,lastarrow:!1,left:-1e5,linecap:"",shadow:!1,strokecolor:"",strokeopacity:"",strokewidth:"",tabindex:-1e5,transitionduration:0,top:-1e5,visible:null},t},isInObject:function(t,r){var s;for(s in t)if(t.hasOwnProperty(s)&&t[s]===r)return!0;return!1},escapeHTML:function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},unescapeHTML:function(t){return t.replace(/<\/?[^>]+>/gi,"").replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">")},capitalize:function(t){return t.charAt(0).toUpperCase()+t.substring(1).toLowerCase()},trimNumber:function(t){return t=t.replace(/^0+/,""),t=t.replace(/0+$/,""),(t[t.length-1]==="."||t[t.length-1]===",")&&(t=t.slice(0,-1)),(t[0]==="."||t[0]===",")&&(t="0"+t),t},filterElements:function(t,r){var s,n,a,o,l,u,f,c=t.length,h=[];if(typeof r!="function"&&typeof r!="object")return h;for(s=0;s<c;s++){if(f=!0,a=t[s],typeof r=="object"){for(n in r)if(r.hasOwnProperty(n)&&(o=n.toLowerCase(),typeof a[n]=="function"?l=a[n]():l=a[n],a.visProp&&typeof a.visProp[o]=="function"?u=a.visProp[o]():u=a.visProp&&a.visProp[o],typeof r[n]=="function"?f=r[n](l)||r[n](u):f=l===r[n]||u===r[n],!f))break}else typeof r=="function"&&(f=r(a));f&&h.push(a)}return h},trim:function(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},sanitizeHTML:function(t,r){return typeof html_sanitize=="function"&&r?html_sanitize(t,function(){},function(s){return s}):(t&&typeof t=="string"&&(t=t.replace(/</g,"&lt;").replace(/>/g,"&gt;")),t)},evalSlider:function(t){return t&&t.type===Const.OBJECT_TYPE_GLIDER&&typeof t.Value=="function"?t.Value():t}});JXG$1.extendConstants(JXG$1,{touchProperty:"touches"});JXG$1.extend(JXG$1,{isTouchEvent:function(t){return JXG$1.exists(t[JXG$1.touchProperty])},isPointerEvent:function(t){return JXG$1.exists(t.pointerId)},isMouseEvent:function(t){return!JXG$1.isTouchEvent(t)&&!JXG$1.isPointerEvent(t)},getNumberOfTouchPoints:function(t){var r=-1;return JXG$1.isTouchEvent(t)&&(r=t[JXG$1.touchProperty].length),r},isFirstTouch:function(t){var r=JXG$1.getNumberOfTouchPoints(t);return JXG$1.isPointerEvent(t)?t.isPrimary:r===1},isBrowser:typeof window=="object"&&typeof document=="object",supportsES6:function(){try{return new Function("(a = 0) => a"),!0}catch{return!1}},supportsVML:function(){return this.isBrowser&&!!document.namespaces},supportsSVG:function(){var t;return this.isBrowser?(t=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,t):!1},supportsCanvas:function(){var t=!1;return this.isNode()&&(t=!0),t||this.isBrowser&&!!document.createElement("canvas").getContext},isNode:function(){return!this.isBrowser&&typeof process<"u"&&process.release.name.search(/node|io.js/)!==-1},isWebWorker:function(){return!this.isBrowser&&typeof self=="object"&&typeof self.postMessage=="function"},supportsPointerEvents:function(){return!!(this.isBrowser&&window.navigator&&(window.PointerEvent||window.navigator.pointerEnabled||window.navigator.msPointerEnabled))},isTouchDevice:function(){return this.isBrowser&&window.ontouchstart!==void 0},isAndroid:function(){return JXG$1.exists(navigator)&&navigator.userAgent.toLowerCase().indexOf("android")>-1},isWebkitAndroid:function(){return this.isAndroid()&&navigator.userAgent.indexOf(" AppleWebKit/")>-1},isApple:function(){return JXG$1.exists(navigator)&&(navigator.userAgent.indexOf("iPad")>-1||navigator.userAgent.indexOf("iPhone")>-1)},isWebkitApple:function(){return this.isApple()&&navigator.userAgent.search(/Mobile\/[0-9A-Za-z.]*Safari/)>-1},isMetroApp:function(){return typeof window=="object"&&window.clientInformation&&window.clientInformation.appVersion&&window.clientInformation.appVersion.indexOf("MSAppHost")>-1},isMozilla:function(){return JXG$1.exists(navigator)&&navigator.userAgent.toLowerCase().indexOf("mozilla")>-1&&navigator.userAgent.toLowerCase().indexOf("apple")===-1},isFirefoxOS:function(){return JXG$1.exists(navigator)&&navigator.userAgent.toLowerCase().indexOf("android")===-1&&navigator.userAgent.toLowerCase().indexOf("apple")===-1&&navigator.userAgent.toLowerCase().indexOf("mobile")>-1&&navigator.userAgent.toLowerCase().indexOf("mozilla")>-1},ieVersion:(function(){var t,r,s=3;if(typeof document!="object")return 0;t=document.createElement("div"),r=t.getElementsByTagName("i");do t.innerHTML="<!--[if gt IE "+ ++s+"]><i></i><![endif]-->";while(r[0]);return s>4?s:void 0})(),getDimensions:function(t,r){var s,n,a,o,l,u,f,c,h,d=/\d+(\.\d*)?px/;if(!this.isBrowser||t===null)return{width:500,height:500};if(r=r||document,s=JXG$1.isString(t)?r.getElementById(t):t,!JXG$1.exists(s))throw new Error(`
JSXGraph: HTML container element '`+t+"' not found.");return n=s.style.display,n!=="none"&&n!==null?s.clientWidth>0&&s.clientHeight>0?{width:s.clientWidth,height:s.clientHeight}:(h=window.getComputedStyle?window.getComputedStyle(s):s.style,{width:d.test(h.width)?parseFloat(h.width):0,height:d.test(h.height)?parseFloat(h.height):0}):(a=s.style,o=a.visibility,l=a.position,u=a.display,a.visibility="hidden",a.position="absolute",a.display="block",f=s.clientWidth,c=s.clientHeight,a.display=u,a.position=l,a.visibility=o,{width:f,height:c})},addEvent:function(t,r,s,n,a){var o=function(){return s.apply(n,arguments)};o.origin=s,typeof n=="object"&&JXG$1.exists(n.BOARD_MODE_NONE)&&(n["x_internal"+r]=n["x_internal"+r]||[],n["x_internal"+r].push(o)),JXG$1.exists(t)&&JXG$1.exists(t.addEventListener)&&(a=a||!1,t.addEventListener(r,o,a)),JXG$1.exists(t)&&JXG$1.exists(t.attachEvent)&&t.attachEvent("on"+r,o)},removeEvent:function(t,r,s,n){var a;if(!JXG$1.exists(n)){JXG$1.debug("no such owner");return}if(!JXG$1.exists(n["x_internal"+r])){JXG$1.debug("no such type: "+r);return}if(!JXG$1.isArray(n["x_internal"+r])){JXG$1.debug("owner[x_internal + "+r+"] is not an array");return}if(a=JXG$1.indexOf(n["x_internal"+r],s,"origin"),a===-1){JXG$1.debug("removeEvent: no such event function in internal list: "+s);return}try{JXG$1.exists(t)&&JXG$1.exists(t.removeEventListener)&&t.removeEventListener(r,n["x_internal"+r][a],!1),JXG$1.exists(t)&&JXG$1.exists(t.detachEvent)&&t.detachEvent("on"+r,n["x_internal"+r][a])}catch{JXG$1.debug("event not registered in browser: ("+r+" -- "+s+")")}n["x_internal"+r].splice(a,1)},removeAllEvents:function(t,r,s){var n,a;if(s["x_internal"+r]){for(a=s["x_internal"+r].length,n=a-1;n>=0;n--)JXG$1.removeEvent(t,r,s["x_internal"+r][n].origin,s);s["x_internal"+r].length>0&&JXG$1.debug("removeAllEvents: Not all events could be removed.")}},getPosition:function(t,r,s){var n,a,o,l=0,u=0;if(t||(t=window.event),o=t[JXG$1.touchProperty],JXG$1.exists(o)&&o.length===0&&(o=t.changedTouches),JXG$1.exists(r)&&JXG$1.exists(o))if(r===-1){for(a=o.length,n=0;n<a;n++)if(o[n]){t=o[n];break}}else t=o[r];return t.clientX&&(l=t.clientX,u=t.clientY),[l,u]},getOffset:function(t){var r,s=t,n=t,a=s.offsetLeft-s.scrollLeft,o=s.offsetTop-s.scrollTop;for(r=this.getCSSTransform([a,o],s),a=r[0],o=r[1],s=s.offsetParent;s;){for(a+=s.offsetLeft,o+=s.offsetTop,s.offsetParent&&(a+=s.clientLeft-s.scrollLeft,o+=s.clientTop-s.scrollTop),r=this.getCSSTransform([a,o],s),a=r[0],o=r[1],n=n.parentNode;n!==s;)a+=n.clientLeft-n.scrollLeft,o+=n.clientTop-n.scrollTop,r=this.getCSSTransform([a,o],n),a=r[0],o=r[1],n=n.parentNode;s=s.offsetParent}return[a,o]},getStyle:function(t,r){var s,n=t.ownerDocument;return n.defaultView&&n.defaultView.getComputedStyle?s=n.defaultView.getComputedStyle(t,null).getPropertyValue(r):t.currentStyle&&JXG$1.ieVersion>=9?s=t.currentStyle[r]:t.style&&(r=r.replace(/-([a-z]|[0-9])/gi,function(a,o){return o.toUpperCase()}),s=t.style[r]),s},getProp:function(t,r){var s=parseInt(this.getStyle(t,r),10);return isNaN(s)?0:s},getCSSTransform:function(t,r){var s,n,a,o,l,u,f,c,h=["transform","webkitTransform","MozTransform","msTransform","oTransform"];for(u=h.length,s=0,a="";s<u;s++)if(JXG$1.exists(r.style[h[s]])){a=r.style[h[s]];break}if(a!==""&&(l=a.indexOf("("),l>0)){for(u=a.length,o=a.substring(l+1,u-1),c=o.split(","),n=0,f=c.length;n<f;n++)c[n]=parseFloat(c[n]);a.indexOf("matrix")===0?(t[0]+=c[4],t[1]+=c[5]):a.indexOf("translateX")===0?t[0]+=c[0]:a.indexOf("translateY")===0?t[1]+=c[0]:a.indexOf("translate")===0&&(t[0]+=c[0],t[1]+=c[1])}return JXG$1.exists(r.style.zoom)&&(a=r.style.zoom,a!==""&&(t[0]*=parseFloat(a),t[1]*=parseFloat(a))),t},getCSSTransformMatrix:function(t){var r,s,n,a,o,l,u,f,c,h=t.ownerDocument,d=["transform","webkitTransform","MozTransform","msTransform","oTransform"],p=[[1,0,0],[0,1,0],[0,0,1]];if(h.defaultView&&h.defaultView.getComputedStyle)c=h.defaultView.getComputedStyle(t,null),n=c.getPropertyValue("-webkit-transform")||c.getPropertyValue("-moz-transform")||c.getPropertyValue("-ms-transform")||c.getPropertyValue("-o-transform")||c.getPropertyValue("transform");else for(l=d.length,r=0,n="";r<l;r++)if(JXG$1.exists(t.style[d[r]])){n=t.style[d[r]];break}if(n!==""&&(o=n.indexOf("("),o>0)){for(l=n.length,a=n.substring(o+1,l-1),f=a.split(","),s=0,u=f.length;s<u;s++)f[s]=parseFloat(f[s]);n.indexOf("matrix")===0?p=[[1,0,0],[0,f[0],f[1]],[0,f[2],f[3]]]:n.indexOf("scaleX")===0?p[1][1]=f[0]:n.indexOf("scaleY")===0?p[2][2]=f[0]:n.indexOf("scale")===0&&(p[1][1]=f[0],p[2][2]=f[1])}return JXG$1.exists(t.style.zoom)&&(n=t.style.zoom,n!==""&&(p[1][1]*=parseFloat(n),p[2][2]*=parseFloat(n))),p},timedChunk:function(t,r,s,n){var a=t.concat(),o=function(){var l=+new Date;do r.call(s,a.shift());while(a.length>0&&+new Date-l<300);a.length>0?window.setTimeout(o,1):n(t)};window.setTimeout(o,1)},scaleJSXGraphDiv:function(t,r,s,n){var a=s.styleSheets.length,o,l,u,f,c,h,d,p,v,y,b,w,x=n,A,S,_="jsxgraph_fullscreen_css",$,M=[":fullscreen",":-webkit-full-screen",":-moz-full-screen",":-ms-fullscreen"],T=M.length,O,B=new RegExp(".*#"+t+":.*full.*screen.*#"+r+".*auto;.*transform:.*matrix");for(c=s.getElementById(t).getBoundingClientRect(),f=c.height,u=c.width,y=s.getElementById(r),p=y._cssFullscreenStore.w,v=y._cssFullscreenStore.h,A=v/p,p>u*x&&(p=u*x,v=p*A),v>f*x&&(v=f*x,p=v/A),h=p,d=v,A>1,A<f/u?b=u*x/p:b=f*x/v,w=(f-d)*.5,S="{width:"+h+"px !important;height:"+d+"px !important;margin:0 auto;transform:matrix("+b+",0,0,"+b+",0,"+w+");}",$=!1,O=a-1;O>=0;O--)if(s.styleSheets[O].title===_&&($=!0,s.styleSheets[O].title===_&&s.styleSheets[O].cssRules.length>0&&B.test(s.styleSheets[O].cssRules[0].cssText)&&s.styleSheets[O].deleteRule)){s.styleSheets[O].deleteRule(0);break}for($||(o=document.createElement("style"),o.setAttribute("title",_),o.appendChild(document.createTextNode("")),document.head.appendChild(o)),a=s.styleSheets.length,O=0;O<T;O++)try{l="#"+t+M[O]+" #"+r+S,s.styleSheets[a-1].insertRule(l,0);break}catch{}O===T&&JXG$1.debug(`JXG.scaleJSXGraphDiv: Could not add any CSS rule.
One possible reason could be that the id of the JSXGraph container does not start with a letter.`)}});JXG$1.XML={cleanWhitespace:function(t){for(var r=t.firstChild;JXG$1.exists(r);)r.nodeType===3&&!/\S/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&this.cleanWhitespace(r),r=r.nextSibling},parse:function(t){var r,s,n;return typeof DOMParser=="function"||typeof DOMParser=="object"?n=DOMParser:n=function(){this.parseFromString=function(a){var o;return typeof ActiveXObject=="function"&&(o=new ActiveXObject("MSXML.DomDocument"),o.loadXML(a)),o}},r=new n,s=r.parseFromString(t,"text/xml"),this.cleanWhitespace(s),s}};JXG$1.XML;JXG$1.EventEmitter={eventHandlers:{},suspended:{},trigger:function(t,r){var s,n,a,o,l,u;for(l=t.length,n=0;n<l;n++)if(o=this.eventHandlers[t[n]],!this.suspended[t[n]]){if(this.suspended[t[n]]=!0,o)for(u=o.length,s=0;s<u;s++)a=o[s],a.handler.apply(a.context,r);this.suspended[t[n]]=!1}return this},on:function(t,r,s){return JXG$1.isArray(this.eventHandlers[t])||(this.eventHandlers[t]=[]),s=JXG$1.def(s,this),this.eventHandlers[t].push({handler:r,context:s}),this},off:function(t,r){var s;return!t||!JXG$1.isArray(this.eventHandlers[t])?this:(r?(s=JXG$1.indexOf(this.eventHandlers[t],r,"handler"),s>-1&&this.eventHandlers[t].splice(s,1),this.eventHandlers[t].length===0&&delete this.eventHandlers[t]):delete this.eventHandlers[t],this)},eventify:function(t){t.eventHandlers={},t.on=this.on,t.off=this.off,t.triggerEventHandlers=this.trigger,t.trigger=this.trigger,t.suspended={}}};const EventEmitter=JXG$1.EventEmitter;var undef$1,memoizer=function(t){var r,s;return t.memo||(r={},s=Array.prototype.join,t.memo=function(){var n=s.call(arguments);return r[n]!==undef$1?r[n]:r[n]=t.apply(this,arguments)}),t.memo};JXG$1.Math={eps:1e-6,relDif:function(t,r){var s=Math.abs(t),n=Math.abs(r);return n=Math.max(s,n),n===0?0:Math.abs(t-r)/n},mod:function(t,r){return t-Math.floor(t/r)*r},vector:function(t,r){var s,n;for(r=r||0,s=[],n=0;n<t;n++)s[n]=r;return s},matrix:function(t,r,s){var n,a,o;for(s=s||0,r=r||t,n=[],a=0;a<t;a++)for(n[a]=[],o=0;o<r;o++)n[a][o]=s;return n},identity:function(t,r){var s,n;for(r===undef$1&&typeof r!="number"&&(r=t),s=this.matrix(t,r),n=0;n<Math.min(t,r);n++)s[n][n]=1;return s},frustum:function(t,r,s,n,a,o){var l=this.matrix(4,4);return l[0][0]=a*2/(r-t),l[0][1]=0,l[0][2]=(r+t)/(r-t),l[0][3]=0,l[1][0]=0,l[1][1]=a*2/(n-s),l[1][2]=(n+s)/(n-s),l[1][3]=0,l[2][0]=0,l[2][1]=0,l[2][2]=-(o+a)/(o-a),l[2][3]=-(o*a*2)/(o-a),l[3][0]=0,l[3][1]=0,l[3][2]=-1,l[3][3]=0,l},projection:function(t,r,s,n){var a=s*Math.tan(t/2),o=a*r;return this.frustum(-o,o,-a,a,s,n)},matVecMult:function(t,r){var s,n,a,o=t.length,l=r.length,u=[];if(l===3)for(s=0;s<o;s++)u[s]=t[s][0]*r[0]+t[s][1]*r[1]+t[s][2]*r[2];else for(s=0;s<o;s++){for(n=0,a=0;a<l;a++)n+=t[s][a]*r[a];u[s]=n}return u},matMatMult:function(t,r){var s,n,a,o,l=t.length,u=l>0?r[0].length:0,f=r.length,c=this.matrix(l,u);for(s=0;s<l;s++)for(n=0;n<u;n++){for(a=0,o=0;o<f;o++)a+=t[s][o]*r[o][n];c[s][n]=a}return c},transpose:function(t){var r,s,n,a,o;for(a=t.length,o=t.length>0?t[0].length:0,r=this.matrix(o,a),s=0;s<o;s++)for(n=0;n<a;n++)r[s][n]=t[n][s];return r},inverse:function(t){var r,s,n,a,o,l,u,f=t.length,c=[],h=[],d=[];for(r=0;r<f;r++){for(c[r]=[],s=0;s<f;s++)c[r][s]=t[r][s];h[r]=r}for(s=0;s<f;s++){for(o=Math.abs(c[s][s]),l=s,r=s+1;r<f;r++)Math.abs(c[r][s])>o&&(o=Math.abs(c[r][s]),l=r);if(o<=this.eps)return[];if(l>s){for(n=0;n<f;n++)u=c[s][n],c[s][n]=c[l][n],c[l][n]=u;u=h[s],h[s]=h[l],h[l]=u}for(a=1/c[s][s],r=0;r<f;r++)c[r][s]*=a;for(c[s][s]=a,n=0;n<f;n++)if(n!==s){for(r=0;r<f;r++)r!==s&&(c[r][n]-=c[r][s]*c[s][n]);c[s][n]=-a*c[s][n]}}for(r=0;r<f;r++){for(n=0;n<f;n++)d[h[n]]=c[r][n];for(n=0;n<f;n++)c[r][n]=d[n]}return c},innerProduct:function(t,r,s){var n,a=0;for((s===undef$1||!JXG$1.isNumber(s))&&(s=t.length),n=0;n<s;n++)a+=t[n]*r[n];return a},crossProduct:function(t,r){return[t[1]*r[2]-t[2]*r[1],t[2]*r[0]-t[0]*r[2],t[0]*r[1]-t[1]*r[0]]},norm:function(t,r){var s,n=0;for((r===undef$1||!JXG$1.isNumber(r))&&(r=t.length),s=0;s<r;s++)n+=t[s]*t[s];return Math.sqrt(n)},axpy:function(t,r,s){var n,a=r.length,o=[];for(n=0;n<a;n++)o[n]=t*r[n]+s[n];return o},factorial:memoizer(function(t){return t<0?NaN:(t=Math.floor(t),t===0||t===1?1:t*this.factorial(t-1))}),binomial:memoizer(function(t,r){var s,n;if(r>t||r<0)return NaN;if(r=Math.round(r),t=Math.round(t),r===0||r===t)return 1;for(s=1,n=0;n<r;n++)s*=t-n,s/=n+1;return s}),cosh:Math.cosh||function(t){return(Math.exp(t)+Math.exp(-t))*.5},sinh:Math.sinh||function(t){return(Math.exp(t)-Math.exp(-t))*.5},acosh:Math.acosh||function(t){return Math.log(t+Math.sqrt(t*t-1))},asinh:Math.asinh||function(t){return t===-1/0?t:Math.log(t+Math.sqrt(t*t+1))},cot:function(t){return 1/Math.tan(t)},acot:function(t){return(t>=0?.5:-.5)*Math.PI-Math.atan(t)},nthroot:function(t,r){var s=1/r;return r<=0||Math.floor(r)!==r?NaN:t===0?0:t>0?Math.exp(s*Math.log(t)):r%2===1?-Math.exp(s*Math.log(-t)):NaN},cbrt:Math.cbrt||function(t){return this.nthroot(t,3)},pow:function(t,r){return t===0?r===0?1:0:Math.floor(r)===r?Math.pow(t,r):t>0?Math.exp(r*Math.log(t)):NaN},ratpow:function(t,r,s){var n;return r===0?1:s===0?NaN:(n=this.gcd(r,s),this.nthroot(this.pow(t,r/n),s/n))},log10:function(t){return Math.log(t)/Math.log(10)},log2:function(t){return Math.log(t)/Math.log(2)},log:function(t,r){return r!==void 0&&JXG$1.isNumber(r)?Math.log(t)/Math.log(r):Math.log(t)},sign:Math.sign||function(t){return t=+t,t===0||isNaN(t)?t:t>0?1:-1},squampow:function(t,r){var s;if(Math.floor(r)===r){for(s=1,r<0&&(t=1/t,r*=-1);r!==0;)r&1&&(s*=t),r>>=1,t*=t;return s}return this.pow(t,r)},gcd:function(t,r){var s,n=!0;if(t=Math.abs(t),r=Math.abs(r),!(JXG$1.isNumber(t)&&JXG$1.isNumber(r)))return NaN;for(r>t&&(s=t,t=r,r=s);n;){if(t%=r,t===0)return r;if(r%=t,r===0)return t}},lcm:function(t,r){var s;return JXG$1.isNumber(t)&&JXG$1.isNumber(r)?(s=t*r,s!==0?s/this.gcd(t,r):0):NaN},erf:function(t){return this.ProbFuncs.erf(t)},erfc:function(t){return this.ProbFuncs.erfc(t)},erfi:function(t){return this.ProbFuncs.erfi(t)},ndtr:function(t){return this.ProbFuncs.ndtr(t)},ndtri:function(t){return this.ProbFuncs.ndtri(t)},lt:function(t,r){return t<r},leq:function(t,r){return t<=r},gt:function(t,r){return t>r},geq:function(t,r){return t>=r},eq:function(t,r){return t===r},neq:function(t,r){return t!==r},and:function(t,r){return t&&r},not:function(t){return!t},or:function(t,r){return t||r},xor:function(t,r){return(t||r)&&!(t&&r)},normalize:function(t){var r,s,n=2*t[3],a=t[4]/n;return t[5]=a,t[6]=-t[1]/n,t[7]=-t[2]/n,isFinite(a)?Math.abs(a)>=1?(t[0]=(t[6]*t[6]+t[7]*t[7]-a*a)/(2*a),t[1]=-t[6]/a,t[2]=-t[7]/a,t[3]=1/(2*a),t[4]=1):(s=a<=0?-1:1,t[0]=s*(t[6]*t[6]+t[7]*t[7]-a*a)*.5,t[1]=-s*t[6],t[2]=-s*t[7],t[3]=s/2,t[4]=s*a):(r=Math.sqrt(t[1]*t[1]+t[2]*t[2]),t[0]/=r,t[1]/=r,t[2]/=r,t[3]=0,t[4]=1),t},toGL:function(t){var r,s,n;if(typeof Float32Array=="function"?r=new Float32Array(16):r=new Array(16),t.length!==4&&t[0].length!==4)return r;for(s=0;s<4;s++)for(n=0;n<4;n++)r[s+4*n]=t[s][n];return r},Vieta:function(t){var r=t.length,s=[],n,a,o;for(s=t.slice(),n=1;n<r;++n){for(o=s[n],s[n]*=s[n-1],a=n-1;a>=1;--a)s[a]+=s[a-1]*o;s[0]+=o}return s}};const Mat=JXG$1.Math;JXG$1.Coords=function(t,r,s,n){this.board=s,this.usrCoords=[],this.scrCoords=[],this.emitter=!JXG$1.exists(n)||n,this.emitter&&EventEmitter.eventify(this),this.setCoordinates(t,r,!1,!0)};JXG$1.extend(JXG$1.Coords.prototype,{normalizeUsrCoords:function(){Math.abs(this.usrCoords[0])>Mat.eps&&(this.usrCoords[1]/=this.usrCoords[0],this.usrCoords[2]/=this.usrCoords[0],this.usrCoords[0]=1)},usr2screen:function(t){var r=Math.round,s=this.board,n=this.usrCoords,a=s.origin.scrCoords;t===!0?(this.scrCoords[0]=r(n[0]),this.scrCoords[1]=r(n[0]*a[1]+n[1]*s.unitX),this.scrCoords[2]=r(n[0]*a[2]-n[2]*s.unitY)):(this.scrCoords[0]=n[0],this.scrCoords[1]=n[0]*a[1]+n[1]*s.unitX,this.scrCoords[2]=n[0]*a[2]-n[2]*s.unitY)},screen2usr:function(){var t=this.board.origin.scrCoords,r=this.scrCoords,s=this.board;this.usrCoords[0]=1,this.usrCoords[1]=(r[1]-t[1])/s.unitX,this.usrCoords[2]=(t[2]-r[2])/s.unitY},distance:function(t,r){var s=0,n,a=this.usrCoords,o=this.scrCoords,l;if(t===Const.COORDS_BY_USER){if(n=r.usrCoords,l=a[0]-n[0],s=l*l,s>Mat.eps*Mat.eps)return Number.POSITIVE_INFINITY;l=a[1]-n[1],s+=l*l,l=a[2]-n[2],s+=l*l}else n=r.scrCoords,l=o[1]-n[1],s+=l*l,l=o[2]-n[2],s+=l*l;return Math.sqrt(s)},setCoordinates:function(t,r,s,n){var a=this.usrCoords,o=this.scrCoords,l=[a[0],a[1],a[2]],u=[o[0],o[1],o[2]];return t===Const.COORDS_BY_USER?(r.length===2?(a[0]=1,a[1]=r[0],a[2]=r[1]):(a[0]=r[0],a[1]=r[1],a[2]=r[2],this.normalizeUsrCoords()),this.usr2screen(s)):(r.length===2?(o[1]=r[0],o[2]=r[1]):(o[1]=r[1],o[2]=r[2]),this.screen2usr()),this.emitter&&!n&&(u[1]!==o[1]||u[2]!==o[2])&&this.triggerEventHandlers(["update"],[l,u]),this},copy:function(t,r){return r===void 0&&(r=0),this[t].slice(r)},isReal:function(){return!isNaN(this.usrCoords[1]+this.usrCoords[2])&&Math.abs(this.usrCoords[0])>Mat.eps},__evt__update:function(t,r){},__evt:function(){}});const Coords=JXG$1.Coords;var Expect={each:function(t,r,s){var n,a,o=[];if(JXG$1.exists(t.length))for(a=t.length,n=0;n<a;n++)o.push(r.call(this,t[n],s));return o},coords:function(t,r){var s=t;return t&&t.elementClass===Const.OBJECT_CLASS_POINT?s=t.coords:t.usrCoords&&t.scrCoords&&t.usr2screen&&(s=t),r&&(s=new Coords(Const.COORDS_BY_USER,s.usrCoords,s.board)),s},coordsArray:function(t,r){var s;return JXG$1.isArray(t)?s=t:s=this.coords(t).usrCoords,s.length<3&&s.unshift(1),r&&(s=[s[0],s[1],s[2]]),s}};JXG$1.Expect=Expect;Mat.ProbFuncs={MAXNUM:17014118346046923e22,SQRTH:.7071067811865476,SQRT2:1.4142135623730951,MAXLOG:708.3964185322641,P:[2461969814735305e-25,.5641895648310689,7.463210564422699,48.63719709856814,196.5208329560771,526.4451949954773,934.5285271719576,1027.5518868951572,557.5353353693994],Q:[13.228195115474499,86.70721408859897,354.9377788878199,975.7085017432055,1823.9091668790973,2246.3376081871097,1656.6630919416134,557.5353408177277],R:[.5641895835477551,1.275366707599781,5.019050422511805,6.160210979930536,7.4097426995044895,2.9788666537210022],S:[2.2605286322011726,9.396035249380015,12.048953980809666,17.08144507475659,9.608968090632859,3.369076451000815],T:[9.604973739870516,90.02601972038427,2232.005345946843,7003.325141128051,55592.30130103949],U:[33.56171416475031,521.3579497801527,4594.323829709801,22629.000061389095,49267.39426086359],M:128,MINV:.0078125,expx2:function(t,r){var s,n,a,o;return t=Math.abs(t),r<0&&(t=-t),a=this.MINV*Math.floor(this.M*t+.5),o=t-a,s=a*a,n=2*a*o+o*o,r<0&&(s=-s,n=-n),s+n>this.MAXLOG?1/0:(s=Math.exp(s)*Math.exp(n),s)},polevl:function(t,r,s){var n,a;if(JXG$1.exists(r.reduce))return r.reduce(function(o,l){return o*t+l},0);for(a=0,n=0;a<=s;a++)n=n*t+r[a];return n},p1evl:function(t,r,s){var n,a;if(JXG$1.exists(r.reduce))return r.reduce(function(o,l){return o*t+l},1);for(a=0,n=1;a<s;a++)n=n*t+r[a];return n},ndtr:function(t){var r,s,n;return r=t*this.SQRTH,n=Math.abs(r),n<1?s=.5+.5*this.erf(r):(s=.5*this.erfce(n),n=this.expx2(t,-1),s=s*Math.sqrt(n),r>0&&(s=1-s)),s},_underflow:function(t){return console.log("erfc","UNDERFLOW"),t<0?2:0},erfc:function(t){var r,s,n,a,o;return t<0?n=-t:n=t,n<1?1-this.erf(t):(o=-t*t,o<-this.MAXLOG?this._underflow(t):(o=this.expx2(t,-1),n<8?(r=this.polevl(n,this.P,8),s=this.p1evl(n,this.Q,8)):(r=this.polevl(n,this.R,5),s=this.p1evl(n,this.S,6)),a=o*r/s,t<0&&(a=2-a),a===0?this._underflow(t):a))},erfce:function(t){var r,s;return t<8?(r=this.polevl(t,this.P,8),s=this.p1evl(t,this.Q,8)):(r=this.polevl(t,this.R,5),s=this.p1evl(t,this.S,6)),r/s},erf:function(t){var r,s;return Math.abs(t)>1?1-this.erfc(t):(s=t*t,r=t*this.polevl(s,this.T,4)/this.p1evl(s,this.U,5),r)},s2pi:2.5066282746310007,P0:[-59.96335010141079,98.00107541859997,-56.67628574690703,13.931260938727968,-1.2391658386738125],Q0:[1.9544885833814176,4.676279128988815,86.36024213908905,-225.46268785411937,200.26021238006066,-82.03722561683334,15.90562251262117,-1.1833162112133],P1:[4.0554489230596245,31.525109459989388,57.16281922464213,44.08050738932008,14.684956192885803,2.1866330685079025,-.1402560791713545,-.03504246268278482,-.0008574567851546854],Q1:[15.779988325646675,45.39076351288792,41.3172038254672,15.04253856929075,2.504649462083094,-.14218292285478779,-.03808064076915783,-.0009332594808954574],P2:[3.2377489177694603,6.915228890689842,3.9388102529247444,1.3330346081580755,.20148538954917908,.012371663481782003,.00030158155350823543,26580697468673755e-22,6239745391849833e-24],Q2:[6.02427039364742,3.6798356385616087,1.3770209948908132,.21623699359449663,.013420400608854318,.00032801446468212774,28924786474538068e-22,6790194080099813e-24],ndtri:function(t){var r,s,n,a,o,l,u;return t<=0?-1/0:t>=1?1/0:(u=1,s=t,s>1-.1353352832366127&&(s=1-s,u=0),s>.1353352832366127?(s=s-.5,a=s*s,r=s+s*(a*this.polevl(a,this.P0,4)/this.p1evl(a,this.Q0,8)),r=r*this.s2pi,r):(r=Math.sqrt(-2*Math.log(s)),o=r-Math.log(r)/r,n=1/r,r<8?l=n*this.polevl(n,this.P1,8)/this.p1evl(n,this.Q1,8):l=n*this.polevl(n,this.P2,8)/this.p1evl(n,this.Q2,8),r=o-l,u!==0&&(r=-r),r))},erfi:function(t){return this.ndtri((t+1)*.5)*this.SQRTH}};Mat.ProbFuncs;JXG$1.Math.DoubleBits=function(){var t=new Float64Array(1),r=new Uint32Array(t.buffer),s,n,a,o,l,u,f,c;Float64Array!==void 0&&(t[0]=1,r[1]===1072693248?(s=function(h){return t[0]=h,[r[0],r[1]]},n=function(h,d){return r[0]=h,r[1]=d,t[0]},a=function(h){return t[0]=h,r[0]},o=function(h){return t[0]=h,r[1]},this.doubleBits=s,this.pack=n,this.lo=a,this.hi=o):r[0]===1072693248&&(l=function(h){return t[0]=h,[r[1],r[0]]},u=function(h,d){return r[1]=h,r[0]=d,t[0]},f=function(h){return t[0]=h,r[1]},c=function(h){return t[0]=h,r[0]},this.doubleBits=l,this.pack=u,this.lo=f,this.hi=c))};JXG$1.extend(JXG$1.Math.DoubleBits.prototype,{sign:function(t){return this.hi(t)>>>31},exponent:function(t){var r=this.hi(t);return(r<<1>>>21)-1023},fraction:function(t){var r=this.lo(t),s=this.hi(t),n=s&(1<<20)-1;return s&2146435072&&(n+=1<<20),[r,n]},denormalized:function(t){var r=this.hi(t);return!(r&2146435072)}});var doubleBits=new JXG$1.Math.DoubleBits,MatInterval=function(t,r){if(t!==void 0&&r!==void 0){if(Mat.IntervalArithmetic.isInterval(t)){if(!Mat.IntervalArithmetic.isSingleton(t))throw new TypeError("JXG.Math.IntervalArithmetic: interval `lo` must be a singleton");this.lo=t.lo}else this.lo=t;if(Mat.IntervalArithmetic.isInterval(r)){if(!Mat.IntervalArithmetic.isSingleton(r))throw new TypeError("JXG.Math.IntervalArithmetic: interval `hi` must be a singleton");this.hi=r.hi}else this.hi=r}else{if(t!==void 0)return Array.isArray(t)?new MatInterval(t[0],t[1]):new MatInterval(t,t);this.lo=this.hi=0}};JXG$1.extend(MatInterval.prototype,{print:function(){console.log("[",this.lo,this.hi,"]")},set:function(t,r){return this.lo=t,this.hi=r,this},bounded:function(t,r){return this.set(Mat.IntervalArithmetic.prev(t),Mat.IntervalArithmetic.next(r))},boundedSingleton:function(t){return this.bounded(t,t)},assign:function(t,r){if(typeof t!="number"||typeof r!="number")throw new TypeError("JXG.Math.Interval#assign: arguments must be numbers");return isNaN(t)||isNaN(r)||t>r?this.setEmpty():this.set(t,r)},setEmpty:function(){return this.set(Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY)},setWhole:function(){return this.set(Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY)},open:function(t,r){return this.assign(Mat.IntervalArithmetic.next(t),Mat.IntervalArithmetic.prev(r))},halfOpenLeft:function(t,r){return this.assign(Mat.IntervalArithmetic.next(t),r)},halfOpenRight:function(t,r){return this.assign(t,Mat.IntervalArithmetic.prev(r))},toArray:function(){return[this.lo,this.hi]},clone:function(){return new MatInterval().set(this.lo,this.hi)}});JXG$1.Math.IntervalArithmetic={Interval:function(t,r){return new MatInterval(t,r)},isInterval:function(t){return t!==null&&typeof t=="object"&&typeof t.lo=="number"&&typeof t.hi=="number"},isSingleton:function(t){return t.lo===t.hi},add:function(t,r){return JXG$1.isNumber(t)&&(t=this.Interval(t)),JXG$1.isNumber(r)&&(r=this.Interval(r)),new MatInterval(this.addLo(t.lo,r.lo),this.addHi(t.hi,r.hi))},sub:function(t,r){return JXG$1.isNumber(t)&&(t=this.Interval(t)),JXG$1.isNumber(r)&&(r=this.Interval(r)),new MatInterval(this.subLo(t.lo,r.hi),this.subHi(t.hi,r.lo))},mul:function(t,r){var s,n,a,o,l;return JXG$1.isNumber(t)&&(t=this.Interval(t)),JXG$1.isNumber(r)&&(r=this.Interval(r)),this.isEmpty(t)||this.isEmpty(r)?this.EMPTY.clone():(s=t.lo,n=t.hi,a=r.lo,o=r.hi,l=new MatInterval,s<0?n>0?a<0?o>0?(l.lo=Math.min(this.mulLo(s,o),this.mulLo(n,a)),l.hi=Math.max(this.mulHi(s,a),this.mulHi(n,o))):(l.lo=this.mulLo(n,a),l.hi=this.mulHi(s,a)):o>0?(l.lo=this.mulLo(s,o),l.hi=this.mulHi(n,o)):(l.lo=0,l.hi=0):a<0?o>0?(l.lo=this.mulLo(s,o),l.hi=this.mulHi(s,a)):(l.lo=this.mulLo(n,o),l.hi=this.mulHi(s,a)):o>0?(l.lo=this.mulLo(s,o),l.hi=this.mulHi(n,a)):(l.lo=0,l.hi=0):n>0?a<0?o>0?(l.lo=this.mulLo(n,a),l.hi=this.mulHi(n,o)):(l.lo=this.mulLo(n,a),l.hi=this.mulHi(s,o)):o>0?(l.lo=this.mulLo(s,a),l.hi=this.mulHi(n,o)):(l.lo=0,l.hi=0):(l.lo=0,l.hi=0),l)},div:function(t,r){return JXG$1.isNumber(t)&&(t=this.Interval(t)),JXG$1.isNumber(r)&&(r=this.Interval(r)),this.isEmpty(t)||this.isEmpty(r)?this.EMPTY.clone():this.zeroIn(r)?r.lo!==0?r.hi!==0?this.divZero(t):this.divNegative(t,r.lo):r.hi!==0?this.divPositive(t,r.hi):this.EMPTY.clone():this.divNonZero(t,r)},positive:function(t){return new MatInterval(t.lo,t.hi)},negative:function(t){return JXG$1.isNumber(t)?new MatInterval(-t):new MatInterval(-t.hi,-t.lo)},isEmpty:function(t){return t.lo>t.hi},isWhole:function(t){return t.lo===-1/0&&t.hi===1/0},zeroIn:function(t){return this.hasValue(t,0)},hasValue:function(t,r){return this.isEmpty(t)?!1:t.lo<=r&&r<=t.hi},hasInterval:function(t,r){return this.isEmpty(t)?!0:!this.isEmpty(r)&&r.lo<=t.lo&&t.hi<=r.hi},intervalsOverlap:function(t,r){return this.isEmpty(t)||this.isEmpty(r)?!1:t.lo<=r.lo&&r.lo<=t.hi||r.lo<=t.lo&&t.lo<=r.hi},divNonZero:function(t,r){var s=t.lo,n=t.hi,a=r.lo,o=r.hi,l=new MatInterval;return n<0?o<0?(l.lo=this.divLo(n,a),l.hi=this.divHi(s,o)):(l.lo=this.divLo(s,a),l.hi=this.divHi(n,o)):s<0?o<0?(l.lo=this.divLo(n,o),l.hi=this.divHi(s,o)):(l.lo=this.divLo(s,a),l.hi=this.divHi(n,a)):o<0?(l.lo=this.divLo(n,o),l.hi=this.divHi(s,a)):(l.lo=this.divLo(s,o),l.hi=this.divHi(n,a)),l},divPositive:function(t,r){return t.lo===0&&t.hi===0?t:this.zeroIn(t)?this.WHOLE:t.hi<0?new MatInterval(Number.NEGATIVE_INFINITY,this.divHi(t.hi,r)):new MatInterval(this.divLo(t.lo,r),Number.POSITIVE_INFINITY)},divNegative:function(t,r){return t.lo===0&&t.hi===0?t:this.zeroIn(t)?this.WHOLE:t.hi<0?new MatInterval(this.divLo(t.hi,r),Number.POSITIVE_INFINITY):new MatInterval(Number.NEGATIVE_INFINITY,this.divHi(t.lo,r))},divZero:function(t){return t.lo===0&&t.hi===0?t:this.WHOLE},fmod:function(t,r){var s,n;return JXG$1.isNumber(t)&&(t=this.Interval(t)),JXG$1.isNumber(r)&&(r=this.Interval(r)),this.isEmpty(t)||this.isEmpty(r)?this.EMPTY.clone():(s=t.lo<0?r.lo:r.hi,n=t.lo/s,n<0?n=Math.ceil(n):n=Math.floor(n),this.sub(t,this.mul(r,new MatInterval(n))))},multiplicativeInverse:function(t){return JXG$1.isNumber(t)&&(t=this.Interval(t)),this.isEmpty(t)?this.EMPTY.clone():this.zeroIn(t)?t.lo!==0?t.hi!==0?this.WHOLE:new MatInterval(Number.NEGATIVE_INFINITY,this.divHi(1,t.lo)):t.hi!==0?new MatInterval(this.divLo(1,t.hi),Number.POSITIVE_INFINITY):this.EMPTY.clone():new MatInterval(this.divLo(1,t.hi),this.divHi(1,t.lo))},pow:function(t,r){var s,n;if(JXG$1.isNumber(t)&&(t=this.Interval(t)),this.isEmpty(t))return this.EMPTY.clone();if(this.isInterval(r)){if(!this.isSingleton(r))return this.EMPTY.clone();r=r.lo}return r===0?t.lo===0&&t.hi===0?this.EMPTY.clone():this.ONE.clone():r<0?this.pow(this.multiplicativeInverse(t),-r):r%1===0?t.hi<0?(s=this.powLo(-t.hi,r),n=this.powHi(-t.lo,r),(r&1)===1?new MatInterval(-n,-s):new MatInterval(s,n)):t.lo<0?(r&1)===1?new MatInterval(-this.powLo(-t.lo,r),this.powHi(t.hi,r)):new MatInterval(0,this.powHi(Math.max(-t.lo,t.hi),r)):new MatInterval(this.powLo(t.lo,r),this.powHi(t.hi,r)):(console.warn("power is not an integer, you should use nth-root instead, returning an empty interval"),this.EMPTY.clone())},sqrt:function(t){return JXG$1.isNumber(t)&&(t=this.Interval(t)),this.nthRoot(t,2)},nthRoot:function(t,r){var s,n,a,o,l;if(JXG$1.isNumber(t)&&(t=this.Interval(t)),this.isEmpty(t)||r<0)return this.EMPTY.clone();if(this.isInterval(r)){if(!this.isSingleton(r))return this.EMPTY.clone();r=r.lo}return s=1/r,t.hi<0?r%1===0&&(r&1)===1?(n=this.powHi(-t.lo,s),a=this.powLo(-t.hi,s),new MatInterval(-n,-a)):this.EMPTY.clone():t.lo<0?(o=this.powHi(t.hi,s),r%1===0&&(r&1)===1?(l=-this.powHi(-t.lo,s),new MatInterval(l,o)):new MatInterval(0,o)):new MatInterval(this.powLo(t.lo,s),this.powHi(t.hi,s))},exp:function(t){return JXG$1.isNumber(t)&&(t=this.Interval(t)),this.isEmpty(t)?this.EMPTY.clone():new MatInterval(this.expLo(t.lo),this.expHi(t.hi))},log:function(t){var r;return JXG$1.isNumber(t)&&(t=this.Interval(t)),this.isEmpty(t)?this.EMPTY.clone():(r=t.lo<=0?Number.NEGATIVE_INFINITY:this.logLo(t.lo),new MatInterval(r,this.logHi(t.hi)))},ln:function(t){return this.log(t)},log10:function(t){return this.isEmpty(t)?this.EMPTY.clone():this.div(this.log(t),this.log(new MatInterval(10,10)))},log2:function(t){return this.isEmpty(t)?this.EMPTY.clone():this.div(this.log(t),this.log(new MatInterval(2,2)))},hull:function(t,r){var s=this.isEmpty(t),n=this.isEmpty(r);return s&&n?this.EMPTY.clone():s?r.clone():n?t.clone():new MatInterval(Math.min(t.lo,r.lo),Math.max(t.hi,r.hi))},intersection:function(t,r){var s,n;return this.isEmpty(t)||this.isEmpty(r)?this.EMPTY.clone():(s=Math.max(t.lo,r.lo),n=Math.min(t.hi,r.hi),s<=n?new MatInterval(s,n):this.EMPTY.clone())},union:function(t,r){if(!this.intervalsOverlap(t,r))throw new Error("Interval#unions do not overlap");return new MatInterval(Math.min(t.lo,r.lo),Math.max(t.hi,r.hi))},difference:function(t,r){if(this.isEmpty(t)||this.isWhole(r))return this.EMPTY.clone();if(this.intervalsOverlap(t,r)){if(t.lo<r.lo&&r.hi<t.hi)throw new Error("Interval.difference: difference creates multiple intervals");return r.lo<=t.lo&&r.hi===1/0||r.hi>=t.hi&&r.lo===-1/0?this.EMPTY.clone():r.lo<=t.lo?new MatInterval().halfOpenLeft(r.hi,t.hi):new MatInterval().halfOpenRight(t.lo,r.lo)}return t.clone()},width:function(t){return this.isEmpty(t)?0:this.subHi(t.hi,t.lo)},abs:function(t){return JXG$1.isNumber(t)&&(t=this.Interval(t)),this.isEmpty(t)?this.EMPTY.clone():t.lo>=0?t.clone():t.hi<=0?this.negative(t):new MatInterval(0,Math.max(-t.lo,t.hi))},max:function(t,r){var s=this.isEmpty(t),n=this.isEmpty(r);return s&&n?this.EMPTY.clone():s?r.clone():n?t.clone():new MatInterval(Math.max(t.lo,r.lo),Math.max(t.hi,r.hi))},min:function(t,r){var s=this.isEmpty(t),n=this.isEmpty(r);return s&&n?this.EMPTY.clone():s?r.clone():n?t.clone():new MatInterval(Math.min(t.lo,r.lo),Math.min(t.hi,r.hi))},onlyInfinity:function(t){return!isFinite(t.lo)&&t.lo===t.hi},_handleNegative:function(t){var r;return t.lo<0&&(t.lo===-1/0?(t.lo=0,t.hi=1/0):(r=Math.ceil(-t.lo/this.piTwiceLow),t.lo+=this.piTwiceLow*r,t.hi+=this.piTwiceLow*r)),t},cos:function(t){var r,s,n,a,o,l,u,f;return this.isEmpty(t)||this.onlyInfinity(t)?this.EMPTY.clone():(r=new MatInterval().set(t.lo,t.hi),this._handleNegative(r),s=this.PI_TWICE,n=this.fmod(r,s),this.width(n)>=s.lo?new MatInterval(-1,1):n.lo>=this.piHigh?(a=this.cos(this.sub(n,this.PI)),this.negative(a)):(o=n.lo,l=n.hi,u=this.cosLo(l),f=this.cosHi(o),l<=this.piLow?new MatInterval(u,f):l<=s.lo?new MatInterval(-1,Math.max(u,f)):new MatInterval(-1,1)))},sin:function(t){return this.isEmpty(t)||this.onlyInfinity(t)?this.EMPTY.clone():this.cos(this.sub(t,this.PI_HALF))},tan:function(t){var r,s,n;return this.isEmpty(t)||this.onlyInfinity(t)?this.EMPTY.clone():(r=new MatInterval().set(t.lo,t.hi),this._handleNegative(r),n=this.PI,s=this.fmod(r,n),s.lo>=this.piHalfLow&&(s=this.sub(s,n)),s.lo<=-this.piHalfLow||s.hi>=this.piHalfLow?this.WHOLE.clone():new MatInterval(this.tanLo(s.lo),this.tanHi(s.hi)))},asin:function(t){var r,s;return this.isEmpty(t)||t.hi<-1||t.lo>1?this.EMPTY.clone():(r=t.lo<=-1?-this.piHalfHigh:this.asinLo(t.lo),s=t.hi>=1?this.piHalfHigh:this.asinHi(t.hi),new MatInterval(r,s))},acos:function(t){var r,s;return this.isEmpty(t)||t.hi<-1||t.lo>1?this.EMPTY.clone():(r=t.hi>=1?0:this.acosLo(t.hi),s=t.lo<=-1?this.piHigh:this.acosHi(t.lo),new MatInterval(r,s))},atan:function(t){return this.isEmpty(t)?this.EMPTY.clone():new MatInterval(this.atanLo(t.lo),this.atanHi(t.hi))},sinh:function(t){return this.isEmpty(t)?this.EMPTY.clone():new MatInterval(this.sinhLo(t.lo),this.sinhHi(t.hi))},cosh:function(t){return this.isEmpty(t)?this.EMPTY.clone():t.hi<0?new MatInterval(this.coshLo(t.hi),this.coshHi(t.lo)):t.lo>=0?new MatInterval(this.coshLo(t.lo),this.coshHi(t.hi)):new MatInterval(1,this.coshHi(-t.lo>t.hi?t.lo:t.hi))},tanh:function(t){return this.isEmpty(t)?this.EMPTY.clone():new MatInterval(this.tanhLo(t.lo),this.tanhHi(t.hi))},equal:function(t,r){return this.isEmpty(t)?this.isEmpty(r):!this.isEmpty(r)&&t.lo===r.lo&&t.hi===r.hi},notEqual:function(t,r){return this.isEmpty(t)?!this.isEmpty(r):this.isEmpty(r)||t.hi<r.lo||t.lo>r.hi},lt:function(t,r){return JXG$1.isNumber(t)&&(t=this.Interval(t)),JXG$1.isNumber(r)&&(r=this.Interval(r)),this.isEmpty(t)||this.isEmpty(r)?!1:t.hi<r.lo},gt:function(t,r){return JXG$1.isNumber(t)&&(t=this.Interval(t)),JXG$1.isNumber(r)&&(r=this.Interval(r)),this.isEmpty(t)||this.isEmpty(r)?!1:t.lo>r.hi},leq:function(t,r){return JXG$1.isNumber(t)&&(t=this.Interval(t)),JXG$1.isNumber(r)&&(r=this.Interval(r)),this.isEmpty(t)||this.isEmpty(r)?!1:t.hi<=r.lo},geq:function(t,r){return JXG$1.isNumber(t)&&(t=this.Interval(t)),JXG$1.isNumber(r)&&(r=this.Interval(r)),this.isEmpty(t)||this.isEmpty(r)?!1:t.lo>=r.hi},piLow:(3373259426+273688/(1<<21))/(1<<30),piHigh:(3373259426+273689/(1<<21))/(1<<30),piHalfLow:(3373259426+273688/(1<<21))/(1<<30)*.5,piHalfHigh:(3373259426+273689/(1<<21))/(1<<30)*.5,piTwiceLow:(3373259426+273688/(1<<21))/(1<<30)*2,piTwiceHigh:(3373259426+273689/(1<<21))/(1<<30)*2,identity:function(t){return t},_prev:function(t){return t===1/0?t:this.nextafter(t,-1/0)},_next:function(t){return t===-1/0?t:this.nextafter(t,1/0)},prev:function(t){return this._prev(t)},next:function(t){return this._next(t)},toInteger:function(t){return t<0?Math.ceil(t):Math.floor(t)},addLo:function(t,r){return this.prev(t+r)},addHi:function(t,r){return this.next(t+r)},subLo:function(t,r){return this.prev(t-r)},subHi:function(t,r){return this.next(t-r)},mulLo:function(t,r){return this.prev(t*r)},mulHi:function(t,r){return this.next(t*r)},divLo:function(t,r){return this.prev(t/r)},divHi:function(t,r){return this.next(t/r)},intLo:function(t){return this.toInteger(this.prev(t))},intHi:function(t){return this.toInteger(this.next(t))},logLo:function(t){return this.prev(Math.log(t))},logHi:function(t){return this.next(Math.log(t))},expLo:function(t){return this.prev(Math.exp(t))},expHi:function(t){return this.next(Math.exp(t))},sinLo:function(t){return this.prev(Math.sin(t))},sinHi:function(t){return this.next(Math.sin(t))},cosLo:function(t){return this.prev(Math.cos(t))},cosHi:function(t){return this.next(Math.cos(t))},tanLo:function(t){return this.prev(Math.tan(t))},tanHi:function(t){return this.next(Math.tan(t))},asinLo:function(t){return this.prev(Math.asin(t))},asinHi:function(t){return this.next(Math.asin(t))},acosLo:function(t){return this.prev(Math.acos(t))},acosHi:function(t){return this.next(Math.acos(t))},atanLo:function(t){return this.prev(Math.atan(t))},atanHi:function(t){return this.next(Math.atan(t))},sinhLo:function(t){return this.prev(Mat.sinh(t))},sinhHi:function(t){return this.next(Mat.sinh(t))},coshLo:function(t){return this.prev(Mat.cosh(t))},coshHi:function(t){return this.next(Mat.cosh(t))},tanhLo:function(t){return this.prev(Mat.tanh(t))},tanhHi:function(t){return this.next(Mat.tanh(t))},sqrtLo:function(t){return this.prev(Math.sqrt(t))},sqrtHi:function(t){return this.next(Math.sqrt(t))},powLo:function(t,r){var s;if(r%1!==0)return this.prev(Math.pow(t,r));for(s=(r&1)===1?t:1,r>>=1;r>0;)t=this.mulLo(t,t),(r&1)===1&&(s=this.mulLo(t,s)),r>>=1;return s},powHi:function(t,r){var s;if(r%1!==0)return this.next(Math.pow(t,r));for(s=(r&1)===1?t:1,r>>=1;r>0;)t=this.mulHi(t,t),(r&1)===1&&(s=this.mulHi(t,s)),r>>=1;return s},disable:function(){this.next=this.prev=this.identity},enable:function(){this.prev=function(t){return this._prev(t)},this.next=function(t){return this._next(t)}},SMALLEST_DENORM:Math.pow(2,-1074),UINT_MAX:-1>>>0,nextafter:function(t,r){var s,n;return isNaN(t)||isNaN(r)?NaN:t===r?t:t===0?r<0?-this.SMALLEST_DENORM:this.SMALLEST_DENORM:(n=doubleBits.hi(t),s=doubleBits.lo(t),r>t==t>0?s===this.UINT_MAX?(n+=1,s=0):s+=1:s===0?(s=this.UINT_MAX,n-=1):s-=1,doubleBits.pack(s,n))}};JXG$1.Math.IntervalArithmetic.PI=new MatInterval(Mat.IntervalArithmetic.piLow,Mat.IntervalArithmetic.piHigh);JXG$1.Math.IntervalArithmetic.PI_HALF=new MatInterval(Mat.IntervalArithmetic.piHalfLow,Mat.IntervalArithmetic.piHalfHigh);JXG$1.Math.IntervalArithmetic.PI_TWICE=new MatInterval(Mat.IntervalArithmetic.piTwiceLow,Mat.IntervalArithmetic.piTwiceHigh);JXG$1.Math.IntervalArithmetic.ZERO=new MatInterval(0);JXG$1.Math.IntervalArithmetic.ONE=new MatInterval(1);JXG$1.Math.IntervalArithmetic.WHOLE=new MatInterval().setWhole();JXG$1.Math.IntervalArithmetic.EMPTY=new MatInterval().setEmpty();const Interval=JXG$1.Math.IntervalArithmetic;Mat.Extrapolate={upper:15,infty:1e4,wynnEps:function(t,r,s){var n=1e20,a=1e-15,o=1,l,u,f,c,h,d;if(s[r]=t,r===0)d=t;else{for(c=0,u=r;u>0;u--)f=c,c=s[u-1],h=s[u]-c,Math.abs(h)<=a?s[u-1]=n:(l=(r-u+1)%2===1?o:1,s[u-1]=f*l+1/h);d=s[r%2]}return d},aitken:function(t,r,s){var n,a=1e20,o=1e-15,l,u,f,c,h;if(s[r]=t,r<2)n=t;else{for(f=r/2,c=1;c<=f;c++)h=r-2*c,l=s[h+2]-2*s[h+1]+s[h],Math.abs(l)<o?s[h]=a:(u=s[h]-s[h+1],s[h]-=u*u/l);n=s[r%2]}return n},brezinski:function(t,r,s){var n,a=1e20,o=1e-15,l,u,f,c,h,d,p;if(s[r]=t,r<3)n=t;else{for(h=r/3,p=r,d=1;d<=h;d++)p-=3,u=s[p+1]-s[p],f=s[p+2]-s[p+1],c=s[p+3]-s[p+2],l=c*(f-u)-u*(c-f),Math.abs(l)<o?s[p]=a:s[p]=s[p+1]-u*f*(c-f)/l;n=s[r%3]}return n},iteration:function(t,r,s,n,a){var o,l,u,f=NaN,c,h=.5,d=[],p="finite",v=r;for(a=a||0,o=1;o<=this.upper;o++){if(v=a===0?r/(o+1):v*h,l=s(t+v,!0),u=this[n](l,o-1,d),isNaN(u)){p="NaN";break}if(l!==0&&u/l>this.infty){f=u,p="infinite";break}if(c=u-f,Math.abs(c)<1e-7)break;f=u}return[f,p,1-(o-1)/this.upper]},levin:function(t,r,s,n,a,o){var l=1e20,u=1e-15,f,c,h,d,p;if(d=1/(n+r),a[r]=t/s,o[r]=1/s,r>0&&(a[r-1]=a[r]-a[r-1],o[r-1]=o[r]-o[r-1],r>1))for(h=(n+r-1)*d,f=2;f<=r;f++)c=(n+r-f)*Math.pow(h,f-2)*d,a[r-f]=a[r-f+1]-c*a[r-f],o[r-f]=o[r-f+1]-c*o[r-f],d*=h;return Math.abs(o[0])<u?p=l:p=a[0]/o[0],p},iteration_levin:function(t,r,s,n){var a,o,l,u=NaN,f,c,h,d,p=1,v=.5,y=[],b=[],w="finite",x=r,A="u";for(n=n||0,f=s(t+r,!0),a=1;a<=this.upper;a++){if(x=n===0?r/(a+1):x*v,o=s(t+x,!0),c=o-f,Math.abs(c)<1?A="u":A="t",A==="u"?d=(p+a)*c:d=c,f=o,l=this.levin(o,a-1,d,p,y,b),h=l-u,isNaN(l)){w="NaN";break}if(o!==0&&l/o>this.infty){u=l,w="infinite";break}if(Math.abs(h)<1e-7)break;u=l}return[u,w,1-(a-1)/this.upper]},limit:function(t,r,s){return this.iteration_levin(t,r,s,0)}};const Extrapolate=Mat.Extrapolate;var predefinedButcher={rk4:{s:4,A:[[0,0,0,0],[.5,0,0,0],[0,.5,0,0],[0,0,1,0]],b:[1/6,1/3,1/3,1/6],c:[0,.5,.5,1]},heun:{s:2,A:[[0,0],[1,0]],b:[.5,.5],c:[0,1]},euler:{s:1,A:[[0]],b:[1],c:[0]}};Mat.Numerics={Gauss:function(t,r){var s,n,a,o,l,u=Mat.eps,f=t.length>0?t[0].length:0;if(f!==r.length||f!==t.length)throw new Error("JXG.Math.Numerics.Gauss: Dimensions don't match. A must be a square matrix and b must be of the same length as A.");for(o=[],l=r.slice(0,f),s=0;s<f;s++)o[s]=t[s].slice(0,f);for(n=0;n<f;n++){for(s=f-1;s>n;s--)if(Math.abs(o[s][n])>u)if(Math.abs(o[n][n])<u)JXG$1.swap(o,s,n),JXG$1.swap(l,s,n);else for(o[s][n]/=o[n][n],l[s]-=o[s][n]*l[n],a=n+1;a<f;a++)o[s][a]-=o[s][n]*o[n][a];if(Math.abs(o[n][n])<u)throw new Error("JXG.Math.Numerics.Gauss(): The given matrix seems to be singular.")}return this.backwardSolve(o,l,!0),l},backwardSolve:function(t,r,s){var n,a,o,l,u;for(s?n=r:n=r.slice(0,r.length),a=t.length,o=t.length>0?t[0].length:0,l=a-1;l>=0;l--){for(u=o-1;u>l;u--)n[l]-=t[l][u]*n[u];n[l]/=t[l][l]}return n},gaussBareiss:function(t){var r,s,n,a,o,l,u,f,c,h=Mat.eps;if(u=t.length,u<=0)return 0;for(t[0].length<u&&(u=t[0].length),f=[],a=0;a<u;a++)f[a]=t[a].slice(0,u);for(s=1,n=1,r=0;r<u-1;r++){if(l=f[r][r],Math.abs(l)<h){for(a=r+1;a<u&&!(Math.abs(f[a][r])>=h);a++);if(a===u)return 0;for(o=r;o<u;o++)c=f[a][o],f[a][o]=f[r][o],f[r][o]=c;n=-n,l=f[r][r]}for(a=r+1;a<u;a++)for(o=r+1;o<u;o++)c=l*f[a][o]-f[a][r]*f[r][o],f[a][o]=c/s;s=l}return n*f[u-1][u-1]},det:function(t){var r=t.length;return r===2&&t[0].length===2?t[0][0]*t[1][1]-t[1][0]*t[0][1]:this.gaussBareiss(t)},Jacobi:function(t){var r,s,n,a,o,l,u,f,c=Mat.eps*Mat.eps,h=0,d=t.length,p=[[0,0,0],[0,0,0],[0,0,0]],v=[[0,0,0],[0,0,0],[0,0,0]],y=0;for(r=0;r<d;r++){for(s=0;s<d;s++)p[r][s]=0,v[r][s]=t[r][s],h+=Math.abs(v[r][s]);p[r][r]=1}if(d===1)return[v,p];if(h<=0)return[v,p];h/=d*d;do{for(f=0,s=1;s<d;s++)for(r=0;r<s;r++)if(a=Math.abs(v[r][s]),f+=a,a>=c){for(a=Math.atan2(2*v[r][s],v[r][r]-v[s][s])*.5,o=Math.sin(a),l=Math.cos(a),n=0;n<d;n++)u=v[n][r],v[n][r]=l*u+o*v[n][s],v[n][s]=-o*u+l*v[n][s],u=p[n][r],p[n][r]=l*u+o*p[n][s],p[n][s]=-o*u+l*p[n][s];for(v[r][r]=l*v[r][r]+o*v[s][r],v[s][s]=-o*v[r][s]+l*v[s][s],v[r][s]=0,n=0;n<d;n++)v[r][n]=v[n][r],v[s][n]=v[n][s]}y+=1}while(Math.abs(f)/h>c&&y<2e3);return[v,p]},NewtonCotes:function(t,r,s){var n,a,o,l=0,u=s&&JXG$1.isNumber(s.number_of_nodes)?s.number_of_nodes:28,f={trapez:!0,simpson:!0,milne:!0},c=s&&s.integration_type&&f.hasOwnProperty(s.integration_type)&&f[s.integration_type]?s.integration_type:"milne",h=(t[1]-t[0])/u;switch(c){case"trapez":for(l=(r(t[0])+r(t[1]))*.5,n=t[0],a=0;a<u-1;a++)n+=h,l+=r(n);l*=h;break;case"simpson":if(u%2>0)throw new Error("JSXGraph:  INT_SIMPSON requires config.number_of_nodes dividable by 2.");for(o=u/2,l=r(t[0])+r(t[1]),n=t[0],a=0;a<o-1;a++)n+=2*h,l+=2*r(n);for(n=t[0]-h,a=0;a<o;a++)n+=2*h,l+=4*r(n);l*=h/3;break;default:if(u%4>0)throw new Error("JSXGraph: Error in INT_MILNE: config.number_of_nodes must be a multiple of 4");for(o=u*.25,l=7*(r(t[0])+r(t[1])),n=t[0],a=0;a<o-1;a++)n+=4*h,l+=14*r(n);for(n=t[0]-3*h,a=0;a<o;a++)n+=4*h,l+=32*(r(n)+r(n+2*h));for(n=t[0]-2*h,a=0;a<o;a++)n+=4*h,l+=12*r(n);l*=2*h/45}return l},Romberg:function(t,r,s){var n,a,o,l,u,f,c,h,d=[],p=0,v=1/0,y=s&&JXG$1.isNumber(s.max_iterations)?s.max_iterations:20,b=s&&JXG$1.isNumber(s.eps)?s.eps:s.eps||1e-7;for(n=t[0],a=t[1],o=a-n,u=1,d[0]=.5*o*(r(n)+r(a)),f=0;f<y;++f){for(l=0,o*=.5,u*=2,h=1,c=1;c<u;c+=2)l+=r(n+c*o);for(d[f+1]=.5*d[f]+l*o,p=d[f+1],c=f-1;c>=0;--c)h*=4,d[c]=d[c+1]+(d[c+1]-d[c])/(h-1),p=d[c];if(Math.abs(p-v)<b*Math.abs(p))break;v=p}return p},GaussLegendre:function(t,r,s){var n,a,o,l,u,f,c=0,h=[],d=[],p,v,y=s&&JXG$1.isNumber(s.n)?s.n:12;if(y>18&&(y=18),h[2]=[.5773502691896257],d[2]=[1],h[4]=[.33998104358485626,.8611363115940526],d[4]=[.6521451548625461,.34785484513745385],h[6]=[.2386191860831969,.6612093864662645,.932469514203152],d[6]=[.46791393457269104,.3607615730481386,.17132449237917036],h[8]=[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],d[8]=[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],h[10]=[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],d[10]=[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],h[12]=[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],d[12]=[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],h[14]=[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],d[14]=[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],h[16]=[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499],d[16]=[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096],h[18]=[.0847750130417353,.2518862256915055,.41175116146284263,.5597708310739475,.6916870430603532,.8037049589725231,.8926024664975557,.9558239495713977,.9915651684209309],d[18]=[.1691423829631436,.16427648374583273,.15468467512626524,.14064291467065065,.12255520671147846,.10094204410628717,.07642573025488905,.0497145488949698,.02161601352648331],h[3]=[0,.7745966692414834],d[3]=[.8888888888888888,.5555555555555556],h[5]=[0,.5384693101056831,.906179845938664],d[5]=[.5688888888888889,.47862867049936647,.23692688505618908],h[7]=[0,.4058451513773972,.7415311855993945,.9491079123427585],d[7]=[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],h[9]=[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],d[9]=[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],h[11]=[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],d[11]=[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],h[13]=[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],d[13]=[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],h[15]=[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],d[15]=[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],h[17]=[0,.17848418149584785,.3512317634538763,.5126905370864769,.6576711592166907,.7815140038968014,.8802391537269859,.9506755217687678,.9905754753144174],d[17]=[.17944647035620653,.17656270536699264,.16800410215645004,.15404576107681028,.13513636846852548,.11188384719340397,.08503614831717918,.0554595293739872,.02414830286854793],n=t[0],a=t[1],l=y+1>>1,p=h[y],v=d[y],f=.5*(a-n),u=.5*(a+n),y&!0)for(c=v[0]*r(u),o=1;o<l;++o)c+=v[o]*(r(u+f*p[o])+r(u-f*p[o]));else for(c=0,o=0;o<l;++o)c+=v[o]*(r(u+f*p[o])+r(u-f*p[o]));return f*c},_rescale_error:function(t,r,s){var n,a,o=22250738585072014e-324,l=2220446049250313e-31;return t=Math.abs(t),s!==0&&t!==0&&(n=Math.pow(200*t/s,1.5),n<1?t=s*n:t=s),r>o/(50*l)&&(a=50*l*r,a>t&&(t=a)),t},_gaussKronrod:function(t,r,s,n,a,o,l){var u=t[0],f=t[1],c,h,d=.5*(u+f),p=.5*(f-u),v=Math.abs(p),y=r(d),b=0,w=y*o[s-1],x=Math.abs(w),A=0,S=0,_=0,$,M,T,O,B,J,F,z=[],Z=[];for(s%2===0&&(b=y*a[s/2-1]),c=Math.floor((s-1)/2),$=0;$<c;$++)M=$*2+1,T=p*n[M],O=r(d-T),B=r(d+T),J=O+B,z[M]=O,Z[M]=B,b+=a[$]*J,w+=o[M]*J,x+=o[M]*(Math.abs(O)+Math.abs(B));for(c=Math.floor(s/2),$=0;$<c;$++)F=$*2,T=p*n[F],O=r(d-T),B=r(d+T),z[F]=O,Z[F]=B,w+=o[F]*(O+B),x+=o[F]*(Math.abs(O)+Math.abs(B));for(S=w*.5,A=o[s-1]*Math.abs(y-S),$=0;$<s-1;$++)A+=o[$]*(Math.abs(z[$]-S)+Math.abs(Z[$]-S));return _=(w-b)*p,w*=p,x*=v,A*=v,h=w,l.abserr=this._rescale_error(_,x,A),l.resabs=x,l.resasc=A,h},GaussKronrod15:function(t,r,s){var n=[.9914553711208126,.9491079123427585,.8648644233597691,.7415311855993945,.5860872354676911,.4058451513773972,.20778495500789848,0],a=[.1294849661688697,.27970539148927664,.3818300505051189,.4179591836734694],o=[.022935322010529224,.06309209262997856,.10479001032225019,.14065325971552592,.1690047266392679,.19035057806478542,.20443294007529889,.20948214108472782];return this._gaussKronrod(t,r,8,n,a,o,s)},GaussKronrod21:function(t,r,s){var n=[.9956571630258081,.9739065285171717,.9301574913557082,.8650633666889845,.7808177265864169,.6794095682990244,.5627571346686047,.4333953941292472,.2943928627014602,.14887433898163122,0],a=[.06667134430868814,.1494513491505806,.21908636251598204,.26926671930999635,.29552422471475287],o=[.011694638867371874,.032558162307964725,.054755896574351995,.07503967481091996,.0931254545836976,.10938715880229764,.12349197626206584,.13470921731147334,.14277593857706009,.14773910490133849,.1494455540029169];return this._gaussKronrod(t,r,11,n,a,o,s)},GaussKronrod31:function(t,r,s){var n=[.9980022986933971,.9879925180204854,.9677390756791391,.937273392400706,.8972645323440819,.8482065834104272,.790418501442466,.7244177313601701,.650996741297417,.5709721726085388,.4850818636402397,.3941513470775634,.29918000715316884,.20119409399743451,.1011420669187175,0],a=[.03075324199611727,.07036604748810812,.10715922046717194,.13957067792615432,.16626920581699392,.1861610000155622,.19843148532711158,.2025782419255613],o=[.005377479872923349,.015007947329316122,.02546084732671532,.03534636079137585,.04458975132476488,.05348152469092809,.06200956780067064,.06985412131872826,.07684968075772038,.08308050282313302,.08856444305621176,.09312659817082532,.09664272698362368,.09917359872179196,.10076984552387559,.10133000701479154];return this._gaussKronrod(t,r,16,n,a,o,s)},_workspace:function(t,r){return{limit:r,size:0,nrmax:0,i:0,alist:[t[0]],blist:[t[1]],rlist:[0],elist:[0],order:[0],level:[0],qpsrt:function(){var s=this.size-1,n=this.limit,a,o,l,u,f,c=this.nrmax,h=this.order[c];if(s<2){this.order[0]=0,this.order[1]=1,this.i=h;return}for(a=this.elist[h];c>0&&a>this.elist[this.order[c-1]];)this.order[c]=this.order[c-1],c--;for(s<n/2+2?f=s:f=n-s+1,l=c+1;l<f&&a<this.elist[this.order[l]];)this.order[l-1]=this.order[l],l++;for(this.order[l-1]=h,o=this.elist[s],u=f-1;u>l-2&&o>=this.elist[this.order[u]];)this.order[u+1]=this.order[u],u--;this.order[u+1]=s,h=this.order[c],this.i=h,this.nrmax=c},set_initial_result:function(s,n){this.size=1,this.rlist[0]=s,this.elist[0]=n},update:function(s,n,a,o,l,u,f,c){var h=this.i,d=this.size,p=this.level[this.i]+1;c>o?(this.alist[h]=l,this.rlist[h]=f,this.elist[h]=c,this.level[h]=p,this.alist[d]=s,this.blist[d]=n,this.rlist[d]=a,this.elist[d]=o,this.level[d]=p):(this.blist[h]=n,this.rlist[h]=a,this.elist[h]=o,this.level[h]=p,this.alist[d]=l,this.blist[d]=u,this.rlist[d]=f,this.elist[d]=c,this.level[d]=p),this.size++,p>this.maximum_level&&(this.maximum_level=p),this.qpsrt()},retrieve:function(){var s=this.i;return{a:this.alist[s],b:this.blist[s],r:this.rlist[s],e:this.elist[s]}},sum_results:function(){var s=this.size,n,a=0;for(n=0;n<s;n++)a+=this.rlist[n];return a},subinterval_too_small:function(s,n,a){var o=2220446049250313e-31,l=22250738585072014e-324,u=(1+100*o)*(Math.abs(n)+1e3*l);return Math.abs(s)<=u&&Math.abs(a)<=u}}},Qag:function(t,r,s){var n=2220446049250313e-31,a=this._workspace(t,1e3),o=s&&JXG$1.isNumber(s.limit)?s.limit:15,l=s&&JXG$1.isNumber(s.epsrel)?s.epsrel:1e-7,u=s&&JXG$1.isNumber(s.epsabs)?s.epsabs:1e-7,f=s&&JXG$1.isFunction(s.q)?s.q:this.GaussKronrod15,c={},h,d,p,v,y,b,w,x,A=0,S=0,_=0,$=0,M,T,O,B,J,F,z,Z,se,ie=0,U=0,H=0,ue=0,Y=0,K=0,te,ae,ee,de;if(o>a.limit&&JXG$1.warn("iteration limit exceeds available workspace"),u<=0&&(l<50*Mat.eps||l<5e-29)&&JXG$1.warn("tolerance cannot be acheived with given epsabs and epsrel"),p=f.apply(this,[t,r,c]),v=c.abserr,y=c.resabs,b=c.resasc,a.set_initial_result(p,v),x=Math.max(u,l*Math.abs(p)),M=50*n*y,v<=M&&v>x)return w=p,JXG$1.warn("cannot reach tolerance because of roundoff error on first attempt"),-1/0;if(v<=x&&v!==b||v===0)return w=p,w;if(o===1)return w=p,JXG$1.warn("a maximum of one iteration was insufficient"),-1/0;h=p,d=v,A=1;do ie=0,U=0,H=0,ue=0,Y=0,K=0,ee=a.retrieve(),F=ee.a,z=ee.b,Z=ee.r,se=ee.e,T=F,O=.5*(F+z),B=O,J=z,ie=f.apply(this,[[T,O],r,c]),ue=c.abserr,te=c.resasc,U=f.apply(this,[[B,J],r,c]),Y=c.abserr,ae=c.resasc,H=ie+U,K=ue+Y,d+=K-se,h+=H-Z,te!==ue&&ae!==Y&&(de=Z-H,Math.abs(de)<=1e-5*Math.abs(H)&&K>=.99*se&&S++,A>=10&&K>se&&_++),x=Math.max(u,l*Math.abs(h)),d>x&&((S>=6||_>=20)&&($=2),a.subinterval_too_small(T,B,J)&&($=3)),a.update(T,O,ie,ue,B,J,U,Y),ee=a.retrieve(),F=ee.a_i,z=ee.b_i,Z=ee.r_i,se=ee.e_i,A++;while(A<o&&!$&&d>x);return w=a.sum_results(),w},I:function(t,r){return this.Qag(t,r,{q:this.GaussKronrod15,limit:15,epsrel:1e-7,epsabs:1e-7})},Newton:function(t,r,s){var n,a=0,o=Mat.eps,l=t.apply(s,[r]);for(JXG$1.isArray(r)&&(r=r[0]);a<50&&Math.abs(l)>o;)n=this.D(t,s)(r),Math.abs(n)>o?r-=l/n:r+=Math.random()*.2-1,l=t.apply(s,[r]),a+=1;return r},root:function(t,r,s){return this.chandrupatla(t,r,s)},generalizedNewton:function(t,r,s,n){var a,o,l,u,f,c,h,d,p,v,y,b,w,x,A=0;for(this.generalizedNewton.t1memo?(a=this.generalizedNewton.t1memo,o=this.generalizedNewton.t2memo):(a=s,o=n),d=t.X(a)-r.X(o),p=t.Y(a)-r.Y(o),v=d*d+p*p,y=this.D(t.X,t),b=this.D(r.X,r),w=this.D(t.Y,t),x=this.D(r.Y,r);v>Mat.eps&&A<10;)l=y(a),u=-b(o),f=w(a),c=-x(o),h=l*c-u*f,a-=(c*d-u*p)/h,o-=(l*p-f*d)/h,d=t.X(a)-r.X(o),p=t.Y(a)-r.Y(o),v=d*d+p*p,A+=1;return this.generalizedNewton.t1memo=a,this.generalizedNewton.t2memo=o,Math.abs(a)<Math.abs(o)?[t.X(a),t.Y(a)]:[r.X(o),r.Y(o)]},Neville:function(t){var r=[],s=function(o){return function(l,u){var f,c,h,d=Mat.binomial,p=t.length,v=p-1,y=0,b=0;if(!u)for(h=1,f=0;f<p;f++)r[f]=d(v,f)*h,h*=-1;for(c=l,f=0;f<p;f++){if(c===0)return t[f][o]();h=r[f]/c,c-=1,y+=t[f][o]()*h,b+=h}return y/b}},n=s("X"),a=s("Y");return[n,a,0,function(){return t.length-1}]},splineDef:function(t,r){var s,n,a,o=Math.min(t.length,r.length),l=[],u=[],f=[],c=[],h=[],d=[];if(o===2)return[0,0];for(n=0;n<o;n++)s={X:t[n],Y:r[n]},f.push(s);for(f.sort(function(p,v){return p.X-v.X}),n=0;n<o;n++)t[n]=f[n].X,r[n]=f[n].Y;for(n=0;n<o-1;n++)c.push(t[n+1]-t[n]);for(n=0;n<o-2;n++)h.push(6*(r[n+2]-r[n+1])/c[n+1]-6*(r[n+1]-r[n])/c[n]);for(l.push(2*(c[0]+c[1])),u.push(h[0]),n=0;n<o-3;n++)a=c[n+1]/l[n],l.push(2*(c[n+1]+c[n+2])-a*c[n+1]),u.push(h[n+1]-a*u[n]);for(d[o-3]=u[o-3]/l[o-3],n=o-4;n>=0;n--)d[n]=(u[n]-c[n+1]*d[n+1])/l[n];for(n=o-3;n>=0;n--)d[n+1]=d[n];return d[0]=0,d[o-1]=0,d},splineEval:function(t,r,s,n){var a,o,l,u,f,c,h,d=Math.min(r.length,s.length),p=1,v=!1,y=[];for(JXG$1.isArray(t)?(p=t.length,v=!0):t=[t],a=0;a<p;a++){if(t[a]<r[0]||r[a]>r[d-1])return NaN;for(o=1;o<d&&!(t[a]<=r[o]);o++);o-=1,l=s[o],u=(s[o+1]-s[o])/(r[o+1]-r[o])-(r[o+1]-r[o])/6*(n[o+1]+2*n[o]),f=n[o]/2,c=(n[o+1]-n[o])/(6*(r[o+1]-r[o])),h=t[a]-r[o],y.push(l+(u+(f+c*h)*h)*h)}return v?y:y[0]},generatePolynomialTerm:function(t,r,s,n){var a,o=[];for(a=r;a>=0;a--)o=o.concat(["(",t[a].toPrecision(n),")"]),a>1?o=o.concat(["*",s,"<sup>",a,"<","/sup> + "]):a===1&&(o=o.concat(["*",s," + "]));return o.join("")},lagrangePolynomial:function(t){var r=[],s=this,n=function(a,o){var l,u,f,c,h=t.length,d=0,p=0;if(!o)for(l=0;l<h;l++){for(r[l]=1,f=t[l].X(),u=0;u<h;u++)u!==l&&(r[l]*=f-t[u].X());r[l]=1/r[l]}for(l=0;l<h;l++){if(f=t[l].X(),a===f)return t[l].Y();c=r[l]/(a-f),p+=c,d+=c*t[l].Y()}return d/p};return n.getTerm=function(a,o,l){return s.lagrangePolynomialTerm(t,a,o,l)()},n.getCoefficients=function(){return s.lagrangePolynomialCoefficients(t)()},n},lagrangePolynomialTerm:function(t,r,s,n){var a=this;return function(){var o=t.length,l=[],u=!0,f,c,h,d;for(s=s||"x",n===void 0&&(n=" * "),f=o-1,l=a.lagrangePolynomialCoefficients(t)(),c="",h=0;h<l.length;h++)d=l[h],!(Math.abs(d)<Mat.eps)&&(JXG$1.exists(r)&&(d=JXG$1._round10(d,-r)),u?(c+=d>0?d:"-"+-d,u=!1):c+=d>0?" + "+d:" - "+-d,f-h>1?c+=n+s+"^"+(f-h):f-h===1&&(c+=n+s));return c}},lagrangePolynomialCoefficients:function(t){return function(){var r=t.length,s=[],n=[],a=[],o,l,u,f;for(l=0;l<r;l++)a[l]=0;for(o=0;o<r;o++){for(u=t[o].Y(),f=t[o].X(),s=[],l=0;l<r;l++)l!==o&&(u/=f-t[l].X(),s.push(t[l].X()));for(n=[1].concat(Mat.Vieta(s)),l=0;l<n.length;l++)a[l]+=(l%2===1?-1:1)*n[l]*u}return a}},_initCubicPoly:function(t,r,s,n){return[t,s,-3*t+3*r-2*s-n,2*t-2*r+s+n]},CardinalSpline:function(t,r,s){var n,a=[],o,l,u,f=this;return JXG$1.isFunction(r)?u=r:u=function(){return r},s===void 0&&(s="uniform"),o=function(c){return function(h,d){var p,v,y,b,w,x,A,S,_,$;if(t.length<2)return NaN;if(!d)for(l=u(),y={X:function(){return 2*t[0].X()-t[1].X()},Y:function(){return 2*t[0].Y()-t[1].Y()},Dist:function(M){var T=this.X()-M.X(),O=this.Y()-M.Y();return Math.sqrt(T*T+O*O)}},b={X:function(){return 2*t[t.length-1].X()-t[t.length-2].X()},Y:function(){return 2*t[t.length-1].Y()-t[t.length-2].Y()},Dist:function(M){var T=this.X()-M.X(),O=this.Y()-M.Y();return Math.sqrt(T*T+O*O)}},n=[y].concat(t,[b]),$=n.length,a[c]=[],p=0;p<$-3;p++)s==="centripetal"?(A=n[p].Dist(n[p+1]),S=n[p+2].Dist(n[p+1]),_=n[p+3].Dist(n[p+2]),A=Math.sqrt(A),S=Math.sqrt(S),_=Math.sqrt(_),S<Mat.eps&&(S=1),A<Mat.eps&&(A=S),_<Mat.eps&&(_=S),w=(n[p+1][c]()-n[p][c]())/A-(n[p+2][c]()-n[p][c]())/(S+A)+(n[p+2][c]()-n[p+1][c]())/S,x=(n[p+2][c]()-n[p+1][c]())/S-(n[p+3][c]()-n[p+1][c]())/(_+S)+(n[p+3][c]()-n[p+2][c]())/_,w*=S,x*=S,a[c][p]=f._initCubicPoly(n[p+1][c](),n[p+2][c](),l*w,l*x)):a[c][p]=f._initCubicPoly(n[p+1][c](),n[p+2][c](),l*(n[p+2][c]()-n[p][c]()),l*(n[p+3][c]()-n[p+1][c]()));return isNaN(h)?NaN:($=t.length,h<=0?t[0][c]():h>=$?t[$-1][c]():(p=Math.floor(h),p===h?t[p][c]():(h-=p,v=a[c][p],v===void 0?NaN:((v[3]*h+v[2])*h+v[1])*h+v[0])))}},[o("X"),o("Y"),0,function(){return t.length-1}]},CatmullRomSpline:function(t,r){return this.CardinalSpline(t,.5,r)},regressionPolynomial:function(t,r,s){var n,a,o,l,u,f,c="";if(JXG$1.isPoint(t)&&JXG$1.isFunction(t.Value))a=function(){return t.Value()};else if(JXG$1.isFunction(t))a=t;else if(JXG$1.isNumber(t))a=function(){return t};else throw new Error("JSXGraph: Can't create regressionPolynomial from degree of type'"+typeof t+"'.");if(arguments.length===3&&JXG$1.isArray(r)&&JXG$1.isArray(s))u=0;else if(arguments.length===2&&JXG$1.isArray(r)&&r.length>0&&JXG$1.isPoint(r[0]))u=1;else if(arguments.length===2&&JXG$1.isArray(r)&&r.length>0&&r[0].usrCoords&&r[0].scrCoords)u=2;else throw new Error("JSXGraph: Can't create regressionPolynomial. Wrong parameters.");return f=function(h,d){var p,v,y,b,w,x,A,S,_,$=r.length;if(_=Math.floor(a()),!d){if(u===1)for(o=[],l=[],p=0;p<$;p++)o[p]=r[p].X(),l[p]=r[p].Y();if(u===2)for(o=[],l=[],p=0;p<$;p++)o[p]=r[p].usrCoords[1],l[p]=r[p].usrCoords[2];if(u===0)for(o=[],l=[],p=0;p<$;p++)JXG$1.isFunction(r[p])?o.push(r[p]()):o.push(r[p]),JXG$1.isFunction(s[p])?l.push(s[p]()):l.push(s[p]);for(y=[],v=0;v<$;v++)y.push([1]);for(p=1;p<=_;p++)for(v=0;v<$;v++)y[v][p]=y[v][p-1]*o[v];w=l,b=Mat.transpose(y),x=Mat.matMatMult(b,y),A=Mat.matVecMult(b,w),n=Mat.Numerics.Gauss(x,A),c=Mat.Numerics.generatePolynomialTerm(n,_,"x",3)}for(S=n[_],p=_-1;p>=0;p--)S=S*h+n[p];return S},f.getTerm=function(){return c},f},bezier:function(t){var r,s,n=function(a){return function(o,l){var u=Math.floor(o)*3,f=o%1,c=1-f;return l||(s=3*Math.floor((t.length-1)/3),r=Math.floor(s/3)),o<0?t[0][a]():o>=r?t[s][a]():isNaN(o)?NaN:c*c*(c*t[u][a]()+3*f*t[u+1][a]())+(3*c*t[u+2][a]()+f*t[u+3][a]())*f*f}};return[n("X"),n("Y"),0,function(){return Math.floor(t.length/3)}]},bspline:function(t,r){var s,n=function(l,u){var f,c=[];for(f=0;f<l+u+1;f++)f<u?c[f]=0:f<=l?c[f]=f-u+1:c[f]=l-u+2;return c},a=function(l,u,f,c){var h,d,p,v,y,b=[];for(u[c]<=l&&l<u[c+1]?b[c]=1:b[c]=0,h=2;h<=f;h++)for(d=c-h+1;d<=c;d++)d<=c-h+1||d<0?p=0:p=b[d],d>=c?v=0:v=b[d+1],y=u[d+h-1]-u[d],y===0?b[d]=0:b[d]=(l-u[d])/y*p,y=u[d+h]-u[d+1],y!==0&&(b[d]+=(u[d+h]-l)/y*v);return b},o=function(l){return function(u,f){var c,h,d,p=[],v=t.length,y=v-1,b=r;if(y<=0)return NaN;if(y+2<=b&&(b=y+1),u<=0)return t[0][l]();if(u>=y-b+2)return t[y][l]();for(d=Math.floor(u)+b-1,s=n(y,b),p=a(u,s,b,d),c=0,h=d-b+1;h<=d;h++)h<v&&h>=0&&(c+=t[h][l]()*p[h]);return c}};return[o("X"),o("Y"),0,function(){return t.length-1}]},D:function(t,r){return JXG$1.exists(r)?function(s,n){var a=1e-5,o=a*2;return(t.apply(r,[s+a,n])-t.apply(r,[s-a,n]))/o}:function(s,n){var a=1e-5,o=a*2;return(t(s+a,n)-t(s-a,n))/o}},_riemannValue:function(t,r,s,n){var a,o,l,u;if(n<0&&(s!=="trapezoidal"&&(t=t+n),n*=-1,s==="lower"?s="upper":s==="upper"&&(s="lower")),u=n*.01,s==="right")a=r(t+n);else if(s==="middle")a=r(t+n*.5);else if(s==="left"||s==="trapezoidal")a=r(t);else if(s==="lower"){for(a=r(t),l=t+u;l<=t+n;l+=u)o=r(l),o<a&&(a=o);o=r(t+n),o<a&&(a=o)}else if(s==="upper"){for(a=r(t),l=t+u;l<=t+n;l+=u)o=r(l),o>a&&(a=o);o=r(t+n),o>a&&(a=o)}else s==="random"?a=r(t+n*Math.random()):s==="simpson"?a=(r(t)+4*r(t+n*.5)+r(t+n))/6:a=r(t);return a},riemann:function(t,r,s,n,a){var o,l,u,f,c,h,d,p,v,y,b,w=30,x=[],A=[],S=n,_=0,$,M,T;if(JXG$1.isArray(t)?(T=t[0],M=t[1]):M=t,r=Math.floor(r),r<=0)return[x,A,_];for(l=(a-n)/r,o=0;o<r;o++){if(s==="simpson"){for(_+=this._riemannValue(S,M,s,l)*l,b=l*.5,d=M(S),p=M(S+b),v=M(S+2*b),f=(v+d-2*p)/(b*b)*.5,c=(v-d)/(2*b),h=p,u=0;u<w;u++)y=u*l/w-b,x.push(S+y+b),A.push(f*y*y+c*y+h);S+=l,$=v}else $=this._riemannValue(S,M,s,l),x.push(S),A.push($),S+=l,s==="trapezoidal"?(v=M(S),_+=($+v)*.5*l,$=v):_+=$*l,x.push(S),A.push($);x.push(S),A.push($)}for(o=0;o<r;o++){if(s==="simpson"&&T){for(_-=this._riemannValue(S,T,s,-l)*l,b=l*.5,d=T(S),p=T(S-b),v=T(S-2*b),f=(v+d-2*p)/(b*b)*.5,c=(v-d)/(2*b),h=p,u=0;u<w;u++)y=u*l/w-b,x.push(S-y-b),A.push(f*y*y+c*y+h);S-=l,$=v}else T?$=this._riemannValue(S,T,s,-l):$=0,x.push(S),A.push($),S-=l,T&&(s==="trapezoidal"?(v=T(S),_-=($+v)*.5*l,$=v):_-=$*l);x.push(S),A.push($),x.push(S),A.push(M(S))}return[x,A,_]},riemannsum:function(t,r,s,n,a){return JXG$1.deprecated("Numerics.riemannsum()","Numerics.riemann()[2]"),this.riemann(t,r,s,n,a)[2]},rungeKutta:function(t,r,s,n,a){var o,l,u,f,c,h,d=[],p=[],v=(s[1]-s[0])/n,y=s[0],b=r.length,w=[],x=0;for(JXG$1.isString(t)&&(t=predefinedButcher[t]||predefinedButcher.euler),h=t.s,d=r.slice(),l=0;l<=n;l++){for(w[x]=d.slice(),x+=1,f=[],u=0;u<h;u++){for(o=0;o<b;o++)p[o]=0;for(c=0;c<u;c++)for(o=0;o<b;o++)p[o]+=t.A[u][c]*v*f[c][o];for(o=0;o<b;o++)p[o]+=d[o];f.push(a(y+t.c[u]*v,p))}for(o=0;o<b;o++)p[o]=0;for(c=0;c<h;c++)for(o=0;o<b;o++)p[o]+=t.b[c]*f[c][o];for(o=0;o<b;o++)d[o]=d[o]+v*p[o];y+=v}return w},maxIterationsRoot:80,maxIterationsMinimize:500,findBracket:function(t,r,s){var n,a,o,l,u,f,c,h,d,p;if(JXG$1.isArray(r))return r;for(n=r,o=t.call(s,n),a=n===0?1:n,l=[n-.1*a,n+.1*a,n-1,n+1,n-.5*a,n+.5*a,n-.6*a,n+.6*a,n-1*a,n+1*a,n-2*a,n+2*a,n-5*a,n+5*a,n-10*a,n+10*a,n-50*a,n+50*a,n-100*a,n+100*a],p=l.length,d=0;d<p&&(u=l[d],f=t.call(s,u),!(o*f<=0));d++);return u<n&&(c=n,n=u,u=c,h=o,o=f,f=h),[n,o,u,f]},fzero:function(t,r,s){var n,a,o,l,u,f,c,h,d,p,v,y,b,w,x,A=Mat.eps,S=this.maxIterationsRoot,_=0;if(JXG$1.isArray(r)){if(r.length<2)throw new Error("JXG.Math.Numerics.fzero: length of array x0 has to be at least two.");n=r[0],l=t.call(s,n),a=r[1],u=t.call(s,a)}else c=this.findBracket(t,r,s),n=c[0],l=c[1],a=c[2],u=c[3];if(Math.abs(l)<=A)return n;if(Math.abs(u)<=A)return a;if(l*u>0)return JXG$1.isArray(r)?this.fminbr(t,[n,a],s):this.Newton(t,n,s);for(o=n,f=l;_<S;){if(h=a-n,Math.abs(f)<Math.abs(u)&&(n=a,a=o,o=n,l=u,u=f,f=l),y=2*A*Math.abs(a)+A*.5,x=(o-a)*.5,Math.abs(x)<=y||Math.abs(u)<=A)return a;Math.abs(h)>=y&&Math.abs(l)>Math.abs(u)&&(p=o-a,n===o?(d=u/l,b=p*d,w=1-d):(w=l/f,d=u/f,v=u/l,b=v*(p*w*(w-d)-(a-n)*(d-1)),w=(w-1)*(d-1)*(v-1)),b>0?w=-w:b=-b,b<.75*p*w-Math.abs(y*w)*.5&&b<Math.abs(h*w*.5)&&(x=b/w)),Math.abs(x)<y&&(x=x>0?y:-y),n=a,l=u,a+=x,u=t.call(s,a),(u>0&&f>0||u<0&&f<0)&&(o=n,f=l),_++}return a},chandrupatla:function(t,r,s){var n,a,o,l,u,f=0,c=this.maxIterationsRoot,h=1+Math.random()*.001,d=.5*h,p=Mat.eps,v=1e-5,y,b,w,x,A,S,_,$,M,T,O,B,J,F,z,Z,se,ie,U,H,ue;if(JXG$1.isArray(r)){if(r.length<2)throw new Error("JXG.Math.Numerics.fzero: length of array x0 has to be at least two.");n=r[0],a=t.call(s,n),o=r[1],l=t.call(s,o)}else u=this.findBracket(t,r,s),n=u[0],a=u[1],o=u[2],l=u[3];if(a*l>0)return JXG$1.isArray(r)?this.fminbr(t,[n,o],s):this.Newton(t,n,s);y=n,b=o,A=a,S=l;do{if(x=y+d*(b-y),$=t.call(s,x),Math.sign($)===Math.sign(A)?(w=y,y=x,_=A,A=$):(w=b,b=y,_=S,S=A),y=x,A=$,M=y,T=A,Math.abs(S)<Math.abs(A)&&(M=b,T=S),O=2*p*Math.abs(M)+.5*v,B=O/Math.abs(b-y),B>.5||T===0)break;J=(y-b)/(w-b),F=(A-S)/(_-S),z=1-Math.sqrt(1-J),Z=Math.sqrt(J),z<F&&F<Z?(se=(w-y)/(b-y),ie=A/(S-A),U=_/(S-_),H=A/(_-A),ue=S/(_-S),d=ie*U+H*ue*se):d=.5*h,d<B&&(d=B),d>1-B&&(d=1-B),f++}while(f<=c);return M},fminbr:function(t,r,s){var n,a,o,l,u,f,c,h,d,p,v,y,b,w,x,A,S=(3-Math.sqrt(5))*.5,_=Mat.eps,$=Mat.eps,M=this.maxIterationsMinimize,T=0;if(!JXG$1.isArray(r)||r.length<2)throw new Error("JXG.Math.Numerics.fminbr: length of array x0 has to be at least two.");for(n=r[0],a=r[1],l=n+S*(a-n),c=t.call(s,l),o=l,u=l,f=c,h=c;T<M;){if(d=a-n,p=(n+a)*.5,v=$*Math.abs(o)+_/3,Math.abs(o-p)+d*.5<=2*v)return o;y=S*(o<p?a-o:n-o),Math.abs(o-u)>=v&&(x=(o-u)*(f-c),w=(o-l)*(f-h),b=(o-l)*w-(o-u)*x,w=2*(w-x),w>0?b=-b:w=-w,Math.abs(b)<Math.abs(y*w)&&b>w*(n-o+2*v)&&b<w*(a-o-2*v)&&(y=b/w)),Math.abs(y)<v&&(y>0?y=v:y=-v),x=o+y,A=t.call(s,x),A<=f?(x<o?a=o:n=o,l=u,u=o,o=x,c=h,h=f,f=A):(x<o?n=x:a=x,A<=h||u===o?(l=u,u=x,c=h,h=A):(A<=c||l===o||l===u)&&(l=x,c=A)),T+=1}return o},RamerDouglasPeucker:function(t,r){var s=[],n=[],a,o,l,u=!0,f=function(h,d,p){var v,y,b,w,x,A,S,_,$,M,T,O=1e4,B=0,J=d;if(p-d<2)return[-1,0];if(b=h[d].scrCoords,w=h[p].scrCoords,isNaN(b[1])||isNaN(b[2]))return[NaN,d];if(isNaN(w[1])||isNaN(w[2]))return[NaN,p];for(y=d+1;y<p;y++){if(x=h[y].scrCoords,isNaN(x[1])||isNaN(x[2]))return[NaN,y];A=x[1]-b[1],S=x[2]-b[2],_=w[1]-b[1],$=w[2]-b[2],A=A===1/0?O:A,S=S===1/0?O:S,_=_===1/0?O:_,$=$===1/0?O:$,A=A===-1/0?-O:A,S=S===-1/0?-O:S,_=_===-1/0?-O:_,$=$===-1/0?-O:$,M=_*_+$*$,M>=Mat.eps?(T=(A*_+S*$)/M,T<0?T=0:T>1&&(T=1),A=A-T*_,S=S-T*$,v=A*A+S*S):(T=0,v=A*A+S*S),v>B&&(B=v,J=y)}return[Math.sqrt(B),J]},c=function(h,d,p,v,y){var b=f(h,d,p),w=b[1];if(isNaN(b[0])){c(h,d,w-1,v,y),y.push(h[w]);do++w;while(w<=p&&isNaN(h[w].scrCoords[1]+h[w].scrCoords[2]));w<=p&&y.push(h[w]),c(h,w+1,p,v,y)}else b[0]>v?(c(h,d,w,v,y),c(h,w,p,v,y)):y.push(h[p])};for(l=t.length,a=0;u;){for(;a<l&&isNaN(t[a].scrCoords[1]+t[a].scrCoords[2]);)a+=1;for(o=a+1;o<l&&!isNaN(t[o].scrCoords[1]+t[o].scrCoords[2]);)o+=1;if(o--,a<l&&o>a&&(n=[],n[0]=t[a],c(t,a,o,r,n),s=s.concat(n)),a>=l)break;o<l-1&&s.push(t[o+1]),a=o+1}return s},RamerDouglasPeuker:function(t,r){return JXG$1.deprecated("Numerics.RamerDouglasPeuker()","Numerics.RamerDouglasPeucker()"),this.RamerDouglasPeucker(t,r)},Visvalingam:function(t,r){var s,n,a,o,l=[],u=[],f=[],c,h,d,p,v;if(n=t.length,n<=2)return t;for(l[0]={used:!0,lft:null,node:null},c=0,s=1;s<n-1;s++)a=Math.abs(JXG$1.Math.Numerics.det([t[s-1].usrCoords,t[s].usrCoords,t[s+1].usrCoords])),isNaN(a)||(v={v:a,idx:s},u.push(v),l[s]={used:!0,lft:c,node:v},l[c].rt=s,c=s);for(l[n-1]={used:!0,rt:null,lft:c,node:null},l[c].rt=n-1,o=-1/0;u.length>r;)u.sort(function(y,b){return b.v-y.v}),s=u.pop().idx,l[s].used=!1,o=l[s].node.v,c=l[s].lft,h=l[s].rt,l[c].rt=h,l[h].lft=c,d=l[c].lft,d!==null&&(a=Math.abs(JXG$1.Math.Numerics.det([t[d].usrCoords,t[c].usrCoords,t[h].usrCoords])),l[c].node.v=a>=o?a:o),p=l[h].rt,p!==null&&(a=Math.abs(JXG$1.Math.Numerics.det([t[c].usrCoords,t[h].usrCoords,t[p].usrCoords])),l[h].node.v=a>=o?a:o);s=0,f=[t[s]];do s=l[s].rt,f.push(t[s]);while(l[s].rt!==null);return f}};const Numerics=Mat.Numerics;Mat.Geometry={};JXG$1.extend(Mat.Geometry,{angle:function(t,r,s){var n,a,o,l,u=[],f=[],c=[];return JXG$1.deprecated("Geometry.angle()","Geometry.rad()"),t.coords?(u[0]=t.coords.usrCoords[1],u[1]=t.coords.usrCoords[2]):(u[0]=t[0],u[1]=t[1]),r.coords?(f[0]=r.coords.usrCoords[1],f[1]=r.coords.usrCoords[2]):(f[0]=r[0],f[1]=r[1]),s.coords?(c[0]=s.coords.usrCoords[1],c[1]=s.coords.usrCoords[2]):(c[0]=s[0],c[1]=s[1]),n=u[0]-f[0],a=u[1]-f[1],o=c[0]-f[0],l=c[1]-f[1],Math.atan2(n*l-a*o,n*o+a*l)},trueAngle:function(t,r,s){return this.rad(t,r,s)*57.29577951308232},rad:function(t,r,s){var n,a,o,l,u,f,c;return t.coords?(n=t.coords.usrCoords[1],a=t.coords.usrCoords[2]):(n=t[0],a=t[1]),r.coords?(o=r.coords.usrCoords[1],l=r.coords.usrCoords[2]):(o=r[0],l=r[1]),s.coords?(u=s.coords.usrCoords[1],f=s.coords.usrCoords[2]):(u=s[0],f=s[1]),c=Math.atan2(f-l,u-o)-Math.atan2(a-l,n-o),c<0&&(c+=6.283185307179586),c},angleBisector:function(t,r,s,n){var a,o,l,u=t.coords.usrCoords,f=r.coords.usrCoords,c=s.coords.usrCoords,h,d;return JXG$1.exists(n)||(n=t.board),f[0]===0?new Coords(Const.COORDS_BY_USER,[1,(u[1]+c[1])*.5,(u[2]+c[2])*.5],n):(h=u[1]-f[1],d=u[2]-f[2],a=Math.atan2(d,h),h=c[1]-f[1],d=c[2]-f[2],o=Math.atan2(d,h),l=(a+o)*.5,a>o&&(l+=Math.PI),h=Math.cos(l)+f[1],d=Math.sin(l)+f[2],new Coords(Const.COORDS_BY_USER,[1,h,d],n))},reflection:function(t,r,s){var n,a,o,l,u,f,c,h=r.coords.usrCoords,d=t.point1.coords.usrCoords,p=t.point2.coords.usrCoords;return JXG$1.exists(s)||(s=r.board),u=p[1]-d[1],f=p[2]-d[2],n=h[1]-d[1],a=h[2]-d[2],c=(u*a-f*n)/(u*u+f*f),o=h[1]+2*c*f,l=h[2]-2*c*u,new Coords(Const.COORDS_BY_USER,[o,l],s)},rotation:function(t,r,s,n){var a,o,l,u,f,c,h=r.coords.usrCoords,d=t.coords.usrCoords;return JXG$1.exists(n)||(n=r.board),a=h[1]-d[1],o=h[2]-d[2],l=Math.cos(s),u=Math.sin(s),f=a*l-o*u+d[1],c=a*u+o*l+d[2],new Coords(Const.COORDS_BY_USER,[f,c],n)},perpendicular:function(t,r,s){var n,a,o,l,u,f=t.point1.coords.usrCoords,c=t.point2.coords.usrCoords,h=r.coords.usrCoords;return JXG$1.exists(s)||(s=r.board),r===t.point1?(n=f[1]+c[2]-f[2],a=f[2]-c[1]+f[1],u=f[0]*c[0],Math.abs(u)<Mat.eps&&(n=c[2],a=-c[1]),l=[u,n,a],o=!0):r===t.point2?(n=c[1]+f[2]-c[2],a=c[2]-f[1]+c[1],u=f[0]*c[0],Math.abs(u)<Mat.eps&&(n=f[2],a=-f[1]),l=[u,n,a],o=!1):Math.abs(Mat.innerProduct(h,t.stdform,3))<Mat.eps?(n=h[1]+c[2]-h[2],a=h[2]-c[1]+h[1],u=c[0],Math.abs(u)<Mat.eps&&(n=c[2],a=-c[1]),o=!0,Math.abs(u)>Mat.eps&&Math.abs(n-h[1])<Mat.eps&&Math.abs(a-h[2])<Mat.eps&&(n=h[1]+f[2]-h[2],a=h[2]-f[1]+h[1],o=!1),l=[u,n,a]):(l=[0,t.stdform[1],t.stdform[2]],l=Mat.crossProduct(l,h),l=Mat.crossProduct(l,t.stdform),o=!0),[new Coords(Const.COORDS_BY_USER,l,s),o]},circumcenterMidpoint:function(){JXG$1.deprecated("Geometry.circumcenterMidpoint()","Geometry.circumcenter()"),this.circumcenter.apply(this,arguments)},circumcenter:function(t,r,s,n){var a,o,l,u,f=t.coords.usrCoords,c=r.coords.usrCoords,h=s.coords.usrCoords;return JXG$1.exists(n)||(n=t.board),a=[c[0]-f[0],-c[2]+f[2],c[1]-f[1]],o=[(f[0]+c[0])*.5,(f[1]+c[1])*.5,(f[2]+c[2])*.5],l=Mat.crossProduct(a,o),a=[h[0]-c[0],-h[2]+c[2],h[1]-c[1]],o=[(c[0]+h[0])*.5,(c[1]+h[1])*.5,(c[2]+h[2])*.5],u=Mat.crossProduct(a,o),new Coords(Const.COORDS_BY_USER,Mat.crossProduct(l,u),n)},distance:function(t,r,s){var n,a=0;for(s||(s=Math.min(t.length,r.length)),n=0;n<s;n++)a+=(t[n]-r[n])*(t[n]-r[n]);return Math.sqrt(a)},affineDistance:function(t,r,s){var n;return n=this.distance(t,r,s),n>Mat.eps&&(Math.abs(t[0])<Mat.eps||Math.abs(r[0])<Mat.eps)?1/0:n},affineRatio:function(t,r,s){var n=0,a;return JXG$1.exists(t.usrCoords)&&(t=t.usrCoords),JXG$1.exists(r.usrCoords)&&(r=r.usrCoords),JXG$1.exists(s.usrCoords)&&(s=s.usrCoords),a=r[1]-t[1],Math.abs(a)>Mat.eps?n=(s[1]-t[1])/a:n=(s[2]-t[2])/(r[2]-t[2]),n},sortVertices:function(t){for(var r,s=Expect.each(t,Expect.coordsArray),n=s.length,a=null;s[0][0]===s[n-1][0]&&s[0][1]===s[n-1][1]&&s[0][2]===s[n-1][2];)a=s.pop(),n--;return r=s[0],s.sort(function(o,l){var u=o[2]===r[2]&&o[1]===r[1]?-1/0:Math.atan2(o[2]-r[2],o[1]-r[1]),f=l[2]===r[2]&&l[1]===r[1]?-1/0:Math.atan2(l[2]-r[2],l[1]-r[1]);return u-f}),a!==null&&s.push(a),s},signedTriangle:function(t,r,s){var n=Expect.coordsArray(t),a=Expect.coordsArray(r),o=Expect.coordsArray(s);return .5*((a[1]-n[1])*(o[2]-n[2])-(a[2]-n[2])*(o[1]-n[1]))},signedPolygon:function(t,r){var s,n,a=0,o=Expect.each(t,Expect.coordsArray);for(r===void 0&&(r=!0),r?o.unshift(o[o.length-1]):o=this.sortVertices(o),n=o.length,s=1;s<n;s++)a+=o[s-1][1]*o[s][2]-o[s][1]*o[s-1][2];return .5*a},GrahamScan:function(t){var r,s=1,n=Expect.each(t,Expect.coordsArray),a=n.length;for(n=this.sortVertices(n),a=n.length,r=2;r<a;r++){for(;this.signedTriangle(n[s-1],n[s],n[r])<=0;){if(s>1)s-=1;else if(r===a-1)break;r+=1}s+=1,n=JXG$1.swap(n,s,r)}return n.slice(0,s)},calcStraight:function(t,r,s,n){var a,o,l,u,f,c,h,d,p,v;JXG$1.exists(n)||(n=10),c=JXG$1.evaluate(t.visProp.straightfirst),h=JXG$1.evaluate(t.visProp.straightlast),Math.abs(r.scrCoords[0])<Mat.eps&&(c=!0),Math.abs(s.scrCoords[0])<Mat.eps&&(h=!0),!(!c&&!h)&&(d=[],d[0]=t.stdform[0]-t.stdform[1]*t.board.origin.scrCoords[1]/t.board.unitX+t.stdform[2]*t.board.origin.scrCoords[2]/t.board.unitY,d[1]=t.stdform[1]/t.board.unitX,d[2]=-t.stdform[2]/t.board.unitY,!isNaN(d[0]+d[1]+d[2])&&(a=!1,o=!1,a=!c&&Math.abs(r.usrCoords[0])>=Mat.eps&&r.scrCoords[1]>=0&&r.scrCoords[1]<=t.board.canvasWidth&&r.scrCoords[2]>=0&&r.scrCoords[2]<=t.board.canvasHeight,o=!h&&Math.abs(s.usrCoords[0])>=Mat.eps&&s.scrCoords[1]>=0&&s.scrCoords[1]<=t.board.canvasWidth&&s.scrCoords[2]>=0&&s.scrCoords[2]<=t.board.canvasHeight,l=this.meetLineBoard(d,t.board,n),u=l[0],f=l[1],!(!a&&!o&&(!c&&h&&!this.isSameDirection(r,s,u)&&!this.isSameDirection(r,s,f)||c&&!h&&!this.isSameDirection(s,r,u)&&!this.isSameDirection(s,r,f)))&&(a?o||(this.isSameDir(r,s,u,f)?v=f:v=u):o?this.isSameDir(r,s,u,f)?p=u:p=f:this.isSameDir(r,s,u,f)?(p=u,v=f):(v=u,p=f),p&&r.setCoordinates(Const.COORDS_BY_USER,p.usrCoords),v&&s.setCoordinates(Const.COORDS_BY_USER,v.usrCoords))))},calcLineDelimitingPoints:function(t,r,s){var n,a,o,l,u,f,c,h,d,p,v=!1,y=!1;f=JXG$1.evaluate(t.visProp.straightfirst),c=JXG$1.evaluate(t.visProp.straightlast),Math.abs(r.scrCoords[0])<Mat.eps&&(f=!0),Math.abs(s.scrCoords[0])<Mat.eps&&(c=!0),h=[],h[0]=t.stdform[0]-t.stdform[1]*t.board.origin.scrCoords[1]/t.board.unitX+t.stdform[2]*t.board.origin.scrCoords[2]/t.board.unitY,h[1]=t.stdform[1]/t.board.unitX,h[2]=-t.stdform[2]/t.board.unitY,!isNaN(h[0]+h[1]+h[2])&&(v=!f,y=!c,a=t.board.getBoundingBox(),o=t.getSlope(),o>=0?(l=this.projectPointToLine({coords:{usrCoords:[1,a[2],a[1]]}},t,t.board),u=this.projectPointToLine({coords:{usrCoords:[1,a[0],a[3]]}},t,t.board)):(l=this.projectPointToLine({coords:{usrCoords:[1,a[0],a[1]]}},t,t.board),u=this.projectPointToLine({coords:{usrCoords:[1,a[2],a[3]]}},t,t.board)),!(!v&&!y&&(!f&&!c&&(n=r.distance(Const.COORDS_BY_USER,s),Math.abs(r.distance(Const.COORDS_BY_USER,l)+l.distance(Const.COORDS_BY_USER,s)-n)>Mat.eps||Math.abs(r.distance(Const.COORDS_BY_USER,u)+u.distance(Const.COORDS_BY_USER,s)-n)>Mat.eps)||!f&&c&&!this.isSameDirection(r,s,l)&&!this.isSameDirection(r,s,u)||f&&!c&&!this.isSameDirection(s,r,l)&&!this.isSameDirection(s,r,u)))&&(v?y||(this.isSameDir(r,s,l,u)?p=u:p=l):y?this.isSameDir(r,s,l,u)?d=l:d=u:this.isSameDir(r,s,l,u)?(d=l,p=u):(p=l,d=u),d&&r.setCoordinates(Const.COORDS_BY_USER,d.usrCoords),p&&s.setCoordinates(Const.COORDS_BY_USER,p.usrCoords)))},calcLabelQuadrant:function(t){var r;return t<0&&(t+=2*Math.PI),r=Math.floor((t+Math.PI/8)/(Math.PI/4))%8,["rt","urt","top","ulft","lft","llft","lrt"][r]},isSameDir:function(t,r,s,n){var a=r.usrCoords[1]-t.usrCoords[1],o=r.usrCoords[2]-t.usrCoords[2],l=n.usrCoords[1]-s.usrCoords[1],u=n.usrCoords[2]-s.usrCoords[2];return Math.abs(r.usrCoords[0])<Mat.eps&&(a=r.usrCoords[1],o=r.usrCoords[2]),Math.abs(t.usrCoords[0])<Mat.eps&&(a=-t.usrCoords[1],o=-t.usrCoords[2]),a*l+o*u>=0},isSameDirection:function(t,r,s){var n,a,o,l,u=!1;return n=r.usrCoords[1]-t.usrCoords[1],a=r.usrCoords[2]-t.usrCoords[2],o=s.usrCoords[1]-t.usrCoords[1],l=s.usrCoords[2]-t.usrCoords[2],Math.abs(n)<Mat.eps&&(n=0),Math.abs(a)<Mat.eps&&(a=0),Math.abs(o)<Mat.eps&&(o=0),Math.abs(l)<Mat.eps&&(l=0),(n>=0&&o>=0||n<=0&&o<=0)&&(u=a>=0&&l>=0||a<=0&&l<=0),u},det3p:function(t,r,s){return(t[1]-s[1])*(r[2]-s[2])-(r[1]-s[1])*(t[2]-s[2])},windingNumber:function(t,r,s){var n=0,a=r.length,o=t[1],l=t[2],u,f,c,h,d,p,v=0;if(a===0)return 0;if(s=s||!1,s&&(v=1),isNaN(o)||isNaN(l)||(JXG$1.exists(r[0].coords)?(u=r[0].coords,f=r[a-1].coords):(u=r[0],f=r[a-1]),u.usrCoords[1]===o&&u.usrCoords[2]===l))return 1;for(p=0;p<a-v;p++)if(JXG$1.exists(r[p].coords)?(f=r[p].coords.usrCoords,c=r[(p+1)%a].coords.usrCoords):(f=r[p].usrCoords,c=r[(p+1)%a].usrCoords),!(f[0]===0||c[0]===0||isNaN(f[1])||isNaN(c[1])||isNaN(f[2])||isNaN(c[2]))){if(c[2]===l){if(c[1]===o)return 1;if(f[2]===l&&c[1]>o==f[1]<o)return 0}if(f[2]<l!=c[2]<l)if(d=2*(c[2]>f[2]?1:0)-1,f[1]>=o)if(c[1]>o)n+=d;else{if(h=this.det3p(f,c,t),h===0)return 0;h>0+Mat.eps==c[2]>f[2]&&(n+=d)}else c[1]>o&&(h=this.det3p(f,c,t),h>0+Mat.eps==c[2]>f[2]&&(n+=d))}return n},pnpoly:function(t,r,s,n){var a,o,l,u,f,c,h=s,d,p,v=!1;for(n===Const.COORDS_BY_USER?(c=new Coords(Const.COORDS_BY_USER,[t,r],this.board),u=c.scrCoords[1],f=c.scrCoords[2]):(u=t,f=r),l=s.length,a=0,o=l-2;a<l-1;o=a++)d=JXG$1.exists(h[a].coords)?h[a].coords:h[a],p=JXG$1.exists(h[o].coords)?h[o].coords:h[o],d.scrCoords[2]>f!=p.scrCoords[2]>f&&u<(p.scrCoords[1]-d.scrCoords[1])*(f-d.scrCoords[2])/(p.scrCoords[2]-d.scrCoords[2])+d.scrCoords[1]&&(v=!v);return v},intersectionFunction:function(t,r,s,n,a,o){var l,u=this,f=!1,c=!1;return f=r.elementClass===Const.OBJECT_CLASS_CURVE&&(r.type===Const.OBJECT_TYPE_ARC||r.type===Const.OBJECT_TYPE_SECTOR),c=s.elementClass===Const.OBJECT_CLASS_CURVE&&(s.type===Const.OBJECT_TYPE_ARC||s.type===Const.OBJECT_TYPE_SECTOR),(r.elementClass===Const.OBJECT_CLASS_CURVE||s.elementClass===Const.OBJECT_CLASS_CURVE)&&(r.elementClass===Const.OBJECT_CLASS_CURVE||r.elementClass===Const.OBJECT_CLASS_CIRCLE)&&(s.elementClass===Const.OBJECT_CLASS_CURVE||s.elementClass===Const.OBJECT_CLASS_CIRCLE)?l=function(){return u.meetCurveCurve(r,s,n,a,r.board)}:r.elementClass===Const.OBJECT_CLASS_CURVE&&!f&&s.elementClass===Const.OBJECT_CLASS_LINE||s.elementClass===Const.OBJECT_CLASS_CURVE&&!c&&r.elementClass===Const.OBJECT_CLASS_LINE?l=function(){return u.meetCurveLine(r,s,n,r.board,JXG$1.evaluate(o))}:r.type===Const.OBJECT_TYPE_POLYGON||s.type===Const.OBJECT_TYPE_POLYGON?r.elementClass===Const.OBJECT_CLASS_LINE?l=function(){var h=JXG$1.evaluate(r.visProp.straightfirst),d=JXG$1.evaluate(r.visProp.straightlast),p=JXG$1.evaluate(s.visProp.straightfirst),v=JXG$1.evaluate(s.visProp.straightlast),y;return y=!JXG$1.evaluate(o)&&(!h||!d||!p||!v),u.meetPolygonLine(s,r,n,r.board,y)}:s.elementClass===Const.OBJECT_CLASS_LINE?l=function(){var h=JXG$1.evaluate(r.visProp.straightfirst),d=JXG$1.evaluate(r.visProp.straightlast),p=JXG$1.evaluate(s.visProp.straightfirst),v=JXG$1.evaluate(s.visProp.straightlast),y;return y=!JXG$1.evaluate(o)&&(!h||!d||!p||!v),u.meetPolygonLine(r,s,n,r.board,y)}:l=function(){return u.meetPathPath(r,s,n,r.board)}:r.elementClass===Const.OBJECT_CLASS_LINE&&s.elementClass===Const.OBJECT_CLASS_LINE?l=function(){var h,d,p=JXG$1.evaluate(r.visProp.straightfirst),v=JXG$1.evaluate(r.visProp.straightlast),y=JXG$1.evaluate(s.visProp.straightfirst),b=JXG$1.evaluate(s.visProp.straightlast);return!JXG$1.evaluate(o)&&(!p||!v||!y||!b)?(h=u.meetSegmentSegment(r.point1.coords.usrCoords,r.point2.coords.usrCoords,s.point1.coords.usrCoords,s.point2.coords.usrCoords),!p&&h[1]<0||!v&&h[1]>1||!y&&h[2]<0||!b&&h[2]>1?d=[0,NaN,NaN]:d=h[0],new Coords(Const.COORDS_BY_USER,d,r.board)):u.meet(r.stdform,s.stdform,n,r.board)}:l=function(){var h=u.meet(r.stdform,s.stdform,n,r.board),d=!0,p,v,y;return JXG$1.evaluate(o)?h:r.elementClass===Const.OBJECT_CLASS_LINE&&(p=JXG$1.evaluate(r.visProp.straightfirst),v=JXG$1.evaluate(r.visProp.straightlast),(!p||!v)&&(y=u.affineRatio(r.point1.coords,r.point2.coords,h),!v&&y>1+Mat.eps||!p&&y<0-Mat.eps))?new Coords(JXG$1.COORDS_BY_USER,[0,NaN,NaN],r.board):s.elementClass===Const.OBJECT_CLASS_LINE&&(p=JXG$1.evaluate(s.visProp.straightfirst),v=JXG$1.evaluate(s.visProp.straightlast),(!p||!v)&&(y=u.affineRatio(s.point1.coords,s.point2.coords,h),!v&&y>1+Mat.eps||!p&&y<0-Mat.eps))?new Coords(JXG$1.COORDS_BY_USER,[0,NaN,NaN],r.board):f&&(d=u.coordsOnArc(r,h),d&&c&&(d=u.coordsOnArc(s,h)),!d)?new Coords(JXG$1.COORDS_BY_USER,[0,NaN,NaN],r.board):h},l},coordsOnArc:function(t,r){var s=this.rad(t.radiuspoint,t.center,r.usrCoords.slice(1)),n=0,a=this.rad(t.radiuspoint,t.center,t.anglepoint),o=JXG$1.evaluate(t.visProp.selection);return(o==="minor"&&a>Math.PI||o==="major"&&a<Math.PI)&&(n=a,a=2*Math.PI),!(s<n||s>a)},meet:function(t,r,s,n){var a,o=Mat.eps;return Math.abs(t[3])<o&&Math.abs(r[3])<o?a=this.meetLineLine(t,r,s,n):Math.abs(t[3])>=o&&Math.abs(r[3])<o?a=this.meetLineCircle(r,t,s,n):Math.abs(t[3])<o&&Math.abs(r[3])>=o?a=this.meetLineCircle(t,r,s,n):a=this.meetCircleCircle(t,r,s,n),a},meetLineBoard:function(t,r,s){var n=[],a,o,l,u;for(JXG$1.exists(s)||(s=0),n[0]=Mat.crossProduct(t,[s,0,1]),n[1]=Mat.crossProduct(t,[s,1,0]),n[2]=Mat.crossProduct(t,[-s-r.canvasHeight,0,1]),n[3]=Mat.crossProduct(t,[-s-r.canvasWidth,1,0]),l=0;l<4;l++)if(Math.abs(n[l][0])>Mat.eps){for(u=2;u>0;u--)n[l][u]/=n[l][0];n[l][0]=1}return Math.abs(n[1][0])<Mat.eps?(a=n[0],o=n[2]):Math.abs(n[0][0])<Mat.eps?(a=n[1],o=n[3]):n[1][2]<0?(a=n[0],n[3][2]>r.canvasHeight?o=n[2]:o=n[3]):n[1][2]>r.canvasHeight?(a=n[2],n[3][2]<0?o=n[0]:o=n[3]):(a=n[1],n[3][2]<0?o=n[0]:n[3][2]>r.canvasHeight?o=n[2]:o=n[3]),a=new Coords(Const.COORDS_BY_SCREEN,a.slice(1),r),o=new Coords(Const.COORDS_BY_SCREEN,o.slice(1),r),[a,o]},meetLineLine:function(t,r,s,n){var a=isNaN(t[5]+r[5])?[0,0,0]:Mat.crossProduct(t,r);return Math.abs(a[0])<1e-14&&(a[0]=0),new Coords(Const.COORDS_BY_USER,a,n)},meetLineCircle:function(t,r,s,n){var a,o,l,u,f,c,h,d,p,v;return r[4]<Mat.eps?Math.abs(Mat.innerProduct([1,r[6],r[7]],t,3))<Mat.eps?new Coords(Const.COORDS_BY_USER,r.slice(6,8),n):new Coords(Const.COORDS_BY_USER,[NaN,NaN],n):(l=r[0],o=r.slice(1,3),a=r[3],u=t[0],f=t.slice(1,3),c=a,h=o[0]*f[1]-o[1]*f[0],d=a*u*u-(o[0]*f[0]+o[1]*f[1])*u+l,p=h*h-4*c*d,p>-Mat.eps*Mat.eps?(p=Math.sqrt(Math.abs(p)),v=[(-h+p)/(2*c),(-h-p)/(2*c)],JXG$1.evaluate(s)===0?new Coords(Const.COORDS_BY_USER,[-v[0]*-f[1]-u*f[0],-v[0]*f[0]-u*f[1]],n):new Coords(Const.COORDS_BY_USER,[-v[1]*-f[1]-u*f[0],-v[1]*f[0]-u*f[1]],n)):new Coords(Const.COORDS_BY_USER,[0,0,0],n))},meetCircleCircle:function(t,r,s,n){var a;return t[4]<Mat.eps?Math.abs(this.distance(t.slice(6,2),r.slice(6,8))-r[4])<Mat.eps?new Coords(Const.COORDS_BY_USER,t.slice(6,8),n):new Coords(Const.COORDS_BY_USER,[0,0,0],n):r[4]<Mat.eps?Math.abs(this.distance(r.slice(6,2),t.slice(6,8))-t[4])<Mat.eps?new Coords(Const.COORDS_BY_USER,r.slice(6,8),n):new Coords(Const.COORDS_BY_USER,[0,0,0],n):(a=[r[3]*t[0]-t[3]*r[0],r[3]*t[1]-t[3]*r[1],r[3]*t[2]-t[3]*r[2],0,1,1/0,1/0,1/0],a=Mat.normalize(a),this.meetLineCircle(a,t,s,n))},meetCurveCurve:function(t,r,s,n,a,o){var l;return JXG$1.exists(o)&&o==="newton"?l=Numerics.generalizedNewton(t,r,JXG$1.evaluate(s),n):t.bezierDegree===3||r.bezierDegree===3?l=this.meetBezierCurveRedBlueSegments(t,r,s):l=this.meetCurveRedBlueSegments(t,r,s),new Coords(Const.COORDS_BY_USER,l,a)},meetCurveLine:function(t,r,s,n,a){var o=[0,NaN,NaN],l,u;return JXG$1.exists(n)||(n=t.board),t.elementClass===Const.OBJECT_CLASS_CURVE?(l=t,u=r):(l=r,u=t),o=this.meetCurveLineDiscrete(l,u,s,n,!a),o},meetCurveLineContinuous:function(t,r,s,n,a){var o,l,u,f,c,h,d,p=Mat.eps,v=Mat.eps,y,b,w,x,A,S,_;for(f=this.meetCurveLineDiscrete(t,r,s,n,a),c=f.usrCoords[1],h=f.usrCoords[2],l=function($){var M,T;return $>t.maxX()||$<t.minX()?1/0:(M=c-t.X($),T=h-t.Y($),M*M+T*T)},u=function($){var M=r.stdform[0]+r.stdform[1]*t.X($)+r.stdform[2]*t.Y($);return M*M},y=50,b=(t.maxX()-t.minX())/y,w=t.minX(),S=1e-4,A=NaN,x=0;x<y&&(o=Numerics.root(l,[Math.max(w,t.minX()),Math.min(w+b,t.maxX())]),_=Math.abs(l(o)),!(_<=S&&(S=_,A=o,S<p)));x++)w+=b;return o=A,o=Numerics.root(u,[Math.max(o-b,t.minX()),Math.min(o+b,t.maxX())]),_=u(o),isNaN(_)||Math.abs(_)>v?d=0:d=1,new Coords(Const.COORDS_BY_USER,[d,t.X(o),t.Y(o)],n)},meetCurveLineDiscrete:function(t,r,s,n,a){var o,l,u=JXG$1.evaluate(s),f,c,h,d,p=r.point1.coords.usrCoords,v=r.point2.coords.usrCoords,y,b,w=0,x=t.numberPoints,A=JXG$1.evaluate(r.visProp.straightfirst),S=JXG$1.evaluate(r.visProp.straightlast);for(d=new Coords(Const.COORDS_BY_USER,[0,NaN,NaN],n),p[0]===0?p=[1,v[1]+r.stdform[2],v[2]-r.stdform[1]]:v[0]===0&&(v=[1,p[1]+r.stdform[2],p[2]-r.stdform[1]]),c=t.points[0].usrCoords,o=1;o<x;o+=t.bezierDegree)if(f=c.slice(0),c=t.points[o].usrCoords,y=this.distance(f,c),y>Mat.eps){for(t.bezierDegree===3?b=this.meetBeziersegmentBeziersegment([t.points[o-1].usrCoords.slice(1),t.points[o].usrCoords.slice(1),t.points[o+1].usrCoords.slice(1),t.points[o+2].usrCoords.slice(1)],[p.slice(1),v.slice(1)],a):b=[this.meetSegmentSegment(f,c,p,v)],l=0;l<b.length;l++)if(h=b[l],0<=h[1]&&h[1]<=1){if(w===u)return a&&(!A&&h[2]<0||!S&&h[2]>1)||(d=new Coords(Const.COORDS_BY_USER,h[0],n)),d;w+=1}}return d},meetCurveRedBlueSegments:function(t,r,s){var n,a,o=JXG$1.evaluate(s),l,u,f,c,h,d,p,v=0,y=r.numberPoints,b=t.numberPoints;if(y<=1||b<=1)return[0,NaN,NaN];for(n=1;n<b;n++)for(l=t.points[n-1].usrCoords,u=t.points[n].usrCoords,d=Math.min(l[1],u[1]),p=Math.max(l[1],u[1]),c=r.points[0].usrCoords,a=1;a<y;a++)if(f=c,c=r.points[a].usrCoords,Math.min(f[1],c[1])<p&&Math.max(f[1],c[1])>d&&(h=this.meetSegmentSegment(l,u,f,c),h[1]>=0&&h[2]>=0&&(h[1]<1&&h[2]<1||n===b-1&&h[1]===1||a===y-1&&h[2]===1))){if(v===o)return h[0];v++}return[0,NaN,NaN]},meetSegmentSegment:function(t,r,s,n){var a,o,l,u,f=Mat.crossProduct(t,r),c=Mat.crossProduct(s,n),h=Mat.crossProduct(f,c);return Math.abs(h[0])<Mat.eps?[h,1/0,1/0]:(h[1]/=h[0],h[2]/=h[0],h[0]/=h[0],l=Math.abs(r[1]-r[0]*t[1])<Mat.eps?2:1,u=t[l]/t[0],a=(h[l]-u)/(r[0]!==0?r[l]/r[0]-u:r[l]),l=Math.abs(n[1]-n[0]*s[1])<Mat.eps?2:1,u=s[l]/s[0],o=(h[l]-u)/(n[0]!==0?n[l]/n[0]-u:n[l]),[h,a,o])},meetPathPath:function(t,r,s,n){var a,o,l,u,f=JXG$1.evaluate(s);return a=JXG$1.Math.Clip._getPath(t,n),l=a.length,l>0&&this.distance(a[0].coords.usrCoords,a[l-1].coords.usrCoords,3)<Mat.eps&&a.pop(),o=JXG$1.Math.Clip._getPath(r,n),l=o.length,l>0&&this.distance(o[0].coords.usrCoords,o[l-1].coords.usrCoords,3)<Mat.eps*Mat.eps&&o.pop(),s<0||JXG$1.Math.Clip.isEmptyCase(a,o,"intersection")?new Coords(Const.COORDS_BY_USER,[0,0,0],n):(JXG$1.Math.Clip.makeDoublyLinkedList(a),JXG$1.Math.Clip.makeDoublyLinkedList(o),u=JXG$1.Math.Clip.findIntersections(a,o,n)[0],f<u.length?u[f].coords:new Coords(Const.COORDS_BY_USER,[0,0,0],n))},meetPolygonLine:function(t,r,s,n,a){var o,l=JXG$1.evaluate(s),u,f,c=[0,0,0],h=t.borders.length,d=[];for(o=0;o<h;o++)f=t.borders[o],u=this.meetSegmentSegment(f.point1.coords.usrCoords,f.point2.coords.usrCoords,r.point1.coords.usrCoords,r.point2.coords.usrCoords),(!a||u[2]>=0&&u[2]<1)&&u[1]>=0&&u[1]<1&&d.push(u[0]);return l>=0&&l<d.length&&(c=d[l]),new Coords(Const.COORDS_BY_USER,c,n)},_bezierSplit:function(t){var r,s,n,a,o,l;return r=[(t[0][0]+t[1][0])*.5,(t[0][1]+t[1][1])*.5],s=[(t[1][0]+t[2][0])*.5,(t[1][1]+t[2][1])*.5],n=[(t[2][0]+t[3][0])*.5,(t[2][1]+t[3][1])*.5],a=[(r[0]+s[0])*.5,(r[1]+s[1])*.5],o=[(s[0]+n[0])*.5,(s[1]+n[1])*.5],l=[(a[0]+o[0])*.5,(a[1]+o[1])*.5],[[t[0],r,a,l],[l,o,n,t[3]]]},_bezierBbox:function(t){var r=[];return t.length===4?(r[0]=Math.min(t[0][0],t[1][0],t[2][0],t[3][0]),r[1]=Math.max(t[0][1],t[1][1],t[2][1],t[3][1]),r[2]=Math.max(t[0][0],t[1][0],t[2][0],t[3][0]),r[3]=Math.min(t[0][1],t[1][1],t[2][1],t[3][1])):(r[0]=Math.min(t[0][0],t[1][0]),r[1]=Math.max(t[0][1],t[1][1]),r[2]=Math.max(t[0][0],t[1][0]),r[3]=Math.min(t[0][1],t[1][1])),r},_bezierOverlap:function(t,r){return t[2]>=r[0]&&t[0]<=r[2]&&t[1]>=r[3]&&t[3]<=r[1]},_bezierListConcat:function(t,r,s,n){var a,o=JXG$1.exists(n),l=0,u=r.length,f=t.length;for(f>0&&u>0&&(t[f-1][1]===1&&r[0][1]===0||o&&t[f-1][2]===1&&r[0][2]===0)&&(l=1),a=l;a<u;a++)o&&(r[a][2]*=.5,r[a][2]+=n),r[a][1]*=.5,r[a][1]+=s,t.push(r[a])},_bezierMeetSubdivision:function(t,r,s){var n,a,o,l,u,f,c,h,d,p,v,y,b=[],w=5;return a=this._bezierBbox(r),n=this._bezierBbox(t),this._bezierOverlap(a,n)?s<w?(o=this._bezierSplit(t),f=o[0],c=o[1],o=this._bezierSplit(r),l=o[0],u=o[1],this._bezierListConcat(b,this._bezierMeetSubdivision(f,l,s+1),0,0),this._bezierListConcat(b,this._bezierMeetSubdivision(f,u,s+1),0,.5),this._bezierListConcat(b,this._bezierMeetSubdivision(c,l,s+1),.5,0),this._bezierListConcat(b,this._bezierMeetSubdivision(c,u,s+1),.5,.5),b):(v=[1].concat(t[0]),y=[1].concat(t[3]),d=[1].concat(r[0]),p=[1].concat(r[3]),h=this.meetSegmentSegment(v,y,d,p),h[1]>=0&&h[2]>=0&&h[1]<=1&&h[2]<=1?[h]:[]):[]},_bezierLineMeetSubdivision:function(t,r,s,n){var a,o,l,u,f,c,h,d,p,v,y=[],b=5;return a=this._bezierBbox(r),o=this._bezierBbox(t),n&&!this._bezierOverlap(o,a)?[]:s<b?(l=this._bezierSplit(t),u=l[0],f=l[1],this._bezierListConcat(y,this._bezierLineMeetSubdivision(u,r,s+1),0),this._bezierListConcat(y,this._bezierLineMeetSubdivision(f,r,s+1),.5),y):(p=[1].concat(t[0]),v=[1].concat(t[3]),h=[1].concat(r[0]),d=[1].concat(r[1]),c=this.meetSegmentSegment(p,v,h,d),c[1]>=0&&c[1]<=1&&(!n||c[2]>=0&&c[2]<=1)?[c]:[])},meetBeziersegmentBeziersegment:function(t,r,s){var n,a,o;for(t.length===4&&r.length===4?n=this._bezierMeetSubdivision(t,r,0):n=this._bezierLineMeetSubdivision(t,r,0,s),n.sort(function(l,u){return(l[1]-u[1])*1e7+(l[2]-u[2])}),a=[],o=0;o<n.length;o++)(o===0||n[o][1]!==n[o-1][1]||n[o][2]!==n[o-1][2])&&a.push(n[o]);return a},meetBezierCurveRedBlueSegments:function(t,r,s){var n,a,o,l,u=JXG$1.evaluate(s),f,c,h,d,p,v,y=0,b=0,w=r.numberPoints,x=t.numberPoints,A=[];if(w<r.bezierDegree+1||x<t.bezierDegree+1)return[0,NaN,NaN];for(w-=r.bezierDegree,x-=t.bezierDegree,t.type===Const.OBJECT_TYPE_SECTOR&&(y=3,x-=3),r.type===Const.OBJECT_TYPE_SECTOR&&(b=3,w-=3),a=y;a<x;a+=t.bezierDegree)for(n=t.points,c=[n[a].usrCoords.slice(1),n[a+1].usrCoords.slice(1)],t.bezierDegree===3&&(c[2]=n[a+2].usrCoords.slice(1),c[3]=n[a+3].usrCoords.slice(1)),d=this._bezierBbox(c),o=b;o<w;o+=r.bezierDegree)if(n=r.points,h=[n[o].usrCoords.slice(1),n[o+1].usrCoords.slice(1)],r.bezierDegree===3&&(h[2]=n[o+2].usrCoords.slice(1),h[3]=n[o+3].usrCoords.slice(1)),p=this._bezierBbox(h),this._bezierOverlap(d,p)){if(v=this.meetBeziersegmentBeziersegment(c,h),v.length===0)continue;for(l=0;l<v.length;l++)f=v[l],!(f[1]<-Mat.eps||f[1]>1+Mat.eps||f[2]<-Mat.eps||f[2]>1+Mat.eps)&&A.push(f);if(A.length>u)return A[u][0]}return A.length>u?A[u][0]:[0,NaN,NaN]},bezierSegmentEval:function(t,r){var s,n,a,o=1-t;return n=0,a=0,s=o*o*o,n+=s*r[0][0],a+=s*r[0][1],s=3*t*o*o,n+=s*r[1][0],a+=s*r[1][1],s=3*t*t*o,n+=s*r[2][0],a+=s*r[2][1],s=t*t*t,n+=s*r[3][0],a+=s*r[3][1],[1,n,a]},bezierArc:function(t,r,s,n,a){var o,l,u,f,c,h,d,p=Math.PI*.5,v=r[1],y=r[2],b=r[0],w=[],x=[],A,S,_,$,M,T,O,B,J,F;for(c=this.distance(r,t),v/=b,y/=b,h=this.rad(t.slice(1),r.slice(1),s.slice(1)),a===-1&&(h=2*Math.PI-h),o=t,o[1]/=o[0],o[2]/=o[0],o[0]/=o[0],f=o.slice(0),n?(w=[v,v+.333*(o[1]-v),v+.666*(o[1]-v),o[1]],x=[y,y+.333*(o[2]-y),y+.666*(o[2]-y),o[2]]):(w=[o[1]],x=[o[2]]);h>Mat.eps;)h>p?(d=p,h-=p):(d=h,h=0),A=Math.cos(a*d),S=Math.sin(a*d),F=[[1,0,0],[v*(1-A)+y*S,A,-S],[y*(1-A)-v*S,S,A]],B=Mat.matVecMult(F,o),f=[B[0]/B[0],B[1]/B[0],B[2]/B[0]],_=o[1]-v,$=o[2]-y,M=f[1]-v,T=f[2]-y,J=Math.sqrt((_+M)*(_+M)+($+T)*($+T)),Math.abs(T-$)>Mat.eps?O=(_+M)*(c/J-.5)/(T-$)*8/3:O=($+T)*(c/J-.5)/(_-M)*8/3,l=[1,o[1]-O*$,o[2]+O*_],u=[1,f[1]+O*T,f[2]-O*M],w=w.concat([l[1],u[1],f[1]]),x=x.concat([l[2],u[2],f[2]]),o=f.slice(0);return n&&(w=w.concat([f[1]+.333*(v-f[1]),f[1]+.666*(v-f[1]),v]),x=x.concat([f[2]+.333*(y-f[2]),f[2]+.666*(y-f[2]),y])),[w,x]},projectPointToCircle:function(t,r,s){var n,a,o,l,u,f=r.center.coords.usrCoords;return JXG$1.exists(s)||(s=t.board),JXG$1.isPoint(t)?(n=t.coords.distance(Const.COORDS_BY_USER,r.center.coords),a=t.coords.usrCoords):(n=t.distance(Const.COORDS_BY_USER,r.center.coords),a=t.usrCoords),Math.abs(n)<Mat.eps&&(n=Mat.eps),u=r.Radius()/n,o=f[1]+u*(a[1]-f[1]),l=f[2]+u*(a[2]-f[2]),new Coords(Const.COORDS_BY_USER,[o,l],s)},projectPointToLine:function(t,r,s){var n=[0,r.stdform[1],r.stdform[2]],a;return JXG$1.exists(s)||(JXG$1.exists(t.coords)?s=t.board:s=r.board),JXG$1.exists(t.coords)?a=t.coords.usrCoords:a=t.usrCoords,n=Mat.crossProduct(n,a),new Coords(Const.COORDS_BY_USER,Mat.crossProduct(n,r.stdform),s)},projectCoordsToSegment:function(t,r,s){var n,a,o=[s[1]-r[1],s[2]-r[2]],l=[t[1]-r[1],t[2]-r[2]];return Math.abs(o[0])<Mat.eps&&Math.abs(o[1])<Mat.eps?[r,0]:(n=Mat.innerProduct(l,o),a=Mat.innerProduct(o,o),n/=a,[[1,n*o[0]+r[1],n*o[1]+r[2]],n])},projectCoordsToBeziersegment:function(t,r,s){var n,a=function(o){var l=[1,r.X(s+o),r.Y(s+o)];return l[1]-=t[1],l[2]-=t[2],l[1]*l[1]+l[2]*l[2]};return n=JXG$1.Math.Numerics.fminbr(a,[0,1]),[[1,r.X(n+s),r.Y(n+s)],n]},projectPointToCurve:function(t,r,s){JXG$1.exists(s)||(s=t.board);var n=t.X(),a=t.Y(),o=t.position||0,l=this.projectCoordsToCurve(n,a,o,r,s);return l},projectCoordsToCurve:function(t,r,s,n,a){var o,l,u,f,c,h,d,p,v,y,b,w,x,A,S,_,$,M,T,O,B,J,F,z=Number.POSITIVE_INFINITY;if(JXG$1.exists(a)||(a=n.board),JXG$1.evaluate(n.visProp.curvetype)==="plot"){if(s=0,c=z,n.numberPoints===0?o=[0,1,1]:o=[n.Z(0),n.X(0),n.Y(0)],n.numberPoints>1)for(p=[1,t,r],n.bezierDegree===3?f=0:b=[n.Z(0),n.X(0),n.Y(0)],u=0;u<n.numberPoints-1;u++)n.bezierDegree===3?x=this.projectCoordsToBeziersegment(p,n,f):(w=[n.Z(u+1),n.X(u+1),n.Y(u+1)],x=this.projectCoordsToSegment(p,b,w)),d=x[1],v=x[0],0<=d&&d<=1?(h=this.distance(v,p),y=u+d):d<0?(v=b,h=this.distance(b,p),y=u):d>1&&u===n.numberPoints-2&&(v=w,h=this.distance(v,p),y=n.numberPoints-1),h<c&&(c=h,s=y,o=v),n.bezierDegree===3?(f++,u+=2):b=w;l=new Coords(Const.COORDS_BY_USER,o,a)}else{for(A=function(Z){var se,ie;return Z<n.minX()||Z>n.maxX()?1/0:(se=t-n.X(Z),ie=r-n.Y(Z),se*se+ie*ie)},$=A(s),B=50,J=n.minX(),F=n.maxX(),M=(F-J)/B,S=J,u=0;u<B;u++)_=A(S),(_<$||$===1/0||isNaN($))&&(s=S,$=_),S+=M;for(T=M,u=0;u<20&&isNaN(A(s-T));u++,T*=.5);for(isNaN(A(s-T))&&(T=0),O=M,u=0;u<20&&isNaN(A(s+O));u++,O*=.5);isNaN(A(s+O))&&(O=0),s=Numerics.fminbr(A,[Math.max(s-T,J),Math.min(s+O,F)]),s=s<J?J:s,s=s>F?F:s,l=new Coords(Const.COORDS_BY_USER,[n.X(s),n.Y(s)],a)}return[n.updateTransform(l),s]},projectCoordsToPolygon:function(t,r){var s,n=r.vertices.length,a=1/0,o,l,u,f;for(s=0;s<n-1;s++)l=JXG$1.Math.Geometry.projectCoordsToSegment(t,r.vertices[s].coords.usrCoords,r.vertices[s+1].coords.usrCoords),0<=l[1]&&l[1]<=1?(o=JXG$1.Math.Geometry.distance(l[0],t,3),u=l[0]):l[1]<0?(o=JXG$1.Math.Geometry.distance(r.vertices[s].coords.usrCoords,t,3),u=r.vertices[s].coords.usrCoords):(o=JXG$1.Math.Geometry.distance(r.vertices[s+1].coords.usrCoords,t,3),u=r.vertices[s+1].coords.usrCoords),o<a&&(f=u.slice(0),a=o);return f},projectPointToTurtle:function(t,r,s){var n,a,o,l,u,f,c,h,d,p,v=0,y=0,b=Number.POSITIVE_INFINITY,w=r.objects.length;for(JXG$1.exists(s)||(s=t.board),u=0;u<w;u++)c=r.objects[u],c.elementClass===Const.OBJECT_CLASS_CURVE&&(d=this.projectPointToCurve(t,c),n=d[0],p=d[1],f=this.distance(n.usrCoords,t.coords.usrCoords),f<b&&(o=n.usrCoords[1],l=n.usrCoords[2],a=p,b=f,h=c,y=v),v+=c.numberPoints);return n=new Coords(Const.COORDS_BY_USER,[o,l],s),[h.updateTransform(n),a+y]},projectPointToPoint:function(t,r){return r.coords},projectPointToBoard:function(t,r){var s,n,a,o=r||t.board,l=[[1,1,0,0,3,0,1],[-1,2,1,0,1,2,1],[-1,1,2,2,1,2,3],[1,2,3,0,3,2,3]],u=t.coords||t,f=o.getBoundingBox();for(s=0;s<4;s++)a=l[s],a[0]*u.usrCoords[a[1]]<a[0]*f[a[2]]&&(n=Mat.crossProduct([1,f[a[3]],f[a[4]]],[1,f[a[5]],f[a[6]]]),n[3]=0,n=Mat.normalize(n),u=this.projectPointToLine({coords:u},{stdform:n},o));return u},distPointLine:function(t,r){var s=r[1],n=r[2],a=r[0],o;return Math.abs(s)+Math.abs(n)<Mat.eps?Number.POSITIVE_INFINITY:(o=s*t[1]+n*t[2]+a,s*=s,n*=n,Math.abs(o)/Math.sqrt(s+n))},reuleauxPolygon:function(t,r){var s,n=Math.PI*2,a=n/r,o=(r-1)/2,l=0,u=function(f,c){return function(h,d){var p=(h%n+n)%n,v=Math.floor(p/a)%r;return d||(l=t[0].Dist(t[o]),s=Mat.Geometry.rad([t[0].X()+1,t[0].Y()],t[0],t[o%r])),isNaN(v)?v:(p=p*.5+v*a*.5+s,t[v][f]()+l*Math[c](p))}};return[u("X","cos"),u("Y","sin"),0,n]},meet3Planes:function(t,r,s,n,a,o){var l=[0,0,0],u,f,c,h,d;for(u=Mat.crossProduct(a,t),f=Mat.crossProduct(t,s),c=Mat.crossProduct(s,a),h=Mat.innerProduct(t,c,3),d=0;d<3;d++)l[d]=(r*c[d]+n*u[d]+o*f[d])/h;return l},meetPlanePlane:function(t,r,s,n){var a,o,l,u=[0,0,0],f=[0,0,0];for(a=0;a<3;a++)u[a]=JXG$1.evaluate(t[a]),f[a]=JXG$1.evaluate(r[a]);for(o=Mat.crossProduct(u,f),a=0;a<3;a++)u[a]=JXG$1.evaluate(s[a]),f[a]=JXG$1.evaluate(n[a]);return l=Mat.crossProduct(u,f),Mat.crossProduct(o,l)},project3DTo3DPlane:function(t,r,s){var n=[0,0,0],a,o,l,u;return s=s||[0,0,0],a=Mat.norm(r),o=Mat.innerProduct(t,r,3),l=Mat.innerProduct(s,r,3),u=(o-l)/a,n=Mat.axpy(-u,r,t),n},getPlaneBounds:function(t,r,s,n,a){var o,l,u,f,c,h,d;return t[2]+r[0]!==0?(c=[[t[0],r[0]],[t[1],r[1]]],h=[n-s[0],n-s[1]],d=Numerics.Gauss(c,h),o=d[0],l=d[1],h=[a-s[0],a-s[1]],d=Numerics.Gauss(c,h),u=d[0],f=d[1],[o,u,l,f]):null}});const Geometry=Mat.Geometry;Mat.Quadtree=function(t,r,s){r=r||{capacity:10,pointType:"coords"},this.config={},this.config.capacity=r.capacity||10,this.config.pointType=r.pointType||"coords",this.points=[],this.xlb=t[0],this.xub=t[2],this.ylb=t[3],this.yub=t[1],this.parent=s||null,this.northWest=null,this.northEast=null,this.southEast=null,this.southWest=null};JXG$1.extend(Mat.Quadtree.prototype,{contains:function(t,r){return this.xlb<t&&t<=this.xub&&this.ylb<r&&r<=this.yub},insert:function(t){switch(this.config.pointType){case"coords":if(!this.contains(t.usrCoords[1],t.usrCoords[2]))return!1;break;case"object":if(!this.contains(t.x,t.y))return!1;break}return this.points.length<this.config.capacity?(this.points.push(t),!0):(this.northWest===null&&this.subdivide(),this.northWest.insert(t)||this.northEast.insert(t)||this.southEast.insert(t)?!0:!!this.southWest.insert(t))},subdivide:function(){var t,r=this.points.length,s=this.xlb+(this.xub-this.xlb)/2,n=this.ylb+(this.yub-this.ylb)/2;for(this.northWest=new Mat.Quadtree([this.xlb,this.yub,s,n],this.config,this),this.northEast=new Mat.Quadtree([s,this.yub,this.xub,n],this.config,this),this.southEast=new Mat.Quadtree([this.xlb,n,s,this.ylb],this.config,this),this.southWest=new Mat.Quadtree([s,n,this.xub,this.ylb],this.config,this),t=0;t<r;t+=1)this.insert(this.points[t]);this.points.length=0,this.points=[]},_query:function(t,r){var s;if(this.contains(t,r)){if(this.northWest===null)return this;if(s=this.northWest._query(t,r),s||(s=this.northEast._query(t,r),s)||(s=this.southEast._query(t,r),s)||(s=this.southWest._query(t,r),s))return s}return!1},query:function(t,r){var s,n;return JXG$1.exists(r)?(s=t,n=r):(s=t.usrCoords[1],n=t.usrCoords[2]),this._query(s,n)},isIn:function(t,r,s){var n,a,o;if(this.contains(t,r)){switch(o=this.points.length,this.config.pointType){case"coords":for(a=0;a<o;a++)if(Geometry.distance([t,r],this.points[a].usrCoords.slice(1),2)<s)return!0;break;case"object":for(a=0;a<o;a++)if(Geometry.distance([t,r],[this.points[a].x,this.points[a].y],2)<s)return!0;break}if(this.northWest===null)return!1;if(n=this.northWest.isIn(t,r,s),n||(n=this.northEast.isIn(t,r,s),n)||(n=this.southEast.isIn(t,r,s),n)||(n=this.southWest.isIn(t,r,s),n))return n}return!1},getAllPoints:function(){var t=[];return this.getAllPointsRecursive(t),t},getAllPointsRecursive(t){if(this.northWest===null){Array.prototype.push.apply(t,this.points.slice());return}this.northWest.getAllPointsRecursive(t),this.northEast.getAllPointsRecursive(t),this.southEast.getAllPointsRecursive(t),this.southWest.getAllPointsRecursive(t)}});const QDT=Mat.Quadtree;JXG$1.Math.Nlp={arr:function(t){return new Float64Array(t)},arr2:function(t,r){for(var s=0,n=new Array(t);s<t;)n[s]=this.arr(r),s++;return n},arraycopy:function(t,r,s,n,a){for(var o=0;o<a;)s[o+n]=t[o+r],o++},lastNumberOfEvaluations:0,GetLastNumberOfEvaluations:function(){return this.lastNumberOfEvaluations},Normal:0,MaxIterationsReached:1,DivergingRoundingErrors:2,FindMinimum:function(t,r,s,n,a,o,l,u,f){var c=s+2,h,d=this.arr(r+1),p=this,v;return this.lastNumberOfEvaluations=0,f&&console.log("Experimental feature 'testForRoundingErrors' is activated."),d[0]=0,this.arraycopy(n,0,d,1,r),v=function(y,b,w,x){var A=p.arr(y),S,_;return p.lastNumberOfEvaluations=p.lastNumberOfEvaluations+1,p.arraycopy(w,1,A,0,y),S=p.arr(b),_=t(y,b,A,S),p.arraycopy(S,0,x,1,b),_},h=this.cobylb(v,r,s,c,d,a,o,l,u,f),this.arraycopy(d,1,n,0,r),h},cobylb:function(t,r,s,n,a,o,l,u,f,c){var h=-1,d=.25,p=2.1,v=.5,y=1.1,b=0,w=0,x,A=r+1,S=s+1,_=o,$=0,M=!1,T=!1,O=0,B=0,J=0,F=this.arr(1+n),z=this.arr2(1+r,1+A),Z=this.arr2(1+r,1+r),se=this.arr2(1+n,1+A),ie=this.arr2(1+r,1+S),U=this.arr(1+r),H=this.arr(1+r),ue=this.arr(1+r),Y=this.arr(1+r),K=this.arr(1+r),te,ae,ee,de,ce,xe,Me,Ae,Xe,Be,Ze,nt,rt,it,me,be,Re,ye,$e,Te,et,Ke,pe,ve,De,_e,Oe,Ye,tt,Ve,qe=!0;for(u>=2&&console.log("The initial value of RHO is "+_+" and PARMU is set to zero."),Me=0,ce=1/_,te=1;te<=r;++te)z[te][A]=a[te],z[te][te]=_,Z[te][te]=ce;Ae=A,Xe=!1;e:do{if(Me>=f&&Me>0){h=this.MaxIterationsReached;break e}for(++Me,b=t(r,s,a,F),w=0,ee=1;ee<=s;++ee)w=Math.max(w,-F[ee]);if((Me===u-1||u===3)&&this.PrintIterationResult(Me,b,w,a,r,u),F[S]=b,F[n]=w,Be=!0,!Xe){for(Be=!1,te=1;te<=n;++te)se[te][Ae]=F[te];if(Me<=A){if(Ae<=r)if(se[S][A]<=b)a[Ae]=z[Ae][A];else{for(z[Ae][A]=a[Ae],ee=1;ee<=n;++ee)se[ee][Ae]=se[ee][A],se[ee][A]=F[ee];for(ee=1;ee<=Ae;++ee){for(z[Ae][ee]=-_,ce=0,te=ee;te<=Ae;++te)ce-=Z[te][ee];Z[Ae][ee]=ce}}if(Me<=r){Ae=Me,a[Ae]+=_;continue e}}Xe=!0}t:do{r:do{if(!Be){for(Ze=se[S][A]+$*se[n][A],nt=A,ae=1;ae<=r;++ae)ce=se[S][ae]+$*se[n][ae],ce<Ze?(nt=ae,Ze=ce):ce===Ze&&$===0&&se[n][ae]<se[n][nt]&&(nt=ae);if(nt<=r){for(te=1;te<=n;++te)ce=se[te][A],se[te][A]=se[te][nt],se[te][nt]=ce;for(te=1;te<=r;++te){for(ce=z[te][nt],z[te][nt]=0,z[te][A]+=ce,xe=0,ee=1;ee<=r;++ee)z[te][ee]-=ce,xe-=Z[ee][te];Z[nt][te]=xe}}if(rt=0,c)for(te=1;te<=r;++te)for(ae=1;ae<=r;++ae)ce=this.DOT_PRODUCT_ROW_COL(Z,te,z,ae,1,r)-(te===ae?1:0),rt=Math.max(rt,Math.abs(ce));if(rt>.1){h=this.DivergingRoundingErrors;break e}for(ee=1;ee<=S;++ee){for(F[ee]=-se[ee][A],ae=1;ae<=r;++ae)K[ae]=se[ee][ae]+F[ee];for(te=1;te<=r;++te)ie[te][ee]=(ee===S?-1:1)*this.DOT_PRODUCT_ROW_COL(K,-1,Z,te,1,r)}for(M=!0,O=d*_,it=p*_,ae=1;ae<=r;++ae){for(me=0,be=0,ee=1;ee<=r;++ee)me+=Z[ae][ee]*Z[ae][ee],be+=z[ee][ae]*z[ee][ae];U[ae]=1/Math.sqrt(me),H[ae]=Math.sqrt(be),(U[ae]<O||H[ae]>it)&&(M=!1)}if(!Xe&&!M){for(Ae=0,ce=it,ae=1;ae<=r;++ae)H[ae]>ce&&(Ae=ae,ce=H[ae]);if(Ae===0)for(ae=1;ae<=r;++ae)U[ae]<ce&&(Ae=ae,ce=U[ae]);for(ce=v*_*U[Ae],ee=1;ee<=r;++ee)Y[ee]=ce*Z[Ae][ee];for(Re=0,ye=0,x=0,ee=1;ee<=S;++ee)x=this.DOT_PRODUCT_ROW_COL(Y,-1,ie,ee,1,r),ee<S&&(ce=se[ee][A],Re=Math.max(Re,-x-ce),ye=Math.max(ye,x-ce));for($e=$*(Re-ye)>2*x?-1:1,ce=0,te=1;te<=r;++te)Y[te]=$e*Y[te],z[te][Ae]=Y[te],ce+=Z[Ae][te]*Y[te];for(ee=1;ee<=r;++ee)Z[Ae][ee]/=ce;for(ae=1;ae<=r;++ae){if(ae!==Ae)for(ce=this.DOT_PRODUCT_ROW_COL(Z,ae,Y,-1,1,r),ee=1;ee<=r;++ee)Z[ae][ee]-=ce*Z[Ae][ee];a[ae]=z[ae][A]+Y[ae]}continue e}if(T=this.trstlp(r,s,ie,F,_,Y),!T){for(ce=0,ee=1;ee<=r;++ee)ce+=Y[ee]*Y[ee];if(ce<.25*_*_){Xe=!0;break r}}for(x=0,Te=0,F[S]=0,ee=1;ee<=S;++ee)x=F[ee]-this.DOT_PRODUCT_ROW_COL(Y,-1,ie,ee,1,r),ee<S&&(Te=Math.max(Te,x));if(B=se[n][A]-Te,et=B>0?x/B:0,$<1.5*et){for($=2*et,u>=2&&console.log("Increase in PARMU to "+$),Ke=se[S][A]+$*se[n][A],ae=1;ae<=r;++ae)if(ce=se[S][ae]+$*se[n][ae],ce<Ke||ce===Ke&&$===0&&se[n][ae]<se[n][A])continue t}for(J=$*B-x,ee=1;ee<=r;++ee)a[ee]=z[ee][A]+Y[ee];Xe=!0;continue e}for(Be=!1,pe=se[S][A]+$*se[n][A],ve=b+$*w,De=pe-ve,$===0&&b===se[S][A]&&(J=B,De=se[n][A]-w),_e=De<=0?1:0,Ae=0,ae=1;ae<=r;++ae)ce=Math.abs(this.DOT_PRODUCT_ROW_COL(Z,ae,Y,-1,1,r)),ce>_e&&(Ae=ae,_e=ce),ue[ae]=ce*U[ae];for(Oe=y*_,de=0,ae=1;ae<=r;++ae)if(ue[ae]>=O||ue[ae]>=U[ae]){if(ce=H[ae],De>0){for(ce=0,ee=1;ee<=r;++ee)ce+=Math.pow(Y[ee]-z[ee][ae],2);ce=Math.sqrt(ce)}ce>Oe&&(de=ae,Oe=ce)}if(de>0&&(Ae=de),Ae!==0){for(ce=0,te=1;te<=r;++te)z[te][Ae]=Y[te],ce+=Z[Ae][te]*Y[te];for(ee=1;ee<=r;++ee)Z[Ae][ee]/=ce;for(ae=1;ae<=r;++ae)if(ae!==Ae)for(ce=this.DOT_PRODUCT_ROW_COL(Z,ae,Y,-1,1,r),ee=1;ee<=r;++ee)Z[ae][ee]-=ce*Z[Ae][ee];for(ee=1;ee<=n;++ee)se[ee][Ae]=F[ee];if(De>0&&De>=.1*J)continue t}}while(!qe);if(!M){Xe=!1;continue t}if(_<=l){h=this.Normal;break e}if(Ye=0,tt=0,_*=.5,_<=1.5*l&&(_=l),$>0){for(Ve=0,ee=1;ee<=S;++ee){for(Ye=se[ee][A],tt=Ye,te=1;te<=r;++te)Ye=Math.min(Ye,se[ee][te]),tt=Math.max(tt,se[ee][te]);ee<=s&&Ye<.5*tt&&(ce=Math.max(tt,0)-Ye,Ve=Ve<=0?ce:Math.min(Ve,ce))}Ve===0?$=0:tt-Ye<$*Ve&&($=(tt-Ye)/Ve)}u>=2&&console.log("Reduction in RHO to "+_+"  and PARMU = "+$),u===2&&this.PrintIterationResult(Me,se[S][A],se[n][A],this.COL(z,A),r,u)}while(qe)}while(qe);switch(h){case this.Normal:if(u>=1&&console.log("%nNormal return from subroutine COBYLA%n"),T)return u>=1&&this.PrintIterationResult(Me,b,w,a,r,u),h;break;case this.MaxIterationsReached:u>=1&&console.log("%nReturn from subroutine COBYLA because the MAXFUN limit has been reached.%n");break;case this.DivergingRoundingErrors:u>=1&&console.log("%nReturn from subroutine COBYLA because rounding errors are becoming damaging.%n");break}for(ee=1;ee<=r;++ee)a[ee]=z[ee][A];return b=se[S][A],w=se[n][A],u>=1&&this.PrintIterationResult(Me,b,w,a,r,u),h},trstlp:function(t,r,s,n,a,o){var l=0,u=0,f=0,c=this.arr2(1+t,1+t),h=this.arr(2+r),d=this.arr(2+r),p=this.arr(1+t),v=this.arr(1+t),y=this.arr(2+r),b=this.arr(2+r),w=r,x=0,A,S,_,$,M,T,O,B,J,F,z,Z,se,ie,U,H,ue,Y,K,te,ae,ee,de,ce,xe,Me,Ae,Xe,Be,Ze,nt,rt,it,me,be=!0;for(_=1;_<=t;++_)c[_][_]=1,o[_]=0;if(A=0,S=0,r>=1){for($=1;$<=r;++$)n[$]>S&&(S=n[$],A=$);for($=1;$<=r;++$)b[$]=$,d[$]=S-n[$]}M=!0;do e:do{(!M||M&&S===0)&&(w=r+1,A=w,b[w]=w,d[w]=0),M=!1,T=0,O=0,B=0,J=0;t:do{if(F=w===r?S:-this.DOT_PRODUCT_ROW_COL(o,-1,s,w,1,t),O===0||F<T?(T=F,u=x,O=3):x>u?(u=x,O=3):--O,O===0)break e;if(z=0,A<=x){if(A<x){Z=b[A],se=d[A],$=A;do{for(U=$+1,H=b[U],ue=this.DOT_PRODUCT(this.PART(this.COL(c,$),1,t),this.PART(this.COL(s,H),1,t)),l=Math.sqrt(ue*ue+h[U]*h[U]),Y=h[U]/l,K=ue/l,h[U]=Y*h[$],h[$]=l,_=1;_<=t;++_)l=Y*c[_][U]+K*c[_][$],c[_][U]=Y*c[_][$]-K*c[_][U],c[_][$]=l;b[$]=H,d[$]=d[U],$=U}while($<x);b[$]=Z,d[$]=se}if(--x,w>r)for(l=1/h[x],$=1;$<=t;++$)p[$]=l*c[$][x];else for(l=this.DOT_PRODUCT_ROW_COL(p,-1,c,x+1,1,t),$=1;$<=t;++$)p[$]-=l*c[$][x+1]}else{for(H=b[A],$=1;$<=t;++$)v[$]=s[$][H];for(te=0,$=t;$>x;){for(ue=0,ae=0,_=1;_<=t;++_)l=c[_][$]*v[_],ue+=l,ae+=Math.abs(l);if(ee=ae+.1*Math.abs(ue),de=ae+.2*Math.abs(ue),(ae>=ee||ee>=de)&&(ue=0),te===0)te=ue;else for(U=$+1,l=Math.sqrt(ue*ue+te*te),Y=ue/l,K=te/l,te=l,_=1;_<=t;++_)l=Y*c[_][$]+K*c[_][U],c[_][U]=Y*c[_][U]-K*c[_][$],c[_][$]=l;--$}if(te===0){z=-1,$=x;do{for(ce=0,xe=0,_=1;_<=t;++_)l=c[_][$]*v[_],ce+=l,xe+=Math.abs(l);if(ee=xe+.1*Math.abs(ce),de=xe+.2*Math.abs(ce),xe<ee&&ee<de){if(l=ce/h[$],l>0&&b[$]<=r&&(me=d[$]/l,(z<0||me<z)&&(z=me)),$>=2)for(Me=b[$],_=1;_<=t;++_)v[_]-=l*s[_][Me];y[$]=l}else y[$]=0}while(--$>0);if(z<0)break e;for($=1;$<=x;++$)d[$]=Math.max(0,d[$]-z*y[$]);if(A<x){Z=b[A],se=d[A],$=A;do{for(U=$+1,Me=b[U],ue=this.DOT_PRODUCT(this.PART(this.COL(c,$),1,t),this.PART(this.COL(s,Me),1,t)),l=Math.sqrt(ue*ue+h[U]*h[U]),Y=h[U]/l,K=ue/l,h[U]=Y*h[$],h[$]=l,_=1;_<=t;++_)l=Y*c[_][U]+K*c[_][$],c[_][U]=Y*c[_][$]-K*c[_][U],c[_][$]=l;b[$]=Me,d[$]=d[U],$=U}while($<x);b[$]=Z,d[$]=se}if(l=this.DOT_PRODUCT(this.PART(this.COL(c,x),1,t),this.PART(this.COL(s,H),1,t)),l===0)break e;h[x]=l,d[A]=0,d[x]=z}else++x,h[x]=te,d[A]=d[x],d[x]=0;if(b[A]=b[x],b[x]=H,w>r&&H!==w){for($=x-1,ue=this.DOT_PRODUCT(this.PART(this.COL(c,$),1,t),this.PART(this.COL(s,H),1,t)),l=Math.sqrt(ue*ue+h[x]*h[x]),Y=h[x]/l,K=ue/l,h[x]=Y*h[$],h[$]=l,_=1;_<=t;++_)l=Y*c[_][x]+K*c[_][$],c[_][x]=Y*c[_][$]-K*c[_][x],c[_][$]=l;b[x]=b[$],b[$]=H,l=d[$],d[$]=d[x],d[x]=l}if(w>r)for(l=1/h[x],$=1;$<=t;++$)p[$]=l*c[$][x];else for(H=b[x],l=(this.DOT_PRODUCT_ROW_COL(p,-1,s,H,1,t)-1)/h[x],$=1;$<=t;++$)p[$]-=l*c[$][x]}for(Ae=a*a,Be=0,Xe=0,_=1;_<=t;++_)Math.abs(o[_])>=1e-6*a&&(Ae-=o[_]*o[_]),Be+=o[_]*p[_],Xe+=p[_]*p[_];if(Ae<=0)break e;if(l=Math.sqrt(Xe*Ae),Math.abs(Be)>=1e-6*l&&(l=Math.sqrt(Xe*Ae+Be*Be)),J=Ae/(l+Be),B=J,w===r){if(ee=B+.1*S,de=B+.2*S,B>=ee||ee>=de)break t;B=Math.min(B,S)}for($=1;$<=t;++$)v[$]=o[$]+B*p[$];if(w===r)for(f=S,S=0,$=1;$<=x;++$)H=b[$],l=n[H]-this.DOT_PRODUCT_ROW_COL(v,-1,s,H,1,t),S=Math.max(S,l);$=x;do{for(Ze=0,nt=0,_=1;_<=t;++_)l=c[_][$]*v[_],Ze+=l,nt+=Math.abs(l);if(ee=nt+.1*Math.abs(Ze),de=nt+.2*Math.abs(Ze),(nt>=ee||ee>=de)&&(Ze=0),y[$]=Ze/h[$],$>=2)for(H=b[$],_=1;_<=t;++_)v[_]-=y[$]*s[_][H]}while($-->=2);for(w>r&&(y[x]=Math.max(0,y[x])),$=1;$<=t;++$)v[$]=o[$]+B*p[$];if(w>x)for(rt=x+1,$=rt;$<=w;++$){for(H=b[$],ie=S-n[H],it=S+Math.abs(n[H]),_=1;_<=t;++_)l=s[_][H]*v[_],ie+=l,it+=Math.abs(l);ee=it+.1*Math.abs(ie),de=it+.2*Math.abs(ie),(it>=ee||ee>=de)&&(ie=0),y[$]=ie}for(z=1,A=0,$=1;$<=w;++$)y[$]<0&&(l=d[$]/(d[$]-y[$]),l<z&&(z=l,A=$));for(l=1-z,$=1;$<=t;++$)o[$]=l*o[$]+z*v[$];for($=1;$<=w;++$)d[$]=Math.max(0,l*d[$]+z*y[$]);w===r&&(S=f+z*(S-f))}while(A>0);if(B===J)return!0}while(be);while(w===r);return!1},PrintIterationResult:function(t,r,s,n,a,o){o>1&&console.log("NFVALS = "+t+"  F = "+r+"  MAXCV = "+s),o>1&&console.log("X = "+this.PART(n,1,a))},ROW:function(t,r){return t[r].slice()},COL:function(t,r){var s,n=t.length,a=[];for(s=0;s<n;++s)a[s]=t[s][r];return a},PART:function(t,r,s){return t.slice(r,s+1)},FORMAT:function(t){return t.join(",")},DOT_PRODUCT:function(t,r){var s,n=0,a=t.length;for(s=0;s<a;++s)n+=t[s]*r[s];return n},DOT_PRODUCT_ROW_COL:function(t,r,s,n,a,o){var l,u=0;if(r===-1)for(l=a;l<=o;++l)u+=t[l]*s[l][n];else if(n===-1)for(l=a;l<=o;++l)u+=t[r][l]*s[l];else for(l=a;l<=o;++l)u+=t[r][l]*s[l][n];return u}};JXG$1.Math.Nlp;Mat.Statistics={sum:function(t){var r,s=t.length,n=0;for(r=0;r<s;r++)n+=t[r];return n},prod:function(t){var r,s=t.length,n=1;for(r=0;r<s;r++)n*=t[r];return n},mean:function(t){return t.length>0?this.sum(t)/t.length:0},median:function(t){var r,s;return t.length>0?(ArrayBuffer.isView(t)?(r=new Float64Array(t),r.sort()):(r=t.slice(0),r.sort(function(n,a){return n-a})),s=r.length,s&1?r[parseInt(s*.5,10)]:(r[s*.5-1]+r[s*.5])*.5):0},percentile:function(t,r){var s,n,a,o,l=[],u;if(t.length>0){for(ArrayBuffer.isView(t)?(s=new Float64Array(t),s.sort()):(s=t.slice(0),s.sort(function(f,c){return f-c})),n=s.length,JXG$1.isArray(r)?o=r:o=[r],a=0;a<o.length;a++)u=n*o[a]*.01,parseInt(u,10)===u?l.push((s[u-1]+s[u])*.5):l.push(s[parseInt(u,10)]);return JXG$1.isArray(r)?l:l[0]}return 0},variance:function(t){var r,s,n,a=t.length;if(a>1){for(r=this.mean(t),s=0,n=0;n<a;n++)s+=(t[n]-r)*(t[n]-r);return s/(t.length-1)}return 0},sd:function(t){return Math.sqrt(this.variance(t))},weightedMean:function(t,r){if(t.length!==r.length)throw new Error("JSXGraph error (Math.Statistics.weightedMean): Array dimension mismatch.");return t.length>0?this.mean(this.multiply(t,r)):0},max:function(t){return Math.max.apply(this,t)},min:function(t){return Math.min.apply(this,t)},range:function(t){return[this.min(t),this.max(t)]},abs:function(t){var r,s,n;if(JXG$1.isArray(t))if(t.map)n=t.map(Math.abs);else for(s=t.length,n=[],r=0;r<s;r++)n[r]=Math.abs(t[r]);else ArrayBuffer.isView(t)?n=t.map(Math.abs):n=Math.abs(t);return n},add:function(t,r){var s,n,a=[];if(t=JXG$1.evalSlider(t),r=JXG$1.evalSlider(r),JXG$1.isArray(t)&&JXG$1.isNumber(r))for(n=t.length,s=0;s<n;s++)a[s]=t[s]+r;else if(JXG$1.isNumber(t)&&JXG$1.isArray(r))for(n=r.length,s=0;s<n;s++)a[s]=t+r[s];else if(JXG$1.isArray(t)&&JXG$1.isArray(r))for(n=Math.min(t.length,r.length),s=0;s<n;s++)a[s]=t[s]+r[s];else a=t+r;return a},div:function(t,r){var s,n,a=[];if(t=JXG$1.evalSlider(t),r=JXG$1.evalSlider(r),JXG$1.isArray(t)&&JXG$1.isNumber(r))for(n=t.length,s=0;s<n;s++)a[s]=t[s]/r;else if(JXG$1.isNumber(t)&&JXG$1.isArray(r))for(n=r.length,s=0;s<n;s++)a[s]=t/r[s];else if(JXG$1.isArray(t)&&JXG$1.isArray(r))for(n=Math.min(t.length,r.length),s=0;s<n;s++)a[s]=t[s]/r[s];else a=t/r;return a},divide:function(){JXG$1.deprecated("Statistics.divide()","Statistics.div()"),Mat.Statistics.div.apply(Mat.Statistics,arguments)},mod:function(t,r,s){var n,a,o=[],l=function(u,f){return u%f};if(s=JXG$1.def(s,!1),s&&(l=Mat.mod),t=JXG$1.evalSlider(t),r=JXG$1.evalSlider(r),JXG$1.isArray(t)&&JXG$1.isNumber(r))for(a=t.length,n=0;n<a;n++)o[n]=l(t[n],r);else if(JXG$1.isNumber(t)&&JXG$1.isArray(r))for(a=r.length,n=0;n<a;n++)o[n]=l(t,r[n]);else if(JXG$1.isArray(t)&&JXG$1.isArray(r))for(a=Math.min(t.length,r.length),n=0;n<a;n++)o[n]=l(t[n],r[n]);else o=l(t,r);return o},multiply:function(t,r){var s,n,a=[];if(t=JXG$1.evalSlider(t),r=JXG$1.evalSlider(r),JXG$1.isArray(t)&&JXG$1.isNumber(r))for(n=t.length,s=0;s<n;s++)a[s]=t[s]*r;else if(JXG$1.isNumber(t)&&JXG$1.isArray(r))for(n=r.length,s=0;s<n;s++)a[s]=t*r[s];else if(JXG$1.isArray(t)&&JXG$1.isArray(r))for(n=Math.min(t.length,r.length),s=0;s<n;s++)a[s]=t[s]*r[s];else a=t*r;return a},subtract:function(t,r){var s,n,a=[];if(t=JXG$1.evalSlider(t),r=JXG$1.evalSlider(r),JXG$1.isArray(t)&&JXG$1.isNumber(r))for(n=t.length,s=0;s<n;s++)a[s]=t[s]-r;else if(JXG$1.isNumber(t)&&JXG$1.isArray(r))for(n=r.length,s=0;s<n;s++)a[s]=t-r[s];else if(JXG$1.isArray(t)&&JXG$1.isArray(r))for(n=Math.min(t.length,r.length),s=0;s<n;s++)a[s]=t[s]-r[s];else a=t-r;return a},TheilSenRegression:function(t){var r,s,n=[],a=[],o=[];for(r=0;r<t.length;r++){for(a.length=0,s=0;s<t.length;s++)Math.abs(t[s].usrCoords[1]-t[r].usrCoords[1])>Mat.eps&&(a[s]=(t[s].usrCoords[2]-t[r].usrCoords[2])/(t[s].usrCoords[1]-t[r].usrCoords[1]));n[r]=this.median(a),o.push(t[r].usrCoords[2]-n[r]*t[r].usrCoords[1])}return[this.median(o),this.median(n),-1]},generateGaussian:function(t,r){var s,n,a;if(this.hasSpare)return this.hasSpare=!1,this.spare*r+t;do s=Math.random()*2-1,n=Math.random()*2-1,a=s*s+n*n;while(a>=1||a===0);return a=Math.sqrt(-2*Math.log(a)/a),this.spare=n*a,this.hasSpare=!0,t+r*s*a}};const Statistics=Mat.Statistics;Mat.Plot={checkReal:function(t){var r=!1,s,n,a=t.length;for(s=0;s<a;s++)if(n=t[s].usrCoords,!isNaN(n[1])&&!isNaN(n[2])&&Math.abs(n[0])>Mat.eps){r=!0;break}return r},updateParametricCurveNaive:function(t,r,s,n){var a,o,l=!1,u=(s-r)/n;for(a=0;a<n;a++)o=r+a*u,t.points[a].setCoordinates(Const.COORDS_BY_USER,[t.X(o,l),t.Y(o,l)],!1),t.points[a]._t=o,l=!0;return t},isSegmentOutside:function(t,r,s,n,a){return r<0&&n<0||r>a.canvasHeight&&n>a.canvasHeight||t<0&&s<0||t>a.canvasWidth&&s>a.canvasWidth},isDistOK:function(t,r,s,n){return Math.abs(t)<s&&Math.abs(r)<n&&!isNaN(t+r)},isSegmentDefined:function(t,r,s,n){return!(isNaN(t+r)&&isNaN(s+n))},updateParametricCurveOld:function(t,r,s){var n,a,o,l,u,f,c,h,d,p,v,y,b=!1,w=new Coords(Const.COORDS_BY_USER,[0,0],t.board,!1),x=[],A=[],S=[],_=[],$=!1,M=0,T=function(O,B,J){var F,z,Z=J[1]-O[1],se=J[2]-O[2],ie=B[0]-O[1],U=B[1]-O[2],H=ie*ie+U*U;return H>=Mat.eps&&(F=(Z*ie+se*U)/H,F>0&&(F<=1?(Z-=F*ie,se-=F*U):(Z-=ie,se-=U))),z=Z*Z+se*se,Math.sqrt(z)};for(JXG$1.deprecated("Curve.updateParametricCurveOld()"),t.board.updateQuality===t.board.BOARD_QUALITY_LOW?(p=15,v=10,y=10):(p=21,v=.7,y=.7),_[0]=s-r,n=1;n<p;n++)_[n]=_[n-1]*.5;n=1,x[0]=1,A[0]=0,a=r,w.setCoordinates(Const.COORDS_BY_USER,[t.X(a,b),t.Y(a,b)],!1),b=!0,f=w.scrCoords[1],c=w.scrCoords[2],a=s,w.setCoordinates(Const.COORDS_BY_USER,[t.X(a,b),t.Y(a,b)],!1),l=w.scrCoords[1],u=w.scrCoords[2],S[0]=[l,u],h=1,d=0,t.points=[],t.points[M++]=new Coords(Const.COORDS_BY_SCREEN,[f,c],t.board,!1);do{for($=this.isDistOK(l-f,u-c,v,y)||this.isSegmentOutside(f,c,l,u,t.board);d<p&&(!$||d<6)&&(d<=7||this.isSegmentDefined(f,c,l,u));)x[h]=n,A[h]=d,S[h]=[l,u],h+=1,n=2*n-1,d++,a=r+n*_[d],w.setCoordinates(Const.COORDS_BY_USER,[t.X(a,b),t.Y(a,b)],!1,!0),l=w.scrCoords[1],u=w.scrCoords[2],$=this.isDistOK(l-f,u-c,v,y)||this.isSegmentOutside(f,c,l,u,t.board);M>1&&(o=T(t.points[M-2].scrCoords,[l,u],t.points[M-1].scrCoords),o<.015&&(M-=1)),t.points[M]=new Coords(Const.COORDS_BY_SCREEN,[l,u],t.board,!1),t.points[M]._t=a,M+=1,f=l,c=u,h-=1,l=S[h][0],u=S[h][1],d=A[h]+1,n=x[h]*2}while(h>0&&M<5e5);return t.numberPoints=t.points.length,t},_insertPoint_v2:function(t,r,s){var n=!isNaN(this._lastCrds[1]+this._lastCrds[2]),a=!isNaN(r.scrCoords[1]+r.scrCoords[2]),o=t.board.canvasWidth,l=t.board.canvasHeight,u=500;a=a&&r.scrCoords[1]>-u&&r.scrCoords[2]>-u&&r.scrCoords[1]<o+u&&r.scrCoords[2]<l+u,(!a&&n||a&&(!n||Math.abs(r.scrCoords[1]-this._lastCrds[1])>.7||Math.abs(r.scrCoords[2]-this._lastCrds[2])>.7))&&(r._t=s,t.points.push(r),this._lastCrds=r.copy("scrCoords"))},neighborhood_isNaN_v2:function(t,r){var s,n=new Coords(Const.COORDS_BY_USER,[0,0],t.board,!1),a,o;return a=r+Mat.eps,n.setCoordinates(Const.COORDS_BY_USER,[t.X(a,!0),t.Y(a,!0)],!1),o=n.usrCoords,s=isNaN(o[1]+o[2]),!(!s&&(a=r-Mat.eps,n.setCoordinates(Const.COORDS_BY_USER,[t.X(a,!0),t.Y(a,!0)],!1),o=n.usrCoords,s=isNaN(o[1]+o[2]),!s))},_borderCase:function(t,r,s,n,a,o,l,u){var f,c,h,d=null,p,v=30,y=!1,b,w,x;if(u<=1){if(c=new Coords(Const.COORDS_BY_USER,[0,0],t.board,!1),isNaN(r[1]+r[2])&&!isNaN(n[1]+n[2])&&!this.neighborhood_isNaN_v2(t,a)||isNaN(s[1]+s[2])&&!isNaN(n[1]+n[2])&&!this.neighborhood_isNaN_v2(t,o)||isNaN(n[1]+n[2])&&(!isNaN(r[1]+r[2])||!isNaN(s[1]+s[2]))&&!this.neighborhood_isNaN_v2(t,l))return!1;p=0;do{if(isNaN(r[1]+r[2])&&!isNaN(n[1]+n[2]))b=a,w=l,x=o;else if(isNaN(s[1]+s[2])&&!isNaN(n[1]+n[2]))b=o,w=l,x=a;else if(isNaN(n[1]+n[2])&&!isNaN(s[1]+s[2]))b=l,w=o,x=o+(o-l);else if(isNaN(n[1]+n[2])&&!isNaN(r[1]+r[2]))b=l,w=a,x=a-(l-a);else return!1;f=.5*(b+w),c.setCoordinates(Const.COORDS_BY_USER,[t.X(f,!0),t.Y(f,!0)],!1),h=c.usrCoords,y=isNaN(h[1]+h[2]),y?b=f:(x=w,w=f),++p}while(y&&p<v);if(p<v&&(d=h.slice(),n=h.slice(),w=f),t.X(w,!0),t.X(x,!0),t.Y(w,!0),t.Y(x,!0),d!==null)return this._insertPoint_v2(t,new Coords(Const.COORDS_BY_USER,d,t.board,!1)),!0}return!1},_plotRecursive_v2:function(t,r,s,n,a,o,l){var u,f,c,h=0,d,p,v,y=.5,b=.99,w=new Coords(Const.COORDS_BY_USER,[0,0],t.board,!1);if(!(t.numberPoints>65536))return o<this.nanLevel&&this._isUndefined(t,r,s,n,a)?this:o<this.nanLevel&&this._isOutside(r,s,n,a,t.board)?this:(u=(s+a)*.5,w.setCoordinates(Const.COORDS_BY_USER,[t.X(u,!0),t.Y(u,!0)],!1),f=w.scrCoords,this._borderCase(t,r,n,f,s,a,u,o)?this:(c=this._triangleDists(r,n,f),d=o<this.smoothLevel&&c[3]<l,p=o<this.jumpLevel&&(c[2]>b*c[0]||c[1]>b*c[0]||c[0]===1/0||c[1]===1/0||c[2]===1/0),v=o<this.smoothLevel+2&&c[0]<y*(c[1]+c[2]),v&&(h=0,d=!1),--o,p?this._insertPoint_v2(t,new Coords(Const.COORDS_BY_SCREEN,[NaN,NaN],t.board,!1),u):o<=h||d?this._insertPoint_v2(t,w,u):(this._plotRecursive_v2(t,r,s,f,u,o,l),isNaN(w.scrCoords[1]+w.scrCoords[2])||this._insertPoint_v2(t,w,u),this._plotRecursive_v2(t,f,u,n,a,o,l)),this))},updateParametricCurve_v2:function(t,r,s){var n,a,o,l,u=!1,f=new Coords(Const.COORDS_BY_USER,[0,0],t.board,!1),c=new Coords(Const.COORDS_BY_USER,[0,0],t.board,!1),h,d,p,v,y;return t.board.updateQuality===t.board.BOARD_QUALITY_LOW?(h=JXG$1.evaluate(t.visProp.recursiondepthlow)||13,d=2,this.smoothLevel=h-6,this.jumpLevel=3):(h=JXG$1.evaluate(t.visProp.recursiondepthhigh)||17,d=2,this.smoothLevel=h-9,this.jumpLevel=2),this.nanLevel=h-4,t.points=[],this.xterm==="x"?(v=t.board.getBoundingBox(),p=(v[2]-v[0])*.3,(v[1]-v[3])*.3,n=Math.max(r,v[0]-p),a=Math.min(s,v[2]+p)):(n=r,a=s),f.setCoordinates(Const.COORDS_BY_USER,[t.X(n,u),t.Y(n,u)],!1),u=!0,c.setCoordinates(Const.COORDS_BY_USER,[t.X(a,u),t.Y(a,u)],!1),y=this._findStartPoint(t,f.scrCoords,n,c.scrCoords,a),f.setCoordinates(Const.COORDS_BY_SCREEN,y[0],!1),n=y[1],y=this._findStartPoint(t,c.scrCoords,a,f.scrCoords,n),c.setCoordinates(Const.COORDS_BY_SCREEN,y[0],!1),a=y[1],this._visibleArea=[n,a],o=f.copy("scrCoords"),l=c.copy("scrCoords"),f._t=n,t.points.push(f),this._lastCrds=f.copy("scrCoords"),this._plotRecursive_v2(t,o,n,l,a,h,d),c._t=a,t.points.push(c),t.numberPoints=t.points.length,t},_insertLimesPoint:function(t,r,s,n,a){var o,l,u;Math.abs(this._lastUsrCrds[1])===1/0&&Math.abs(a.left_x)===1/0||Math.abs(this._lastUsrCrds[2])===1/0&&Math.abs(a.left_y)===1/0||(o=new Coords(Const.COORDS_BY_USER,[a.left_x,a.left_y],t.board),o._t=s,t.points.push(o),!isNaN(a.left_x)&&!isNaN(a.left_y)&&!isNaN(a.right_x)&&!isNaN(a.right_y)&&(Math.abs(a.left_x-a.right_x)>Mat.eps||Math.abs(a.left_y-a.right_y)>Mat.eps)&&(l=new Coords(Const.COORDS_BY_SCREEN,r,t.board),l._t=s,t.points.push(l)),u=new Coords(Const.COORDS_BY_USER,[a.right_x,a.right_y],t.board),u._t=s,t.points.push(u),this._lastScrCrds=u.copy("scrCoords"),this._lastUsrCrds=u.copy("usrCoords"))},_insertPoint:function(t,r,s,n,a){var o=!isNaN(this._lastScrCrds[1]+this._lastScrCrds[2]),l=!isNaN(r[1]+r[2]),u=t.board.canvasWidth,f=t.board.canvasHeight,c,h=.8,d=500;if(JXG$1.exists(a)){this._insertLimesPoint(t,r,s,n,a);return}l=l&&r[1]>-d&&r[2]>-d&&r[1]<u+d&&r[2]<f+d,!(!o&&!l)&&(l&&o&&Math.abs(r[1]-this._lastScrCrds[1])<h&&Math.abs(r[2]-this._lastScrCrds[2])<h||Math.abs(r[1])===1/0&&Math.abs(this._lastUsrCrds[1])===1/0||Math.abs(r[2])===1/0&&Math.abs(this._lastUsrCrds[2])===1/0||(c=new Coords(Const.COORDS_BY_SCREEN,r,t.board),c._t=s,t.points.push(c),this._lastScrCrds=c.copy("scrCoords"),this._lastUsrCrds=c.copy("usrCoords")))},_triangleDists:function(t,r,s){var n,a,o,l,u;return n=[t[0]*r[0],(t[1]+r[1])*.5,(t[2]+r[2])*.5],a=Geometry.distance(t,r,3),o=Geometry.distance(t,s,3),l=Geometry.distance(s,r,3),u=Geometry.distance(s,n,3),[a,o,l,u]},_isUndefined:function(t,r,s,n,a){var o,l,u;if(!isNaN(r[1]+r[2])||!isNaN(n[1]+n[2]))return!1;for(u=new Coords(Const.COORDS_BY_USER,[0,0],t.board,!1),l=0;l<20;++l)if(o=s+Math.random()*(a-s),u.setCoordinates(Const.COORDS_BY_USER,[t.X(o,!0),t.Y(o,!0)],!1),!isNaN(u.scrCoords[0]+u.scrCoords[1]+u.scrCoords[2]))return!1;return!0},_isOutside:function(t,r,s,n,a){var o=500,l=a.canvasWidth,u=a.canvasHeight;return t[1]<-o&&s[1]<-o||t[2]<-o&&s[2]<-o||t[1]>l+o&&s[1]>l+o||t[2]>u+o&&s[2]>u+o},_isOutsidePoint:function(t,r){var s=500,n=r.canvasWidth,a=r.canvasHeight;return t[1]<-s||t[2]<-s||t[1]>n+s||t[2]>a+s},_findStartPoint:function(t,r,s,n,a){return[r,s]},_getBorderPos:function(t,r,s,n,a,o,l){var u,f,c,h,d=30,p=!1,v,y;if(f=new Coords(Const.COORDS_BY_USER,[0,0],t.board,!1),h=0,isNaN(s[1]+s[2])&&!isNaN(a[1]+a[2]))y=r,v=n;else if(isNaN(l[1]+l[2])&&!isNaN(a[1]+a[2]))y=o,v=n;else if(isNaN(a[1]+a[2])&&!isNaN(l[1]+l[2]))y=n,v=o;else if(isNaN(a[1]+a[2])&&!isNaN(s[1]+s[2]))y=n,v=r;else return!1;do u=.5*(v+y),f.setCoordinates(Const.COORDS_BY_USER,[t.X(u,!0),t.Y(u,!0)],!1),c=f.usrCoords,p=isNaN(c[1]+c[2]),p?y=u:v=u,++h;while(h<d&&Math.abs(v-y)>Mat.eps);return u},_getCuspPos:function(t,r,s){var n=[t.X(r,!0),t.Y(r,!0)],a=[t.X(s,!0),t.Y(s,!0)],o=function(l){var u=[t.X(l,!0),t.Y(l,!0)];return-(Math.sqrt((n[0]-u[0])*(n[0]-u[0])+(n[1]-u[1])*(n[1]-u[1]))+Math.sqrt((a[0]-u[0])*(a[0]-u[0])+(a[1]-u[1])*(a[1]-u[1])))};return Numerics.fminbr(o,[r,s],t)},_getJumpPos:function(t,r,s){var n=function(a){var o=Mat.eps*Mat.eps,l=[t.X(a,!0),t.Y(a,!0)],u=[t.X(a+o,!0),t.Y(a+o,!0)];return-Math.abs((u[1]-l[1])/(u[0]-l[0]))};return Numerics.fminbr(n,[r,s],t)},_getLimits:function(t,r){var s,n=2/(t.maxX()-t.minX()),a,o,l,u;return s=Extrapolate.limit(r,-n,t.X),a=s[0],s[1]==="infinite"&&(a=Math.sign(a)*(1/0)),s=Extrapolate.limit(r,-n,t.Y),l=s[0],s[1]==="infinite"&&(l=Math.sign(l)*(1/0)),s=Extrapolate.limit(r,n,t.X),o=s[0],s[1]==="infinite"&&(o=Math.sign(o)*(1/0)),s=Extrapolate.limit(r,n,t.Y),u=s[0],s[1]==="infinite"&&(u=Math.sign(u)*(1/0)),{left_x:a,left_y:l,right_x:o,right_y:u,t:r}},_getLimes:function(t,r,s,n,a,o,l,u,f){var c;return u==="border"?c=this._getBorderPos(t,r,s,n,a,o,l):u==="cusp"?c=this._getCuspPos(t,r,o):u==="jump"&&(c=this._getJumpPos(t,r,o)),this._getLimits(t,c)},_plotNonRecursive:function(t,r,s,n,a,o){var l,u,f,c=0,h=null,d,p,v=!1,y="",b,w,x,A,S,_=[],$=0,M;for(x=t.board.origin.scrCoords,_[$++]=[r,s,n,a,o,1/0];$>0;){if(M=_[--$],r=M[0],s=M[1],n=M[2],a=M[3],A=M[4],S=M[5],v=!1,y="",h=null,t.points.length>65536)return;A<this.nanLevel&&(this._isUndefined(t,r,s,n,a)||this._isOutside(r,s,n,a,t.board))||(l=(s+a)*.5,b=t.X(l,!0),w=t.Y(l,!0),u=[1,x[1]+b*t.board.unitX,x[2]-w*t.board.unitY],f=this._triangleDists(r,n,u),d=isNaN(r[1]+r[2]),p=isNaN(n[1]+n[2]),d&&!p||!d&&p?y="border":f[0]>.66*S||f[0]<this.cusp_threshold*(f[1]+f[2])||f[1]>5*f[2]||f[2]>5*f[1]?y="cusp":(f[2]>this.jump_threshold*f[0]||f[1]>this.jump_threshold*f[0]||f[0]===1/0||f[1]===1/0||f[2]===1/0)&&(y="jump"),v=y===""&&A<this.smoothLevel&&f[3]<this.smooth_threshold,A<this.testLevel&&!v&&(y===""?v=!0:h=this._getLimes(t,s,r,l,u,a,n,y,A)),h!==null?(u=[1,NaN,NaN],this._insertPoint(t,u,l,A,h)):A<=c||v?this._insertPoint(t,u,l,A,null):(_[$++]=[u,l,n,a,A-1,f[0]],_[$++]=[r,s,u,l,A-1,f[0]]))}return this},updateParametricCurve_v3:function(t,r,s){var n,a,o,l,u=!1,f=new Coords(Const.COORDS_BY_USER,[0,0],t.board,!1),c=new Coords(Const.COORDS_BY_USER,[0,0],t.board,!1),h,d,p,v;return t.board.updateQuality===t.board.BOARD_QUALITY_LOW?h=JXG$1.evaluate(t.visProp.recursiondepthlow)||14:h=JXG$1.evaluate(t.visProp.recursiondepthhigh)||17,this.smoothLevel=7,this.nanLevel=h-4,this.testLevel=4,this.cusp_threshold=.5,this.jump_threshold=.99,this.smooth_threshold=2,t.points=[],t.xterm==="x"?(p=t.board.getBoundingBox(),d=(p[2]-p[0])*.3,n=Math.max(r,p[0]-d),a=Math.min(s,p[2]+d)):(n=r,a=s),f.setCoordinates(Const.COORDS_BY_USER,[t.X(n,u),t.Y(n,u)],!1),u=!0,c.setCoordinates(Const.COORDS_BY_USER,[t.X(a,u),t.Y(a,u)],!1),v=this._findStartPoint(t,f.scrCoords,n,c.scrCoords,a),f.setCoordinates(Const.COORDS_BY_SCREEN,v[0],!1),n=v[1],v=this._findStartPoint(t,c.scrCoords,a,f.scrCoords,n),c.setCoordinates(Const.COORDS_BY_SCREEN,v[0],!1),a=v[1],this._visibleArea=[n,a],o=f.copy("scrCoords"),l=c.copy("scrCoords"),f._t=n,t.points.push(f),this._lastScrCrds=f.copy("scrCoords"),this._lastUsrCrds=f.copy("usrCoords"),this._plotNonRecursive(t,o,n,l,a,h),c._t=a,t.points.push(c),t.numberPoints=t.points.length,t},_criticalInterval:function(t,r,s){var n,a,o,l,u,f,c=!1,h,d=-1/0,p=!1,v=!1,y=0,b=[],w=[],x=[];for(h=Statistics.abs(t),l=Statistics.median(h),l<1e-7?(l=1e-7,p=!0):l*=this.criticalThreshold,n=0;n<r;n++)h[n]>l?(x.push({i:n,v:t[n],group:y}),d=n,c||(c=!0)):c&&n>d+4&&(x.length>0&&b.push(x.slice(0)),x=[],c=!1,y++);for(c&&x.length>1&&b.push(x.slice(0)),p&&b.length===0&&(v=!0),a=0;a<b.length;a++)if(w[a]="point",o=b[a].length,!(o<64)){for(f=0,u=Math.sign(b[a][0].v),n=1;n<o;n++)Math.sign(b[a][n].v)!==u&&(f++,u=Math.sign(b[a][n].v));f*6>o&&(w[a]="interval")}return{smooth:v,groups:b,types:w}},Component:function(){this.left_isNaN=!1,this.right_isNaN=!1,this.left_t=null,this.right_t=null,this.t_values=[],this.x_values=[],this.y_values=[],this.len=0},findComponents:function(t,r,s,n){var a,o,l,u,f,c=[],h,d=0,p=0,v=0,y=!1,b=!1;for(l=(s-r)/n,c[d]=new this.Component,h=c[d],a=0,o=r;a<=n;a++,o+=l)u=t.X(o,b),f=t.Y(o,b),isNaN(u)||isNaN(f)?(v++,v>1&&y&&(h.right_isNaN=!0,h.right_t=o-l,h.len=p,y=!1,d++,c[d]=new this.Component,h=c[d],v=0)):(y||(y=!0,p=0,v>0&&(h.left_t=o-l,h.left_isNaN=!0)),v=0,h.t_values[p]=o,h.x_values[p]=u,h.y_values[p]=f,p++),a===0&&(b=!0);return y?h.len=p:c.pop(),c},getPointType:function(t,r,s,n,a,o,l){var u=a[0],f=o[0],c=n.length,h={idx:r,t:s,x:u[r],y:f[r],type:"other"};return r<5?(h.type="borderleft",h.idx=0,h.t=n[0],h.x=u[0],h.y=f[0],h):(r>l-6&&(h.type="borderright",h.idx=c-1,h.t=n[c-1],h.x=u[c-1],h.y=f[c-1]),h)},newtonApprox:function(t,r,s,n,a){var o,l=0;for(o=n;o>0;o--)l=(l+a[o][t])*(r-(o-1)*s)/o;return l+a[0][t]},thiele:function(t,r,s,n,a){var o,l=0;for(o=a;o>1;o--)l=(t-s[n+o])/(r[o][n+1]-r[o-2][n+1]+l);return r[0][n+1]+(t-s[n+1])/(r[1][n+1]+l)},differenceMethodExperiments:function(t,r){var s,n,a,o,l=t.t_values,u=t.x_values,f=t.y_values,c=[],h=[],d=[],p=[],v=[],y=[],b=[],w=[],x,A,S=0,_,$,M,T,O,B=[];for(x=l[1]-l[0],v.push([]),y.push([]),b.push([]),w.push([]),a=f.length,s=0;s<a;s++)v[0][s]=u[s],y[0][s]=f[s],b[0][s]=u[s],w[0][s]=f[s];for(v.push([]),y.push([]),b.push([]),w.push([]),A=x,a=f.length-1,s=0;s<a;s++)c[s]=u[s+1]-u[s],h[s]=f[s+1]-f[s],d[s]=c[s],p[s]=h[s],v[1][s]=c[s],y[1][s]=h[s],b[1][s]=A/c[s],w[1][s]=A/h[s];for(a--,o=Math.min(8,f.length-1),n=1;n<o;n++){for(v.push([]),y.push([]),b.push([]),w.push([]),A*=x,s=0;s<a;s++)c[s]=c[s+1]-c[s],h[s]=h[s+1]-h[s],v[n+1][s]=c[s],y[n+1][s]=h[s],b[n+1][s]=A/(b[n][s+1]-b[n][s])+b[n-1][s+1],w[n+1][s]=A/(w[n][s+1]-w[n][s])+w[n-1][s+1];if(O=this._criticalPoints(h,a,n),O===!1){console.log("Polynomial of degree",n),O=[];break}if(O.length>0&&(S++,S>1&&n%2===0))break;a--}for(s=0;s<O.length;s++){for($=-1/0,M=0;M<O[s].length;M++)T=Math.abs(O[s][M].v),T>$&&($=T,_=M);_=Math.floor(O[s][_].i+n/2),B.push(this.getPointType(r,_,l,u,f,d,p,a+1))}return[B,v,y,b,w]},getCenterOfCriticalInterval:function(t,r,s){var n,a,o,l,u=0,f=0,c=s[1]-s[0],h,d=[];for(n=-1/0,d=[],a=0;a<t.length;a++)l=Math.abs(t[a].v),l>n?(d=[a],n=l,o=a):n===l&&d.push(a);if(d.length>0&&(h=d.reduce(function(p,v){return p+v},0)/d.length,o=Math.floor(h),h+=t[0].i),n<1/0){for(a=0;a<t.length;a++)u+=Math.abs(t[a].v)*t[a].i,f+=Math.abs(t[a].v);h=u/f}return h+=r/2,[t[o].i+r/2,h,s[Math.floor(h)]+c*(h-Math.floor(h))]},differenceMethod:function(t,r){var s,n,a,o,l=t.t_values,u=t.x_values,f=t.y_values,c=[],h=[],d=0,p=-1,v=-1,y,b,w,x,A,S=[],_,$=[];for(a=f.length,c.push(new Float64Array(u)),h.push(new Float64Array(f)),a--,o=Math.min(12,a),n=0;n<o&&(c.push(new Float64Array(a)),h.push(new Float64Array(a)),c[n+1]=c[n].map(function(M,T,O){return O[T+1]-M}),h[n+1]=h[n].map(function(M,T,O){return O[T+1]-M}),x=this._criticalInterval(h[n+1],a,n),x.smooth===!0&&(v=n,S=[]),w=this._criticalInterval(c[n+1],a,n),p===-1&&w.smooth===!0&&(p=n),!(v>=0));n++){if(x.groups.length>0&&(d++,d>2&&(n+1)%2===0)){S=x.groups,_=x.types;break}a--}for(s=0;s<S.length;s++)_[s]!=="interval"&&(b=this.getCenterOfCriticalInterval(S[s],n+1,l),y=x[0],y=Math.floor(b[1]),A=b[2],$.push(this.getPointType(r,y,A,l,c,h,a+1)));return[$,c,h,p,v]},_insertPoint_v4:function(t,r,s,n){var a,o=null,l,u,f=.8;t.points.length>0&&(o=t.points[t.points.length-1].scrCoords),a=new Coords(Const.COORDS_BY_USER,r,t.board),!(o!==null&&(l=a.scrCoords[1]-o[1],u=a.scrCoords[2]-o[2],l*l+u*u<f*f))&&(a._t=s,t.points.push(a))},getInterval:function(t,r,s){var n,a;return Interval.disable(),n=Interval.Interval(r,s),t.board.mathLib=Interval,t.board.mathLibJXG=Interval,t.X(n,!0),a=t.Y(n,!0),t.board.mathLib=Math,t.board.mathLibJXG=JXG$1.Math,a},sign:function(t){return t<0?-1:t>0?1:0},handleBorder:function(t,r,s,n,a){var o=s.idx,l,u,f,c=32,h,d,p,v,y,b,w,x,A;if(A=r.t_values[1]-r.t_values[0],s.type==="borderleft"?(l=r.left_isNaN?r.left_t:s.t-A,u=l,f=u+A):s.type==="borderright"?(l=r.right_isNaN?r.right_t:s.t+A,f=l,u=f-A):console.log("No bordercase!!!"),w=this.findComponents(t,u,f,c),w.length!==0){for(s.type==="borderleft"&&(u=w[0].left_t,f=w[0].t_values[0],A=w[0].t_values[1]-w[0].t_values[0],u=u===null?f-A:u,l=u,h=this.getInterval(t,u,f),JXG$1.isObject(h)&&(v=h.lo,y=h.hi,d=t.X(l,!0),p=a[1][o]<0?y:v,this._insertPoint_v4(t,[1,d,p],l))),x=w[0].t_values.length,b=0;b<x;b++)l=w[0].t_values[b],d=w[0].x_values[b],p=w[0].y_values[b],this._insertPoint_v4(t,[1,d,p],l);s.type==="borderright"&&(u=w[0].t_values[x-1],f=w[0].right_t,A=w[0].t_values[1]-w[0].t_values[0],f=f===null?u+A:f,l=f,h=this.getInterval(t,u,f),JXG$1.isObject(h)&&(v=h.lo,y=h.hi,d=t.X(l,!0),p=a[1][o]>0?y:v,this._insertPoint_v4(t,[1,d,p],l)))}},_seconditeration_v4:function(t,r,s,n,a){var o,l,u,f,c,h,d,p,v,y,b,w,x;for(l=r.t_values[s.idx-2],u=r.t_values[s.idx+2],c=this.findComponents(t,l,u,64),d=0;d<c.length;d++){for(h=c[d],f=this.differenceMethod(h,t),p=f[0],y=f[1],b=f[2],w=0,v=0;v<=p.length;v++){for(v===p.length?x=h.len:x=p[v].idx,o=w;o<x;o++)!isNaN(h.x_values[o])&&!isNaN(h.y_values[o])&&this._insertPoint_v4(t,[1,h.x_values[o],h.y_values[o]],h.t_values[o]);v<p.length&&(this.handleSingularity(t,h,p[v],y,b),w=p[v].idx+1)}x=h.len,d<c.length-1&&this._insertPoint_v4(t,[1,NaN,NaN],h.right_t)}return this},_recurse_v4:function(t,r,s,n,a,o,l,u){var f=2,c=(r+s)*.5,h=t.X(c,!0),d=t.Y(c,!0),p,v;if(u===0){this._insertPoint_v4(t,[1,NaN,NaN],c);return}p=(h-n)*t.board.unitX,v=(d-a)*t.board.unitY,Math.sqrt(p*p+v*v)>f?this._recurse_v4(t,r,c,n,a,h,d,u-1):this._insertPoint_v4(t,[1,h,d],c),p=(h-o)*t.board.unitX,v=(d-l)*t.board.unitY,Math.sqrt(p*p+v*v)>f?this._recurse_v4(t,c,s,h,d,o,l,u-1):this._insertPoint_v4(t,[1,h,d],c)},handleSingularity:function(t,r,s,n,a){var o=s.idx,l,u,f,c,h,d,p,v,y,b,w,x=100,A=5,S=3;l=s.t,console.log("HandleSingularity at t =",l),u=r.t_values[o-A],f=r.t_values[o+A],c=this.getInterval(t,u,f),JXG$1.isObject(c)?(v=c.lo,y=c.hi):a[0][o-1]<a[0][o+1]?(v=a[0][o-1],y=a[0][o+1]):(v=a[0][o+1],y=a[0][o-1]),p=t.X(l,!0),b=(a[0][o-S]-a[0][o-A])/(r.t_values[o-S]-r.t_values[o-A]),w=(a[0][o+S]-a[0][o+A])/(r.t_values[o+S]-r.t_values[o+A]),console.log(":::",b,w),b<-x?(this._insertPoint_v4(t,[1,p,v],l,!0),w<=x&&this._insertPoint_v4(t,[1,NaN,NaN],l)):b>x?(this._insertPoint_v4(t,[1,p,y],l),w>=-x&&this._insertPoint_v4(t,[1,NaN,NaN],l)):(v===-1/0&&(this._insertPoint_v4(t,[1,p,v],l,!0),this._insertPoint_v4(t,[1,NaN,NaN],l)),y===1/0&&(this._insertPoint_v4(t,[1,NaN,NaN],l),this._insertPoint_v4(t,[1,p,y],l,!0)),s.t<r.t_values[o]?(h=o-1,d=o):(h=o,d=o+1),u=r.t_values[h],f=r.t_values[d],this._recurse_v4(t,u,f,n[0][h],a[0][h],n[0][d],a[0][d],10)),w<-x?this._insertPoint_v4(t,[1,p,y],l):w>x&&this._insertPoint_v4(t,[1,p,v],l)},steps:1021,criticalThreshold:1e3,plot_v4:function(t,r,s,n){var a,o,l,u,f,c,h,d,p,v,y,b,w,x,A,S=(s-r)/n,_=function(T){return t.Y(T,!0)},$=function(T){return-t.Y(T,!0)},M=S*.5;for(l=this.findComponents(t,r,s,n),u=0;u<l.length;u++){for(f=l[u],p=this.differenceMethod(f,t),c=p[0],v=p[1],y=p[2],p[3],p[4],(c.length===0||c[0].type!=="borderleft")&&c.unshift({idx:0,t:f.t_values[0],x:f.x_values[0],y:f.y_values[0],type:"borderleft"}),c[c.length-1].type!=="borderright"&&(o=f.t_values.length,c.push({idx:o-1,t:f.t_values[o-1],x:f.x_values[o-1],y:f.y_values[o-1],type:"borderright"})),d=0,h=0;h<=c.length;h++){for(h===c.length?o=f.len:o=c[h].idx-1,a=d;a<o-2;a++)this._insertPoint_v4(t,[1,f.x_values[a],f.y_values[a]],f.t_values[a]),a>=d+3&&a<o-3&&y.length>3&&Math.abs(y[2][a])>.2*Math.abs(y[0][a])&&(b=f.t_values[a],M=S*.25,A=this.getInterval(t,b,b+S),JXG$1.isObject(A)?y[2][a]>0?this._insertPoint_v4(t,[1,b+M,A.lo],b+M):this._insertPoint_v4(t,[1,b+S-M,A.hi],b+S-M):(w=Numerics.fminbr(_,[b,b+S]),x=Numerics.fminbr($,[b,b+S]),w<x?(this._insertPoint_v4(t,[1,t.X(w,!0),t.Y(w,!0)],w),this._insertPoint_v4(t,[1,t.X(x,!0),t.Y(x,!0)],x)):(this._insertPoint_v4(t,[1,t.X(x,!0),t.Y(x,!0)],x),this._insertPoint_v4(t,[1,t.X(w,!0),t.Y(w,!0)],w))));h<c.length&&(a=c[h].idx,c[h].type==="borderleft"||c[h].type==="borderright"?this.handleBorder(t,f,c[h],v,y):this._seconditeration_v4(t,f,c[h],v,y),d=c[h].idx+1+1)}o=f.len,u<l.length-1&&this._insertPoint_v4(t,[1,NaN,NaN],f.right_t)}},updateParametricCurve_v4:function(t,r,s){var n,a,o,l;t.xterm==="x"?(l=t.board.getBoundingBox(),o=(l[2]-l[0])*.3,n=Math.max(r,l[0]-o),a=Math.min(s,l[2]+o)):(n=r,a=s),t.points=[],this.plot_v4(t,n,a,this.steps),t.numberPoints=t.points.length},updateParametricCurve:function(t,r,s){return this.updateParametricCurve_v2(t,r,s)}};const Plot=Mat.Plot;Mat.Metapost={MP_ENDPOINT:0,MP_EXPLICIT:1,MP_GIVEN:2,MP_CURL:3,MP_OPEN:4,MP_END_CYCLE:5,UNITY:1,FRACTION_ONE:1,FRACTION_THREE:3,ONE_EIGHTY_DEG:Math.PI,THREE_SIXTY_DEG:2*Math.PI,EPS_SQ:1e-5*1e-5,make_choices:function(t){var r,s,n,a,o,l,u,f,c,h,d,p,v,y,b,w=!0;u=t[0];do{if(!u)break;l=u.next,u.rtype>this.MP_EXPLICIT&&(u.x-l.x)*(u.x-l.x)+(u.y-l.y)*(u.y-l.y)<this.EPS_SQ&&(u.rtype=this.MP_EXPLICIT,u.ltype===this.MP_OPEN&&(u.ltype=this.MP_CURL,u.set_left_curl(this.UNITY)),l.ltype=this.MP_EXPLICIT,l.rtype===this.MP_OPEN&&(l.rtype=this.MP_CURL,l.set_right_curl(this.UNITY)),u.rx=u.x,l.lx=u.x,u.ry=u.y,l.ly=u.y),u=l}while(u!==t[0]);for(s=t[0];w&&!(s.ltype!==this.MP_OPEN||s.rtype!==this.MP_OPEN);)if(s=s.next,s===t[0]){s.ltype=this.MP_END_CYCLE;break}for(u=s;w&&u;){if(l=u.next,u.rtype>=this.MP_GIVEN){for(;l.ltype===this.MP_OPEN&&l.rtype===this.MP_OPEN;)l=l.next;for(n=0,f=u,o=t.length,p=[],v=[],y=[],b=[null];w&&(h=f.next,p.push(h.x-f.x),v.push(h.y-f.y),y.push(this.mp_pyth_add(p[n],v[n])),n>0&&(d=v[n-1]/y[n-1],c=p[n-1]/y[n-1],b.push(Math.atan2(v[n]*c-p[n]*d,p[n]*c+v[n]*d))),n++,f=h,f===l&&(o=n),!(n>=o&&f.ltype!==this.MP_END_CYCLE)););n===o?b.push(0):b.push(b[1]),l.ltype===this.MP_OPEN&&(a=l.rx-l.x,r=l.ry-l.y,a*a+r*r<this.EPS_SQ?(l.ltype=this.MP_CURL,l.set_left_curl(this.UNITY)):(l.ltype=this.MP_GIVEN,l.set_left_given(Math.atan2(r,a)))),u.rtype===this.MP_OPEN&&u.ltype===this.MP_EXPLICIT&&(a=u.x-u.lx,r=u.y-u.ly,a*a+r*r<this.EPS_SQ?(u.rtype=this.MP_CURL,u.set_right_curl(this.UNITY)):(u.rtype=this.MP_GIVEN,u.set_right_given(Math.atan2(r,a)))),this.mp_solve_choices(u,l,o,p,v,y,b)}else u.rtype===this.MP_ENDPOINT&&(u.rx=u.x,u.ry=u.y,l.lx=l.x,l.ly=l.y);if(u=l,u===s)break}},mp_solve_choices:function(t,r,s,n,a,o,l){var u,f,c,h,d,p,v,y,b,w,x,A,S,_,$,M,T,O,B,J,F,z,Z,se,ie,U,H=!0;for(d=o.length+1,w=new Array(d),b=new Array(d),c=new Array(d),$=new Array(d),ie=0;ie<d;ie++)$[ie]=c[ie]=b[ie]=w[ie]=0;for(v=0,y=t,A=0;H;){if(S=y.next,v===0)if(y.rtype===this.MP_GIVEN){if(S.ltype===this.MP_GIVEN){u=Math.atan2(a[0],n[0]),B=this.mp_n_sin_cos(t.right_given()-u),J=B[0],F=B[1],z=this.mp_n_sin_cos(r.left_given()-u),Z=z[0],se=z[1],this.mp_set_controls(t,r,n[0],a[0],F,J,-se,Z);return}c[0]=y.right_given()-Math.atan2(a[0],n[0]),c[0]=this.reduce_angle(c[0]),w[0]=0,b[0]=0}else if(y.rtype===this.MP_CURL){if(S.ltype===this.MP_CURL){t.rtype=this.MP_EXPLICIT,r.ltype=this.MP_EXPLICIT,x=Math.abs(r.left_tension()),M=Math.abs(t.right_tension()),_=this.UNITY/(3*M),t.rx=t.x+n[0]*_,t.ry=t.y+a[0]*_,_=this.UNITY/(3*x),r.lx=r.x-n[0]*_,r.ly=r.y-a[0]*_;return}O=y.right_curl(),x=Math.abs(S.left_tension()),M=Math.abs(y.right_tension()),w[0]=this.mp_curl_ratio(O,M,x),c[0]=-l[1]*w[0],b[0]=0}else y.rtype===this.MP_OPEN&&(w[0]=0,c[0]=0,b[0]=this.FRACTION_ONE);else if(y.ltype===this.MP_END_CYCLE||y.ltype===this.MP_OPEN){if(u=this.UNITY/(3*Math.abs(A.right_tension())-this.UNITY),T=o[v]*(this.FRACTION_THREE-this.UNITY/Math.abs(A.right_tension())),h=this.UNITY/(3*Math.abs(S.left_tension())-this.UNITY),p=o[v-1]*(this.FRACTION_THREE-this.UNITY/Math.abs(S.left_tension())),O=this.FRACTION_ONE-w[v-1]*u,T=T*O,x=Math.abs(y.left_tension()),M=Math.abs(y.right_tension()),x<M?T*=Math.pow(x/M,2):x>M&&(p*=Math.pow(M/x,2)),_=p/(p+T),w[v]=_*h,f=-l[v+1]*w[v],A.rtype===this.MP_CURL?(b[v]=0,c[v]=f-l[1]*(this.FRACTION_ONE-_)):(_=(this.FRACTION_ONE-_)/O,f=f-l[v]*_,_=_*u,c[v]=f-c[v-1]*_,b[v]=-b[v-1]*_),y.ltype===this.MP_END_CYCLE){for(u=0,h=this.FRACTION_ONE;H&&(v-=1,v===0&&(v=s),u=c[v]-u*w[v],h=b[v]-h*w[v],v!==s););for(u=u/(this.FRACTION_ONE-h),$[s]=u,c[0]=u,U=1;U<s;U++)c[U]=c[U]+u*b[U];break}}else{if(y.ltype===this.MP_CURL){O=y.left_curl(),x=Math.abs(y.left_tension()),M=Math.abs(A.right_tension()),_=this.mp_curl_ratio(O,x,M),$[s]=-(c[s-1]*_)/(this.FRACTION_ONE-_*w[s-1]);break}if(y.ltype===this.MP_GIVEN){$[s]=y.left_given()-Math.atan2(a[s-1],n[s-1]),$[s]=this.reduce_angle($[s]);break}}A=y,y=S,v+=1}for(v=s-1;v>-1;v--)$[v]=c[v]-$[v+1]*w[v];for(y=t,v=0;H&&(S=y.next,B=this.mp_n_sin_cos($[v]),J=B[0],F=B[1],z=this.mp_n_sin_cos(-l[v+1]-$[v+1]),Z=z[0],se=z[1],this.mp_set_controls(y,S,n[v],a[v],F,J,se,Z),v++,y=S,v!==s););},mp_n_sin_cos:function(t){return[Math.cos(t),Math.sin(t)]},mp_set_controls:function(t,r,s,n,a,o,l,u){var f,c,h,d,p;h=Math.abs(r.left_tension()),f=Math.abs(t.right_tension()),p=this.mp_velocity(a,o,l,u,f),c=this.mp_velocity(l,u,a,o,h),(t.right_tension()<0||r.left_tension()<0)&&(a>=0&&l>=0||a<=0&&l<=0)&&(d=Math.abs(a)*u+Math.abs(l)*o,d>0&&(d*=1.00024414062,t.right_tension()<0&&this.mp_ab_vs_cd(Math.abs(l),this.FRACTION_ONE,p,d)<0&&(p=Math.abs(l)/d),r.left_tension()<0&&this.mp_ab_vs_cd(Math.abs(a),this.FRACTION_ONE,c,d)<0&&(c=Math.abs(a)/d))),t.rx=t.x+(s*o-n*a)*p,t.ry=t.y+(n*o+s*a)*p,r.lx=r.x-(s*u+n*l)*c,r.ly=r.y-(n*u-s*l)*c,t.rtype=this.MP_EXPLICIT,r.ltype=this.MP_EXPLICIT},mp_pyth_add:function(t,r){return Math.sqrt(t*t+r*r)},mp_curl_ratio:function(t,r,s){var n=1/r,a=1/s;return Math.min(4,((3-n)*n*n*t+a*a*a)/(n*n*n*t+(3-a)*a*a))},mp_ab_vs_cd:function(t,r,s,n){return t*r===s*n?0:t*r>s*n?1:-1},mp_velocity:function(t,r,s,n,a){return Math.min(4,(2+Math.sqrt(2)*(t-s/16)*(s-t/16)*(r-n))/(1.5*a*(2+(Math.sqrt(5)-1)*r+(3-Math.sqrt(5))*n)))},reduce_angle:function(t){return Math.abs(t)>this.ONE_EIGHTY_DEG&&(t>0?t-=this.THREE_SIXTY_DEG:t+=this.THREE_SIXTY_DEG),t},makeknots:function(t,r){var s,n,a=[];for(n=t.length,s=0;s<n;s++)a.push({x:t[s][0],y:t[s][1],ltype:this.MP_OPEN,rtype:this.MP_OPEN,lx:!1,rx:!1,ly:r,ry:r,left_curl:function(){return this.lx||0},right_curl:function(){return this.rx||0},left_tension:function(){return this.ly||1},right_tension:function(){return this.ry||1},set_right_curl:function(o){this.rx=o||0},set_left_curl:function(o){this.lx=o||0}});for(n=a.length,s=0;s<n;s++)a[s].next=a[s+1]||a[s],a[s].set_right_given=a[s].set_right_curl,a[s].set_left_given=a[s].set_left_curl,a[s].right_given=a[s].right_curl,a[s].left_given=a[s].left_curl;return a[n-1].next=a[0],a},curve:function(t,r){var s,n,a,o,l,u,f=!1,c=[],h=[];r=r||{tension:1,direction:{},curl:{},isClosed:!1},l=1,r.hasOwnProperty("tension")&&(l=JXG$1.evaluate(r.tension)),s=this.makeknots(t,l),n=s.length,JXG$1.exists(r.isClosed)&&JXG$1.evaluate(r.isClosed)&&(f=!0),f||(s[0].ltype=this.MP_ENDPOINT,s[0].rtype=this.MP_CURL,s[n-1].rtype=this.MP_ENDPOINT,s[n-1].ltype=this.MP_CURL);for(o in r)if(r.hasOwnProperty(o)){if(a=parseInt(o,10),isNaN(a)||a<0||a>=n)continue;if(u=r[a],JXG$1.exists(u.type))switch(u.type){case"curl":l=JXG$1.evaluate(u.curl),a===0?(s[a].rtype=this.MP_CURL,s[a].set_right_curl(l)):a===n-1?(s[a].ltype=this.MP_CURL,s[a].set_left_curl(l)):(s[a].ltype=this.MP_CURL,s[a].rtype=this.MP_CURL,s[a].lx=l,s[a].rx=l);break}JXG$1.exists(u.direction)&&(l=JXG$1.evaluate(u.direction),JXG$1.isArray(l)?(l[0]!==!1&&(s[a].lx=l[0]*Math.PI/180,s[a].ltype=this.MP_GIVEN),l[1]!==!1&&(s[a].rx=l[1]*Math.PI/180,s[a].rtype=this.MP_GIVEN)):(s[a].lx=l*Math.PI/180,s[a].rx=l*Math.PI/180,s[a].ltype=s[a].rtype=this.MP_GIVEN)),JXG$1.exists(u.tension)&&(l=JXG$1.evaluate(u.tension),JXG$1.isArray(l)?(l[0]!==!1&&(s[a].ly=JXG$1.evaluate(l[0])),l[1]!==!1&&(s[a].ry=JXG$1.evaluate(l[1]))):(s[a].ly=l,s[a].ry=l))}for(this.make_choices(s),a=0;a<n-1;a++)c.push(s[a].x),c.push(s[a].rx),c.push(s[a+1].lx),h.push(s[a].y),h.push(s[a].ry),h.push(s[a+1].ly);return c.push(s[n-1].x),h.push(s[n-1].y),f&&(c.push(s[n-1].rx),h.push(s[n-1].ry),c.push(s[0].lx),h.push(s[0].ly),c.push(s[0].x),h.push(s[0].y)),[c,h]}};Mat.Metapost;var bitReverse=[0,128,64,192,32,160,96,224,16,144,80,208,48,176,112,240,8,136,72,200,40,168,104,232,24,152,88,216,56,184,120,248,4,132,68,196,36,164,100,228,20,148,84,212,52,180,116,244,12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254,1,129,65,193,33,161,97,225,17,145,81,209,49,177,113,241,9,137,73,201,41,169,105,233,25,153,89,217,57,185,121,249,5,133,69,197,37,165,101,229,21,149,85,213,53,181,117,245,13,141,77,205,45,173,109,237,29,157,93,221,61,189,125,253,3,131,67,195,35,163,99,227,19,147,83,211,51,179,115,243,11,139,75,203,43,171,107,235,27,155,91,219,59,187,123,251,7,135,71,199,39,167,103,231,23,151,87,215,55,183,119,247,15,143,79,207,47,175,111,239,31,159,95,223,63,191,127,255],cplens=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],cplext=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,99,99],cpdist=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],cpdext=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],border=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],NAMEMAX=256;JXG$1.Util=JXG$1.Util||{};JXG$1.Util.Unzip=function(t){var r,s,n,a,o,l=[],u=0,f=[],c=new Array(32768),h=0,d=!1,p=t.length,v=0,y=1,b=0,w=new Array(288),x=new Array(32),A=0,S=null;new Array(64),new Array(64);var _=0,$=new Array(17),M=[];$[0]=0;function T(){return b+=8,v<p?t[v++]:-1}function O(){y=1}function B(){var te;try{b++,te=y&1,y>>=1,y===0&&(y=T(),te=y&1,y=y>>1|128)}catch(ae){throw console.log("Probably problems on iOS7 with >>"),ae}return te}function J(te){var ae=0,ee=te;try{for(;ee--;)ae=ae<<1|B();te&&(ae=bitReverse[ae]>>8-te)}catch(de){throw console.log("Probably problems on iOS7 with >>"),de}return ae}function F(){h=0}function z(te){s++,c[h++]=te,l.push(String.fromCharCode(te)),h===32768&&(h=0)}function Z(){this.b0=0,this.b1=0,this.jump=null,this.jumppos=-1}function se(){for(var te=!0;te;){if($[_]>=o)return-1;if(a[$[_]]===_)return $[_]++;$[_]++}}function ie(){var te=S[A],ae;if(_===17)return-1;if(A++,_++,ae=se(),ae>=0)te.b0=ae;else if(te.b0=32768,ie())return-1;if(ae=se(),ae>=0)te.b1=ae,te.jump=null;else if(te.b1=32768,te.jump=S[A],te.jumppos=A,ie())return-1;return _--,0}function U(te,ae,ee,de){var ce;for(S=te,A=0,a=ee,o=ae,ce=0;ce<17;ce++)$[ce]=0;return _=0,ie()?-1:0}function H(te){for(var ae,ee,de,ce=!0,xe=0,Me=te[xe];ce;)if(de=B(),de){if(!(Me.b1&32768))return Me.b1;for(Me=Me.jump,ae=te.length,ee=0;ee<ae;ee++)if(te[ee]===Me){xe=ee;break}}else{if(!(Me.b0&32768))return Me.b0;xe++,Me=te[xe]}}function ue(){var te,ae,ee,de,ce,xe,Me,Ae,Xe,Be,Ze,nt,rt,it,me,be,Re=!0;do if(te=B(),ee=J(2),ee===0)for(O(),Be=T(),Be|=T()<<8,nt=T(),nt|=T()<<8,(Be^~nt)&65535&&JXG$1.debug(`BlockLen checksum mismatch
`);Be--;)ae=T(),z(ae);else if(ee===1)for(;Re;)if(ce=bitReverse[J(7)]>>1,ce>23?(ce=ce<<1|B(),ce>199?(ce-=128,ce=ce<<1|B()):(ce-=48,ce>143&&(ce=ce+136))):ce+=256,ce<256)z(ce);else{if(ce===256)break;for(ce-=257,Xe=J(cplext[ce])+cplens[ce],ce=bitReverse[J(5)]>>3,cpdext[ce]>8?(Ze=J(8),Ze|=J(cpdext[ce]-8)<<8):Ze=J(cpdext[ce]),Ze+=cpdist[ce],ce=0;ce<Xe;ce++)ae=c[h-Ze&32767],z(ae)}else if(ee===2){for(Me=new Array(320),it=257+J(5),me=1+J(5),be=4+J(4),ce=0;ce<19;ce++)Me[ce]=0;for(ce=0;ce<be;ce++)Me[border[ce]]=J(3);for(Xe=x.length,de=0;de<Xe;de++)x[de]=new Z;if(U(x,19,Me))return F(),1;for(rt=it+me,de=0;de<rt;)if(ce=H(x),ce<16)Me[de++]=ce;else if(ce===16){if(ce=3+J(2),de+ce>rt)return F(),1;for(xe=de?Me[de-1]:0;ce--;)Me[de++]=xe}else{if(ce===17?ce=3+J(3):ce=11+J(7),de+ce>rt)return F(),1;for(;ce--;)Me[de++]=0}for(Xe=w.length,de=0;de<Xe;de++)w[de]=new Z;if(U(w,it,Me))return F(),1;for(Xe=w.length,de=0;de<Xe;de++)x[de]=new Z;for(Ae=[],de=it;de<Me.length;de++)Ae[de-it]=Me[de];if(U(x,me,Ae))return F(),1;for(;Re;)if(ce=H(w),ce>=256){if(ce-=256,ce===0)break;for(ce-=1,Xe=J(cplext[ce])+cplens[ce],ce=H(x),cpdext[ce]>8?(Ze=J(8),Ze|=J(cpdext[ce]-8)<<8):Ze=J(cpdext[ce]),Ze+=cpdist[ce];Xe--;)ae=c[h-Ze&32767],z(ae)}else z(ce)}while(!te);return F(),O(),0}function Y(){var te,ae,ee,de,ce,xe,Me,Ae,Xe=[];try{if(l=[],d=!1,Xe[0]=T(),Xe[1]=T(),Xe[0]===120&&Xe[1]===218&&(ue(),f[u]=[l.join(""),"geonext.gxt"],u++),Xe[0]===31&&Xe[1]===139&&(K(),f[u]=[l.join(""),"file"],u++),Xe[0]===80&&Xe[1]===75){if(d=!0,Xe[2]=T(),Xe[3]=T(),Xe[2]===3&&Xe[3]===4){for(Xe[0]=T(),Xe[1]=T(),r=T(),r|=T()<<8,Ae=T(),Ae|=T()<<8,T(),T(),T(),T(),Me=T(),Me|=T()<<8,Me|=T()<<16,Me|=T()<<24,xe=T(),xe|=T()<<8,xe|=T()<<16,xe|=T()<<24,ce=T(),ce|=T()<<8,ce|=T()<<16,ce|=T()<<24,de=T(),de|=T()<<8,ee=T(),ee|=T()<<8,te=0,M=[];de--;)ae=T(),ae==="/"|ae===":"?te=0:te<NAMEMAX-1&&(M[te++]=String.fromCharCode(ae));for(n||(n=M),te=0;te<ee;)ae=T(),te++;if(s=0,Ae===8&&(ue(),f[u]=new Array(2),f[u][0]=l.join(""),f[u][1]=M.join(""),u++),K())return!1}return!0}}catch(Be){throw console.log("Probably problems on iOS7 with >>"),Be}return!1}function K(){var te,ae,ee,de,ce,xe=[];if(r&8&&(xe[0]=T(),xe[1]=T(),xe[2]=T(),xe[3]=T(),xe[0]===80&&xe[1]===75&&xe[2]===7&&xe[3]===8?(te=T(),te|=T()<<8,te|=T()<<16,te|=T()<<24):te=xe[0]|xe[1]<<8|xe[2]<<16|xe[3]<<24,ae=T(),ae|=T()<<8,ae|=T()<<16,ae|=T()<<24,ee=T(),ee|=T()<<8,ee|=T()<<16,ee|=T()<<24),d&&Y())return!1;if(xe[0]=T(),xe[0]!==8)return!0;if(r=T(),T(),T(),T(),T(),T(),T(),r&4)for(xe[0]=T(),xe[2]=T(),_=xe[0]+256*xe[1],de=0;de<_;de++)T();if(r&8)for(de=0,M=[],ce=T();ce;)(ce==="7"||ce===":")&&(de=0),de<NAMEMAX-1&&(M[de++]=ce),ce=T();if(r&16)for(ce=T();ce;)ce=T();return r&2&&(T(),T()),ue(),te=T(),te|=T()<<8,te|=T()<<16,te|=T()<<24,ee=T(),ee|=T()<<8,ee|=T()<<16,ee|=T()<<24,d&&Y(),!1}JXG$1.Util.Unzip.prototype.unzipFile=function(te){var ae;for(this.unzip(),ae=0;ae<f.length;ae++)if(f[ae][1]===te)return f[ae][0];return""},JXG$1.Util.Unzip.prototype.unzip=function(){return Y(),f}};const Zip=JXG$1.Util;var UTF8_ACCEPT=0,UTF8D=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,10,3,3,3,3,3,3,3,3,3,3,3,3,4,3,3,11,6,6,6,5,8,8,8,8,8,8,8,8,8,8,8,0,12,24,36,60,96,84,12,12,12,48,72,12,12,12,12,12,12,12,12,12,12,12,12,12,0,12,12,12,12,12,0,12,0,12,12,12,24,12,12,12,12,12,24,12,24,12,12,12,12,12,12,12,12,12,24,12,12,12,12,12,24,12,12,12,12,12,12,12,24,12,12,12,12,12,12,12,12,12,36,12,36,12,12,12,36,12,12,12,12,12,36,12,36,12,12,12,36,12,12,12,12,12,12,12,12,12,12];JXG$1.Util=JXG$1.Util||{};JXG$1.Util.UTF8={encode:function(t){var r,s,n="",a=t.length;if(t=t.replace(/\r\n/g,`
`),typeof unescape=="function"&&typeof encodeURIComponent=="function")return unescape(encodeURIComponent(t));for(r=0;r<a;r++)s=t.charCodeAt(r),s<128?n+=String.fromCharCode(s):s>127&&s<2048?(n+=String.fromCharCode(s>>6|192),n+=String.fromCharCode(s&63|128)):(n+=String.fromCharCode(s>>12|224),n+=String.fromCharCode(s>>6&63|128),n+=String.fromCharCode(s&63|128));return n},decode:function(t){var r,s,n,a=0,o=0,l=UTF8_ACCEPT,u=[],f=t.length,c=[];for(r=0;r<f;r++)s=t.charCodeAt(r),n=UTF8D[s],l!==UTF8_ACCEPT?o=s&63|o<<6:o=255>>n&s,l=UTF8D[256+l+n],l===UTF8_ACCEPT&&(o>65535?u.push(55232+(o>>10),56320+(o&1023)):u.push(o),a++,a%1e4===0&&(c.push(String.fromCharCode.apply(null,u)),u=[]));return c.push(String.fromCharCode.apply(null,u)),c.join("")},asciiCharCodeAt:function(t,r){var s=t.charCodeAt(r);if(s>255)switch(s){case 8364:s=128;break;case 8218:s=130;break;case 402:s=131;break;case 8222:s=132;break;case 8230:s=133;break;case 8224:s=134;break;case 8225:s=135;break;case 710:s=136;break;case 8240:s=137;break;case 352:s=138;break;case 8249:s=139;break;case 338:s=140;break;case 381:s=142;break;case 8216:s=145;break;case 8217:s=146;break;case 8220:s=147;break;case 8221:s=148;break;case 8226:s=149;break;case 8211:s=150;break;case 8212:s=151;break;case 732:s=152;break;case 8482:s=153;break;case 353:s=154;break;case 8250:s=155;break;case 339:s=156;break;case 382:s=158;break;case 376:s=159;break}return s}};const Encoding=JXG$1.Util.UTF8;var alphabet="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",pad="=";JXG$1.Util=JXG$1.Util||{};JXG$1.Util.Base64={_getByte:function(t,r){return t.charCodeAt(r)&255},_getIndex:function(t,r){return alphabet.indexOf(t.charAt(r))},encode:function(t){var r,s,n,a,o,l=[];for(o=Encoding.encode(t),n=o.length,a=n%3,r=0;r<n-a;r+=3)s=this._getByte(o,r)<<16|this._getByte(o,r+1)<<8|this._getByte(o,r+2),l.push(alphabet.charAt(s>>18),alphabet.charAt(s>>12&63),alphabet.charAt(s>>6&63),alphabet.charAt(s&63));switch(a){case 1:s=this._getByte(o,n-1),l.push(alphabet.charAt(s>>2),alphabet.charAt(s<<4&63),pad,pad);break;case 2:s=this._getByte(o,n-2)<<8|this._getByte(o,n-1),l.push(alphabet.charAt(s>>10),alphabet.charAt(s>>4&63),alphabet.charAt(s<<2&63),pad);break}return l.join("")},decode:function(t,r){var s,n,a,o,l,u,f=[],c=[];if(s=t.replace(/[^A-Za-z0-9+/=]/g,""),a=s.length,a%4!==0)throw new Error("JSXGraph/utils/base64: Can't decode string (invalid input length).");for(s.charAt(a-1)===pad&&(o=1,s.charAt(a-2)===pad&&(o=2),a-=4),n=0;n<a;n+=4)l=this._getIndex(s,n)<<18|this._getIndex(s,n+1)<<12|this._getIndex(s,n+2)<<6|this._getIndex(s,n+3),c.push(l>>16,l>>8&255,l&255),n%1e4===0&&(f.push(String.fromCharCode.apply(null,c)),c=[]);switch(o){case 1:l=this._getIndex(s,a)<<12|this._getIndex(s,a+1)<<6|this._getIndex(s,a+2),c.push(l>>10,l>>2&255);break;case 2:l=this._getIndex(s,n)<<6|this._getIndex(s,n+1),c.push(l>>4);break}return f.push(String.fromCharCode.apply(null,c)),u=f.join(""),r&&(u=Encoding.decode(u)),u},decodeAsArray:function(t){var r,s=this.decode(t),n=[],a=s.length;for(r=0;r<a;r++)n[r]=s.charCodeAt(r);return n}};const Base64=JXG$1.Util.Base64;JXG$1.Server={modules:{},runningCalls:{},handleError:function(t){JXG$1.debug("error occured, server says: "+t.message)},callServer:function(t,r,s,n){var a,o,l,u,f,c,h;n=n||!1,u="";for(h in s)s.hasOwnProperty(h)&&(u+="&"+escape(h)+"="+escape(s[h]));c=JXG$1.toJSON(s);do f=t+Math.floor(Math.random()*4096);while(JXG$1.exists(this.runningCalls[f]));return this.runningCalls[f]={action:t},JXG$1.exists(s.module)&&(this.runningCalls[f].module=s.module),a=JXG$1.serverBase+"JXGServer.py",o="action="+escape(t)+"&id="+f+"&dataJSON="+escape(Base64.encode(c)),this.cbp=function(d){var p,v,y,b,w,x,A,S;if(p=new Zip.Unzip(Base64.decodeAsArray(d)).unzip(),JXG$1.isArray(p)&&p.length>0&&(p=p[0][0]),!!JXG$1.exists(p)){if(v=window.JSON&&window.JSON.parse?window.JSON.parse(p):new Function("return "+p)(),v.type==="error")this.handleError(v);else if(v.type==="response"){for(x=v.id,A=0;A<v.fields.length;A++)y=v.fields[A],b=y.namespace+(typeof new Function("return "+y.namespace)()=="object"?".":".prototype.")+y.name+" = "+y.value,new Function(b)();for(A=0;A<v.handler.length;A++){for(y=v.handler[A],w=[],S=0;S<y.parameters.length;S++)w[S]='"'+y.parameters[S]+'": '+y.parameters[S];b="if(typeof JXG.Server.modules."+this.runningCalls[x].module+' == "undefined")JXG.Server.modules.'+this.runningCalls[x].module+" = {};",b+="JXG.Server.modules."+this.runningCalls[x].module+"."+y.name+"_cb = "+y.callback+";",b+="JXG.Server.modules."+this.runningCalls[x].module+"."+y.name+" = function ("+y.parameters.join(",")+', __JXGSERVER_CB__, __JXGSERVER_SYNC) {if(typeof __JXGSERVER_CB__ == "undefined") __JXGSERVER_CB__ = JXG.Server.modules.'+this.runningCalls[x].module+"."+y.name+"_cb;var __JXGSERVER_PAR__ = {"+w.join(",")+', "module": "'+this.runningCalls[x].module+'", "handler": "'+y.name+'" };JXG.Server.callServer("exec", __JXGSERVER_CB__, __JXGSERVER_PAR__, __JXGSERVER_SYNC);};',new Function(b)()}delete this.runningCalls[x],r(v.data)}}},this.cb=JXG$1.bind(this.cbp,this),window.XMLHttpRequest?(l=new XMLHttpRequest,l.overrideMimeType("text/plain; charset=iso-8859-1")):l=new ActiveXObject("Microsoft.XMLHTTP"),l&&(l.open("POST",a,!n),l.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n||(l.onreadystatechange=(function(d){return function(){return l.readyState===4&&l.status===200?(d(l.responseText),!0):!1}})(this.cb)),l.send(o),n)?(this.cb(l.responseText),!0):!1},loadModule_cb:function(t){var r;for(r=0;r<t.length;r++)JXG$1.debug(t[r].name+": "+t[r].value)},loadModule:function(t){return JXG$1.Server.callServer("load",JXG$1.Server.loadModule_cb,{module:t},!0)}};JXG$1.Server.load=JXG$1.Server.loadModule;const Server=JXG$1.Server;var undef;Mat.Symbolic={generateSymbolicCoordinatesPartial:function(t,r,s,n){var a,o,l,u=r.ancestors,f=0,c=function(h){var d;return n==="underscore"?d=s+"_{"+h+"}":n==="brace"?d=s+"["+h+"]":d=s+h,d};t.listOfFreePoints=[],t.listOfDependantPoints=[];for(o in u)if(u.hasOwnProperty(o)&&(a=0,JXG$1.isPoint(u[o]))){for(l in u[o].ancestors)u[o].ancestors.hasOwnProperty(l)&&a++;a===0?(u[o].symbolic.x=u[o].coords.usrCoords[1],u[o].symbolic.y=u[o].coords.usrCoords[2],t.listOfFreePoints.push(u[o])):(f+=1,u[o].symbolic.x=c(f),f+=1,u[o].symbolic.y=c(f),t.listOfDependantPoints.push(u[o]))}return JXG$1.isPoint(r)&&(r.symbolic.x="x",r.symbolic.y="y"),f},clearSymbolicCoordinates:function(t){var r=function(s){var n,a=s&&s.length||0;for(n=0;n<a;n++)JXG$1.isPoint(s[n])&&(s[n].symbolic.x="",s[n].symbolic.y="")};r(t.listOfFreePoints),r(t.listOfDependantPoints),delete t.listOfFreePoints,delete t.listOfDependantPoints},generatePolynomials:function(t,r,s){var n,a,o,l=r.ancestors,u,f=[],c=[];s&&this.generateSymbolicCoordinatesPartial(t,r,"u","brace"),l[r.id]=r;for(n in l)if(l.hasOwnProperty(n)&&(u=0,f=[],JXG$1.isPoint(l[n]))){for(a in l[n].ancestors)l[n].ancestors.hasOwnProperty(a)&&u++;if(u>0)for(f=l[n].generatePolynomial(),o=0;o<f.length;o++)c.push(f[o])}return s&&this.clearSymbolicCoordinates(t),c},geometricLocusByGroebnerBase:function(t,r){var s,n,a,o,l,u,f,c,h,d,p,v,y,b=t.options.locus,w={},x=this.generateSymbolicCoordinatesPartial(t,r,"u","brace"),A=new Coords(Const.COORDS_BY_USR,[0,0],t),S=new Coords(Const.COORDS_BY_USR,[t.canvasWidth,t.canvasHeight],t),_=1,$=0,M=0,T=0;if(Server.modules.geoloci===undef&&Server.loadModule("geoloci"),Server.modules.geoloci===undef)throw new Error("JSXGraph: Unable to load JXG.Server module 'geoloci.py'.");if(f=A.usrCoords[1],c=S.usrCoords[1],h=S.usrCoords[2],d=A.usrCoords[2],b.translateToOrigin&&t.listOfFreePoints.length>0){for(b.toOrigin!==undef&&b.toOrigin!==null&&JXG$1.isInArray(t.listOfFreePoints,b.toOrigin.id)?o=b.toOrigin:o=t.listOfFreePoints[0],$=o.symbolic.x,M=o.symbolic.y,u=0;u<t.listOfFreePoints.length;u++)t.listOfFreePoints[u].symbolic.x-=$,t.listOfFreePoints[u].symbolic.y-=M;if(f-=$,c-=$,h-=M,d-=M,b.translateTo10&&t.listOfFreePoints.length>1){for(b.to10!==undef&&b.to10!==null&&b.to10.id!==b.toOrigin.id&&JXG$1.isInArray(t.listOfFreePoints,b.to10.id)?l=b.to10:t.listOfFreePoints[0].id===o.id?l=t.listOfFreePoints[1]:l=t.listOfFreePoints[0],T=Geometry.rad([1,0],[0,0],[l.symbolic.x,l.symbolic.y]),p=Math.cos(-T),v=Math.sin(-T),u=0;u<t.listOfFreePoints.length;u++)y=t.listOfFreePoints[u].symbolic.x,t.listOfFreePoints[u].symbolic.x=p*t.listOfFreePoints[u].symbolic.x-v*t.listOfFreePoints[u].symbolic.y,t.listOfFreePoints[u].symbolic.y=v*y+p*t.listOfFreePoints[u].symbolic.y;if(l.symbolic.y=0,y=f,f=p*f-v*h,h=v*y+p*h,y=c,c=p*c-v*d,d=v*y+p*d,b.stretch&&Math.abs(l.symbolic.x)>Mat.eps){for(_=l.symbolic.x,u=0;u<t.listOfFreePoints.length;u++)t.listOfFreePoints[u].symbolic.x/=_,t.listOfFreePoints[u].symbolic.y/=_;for(u=0;u<t.objectsList.length;u++)t.objectsList[u].elementClass===Const.OBJECT_CLASS_CIRCLE&&t.objectsList[u].method==="pointRadius"&&(w[u]=t.objectsList[u].radius,t.objectsList[u].radius/=_);f/=_,c/=_,h/=_,d/=_,l.symbolic.x=1}}for(u=0;u<t.listOfFreePoints.length;u++)y=t.listOfFreePoints[u].symbolic.x,Math.abs(y)<Mat.eps&&(t.listOfFreePoints[u].symbolic.x=0),Math.abs(y-Math.round(y))<Mat.eps&&(t.listOfFreePoints[u].symbolic.x=Math.round(y)),y=t.listOfFreePoints[u].symbolic.y,Math.abs(y)<Mat.eps&&(t.listOfFreePoints[u].symbolic.y=0),Math.abs(y-Math.round(y))<Mat.eps&&(t.listOfFreePoints[u].symbolic.y=Math.round(y))}s=this.generatePolynomials(t,r),n=s.join(","),this.cbp=function(O){a=O},this.cb=JXG$1.bind(this.cbp,this),Server.modules.geoloci.lociCoCoA(f,c,h,d,x,n,_,T,$,M,this.cb,!0),this.clearSymbolicCoordinates(t);for(u in w)w.hasOwnProperty(u)&&(t.objects[u].radius=w[u]);return a}};const Symbolic=Mat.Symbolic;Mat.Clip={_isSeparator:function(t){return isNaN(t.coords.usrCoords[1])&&isNaN(t.coords.usrCoords[2])},makeDoublyLinkedList:function(t){var r,s=null,n=[],a=t.length;if(a>0)for(r=0;r<a;r++){if(this._isSeparator(t[r])){t[r]._next=t[(r+1)%a],t[r]._prev=t[(a+r-1)%a];continue}s===null&&(s=r,n.push(s)),this._isSeparator(t[(r+1)%a])||r===a-1?(t[r]._next=t[s],t[s]._prev=t[r],t[r]._end=!0,s=null):(t[r]._next=t[(r+1)%a],t[s]._prev=t[r]),this._isSeparator(t[(a+r-1)%a])||(t[r]._prev=t[(a+r-1)%a])}return n},Vertex:function(t,r,s,n,a,o){this.pos=r,this.intersection=!0,this.coords=t,this.elementClass=Const.OBJECT_CLASS_POINT,this.data={alpha:s,path:n,pathname:a,done:!1,type:o,idx:0},this.neighbour=null,this.entry_exit=!1},_addToList:function(t,r,s){var n=t.length,a=Mat.eps*Mat.eps;n>0&&Math.abs(t[n-1].coords.usrCoords[0]-r.usrCoords[0])<a&&Math.abs(t[n-1].coords.usrCoords[1]-r.usrCoords[1])<a&&Math.abs(t[n-1].coords.usrCoords[2]-r.usrCoords[2])<a||t.push({pos:s,intersection:!1,coords:r,elementClass:Const.OBJECT_CLASS_POINT})},sortIntersections:function(t){var r,s,n,a,o,l,u=[],f=t.length;for(r=0;r<f;r++)if(t[r].sort(function(c,h){return c.data.alpha>h.data.alpha?1:-1}),t[r].length>0){for(o=t[r].length-1,n=t[r][0],a=n.data.path[n.pos],l=a._next,r===f-1&&(a._end=!1),n.data.alpha===0&&n.data.type==="T"?(a.intersection=!0,a.data=n.data,a.neighbour=n.neighbour,a.neighbour.neighbour=a,a.entry_exit=!1,t[r][0]=a):(n._prev=a,n._prev._next=n),s=1;s<=o;s++)n=t[r][s],n._prev=t[r][s-1],n._prev._next=n;n=t[r][o],n._next=l,n._next._prev=n,r===f-1&&(n._end=!0),u=u.concat(t[r])}return u},_inbetween:function(t,r,s){var n,a=Mat.eps*Mat.eps,o=s[1]-r[1],l=s[2]-r[2],u=t[1]-r[1],f=t[2]-r[2];return o===0&&l===0&&u===0&&f===0?!0:(Math.abs(u)<a&&Math.abs(o)<a?n=f/l:n=u/o,Math.abs(n)<a&&(n=0),n)},_print_array:function(t){var r,s;for(r=0;r<t.length;r++)try{s="",t[r]._end&&(s=" end"),console.log(r,t[r].coords.usrCoords,t[r].data.type,"	","prev",t[r]._prev.coords.usrCoords,"next",t[r]._next.coords.usrCoords+s)}catch{console.log(r,t[r].coords.usrCoords)}},_print_list:function(t){for(var r=0,s;r<100&&(t.data?s=t.data.alpha:s="-",console.log("	",t.coords.usrCoords,`
		is:`,t.intersection,"end:",t._end,s,`
		-:`,t._prev.coords.usrCoords,`
		+:`,t._next.coords.usrCoords,`
		n:`,t.intersection?t.neighbour.coords.usrCoords:"-"),!t._end);)t=t._next,r++},_noOverlap:function(t,r,s,n){var a,o=Math.sqrt(Mat.eps),l,u,f,c,h=!1;for(a=0;a<3;a++)if(l=Math.min(t[a],r[a]),u=Math.max(t[a],r[a]),f=Math.min(s[a],n[a]),c=Math.max(s[a],n[a]),u<f-o||l>c+o){h=!0;break}return h},findIntersections:function(t,r,s){var n=[],a=Mat.eps*100,o,l,u,f=t.length,c=r.length,h,d,p,v,y,b,w,x,A,S,_=[],$=[],M=[],T=[],O=!1,B=!1;for(l=0;l<c;l++)T.push([]);for(o=0;o<f;o++){if(M.push([]),this._isSeparator(t[o])||this._isSeparator(t[(o+1)%f])){O=!0;continue}if(O&&o===f-1)break;for(h=t[o].coords.usrCoords,d=t[(o+1)%f].coords.usrCoords,l=0;l<c;l++){if(this._isSeparator(r[l])||this._isSeparator(r[(l+1)%c])){B=!0;continue}if(B&&l===c-1)break;if(p=r[l].coords.usrCoords,v=r[(l+1)%c].coords.usrCoords,!this._noOverlap(h,d,p,v)&&(n=Geometry.meetSegmentSegment(h,d,p,v),y=Geometry.distance(h,d,3),b=Geometry.distance(p,v,3),n[1]*y>-a&&n[1]<1-a/y&&n[2]*b>-a&&n[2]<1-a/b||n[1]===1/0&&n[2]===1/0&&Mat.norm(n[0],3)<a)){if(u=new Coords(Const.COORDS_BY_USER,n[0],s),x="X",Math.abs(n[1])*y<a||Math.abs(n[2])*b<a)x="T",Math.abs(n[1])*y<a&&(n[1]=0),Math.abs(n[2])*b<a&&(n[2]=0),n[1]===0?u=new Coords(Const.COORDS_BY_USER,h,s):u=new Coords(Const.COORDS_BY_USER,p,s);else if(n[1]===1/0&&n[2]===1/0&&Mat.norm(n[0],3)<a){w=this._inbetween(h,p,v),w>=0&&w<1&&(x="T",u=new Coords(Const.COORDS_BY_USER,h,s),n[1]=0,n[2]=w,A=new this.Vertex(u,o,n[1],t,"S",x),S=new this.Vertex(u,l,n[2],r,"C",x),A.neighbour=S,S.neighbour=A,M[o].push(A),T[l].push(S)),w=this._inbetween(p,h,d),Geometry.distance(h,p,3)>a&&w>=0&&w<1&&(x="T",u=new Coords(Const.COORDS_BY_USER,p,s),n[1]=w,n[2]=0,A=new this.Vertex(u,o,n[1],t,"S",x),S=new this.Vertex(u,l,n[2],r,"C",x),A.neighbour=S,S.neighbour=A,M[o].push(A),T[l].push(S));continue}A=new this.Vertex(u,o,n[1],t,"S",x),S=new this.Vertex(u,l,n[2],r,"C",x),A.neighbour=S,S.neighbour=A,M[o].push(A),T[l].push(S)}}}for(_=this.sortIntersections(M),o=0;o<_.length;o++)_[o].data.idx=o,_[o].neighbour.data.idx=o;return $=this.sortIntersections(T),[_,$]},_getPosition:function(t,r,s,n){var a=Geometry.det3p(t,r,s),o=Geometry.det3p(t,s,n),l=Geometry.det3p(r,s,n);return l>=0?a>=0&&o>=0?"left":"right":a>=0||o>=0?"left":"right"},_classifyDegenerateIntersections:function(t){var r,s,n,a,o,l,u,f,c,h,d,p,v,y,b=!0;for(c=Geometry.det3p,u=0,t._tours=0;b;){if(t.intersection&&t.data.type==="T"&&(r=t._next.coords.usrCoords,s=t._prev.coords.usrCoords,Geometry.distance(t.coords.usrCoords,r,3)<Mat.eps&&(r=t._next._next.coords.usrCoords),Geometry.distance(t.coords.usrCoords,s,3)<Mat.eps&&(s=t._prev._prev.coords.usrCoords),o=t.neighbour,a=o._prev.coords.usrCoords,n=o._next.coords.usrCoords,Geometry.distance(o.coords.usrCoords,n,3)<Mat.eps&&(n=o._next._next.coords.usrCoords),Geometry.distance(o.coords.usrCoords,a,3)<Mat.eps&&(a=o._prev._prev.coords.usrCoords),d=c(t.coords.usrCoords,s,a),p=c(t.coords.usrCoords,r,n),v=c(t.coords.usrCoords,s,n),y=c(t.coords.usrCoords,r,a),d===0&&p===0&&v===0&&y===0&&(t.coords.usrCoords[1]*=1+Math.random()*Mat.eps,t.coords.usrCoords[2]*=1+Math.random()*Mat.eps,o.coords.usrCoords[1]=t.coords.usrCoords[1],o.coords.usrCoords[2]=t.coords.usrCoords[2],d=c(t.coords.usrCoords,s,a),p=c(t.coords.usrCoords,r,n),v=c(t.coords.usrCoords,s,n),y=c(t.coords.usrCoords,r,a)),h=!1,d===0?Geometry.affineRatio(t.coords.usrCoords,s,a)<0&&(h=!0):p===0?Geometry.affineRatio(t.coords.usrCoords,r,n)<0&&(h=!0):v===0?Geometry.affineRatio(t.coords.usrCoords,s,n)>0&&(h=!0):y===0&&Geometry.affineRatio(t.coords.usrCoords,r,a)>0&&(h=!0),h&&(f=a,a=n,n=f,f=d,d=v,v=f,f=p,p=y,y=f),JXG$1.exists(t.delayedStatus)||(t.delayedStatus=[]),d===0&&p===0?t.delayedStatus=["on","on"]:d===0?(l=this._getPosition(r,a,o.coords.usrCoords,n),t.delayedStatus=["on",l]):p===0?(l=this._getPosition(s,a,o.coords.usrCoords,n),t.delayedStatus=[l,"on"]):t.delayedStatus.length===0&&(this._getPosition(s,a,o.coords.usrCoords,n)!==this._getPosition(r,a,o.coords.usrCoords,n)?t.data.type="X":t.data.type="B")),JXG$1.exists(t._tours)&&t._tours++,t._tours>3||t._end||u>1e3){u>1e3&&console.log("Clipping: _classifyDegenerateIntersections exit"),JXG$1.exists(t._tours)&&delete t._tours;break}t.intersection&&u++,t=t._next}},_handleIntersectionChains:function(t){for(var r=0,s="Null",n,a=!0,o=!1,l=!1;a&&(t.intersection===!0&&(t.data.type==="T"&&(t.delayedStatus[0]!=="on"&&t.delayedStatus[1]==="on"?(o=!0,n=t,s=t.delayedStatus[0]):o&&t.delayedStatus[0]==="on"&&t.delayedStatus[1]==="on"?t.data.type="B":o&&t.delayedStatus[0]==="on"&&t.delayedStatus[1]!=="on"&&(o=!1,s===t.delayedStatus[1]?(n.data.type="DB",t.data.type="DB"):(n.data.type="DX",t.data.type="DX"))),r++),t._end&&(l=!0),!(l&&!o));){if(r>1e3){console.log("Warning: _handleIntersectionChains: intersection chain reached maximum numbers of iterations");break}t=t._next}},_handleFullyDegenerateCase:function(t,r,s){var n,a,o,l,u,f,c,h,d,p,v,y,b,w,x,A=[t,r];for(o=0;o<2;o++){for(n=A[o],v=n.length,d=0,x=!0;d<v;d++)if(!n[d].intersection){x=!1;break}if(x)for(a=A[(o+1)%2],y=a.length,d=0;d<v;d++){for(f=n[d].coords.usrCoords,c=n[d]._next.coords.usrCoords,l=[(f[0]+c[0])*.5,(f[1]+c[1])*.5,(f[2]+c[2])*.5],p=0,b=!1;p<y;p++)if(Math.abs(Geometry.det3p(a[p].coords.usrCoords,a[(p+1)%y].coords.usrCoords,l))<Mat.eps){b=!0;break}if(!b){u=new Coords(Const.COORDS_BY_USER,l,s),h={pos:d,intersection:!1,coords:u,elementClass:Const.OBJECT_CLASS_POINT},w=n[d]._next,n[d]._next=h,h._prev=n[d],h._next=w,w._prev=h,n[d]._end&&(n[d]._end=!1,h._end=!0);break}}}},_getStatus:function(t,r){for(var s;t.intersection&&!t._end;)t=t._next;return Geometry.windingNumber(t.coords.usrCoords,r)===0?s="entry":s="exit",[t,s]},markEntryExit:function(t,r,s){var n,a,o,l,u,f,c,h=!0,d=null,p=0;for(f=s.length,u=0;u<f;u++)for(c=s[u],this._classifyDegenerateIntersections(t[c]),this._handleIntersectionChains(t[c]),l=this._getStatus(t[c],r),a=l[0],n=l[1],a._starter=!0,o=0,d=null,p=0;h&&(a.intersection===!0&&(a.data.type==="X"&&p===1&&(d.entry_exit=n,n==="exit"&&(d.data.type="X"),p=2),(a.data.type==="X"||a.data.type==="DB")&&(a.entry_exit=n,n=n==="entry"?"exit":"entry"),a.data.type==="DX"&&(p===0?(d=a,p=1):p===1?(a.entry_exit=n,d.entry_exit=n,n==="exit"?d.data.type="X":a.data.type="X",n=n==="entry"?"exit":"entry",d=null,p=0):p===2&&(a.entry_exit=n,a.data.type="X",n=n==="entry"?"exit":"entry",d=null,p=0))),a=a._next,!(JXG$1.exists(a._starter)||o>1e4));)o++},_stayOnPath:function(t,r){var s=!0;return t.intersection&&t.data.type!=="B"&&(s=r===t.entry_exit),s},_addVertex:function(t,r,s){return!isNaN(r.coords.usrCoords[1])&&!isNaN(r.coords.usrCoords[2])&&t.push(r),r.intersection&&r.data.done?(s&&console.log("Add last intersection point",r.coords.usrCoords,"on",r.data.pathname,r.entry_exit,r.data.type),!0):(r.intersection&&(r.data.done=!0,s&&console.log("Add intersection point",r.coords.usrCoords,"on",r.data.pathname,r.entry_exit,r.data.type)),!1)},tracing:function(t,r,s){for(var n,a,o,l,u=0,f=1e4,c=0,h=[],d=!1,p=!1;c<r.length&&u<f;){if(o=r[c],o.data.done||o.data.type!=="X"){c++;continue}h.length>0&&h.push([NaN,NaN]),l=o.data.idx,n=t,d=this._addVertex(h,o,p),a=o.entry_exit;do{if(d)break;if(s==="intersection"&&o.entry_exit==="entry"||s==="union"&&o.entry_exit==="exit"||s==="difference"&&n===t==(o.entry_exit==="exit")){do if(o=o._next,d=this._addVertex(h,o,p),d)break;while(this._stayOnPath(o,a));u++}else{do if(o=o._prev,d=this._addVertex(h,o,p),d)break;while(this._stayOnPath(o,a));u++}if(d)break;if(!o.neighbour)return console.log("Tracing: emergency break - no neighbour!!!!!!!!!!!!!!!!!",u),[[0],[0]];if(o=o.neighbour,o.data.done)break;o.data.done=!0,a=o.entry_exit,n=o.data.path}while(o.data.idx!==l&&u<f);u>=f&&console.log("Tracing: stopping an infinite loop!",u),c++}return this._getCoordsArrays(h,!1)},isEmptyCase:function(t,r,s){return s==="intersection"&&(t.length===0||r.length===0)||s==="union"&&t.length===0&&r.length===0||s==="difference"&&t.length===0},_getCoordsArrays:function(t,r){var s=[],n=[],a,o=t.length;for(a=0;a<o;a++)t[a].coords?(s.push(t[a].coords.usrCoords[1]),n.push(t[a].coords.usrCoords[2])):(s.push(t[a][0]),n.push(t[a][1]));return r&&o>0&&(t[0].coords?(s.push(t[0].coords.usrCoords[1]),n.push(t[0].coords.usrCoords[2])):(s.push(t[0][0]),n.push(t[0][1]))),[s,n]},handleEmptyIntersection:function(t,r,s){var n,a,o=!1,l=[];if(t.length===0)return s==="union"?l=r:l=[],this._getCoordsArrays(l,!0);if(r.length===0)return s==="intersection"?l=[]:l=t,this._getCoordsArrays(l,!0);if(t.length>0)for(n=t[0];n.intersection&&(n=n._next,!n._end););if(r.length>0)for(a=r[0];a.intersection&&(a=a._next,!a._end););return Geometry.windingNumber(n.coords.usrCoords,r)===0?Geometry.windingNumber(a.coords.usrCoords,t)!==0?(s==="union"?(l=l.concat(t),l.push(t[0])):s==="difference"&&(l=l.concat(t),l.push(t[0]),Geometry.signedPolygon(t)*Geometry.signedPolygon(r)>0&&l.reverse(),l.push([NaN,NaN])),(s==="difference"||s==="intersection")&&(l=l.concat(r),l.push(r[0]),o=!1)):s==="difference"?(l=l.concat(t),o=!0):s==="union"&&(l=l.concat(t),l.push(t[0]),l.push([NaN,NaN]),l=l.concat(r),l.push(r[0])):s==="intersection"?(l=l.concat(t),o=!0):s==="union"&&(l=l.concat(r),l.push(r[0])),this._getCoordsArrays(l,o)},_countCrossingIntersections:function(t){var r,s=t.length,n=0;for(r=0;r<s;r++)t[r].data.type==="X"&&n++;return n},_getPath:function(t,r){var s,n,a,o,l,u,f,c=[];if(t.elementClass===Const.OBJECT_CLASS_CURVE&&(t.type===Const.OBJECT_TYPE_ARC||t.type===Const.OBJECT_TYPE_SECTOR)){for(l=Geometry.rad(t.radiuspoint,t.center,t.anglepoint),f=Math.floor(l*180/Math.PI),a=t.Radius(),o=l/f,u=Math.atan2(t.radiuspoint.coords.usrCoords[2]-t.center.coords.usrCoords[2],t.radiuspoint.coords.usrCoords[1]-t.center.coords.usrCoords[1]),t.type===Const.OBJECT_TYPE_SECTOR&&this._addToList(c,t.center.coords,0),s=0;s<=f;s++)this._addToList(c,new Coords(Const.COORDS_BY_USER,[t.center.coords.usrCoords[0],t.center.coords.usrCoords[1]+Math.cos(s*o+u)*a,t.center.coords.usrCoords[2]+Math.sin(s*o+u)*a],r),s+1);t.type===Const.OBJECT_TYPE_SECTOR&&this._addToList(c,t.center.coords,f+2)}else if(t.elementClass===Const.OBJECT_CLASS_CURVE&&JXG$1.exists(t.points))for(n=t.numberPoints,s=0;s<n;s++)this._addToList(c,t.points[s],s);else if(t.type===Const.OBJECT_TYPE_POLYGON)for(s=0;s<t.vertices.length;s++)this._addToList(c,t.vertices[s].coords,s);else if(t.elementClass===Const.OBJECT_CLASS_CIRCLE)for(f=359,a=t.Radius(),o=2*Math.PI/f,s=0;s<=f;s++)this._addToList(c,new Coords(Const.COORDS_BY_USER,[t.center.coords.usrCoords[0],t.center.coords.usrCoords[1]+Math.cos(s*o)*a,t.center.coords.usrCoords[2]+Math.sin(s*o)*a],r),s);else if(JXG$1.isArray(t))for(n=t.length,s=0;s<n;s++)JXG$1.exists(t[s].coords)?this._addToList(c,t[s].coords,s):JXG$1.isArray(t[s])?this._addToList(c,new Coords(Const.COORDS_BY_USER,t[s],r),s):JXG$1.exists(t[s].usrCoords)&&this._addToList(c,t[s],s);return c},greinerHormann:function(t,r,s,n){var a,o=[],l=[],u=[],f,c,h=[];return o=this._getPath(t,n),a=o.length,a>0&&Geometry.distance(o[0].coords.usrCoords,o[a-1].coords.usrCoords,3)<Mat.eps&&o.pop(),l=this._getPath(r,n),a=l.length,a>0&&Geometry.distance(l[0].coords.usrCoords,l[a-1].coords.usrCoords,3)<Mat.eps*Mat.eps&&l.pop(),this.isEmptyCase(o,l,s)?[[],[]]:(f=this.makeDoublyLinkedList(o),c=this.makeDoublyLinkedList(l),h=this.findIntersections(o,l,n),u=h[0],this._handleFullyDegenerateCase(o,l,n),this.markEntryExit(o,l,f),this.markEntryExit(l,o,c),this._countCrossingIntersections(u)===0?this.handleEmptyIntersection(o,l,s):this.tracing(o,u,s))},union:function(t,r,s){return this.greinerHormann(t,r,"union",s)},intersection:function(t,r,s){return this.greinerHormann(t,r,"intersection",s)},difference:function(t,r,s){return this.greinerHormann(t,r,"difference",s)}};JXG$1.extend(Mat.Clip,{});Mat.Clip;Mat.Poly={};Mat.Poly.Ring=function(t){this.vars=t};JXG$1.extend(Mat.Poly.Ring.prototype,{});Mat.Poly.Monomial=function(t,r,s){var n;if(!JXG$1.exists(t))throw new Error("JSXGraph error: In JXG.Math.Poly.monomial missing parameter 'ring'.");for(JXG$1.isArray(s)||(s=[]),s=s.slice(0,t.vars.length),n=s.length;n<t.vars.length;n++)s.push(0);this.ring=t,this.coefficient=r||0,this.exponents=JXG$1.deepCopy(s)};JXG$1.extend(Mat.Poly.Monomial.prototype,{copy:function(){return new Mat.Poly.Monomial(this.ring,this.coefficient,this.exponents)},print:function(){var t=[],r;for(r=0;r<this.ring.vars.length;r++)t.push(this.ring.vars[r]+"^"+this.exponents[r]);return this.coefficient+"*"+t.join("*")}});Mat.Poly.Polynomial=function(t,r){var s=function(){},n;if(!JXG$1.exists(t))throw new Error("JSXGraph error: In JXG.Math.Poly.polynomial missing parameter 'ring'.");JXG$1.exists(r)&&JXG$1.isString(r)?n=s():n=[],this.ring=t,this.monomials=n};JXG$1.extend(Mat.Poly.Polynomial.prototype,{findSignature:function(t){var r;for(r=0;r<this.monomials.length;r++)if(JXG$1.cmpArrays(this.monomials[r].exponents,t))return r;return-1},addSubMonomial:function(t,r){var s;s=this.findSignature(t.exponents),s>-1?this.monomials[s].coefficient+=r*t.coefficient:(t.coefficient*=r,this.monomials.push(t))},add:function(t){var r;if(JXG$1.exists(t)&&t.ring===this.ring)if(JXG$1.isArray(t.exponents))this.addSubMonomial(t,1);else for(r=0;r<t.monomials.length;r++)this.addSubMonomial(t.monomials[r],1);else throw new Error("JSXGraph error: In JXG.Math.Poly.polynomial.add either summand is undefined or rings don't match.")},sub:function(t){var r;if(JXG$1.exists(t)&&t.ring===this.ring)if(JXG$1.isArray(t.exponents))this.addSubMonomial(t,-1);else for(r=0;r<t.monomials.length;r++)this.addSubMonomial(t.monomials[r],-1);else throw new Error("JSXGraph error: In JXG.Math.Poly.polynomial.sub either summand is undefined or rings don't match.")},copy:function(){var t,r;for(r=new Mat.Poly.Polynomial(this.ring),t=0;t<this.monomials.length;t++)r.monomials.push(this.monomials[t].copy());return r},print:function(){var t=[],r;for(r=0;r<this.monomials.length;r++)t.push("("+this.monomials[r].print()+")");return t.join("+")}});Mat.Poly;JXG$1.Complex=function(t,r){this.isComplex=!0,t&&t.isComplex&&(r=t.imaginary,t=t.real),this.real=t||0,this.imaginary=r||0,this.absval=0,this.angle=0};JXG$1.extend(JXG$1.Complex.prototype,{toString:function(){return this.real+" + "+this.imaginary+"i"},add:function(t){return JXG$1.isNumber(t)?this.real+=t:(this.real+=t.real,this.imaginary+=t.imaginary),this},sub:function(t){return JXG$1.isNumber(t)?this.real-=t:(this.real-=t.real,this.imaginary-=t.imaginary),this},mult:function(t){var r,s;return JXG$1.isNumber(t)?(this.real*=t,this.imaginary*=t):(r=this.real,s=this.imaginary,this.real=r*t.real-s*t.imaginary,this.imaginary=r*t.imaginary+s*t.real),this},div:function(t){var r,s,n;if(JXG$1.isNumber(t)){if(Math.abs(t)<Math.eps)return this.real=1/0,this.imaginary=1/0,this;this.real/=t,this.imaginary/=t}else{if(Math.abs(t.real)<Math.eps&&Math.abs(t.imaginary)<Math.eps)return this.real=1/0,this.imaginary=1/0,this;r=t.real*t.real+t.imaginary*t.imaginary,n=this.real,s=this.imaginary,this.real=(n*t.real+s*t.imaginary)/r,this.imaginary=(s*t.real-n*t.imaginary)/r}return this},conj:function(){return this.imaginary*=-1,this}});JXG$1.C={};JXG$1.C.add=function(t,r){var s=new JXG$1.Complex(t);return s.add(r),s};JXG$1.C.sub=function(t,r){var s=new JXG$1.Complex(t);return s.sub(r),s};JXG$1.C.mult=function(t,r){var s=new JXG$1.Complex(t);return s.mult(r),s};JXG$1.C.div=function(t,r){var s=new JXG$1.Complex(t);return s.div(r),s};JXG$1.C.conj=function(t){var r=new JXG$1.Complex(t);return r.conj(),r};JXG$1.C.abs=function(t){var r=new JXG$1.Complex(t);return r.conj(),r.mult(t),Math.sqrt(r.real)};JXG$1.Complex.C=JXG$1.C;const Complex=JXG$1.Complex;var simpleColors={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"},colorDefs=[{re:/^\s*rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*([\d.]{1,3})\s*\)\s*$/,example:["rgba(123, 234, 45, 0.5)","rgba(255,234,245,1.0)"],process:function(t){return[parseInt(t[1],10),parseInt(t[2],10),parseInt(t[3],10)]}},{re:/^\s*rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)\s*$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(t){return[parseInt(t[1],10),parseInt(t[2],10),parseInt(t[3],10)]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}}];JXG$1.rgbParser=function(t,r,s){var n,a,o,l,u,f,c,h,d,p=t,v;if(!JXG$1.exists(t))return[];if(JXG$1.exists(r)&&JXG$1.exists(s)&&(p=[t,r,s]),n=p,v=!1,JXG$1.isArray(n)){for(f=0;f<3;f++)v=v||/\./.test(p[f].toString());for(f=0;f<3;f++)v=v&&p[f]>=0&&p[f]<=1;return v?[Math.ceil(p[0]*255),Math.ceil(p[1]*255),Math.ceil(p[2]*255)]:p}for(typeof p=="string"&&(n=p),n.charAt(0)==="#"&&(n=n.substr(1,6)),n=n.replace(/ /g,"").toLowerCase(),n=simpleColors[n]||n,f=0;f<colorDefs.length;f++)o=colorDefs[f].re,l=colorDefs[f].process,u=o.exec(n),u&&(a=l(u),c=a[0],h=a[1],d=a[2]);return isNaN(c)||isNaN(h)||isNaN(d)?[]:(c=c<0||isNaN(c)?0:c>255?255:c,h=h<0||isNaN(h)?0:h>255?255:h,d=d<0||isNaN(d)?0:d>255?255:d,[c,h,d])};JXG$1.rgb2css=function(t,r,s){var n;return n=JXG$1.rgbParser(t,r,s),"rgb("+n[0]+", "+n[1]+", "+n[2]+")"};JXG$1.rgb2hex=function(t,r,s){var n,a,o;return n=JXG$1.rgbParser(t,r,s),a=n[1],o=n[2],n=n[0],n=n.toString(16),a=a.toString(16),o=o.toString(16),n.length===1&&(n="0"+n),a.length===1&&(a="0"+a),o.length===1&&(o="0"+o),"#"+n+a+o};JXG$1.hex2rgb=function(t){return JXG$1.deprecated("JXG.hex2rgb()","JXG.rgb2css()"),JXG$1.rgb2css(t)};JXG$1.hsv2rgb=function(t,r,s){var n,a,o,l,u,f,c,h,d;if(t=(t%360+360)%360,r===0)if(isNaN(t)||t<Mat.eps)n=s,a=s,o=s;else return"#ffffff";else switch(t>=360?f=0:f=t,f=f/60,u=Math.floor(f),l=f-u,c=s*(1-r),h=s*(1-r*l),d=s*(1-r*(1-l)),u){case 0:n=s,a=d,o=c;break;case 1:n=h,a=s,o=c;break;case 2:n=c,a=s,o=d;break;case 3:n=c,a=h,o=s;break;case 4:n=d,a=c,o=s;break;case 5:n=s,a=c,o=h;break}return n=Math.round(n*255).toString(16),n=n.length===2?n:n.length===1?"0"+n:"00",a=Math.round(a*255).toString(16),a=a.length===2?a:a.length===1?"0"+a:"00",o=Math.round(o*255).toString(16),o=o.length===2?o:o.length===1?"0"+o:"00",["#",n,a,o].join("")};JXG$1.rgb2hsv=function(t,r,s){var n,a,o,l,u,f,c,h,d,p,v,y,b;return n=JXG$1.rgbParser(t,r,s),a=n[1],o=n[2],n=n[0],l=n/255,u=a/255,f=o/255,y=Math.max(n,a,o),b=Math.min(n,a,o),c=y/255,h=b/255,v=c,p=0,v>0&&(p=(v-h)/v),d=1/(c-h),p>0&&(y===n?d=(u-f)*d:y===a?d=2+(f-l)*d:d=4+(l-u)*d),d*=60,d<0&&(d+=360),y===b&&(d=0),[d,p,v]};JXG$1.rgb2LMS=function(t,r,s){var n,a,o,l,u,f,c,h=[[.05059983,.08585369,.0095242],[.01893033,.08925308,.01370054],[.00292202,.00975732,.07145979]];return n=JXG$1.rgbParser(t,r,s),a=n[1],o=n[2],n=n[0],n=Math.pow(n,.476190476),a=Math.pow(a,.476190476),o=Math.pow(o,.476190476),l=n*h[0][0]+a*h[0][1]+o*h[0][2],u=n*h[1][0]+a*h[1][1]+o*h[1][2],f=n*h[2][0]+a*h[2][1]+o*h[2][2],c=[l,u,f],c.l=l,c.m=u,c.s=f,c};JXG$1.LMS2rgb=function(t,r,s){var n,a,o,l,u=[[30.830854,-29.832659,1.610474],[-6.481468,17.715578,-2.532642],[-.37569,-1.199062,14.273846]],f=function(c){for(var h=127,d=64;d>0;){if(Math.pow(h,.476190476)>c)h-=d;else{if(Math.pow(h+1,.476190476)>c)return h;h+=d}d/=2}return h===254&&13.994955247<c?255:h};return n=t*u[0][0]+r*u[0][1]+s*u[0][2],a=t*u[1][0]+r*u[1][1]+s*u[1][2],o=t*u[2][0]+r*u[2][1]+s*u[2][2],n=f(n),a=f(a),o=f(o),l=[n,a,o],l.r=n,l.g=a,l.b=o,l};JXG$1.rgba2rgbo=function(t){var r;return t.length===9&&t.charAt(0)==="#"?(r=parseInt(t.substr(7,2).toUpperCase(),16)/255,t=t.substr(0,7)):r=1,[t,r]};JXG$1.rgbo2rgba=function(t,r){var s;return t==="none"?t:(s=Math.round(r*255).toString(16),s.length===1&&(s="0"+s),t+s)};JXG$1.rgb2bw=function(t){var r,s,n,a="0123456789ABCDEF";return t==="none"||(n=JXG$1.rgbParser(t),r=Math.floor(.3*n[0]+.59*n[1]+.11*n[2]),s=a.charAt(r>>4&15)+a.charAt(r&15),t="#"+s+s+s),t};JXG$1.rgb2cb=function(t,r){var s,n,a,o,l,u,f,c,h,d,p,v,y,b="0123456789ABCDEF";if(t==="none")return t;switch(l=JXG$1.rgb2LMS(t),n=l[0],a=l[1],o=l[2],r=r.toLowerCase(),r){case"protanopia":f=-.06150039994295001,c=.08277001656812001,h=-.013200141220000003,d=.05858939668799999,p=-.07934519995360001,v=.013289415272000003,y=.6903216543277437,u=o/a,u<y?n=-(c*a+h*o)/f:n=-(p*a+v*o)/d;break;case"tritanopia":f=-.00058973116217,c=.007690316482,h=-.01011703519052,d=.025495080838999994,p=-.0422740347,v=.017005316784,y=.8349489908460004,u=a/n,u<y?o=-(f*n+c*a)/h:o=-(d*n+p*a)/v;break;default:f=-.06150039994295001,c=.08277001656812001,h=-.013200141220000003,d=.05858939668799999,p=-.07934519995360001,v=.013289415272000003,y=.5763833686400911,u=o/n,u<y?a=-(f*n+h*o)/c:a=-(d*n+v*o)/p;break}return s=JXG$1.LMS2rgb(n,a,o),u=b.charAt(s[0]>>4&15)+b.charAt(s[0]&15),t="#"+u,u=b.charAt(s[1]>>4&15)+b.charAt(s[1]&15),t+=u,u=b.charAt(s[2]>>4&15)+b.charAt(s[2]&15),t+=u,t};JXG$1.autoHighlight=function(t){var r=JXG$1.rgba2rgbo(t),s=r[0],n=r[1];return t.charAt(0)==="#"?(n<.3?n*=1.8:n*=.4,JXG$1.rgbo2rgba(s,n)):t};JXG$1.contrast=function(t,r,s,n){var a,o="#000000",l,u,f,c;return r=r||"#000000",s=s||"#ffffff",n=n||7,a=JXG$1.rgbParser(t),l=JXG$1.rgbParser(o),u=.2126*Math.pow(a[0]/255,2.2)+.7152*Math.pow(a[1]/255,2.2)+.0722*Math.pow(a[2]/255,2.2),f=.2126*Math.pow(l[0]/255,2.2)+.7152*Math.pow(l[1]/255,2.2)+.0722*Math.pow(l[2]/255,2.2),u>f?c=Math.floor((u+.05)/(f+.05)):c=Math.floor((f+.05)/(u+.05)),c=c-1,c>n?r:s};JXG$1.setClassicColors=function(){JXG$1.Options.elements.strokeColor="blue",JXG$1.Options.elements.fillColor="red",JXG$1.Options.hatch.strokeColor="blue",JXG$1.Options.angle.fillColor="#ff7f00",JXG$1.Options.angle.highlightFillColor="#ff7f00",JXG$1.Options.angle.strokeColor="#ff7f00",JXG$1.Options.angle.label.strokeColor="blue",JXG$1.Options.arc.strokeColor="blue",JXG$1.Options.circle.center.fillColor="red",JXG$1.Options.circle.center.strokeColor="blue",JXG$1.Options.circumcircle.strokeColor="blue",JXG$1.Options.circumcircle.center.fillColor="red",JXG$1.Options.circumcircle.center.strokeColor="blue",JXG$1.Options.circumcirclearc.strokeColor="blue",JXG$1.Options.circumcirclesector.strokeColor="blue",JXG$1.Options.circumcirclesector.fillColor="green",JXG$1.Options.circumcirclesector.highlightFillColor="green",JXG$1.Options.conic.strokeColor="blue",JXG$1.Options.curve.strokeColor="blue",JXG$1.Options.incircle.strokeColor="blue",JXG$1.Options.incircle.center.fillColor="red",JXG$1.Options.incircle.center.strokeColor="blue",JXG$1.Options.inequality.fillColor="red",JXG$1.Options.integral.fillColor="red",JXG$1.Options.integral.curveLeft.color="red",JXG$1.Options.integral.curveRight.color="red",JXG$1.Options.line.strokeColor="blue",JXG$1.Options.point.fillColor="red",JXG$1.Options.point.strokeColor="red",JXG$1.Options.polygon.fillColor="green",JXG$1.Options.polygon.highlightFillColor="green",JXG$1.Options.polygon.vertices.strokeColor="red",JXG$1.Options.polygon.vertices.fillColor="red",JXG$1.Options.regularpolygon.fillColor="green",JXG$1.Options.regularpolygon.highlightFillColor="green",JXG$1.Options.regularpolygon.vertices.strokeColor="red",JXG$1.Options.regularpolygon.vertices.fillColor="red",JXG$1.Options.riemannsum.fillColor="yellow",JXG$1.Options.sector.fillColor="green",JXG$1.Options.sector.highlightFillColor="green",JXG$1.Options.semicircle.center.fillColor="red",JXG$1.Options.semicircle.center.strokeColor="blue",JXG$1.Options.slopetriangle.fillColor="red",JXG$1.Options.slopetriangle.highlightFillColor="red",JXG$1.Options.turtle.arrow.strokeColor="blue"};JXG$1.extend(JXG$1,{paletteWong:{black:"#000000",orange:"#E69F00",skyblue:"#56B4E9",bluishgreen:"#009E73",yellow:"#F0E442",darkblue:"#0072B2",vermillion:"#D55E00",reddishpurple:"#CC79A7",blue:"#0072B2",red:"#D55E00",green:"#009E73",purple:"#CC79A7",white:"#ffffff"}});JXG$1.palette=JXG$1.paletteWong;JXG$1.Options={jc:{enabled:!0,compile:!0},board:{animationDelay:35,axis:!1,boundingBox:[-5,5,5,-5],browserPan:!1,defaultAxes:{x:{name:"x",fixed:!0,ticks:{label:{visible:"inherit",anchorX:"middle",anchorY:"top",fontSize:12,offset:[0,-3]},tickEndings:[0,1],majorTickEndings:[1,1],drawZero:!1,needsRegularUpdate:!1,visible:"inherit"}},y:{name:"y",fixed:!0,ticks:{label:{visible:"inherit",anchorX:"right",anchorY:"middle",fontSize:12,offset:[-6,0]},tickEndings:[1,0],majorTickEndings:[1,1],drawZero:!1,needsRegularUpdate:!1,visible:"inherit"}}},description:"",document:!1,drag:{enabled:!0},fullscreen:{symbol:'<svg height="1em" width="1em" version="1.1" viewBox="10 10 18 18"><path fill="#666" d="m 10,16 2,0 0,-4 4,0 0,-2 L 10,10 l 0,6 0,0 z"></path><path fill="#666" d="m 20,10 0,2 4,0 0,4 2,0 L 26,10 l -6,0 0,0 z"></path><path fill="#666" d="m 24,24 -4,0 0,2 L 26,26 l 0,-6 -2,0 0,4 0,0 z"></path><path fill="#666" d="M 12,20 10,20 10,26 l 6,0 0,-2 -4,0 0,-4 0,0 z"></path></svg>',scale:.85,id:null},ignoreLabels:!0,intl:{enabled:!1},keepAspectRatio:!1,keyboard:{enabled:!0,dx:10,dy:10,panShift:!0,panCtrl:!1},logging:{enabled:!1},minimizeReflow:"none",maxBoundingBox:[-1/0,1/0,1/0,-1/0],maxFrameRate:40,maxNameLength:1,moveTarget:null,offsetX:0,offsetY:0,pan:{enabled:!0,needShift:!0,needTwoFingers:!1},registerEvents:!0,registerFullscreenEvent:!0,registerResizeEvent:!0,renderer:"auto",resize:{enabled:!0,throttle:10},screenshot:{scale:1,type:"png",symbol:"",css:"background-color:#eeeeee; opacity:1.0; border:2px solid black; border-radius:10px; text-align:center",cssButton:"padding: 4px 10px; border: solid #356AA0 1px; border-radius: 5px; position: absolute; right: 2ex; top: 2ex; background-color: rgba(255, 255, 255, 0.3);"},selection:{enabled:!1,name:"selectionPolygon",needShift:!1,needCtrl:!0,fillColor:"#ffff00",visible:!1,withLines:!1,vertices:{visible:!1}},showClearTraces:!1,showCopyright:!0,showFullscreen:!1,showInfobox:!0,showNavigation:!0,showReload:!1,showScreenshot:!1,showZoom:!0,takeFirst:!1,takeSizeFromFile:!1,title:"",zoom:{enabled:!0,factorX:1.25,factorY:1.25,wheel:!0,needShift:!0,min:1e-4,max:1e4,pinchHorizontal:!0,pinchVertical:!0,pinchSensitivity:7},zoomX:1,zoomY:1},navbar:{strokeColor:"#333333",fillColor:"transparent",highlightFillColor:"#aaaaaa",padding:"2px",position:"absolute",fontSize:"14px",cursor:"pointer",zIndex:"100",right:"5px",bottom:"5px"},elements:{strokeColor:JXG$1.palette.blue,highlightStrokeColor:"#c3d9ff",fillColor:JXG$1.palette.red,highlightFillColor:"none",strokeOpacity:1,highlightStrokeOpacity:1,fillOpacity:1,highlightFillOpacity:1,gradient:null,gradientSecondColor:"#ffffff",gradientSecondOpacity:1,gradientStartOffset:0,gradientEndOffset:1,gradientAngle:0,gradientCX:.5,gradientCY:.5,gradientR:.5,gradientFX:.5,gradientFY:.5,gradientFR:0,transitionDuration:100,transitionProperties:["fill","fill-opacity","stroke","stroke-opacity","stroke-width"],strokeWidth:2,highlightStrokeWidth:2,fixed:!1,frozen:!1,withLabel:!1,visible:!0,priv:!1,layer:0,lineCap:"butt",dash:0,shadow:{enabled:!1,color:[0,0,0],opacity:1,blur:3,blend:.1,offset:[5,5]},trace:!1,traceAttributes:{},highlight:!0,needsRegularUpdate:!0,snapToGrid:!1,scalable:!0,rotatable:!0,dragToTopOfLayer:!1,precision:"inherit",draft:{draft:!1,strokeColor:"#565656",fillColor:"#565656",strokeOpacity:.8,fillOpacity:.8,strokeWidth:1},isLabel:!1,tabindex:0,dashScale:!1},ticks:{generateLabelText:null,generateLabelValue:null,drawLabels:!1,label:{},beautifulScientificTickLabels:!1,useUnicodeMinus:!0,anchor:"left",drawZero:!1,insertTicks:!1,minTicksDistance:10,minorHeight:4,majorHeight:10,tickEndings:[1,1],majorTickEndings:[1,1],ignoreInfiniteTickEndings:!0,minorTicks:4,ticksPerLabel:!1,scale:1,scaleSymbol:"",labels:[],maxLabelLength:5,precision:3,digits:3,ticksDistance:1,face:"|",strokeOpacity:1,strokeWidth:1,strokeColor:"#000000",highlightStrokeColor:"#888888",fillColor:"none",highlightFillColor:"none",visible:"inherit",includeBoundaries:!1,type:"linear",intl:{enabled:"inherit",options:{}},minorTicksInArrow:!1,majorTicksInArrow:!0,labelInArrow:!0,minorTicksInMargin:!1,majorTicksInMargin:!0,labelInMargin:!0},hatch:{drawLabels:!1,drawZero:!0,majorHeight:20,anchor:"middle",face:"|",strokeWidth:2,strokeColor:JXG$1.palette.blue,ticksDistance:.2},precision:{touch:30,touchMax:100,mouse:4,pen:4,epsilon:1e-4,hasPoint:4},layer:{numlayers:20,unused9:19,unused8:18,unused7:17,unused6:16,unused5:15,unused4:14,unused3:13,unused2:12,unused1:11,unused0:10,text:9,point:9,glider:9,arc:8,line:7,circle:6,curve:5,turtle:5,polygon:3,sector:3,angle:3,integral:3,axis:2,ticks:2,grid:1,image:0,trace:0},angle:{withLabel:!0,radius:"auto",type:"sector",orthoType:"square",orthoSensitivity:1,fillColor:JXG$1.palette.orange,highlightFillColor:JXG$1.palette.orange,strokeColor:JXG$1.palette.orange,fillOpacity:.3,highlightFillOpacity:.3,radiuspoint:{withLabel:!1,visible:!1,name:""},pointsquare:{withLabel:!1,visible:!1,name:""},dot:{visible:!1,strokeColor:"none",fillColor:"#000000",size:2,face:"o",withLabel:!1,name:""},label:{position:"top",offset:[0,0],strokeColor:JXG$1.palette.blue},arc:{visible:!1,fillColor:"none"}},arc:{selection:"auto",hasInnerPoints:!1,label:{anchorX:"auto",anchorY:"auto"},firstArrow:!1,lastArrow:!1,fillColor:"none",highlightFillColor:"none",strokeColor:JXG$1.palette.blue,highlightStrokeColor:"#c3d9ff",useDirection:!1,center:{},radiusPoint:{},anglePoint:{}},arrow:{firstArrow:!1,lastArrow:{type:1,highlightSize:6,size:6}},arrowparallel:{},axis:{name:"",needsRegularUpdate:!1,strokeWidth:1,lastArrow:{type:1,highlightSize:8,size:8},strokeColor:"#666666",highlightStrokeWidth:1,highlightStrokeColor:"#888888",withTicks:!0,straightFirst:!0,straightLast:!0,margin:-4,withLabel:!1,scalable:!1,ticks:{label:{offset:[4,-9],parse:!1,needsRegularUpdate:!1,display:"internal",visible:"inherit",layer:9},visible:"inherit",needsRegularUpdate:!1,strokeWidth:1,strokeColor:"#666666",highlightStrokeColor:"#888888",drawLabels:!0,drawZero:!1,insertTicks:!0,minTicksDistance:5,minorHeight:10,majorHeight:-1,tickEndings:[0,1],majorTickEndings:[1,1],minorTicks:4,ticksDistance:1,strokeOpacity:.25},point1:{needsRegularUpdate:!1,visible:!1},point2:{needsRegularUpdate:!1,visible:!1},tabindex:-1,label:{position:"lft",offset:[10,10]}},bisector:{strokeColor:"#000000",point:{visible:!1,fixed:!1,withLabel:!1,name:""}},bisectorlines:{line1:{strokeColor:"#000000"},line2:{strokeColor:"#000000"}},boxplot:{dir:"vertical",smallWidth:.5,strokeWidth:2,strokeColor:JXG$1.palette.blue,fillColor:JXG$1.palette.blue,fillOpacity:.2,highlightStrokeWidth:2,highlightStrokeColor:JXG$1.palette.blue,highlightFillColor:JXG$1.palette.blue,highlightFillOpacity:.1},button:{disabled:!1,display:"html"},cardinalspline:{createPoints:!0,isArrayOfCoordinates:!0,points:{strokeOpacity:.05,fillOpacity:.05,highlightStrokeOpacity:1,highlightFillOpacity:1,withLabel:!1,name:"",fixed:!1}},chart:{chartStyle:"line",colors:["#B02B2C","#3F4C6B","#C79810","#D15600","#FFFF88","#c3d9ff","#4096EE","#008C00"],highlightcolors:null,fillcolor:null,highlightonsector:!1,highlightbysize:!1,fillOpacity:.6,withLines:!1,label:{}},checkbox:{disabled:!1,checked:!1,display:"html"},circle:{hasInnerPoints:!1,fillColor:"none",highlightFillColor:"none",strokeColor:JXG$1.palette.blue,highlightStrokeColor:"#c3d9ff",center:{visible:!1,withLabel:!1,fixed:!1,fillColor:JXG$1.palette.red,strokeColor:JXG$1.palette.red,highlightFillColor:"#c3d9ff",highlightStrokeColor:"#c3d9ff",layer:9,name:""},point2:{fillColor:JXG$1.palette.red,strokeColor:JXG$1.palette.red,highlightFillColor:"#c3d9ff",highlightStrokeColor:"#c3d9ff",layer:9,visible:!1,withLabel:!1,fixed:!1,name:""},label:{position:"urt"}},circumcircle:{fillColor:"none",highlightFillColor:"none",strokeColor:JXG$1.palette.blue,highlightStrokeColor:"#c3d9ff",center:{visible:!1,fixed:!1,withLabel:!1,fillColor:JXG$1.palette.red,strokeColor:JXG$1.palette.red,highlightFillColor:"#c3d9ff",highlightStrokeColor:"#c3d9ff",name:""}},circumcirclearc:{fillColor:"none",highlightFillColor:"none",strokeColor:JXG$1.palette.blue,highlightStrokeColor:"#c3d9ff",center:{visible:!1,withLabel:!1,fixed:!1,name:""}},circumcirclesector:{useDirection:!0,fillColor:JXG$1.palette.yellow,highlightFillColor:JXG$1.palette.yellow,fillOpacity:.3,highlightFillOpacity:.3,strokeColor:JXG$1.palette.blue,highlightStrokeColor:"#c3d9ff",point:{visible:!1,fixed:!1,withLabel:!1,name:""}},comb:{frequency:.2,width:.4,angle:Math.PI/3,reverse:!1,point1:{visible:!1,withLabel:!1,fixed:!1,name:""},point2:{visible:!1,withLabel:!1,fixed:!1,name:""},strokeWidth:1,strokeColor:"#0000ff",fillColor:"none"},conic:{fillColor:"none",highlightFillColor:"none",strokeColor:JXG$1.palette.blue,highlightStrokeColor:"#c3d9ff",foci:{fixed:!1,visible:!1,withLabel:!1,name:""},center:{visible:!1,withLabel:!1,name:""},point:{withLabel:!1,name:""},line:{visible:!1}},curve:{strokeWidth:1,strokeColor:JXG$1.palette.blue,fillColor:"none",fixed:!0,useQDT:!1,handDrawing:!1,curveType:null,RDPsmoothing:!1,numberPointsHigh:1600,numberPointsLow:400,doAdvancedPlot:!0,recursionDepthHigh:17,recursionDepthLow:15,doAdvancedPlotOld:!1,plotVersion:2,label:{position:"lft"},firstArrow:!1,lastArrow:!1},foreignobject:{fixed:!0,visible:!0,needsRegularUpdate:!1,attractors:[]},glider:{label:{}},grid:{needsRegularUpdate:!1,hasGrid:!1,gridX:1,gridY:1,strokeColor:"#c0c0c0",strokeOpacity:.5,strokeWidth:1,dash:0,snapToGrid:!1,snapSizeX:10,snapSizeY:10},group:{needsRegularUpdate:!0},htmlslider:{widthRange:100,widthOut:34,step:.01,frozen:!0,isLabel:!1,strokeColor:"#000000",display:"html",anchorX:"left",anchorY:"middle",withLabel:!1},image:{imageString:null,fillOpacity:1,highlightFillOpacity:.6,cssClass:"JXGimage",highlightCssClass:"JXGimageHighlight",rotate:0,snapSizeX:1,snapSizeY:1,attractors:[]},incircle:{fillColor:"none",highlightFillColor:"none",strokeColor:JXG$1.palette.blue,highlightStrokeColor:"#c3d9ff",center:{visible:!1,fixed:!1,withLabel:!1,fillColor:JXG$1.palette.red,strokeColor:JXG$1.palette.red,highlightFillColor:"#c3d9ff",highlightStrokeColor:"#c3d9ff",name:""}},inequality:{fillColor:JXG$1.palette.red,fillOpacity:.2,strokeColor:"none",inverse:!1},infobox:{distanceX:-20,distanceY:25,intl:{enabled:"inherit",options:{}},fontSize:12,isLabel:!1,strokeColor:"#bbbbbb",display:"html",anchorX:"left",anchorY:"middle",cssClass:"JXGinfobox",rotate:0,visible:!0,parse:!1,transitionDuration:0,needsRegularUpdate:!1,tabindex:null},integral:{axis:"x",withLabel:!0,fixed:!0,strokeWidth:0,strokeOpacity:0,fillColor:JXG$1.palette.red,fillOpacity:.3,highlightFillColor:JXG$1.palette.red,highlightFillOpacity:.2,curveLeft:{visible:!0,withLabel:!1,color:JXG$1.palette.red,fillOpacity:.8,layer:9},baseLeft:{visible:!1,fixed:!1,withLabel:!1,name:""},curveRight:{visible:!0,withLabel:!1,color:JXG$1.palette.red,fillOpacity:.8,layer:9},baseRight:{visible:!1,fixed:!1,withLabel:!1,name:""},label:{fontSize:20,digits:4,intl:{enabled:!1,options:{}}}},input:{disabled:!1,maxlength:524288,display:"html"},intersection:{alwaysIntersect:!0},label:{visible:"inherit",strokeColor:"#000000",strokeOpacity:1,highlightStrokeOpacity:.666666,highlightStrokeColor:"#000000",fixed:!0,position:"urt",offset:[10,10],autoPosition:!1,autoPositionMinDistance:12,autoPositionMaxDistance:28},legend:{style:"vertical",labels:["1","2","3","4","5","6","7","8"],colors:["#B02B2C","#3F4C6B","#C79810","#D15600","#FFFF88","#c3d9ff","#4096EE","#008C00"],rowHeight:20,strokeWidth:5},line:{firstArrow:!1,lastArrow:!1,margin:0,straightFirst:!0,straightLast:!0,fillColor:"none",highlightFillColor:"none",strokeColor:JXG$1.palette.blue,highlightStrokeColor:"#c3d9ff",withTicks:!1,point1:{fillColor:JXG$1.palette.red,strokeColor:JXG$1.palette.red,highlightFillColor:"#c3d9ff",highlightStrokeColor:"#c3d9ff",layer:9,visible:!1,withLabel:!1,fixed:!1,name:""},point2:{fillColor:JXG$1.palette.red,strokeColor:JXG$1.palette.red,highlightFillColor:"#c3d9ff",highlightStrokeColor:"#c3d9ff",layer:9,visible:!1,withLabel:!1,fixed:!1,name:""},ticks:{drawLabels:!0,label:{offset:[4,-9]},drawZero:!1,insertTicks:!1,ticksDistance:1,minTicksDistance:50,minorHeight:4,majorHeight:-1,minorTicks:4,strokeOpacity:.3,visible:"inherit"},label:{position:"llft"},snapToGrid:!1,snapSizeX:1,snapSizeY:1,touchFirstPoint:!1,touchLastPoint:!1},locus:{translateToOrigin:!1,translateTo10:!1,stretch:!1,toOrigin:null,to10:null},metapostspline:{createPoints:!0,isArrayOfCoordinates:!0,points:{strokeOpacity:.5,fillOpacity:.5,highlightStrokeOpacity:1,highlightFillOpacity:1,withLabel:!1,name:"",fixed:!1}},mirrorelement:{fixed:!0,point:{},center:{},type:"Euclidean"},nonreflexangle:{},normal:{strokeColor:"#000000",point:{visible:!1,fixed:!1,withLabel:!1,name:""}},orthogonalprojection:{},parallel:{strokeColor:"#000000",point:{visible:!1,fixed:!1,withLabel:!1,name:""},label:{position:"llft"}},parallelpoint:{},perpendicular:{strokeColor:"#000000",straightFirst:!0,straightLast:!0},perpendicularsegment:{strokeColor:"#000000",straightFirst:!1,straightLast:!1,point:{visible:!1,fixed:!0,withLabel:!1,name:""}},point:{withLabel:!0,label:{},style:5,face:"o",size:3,sizeUnit:"screen",strokeWidth:2,transitionProperties:["fill","fill-opacity","stroke","stroke-opacity","stroke-width","width","height","rx","ry"],fillColor:JXG$1.palette.red,strokeColor:JXG$1.palette.red,highlightFillColor:"#c3d9ff",highlightStrokeColor:"#c3d9ff",zoom:!1,showInfobox:"inherit",infoboxDigits:"auto",draft:!1,attractors:[],attractorUnit:"user",attractorDistance:0,snatchDistance:0,snapToGrid:!1,attractToGrid:!1,snapSizeX:1,snapSizeY:1,snapToPoints:!1,ignoredSnapToPoints:[]},polygon:{hasInnerPoints:!1,fillColor:JXG$1.palette.yellow,highlightFillColor:JXG$1.palette.yellow,fillOpacity:.3,highlightFillOpacity:.2,withLines:!0,borders:{withLabel:!1,strokeWidth:1,highlightStrokeWidth:1,layer:5,label:{position:"top"},visible:"inherit"},highlightByStrokeWidth:!1,vertices:{layer:9,withLabel:!1,name:"",strokeColor:JXG$1.palette.red,fillColor:JXG$1.palette.red,fixed:!1,visible:"inherit"},label:{offset:[0,0]}},polygonalchain:{fillColor:"none",highlightFillColor:"none"},prescribedangle:{anglePoint:{size:2,visible:!1,withLabel:!1}},reflection:{fixed:!0,center:{},type:"Euclidean"},reflexangle:{},regularpolygon:{hasInnerPoints:!1,fillColor:JXG$1.palette.yellow,highlightFillColor:JXG$1.palette.yellow,fillOpacity:.3,highlightFillOpacity:.2,withLines:!0,borders:{withLabel:!1,strokeWidth:1,highlightStrokeWidth:1,layer:5,label:{position:"top"}},vertices:{layer:9,withLabel:!0,strokeColor:JXG$1.palette.red,fillColor:JXG$1.palette.red,fixed:!1},label:{offset:[0,0]}},riemannsum:{withLabel:!1,fillOpacity:.3,fillColor:JXG$1.palette.yellow},sector:{fillColor:JXG$1.palette.yellow,highlightFillColor:JXG$1.palette.yellow,fillOpacity:.3,highlightFillOpacity:.3,highlightOnSector:!1,highlightStrokeWidth:0,selection:"auto",arc:{visible:!1,fillColor:"none"},radiusPoint:{visible:!1,withLabel:!1},center:{visible:!1,withLabel:!1},anglePoint:{visible:!1,withLabel:!1},label:{offset:[0,0],anchorX:"auto",anchorY:"auto"}},segment:{label:{position:"top"}},semicircle:{center:{visible:!1,withLabel:!1,fixed:!1,fillColor:JXG$1.palette.red,strokeColor:JXG$1.palette.red,highlightFillColor:"#eeeeee",highlightStrokeColor:JXG$1.palette.red,name:""}},slider:{snapWidth:-1,snapValues:[],snapValueDistance:0,precision:2,digits:2,intl:{enabled:"inherit",options:{}},firstArrow:!1,lastArrow:!1,withTicks:!0,withLabel:!0,suffixLabel:null,unitLabel:null,postLabel:null,layer:9,showInfobox:!1,name:"",visible:!0,strokeColor:"#000000",highlightStrokeColor:"#888888",fillColor:"#ffffff",highlightFillColor:"none",size:6,point1:{needsRegularUpdate:!1,showInfobox:!1,withLabel:!1,visible:!1,fixed:!0,name:""},point2:{needsRegularUpdate:!1,showInfobox:!1,withLabel:!1,visible:!1,fixed:!0,name:""},baseline:{needsRegularUpdate:!1,visible:"inherit",fixed:!0,scalable:!1,tabindex:null,name:"",strokeWidth:1,strokeColor:"#000000",highlightStrokeColor:"#888888"},ticks:{needsRegularUpdate:!1,fixed:!0,drawLabels:!1,digits:2,includeBoundaries:!0,drawZero:!0,label:{offset:[-4,-14],display:"internal"},minTicksDistance:30,insertTicks:!0,ticksDistance:1,minorHeight:4,majorHeight:5,minorTicks:0,strokeOpacity:1,strokeWidth:1,tickEndings:[0,1],majortickEndings:[0,1],strokeColor:"#000000",visible:"inherit"},highline:{strokeWidth:3,visible:"inherit",fixed:!0,tabindex:null,name:"",strokeColor:"#000000",highlightStrokeColor:"#888888"},label:{visible:"inherit",strokeColor:"#000000"},moveOnUp:!0},slopefield:{strokeWidth:.5,highlightStrokeWidth:.5,highlightStrokeColor:JXG$1.palette.blue,highlightStrokeOpacity:.8,scale:1,arrowhead:{enabled:!1,size:5,angle:Math.PI*.125}},slopetriangle:{fillColor:JXG$1.palette.red,fillOpacity:.4,highlightFillColor:JXG$1.palette.red,highlightFillOpacity:.3,borders:{lastArrow:{type:1,size:6}},glider:{fixed:!0,visible:!1,withLabel:!1},baseline:{visible:!1,withLabel:!1,name:""},basepoint:{visible:!1,withLabel:!1,name:""},tangent:{visible:!1,withLabel:!1,name:""},toppoint:{visible:!1,withLabel:!1,name:""},label:{visible:!0}},smartlabelangle:{cssClass:"smart-label-solid smart-label-angle",highlightCssClass:"smart-label-solid smart-label-angle",anchorX:"left",anchorY:"middle",unit:"",prefix:"",suffix:"",measure:"deg",useMathJax:!0},smartlabelcircle:{cssClass:"smart-label-solid smart-label-circle",highlightCssClass:"smart-label-solid smart-label-circle",anchorX:"middle",useMathJax:!0,unit:"",prefix:"",suffix:"",measure:"radius"},smartlabelline:{cssClass:"smart-label-solid smart-label-line",highlightCssClass:"smart-label-solid smart-label-line",anchorX:"middle",useMathJax:!0,unit:"",measure:"length"},smartlabelpoint:{cssClass:"smart-label-solid smart-label-point",highlightCssClass:"smart-label-solid smart-label-point",anchorX:"middle",anchorY:"top",useMathJax:!0,dir:"row",unit:""},smartlabelpolygon:{cssClass:"smart-label-solid smart-label-polygon",highlightCssClass:"smart-label-solid smart-label-polygon",anchorX:"middle",useMathJax:!0,unit:"",measure:"area"},stepfunction:{},tangent:{},tapemeasure:{strokeColor:"#000000",strokeWidth:2,highlightStrokeColor:"#000000",withTicks:!0,withLabel:!0,rotate:0,precision:2,digits:2,point1:{visible:"inherit",strokeColor:"#000000",fillColor:"#ffffff",fillOpacity:0,highlightFillOpacity:.1,size:6,snapToPoints:!0,attractorUnit:"screen",attractorDistance:20,showInfobox:!1,withLabel:!1,name:""},point2:{visible:"inherit",strokeColor:"#000000",fillColor:"#ffffff",fillOpacity:0,highlightFillOpacity:.1,size:6,snapToPoints:!0,attractorUnit:"screen",attractorDistance:20,showInfobox:!1,withLabel:!1,name:""},ticks:{drawLabels:!1,drawZero:!0,insertTicks:!0,ticksDistance:.1,minorHeight:8,majorHeight:16,minorTicks:4,tickEndings:[0,1],majorTickEndings:[0,1],strokeOpacity:1,strokeWidth:1,strokeColor:"#000000",visible:"inherit"},label:{position:"top"}},text:{fontSize:12,fontUnit:"px",digits:2,intl:{enabled:"inherit",options:{}},parse:!0,useCaja:!1,isLabel:!1,strokeColor:"#000000",highlightStrokeColor:"#000000",highlightStrokeOpacity:.666666,cssDefaultStyle:"font-family: Arial, Helvetica, Geneva, sans-serif;",highlightCssDefaultStyle:"font-family: Arial, Helvetica, Geneva, sans-serif;",cssStyle:"",highlightCssStyle:"",transitionProperties:["color","opacity"],useASCIIMathML:!1,useMathJax:!1,useKatex:!1,katexMacros:{},display:"html",anchor:null,anchorX:"left",anchorY:"middle",cssClass:"JXGtext",highlightCssClass:"JXGtext",dragArea:"all",withLabel:!1,rotate:0,visible:!0,snapSizeX:1,snapSizeY:1,attractors:[]},tracecurve:{strokeColor:"#000000",fillColor:"none",numberPoints:100},turtle:{strokeWidth:1,fillColor:"none",strokeColor:"#000000",arrow:{strokeWidth:2,withLabel:!1,strokeColor:JXG$1.palette.red,lastArrow:!0}},vectorfield:{strokeWidth:.5,highlightStrokeWidth:.5,highlightStrokeColor:JXG$1.palette.blue,highlightStrokeOpacity:.8,scale:1,arrowhead:{enabled:!0,size:5,angle:Math.PI*.125}},shortcuts:{color:["strokeColor","fillColor"],opacity:["strokeOpacity","fillOpacity"],highlightColor:["highlightStrokeColor","highlightFillColor"],highlightOpacity:["highlightStrokeOpacity","highlightFillOpacity"],strokeWidth:["strokeWidth","highlightStrokeWidth"]}};JXG$1.Validator=(function(){var t,r=function(v){return/^[0-9]+px$/.test(v)},s=function(v){return v==="html"||v==="internal"},n=function(v){return JXG$1.isString(v)},a=function(v){return JXG$1.exists(JXG$1.normalizePointFace(v))},o=function(v){return Math.abs(v-Math.round(v))<Mat.eps},l=function(v){return o(v)&&v>=0},u=function(v){return o(v)&&v>0},f=function(v){return v==="vml"||v==="svg"||v==="canvas"||v==="no"},c=function(v){return v>0},h=function(v){return v>=0},d={},p={attractorDistance:h,color:n,display:s,doAdvancedPlot:!1,draft:!1,drawLabels:!1,drawZero:!1,face:a,factor:JXG$1.isNumber,fillColor:n,fillOpacity:JXG$1.isNumber,firstArrow:!1,fontSize:o,dash:o,gridX:JXG$1.isNumber,gridY:JXG$1.isNumber,hasGrid:!1,highlightFillColor:n,highlightFillOpacity:JXG$1.isNumber,highlightStrokeColor:n,highlightStrokeOpacity:JXG$1.isNumber,insertTicks:!1,lastArrow:!1,layer:l,majorHeight:o,minorHeight:o,minorTicks:h,minTicksDistance:u,numberPointsHigh:u,numberPointsLow:u,opacity:JXG$1.isNumber,radius:JXG$1.isNumber,RDPsmoothing:!1,renderer:f,right:r,showCopyright:!1,showInfobox:!1,showNavigation:!1,size:h,snapSizeX:c,snapSizeY:c,snapWidth:JXG$1.isNumber,snapToGrid:!1,snatchDistance:h,straightFirst:!1,straightLast:!1,stretch:!1,strokeColor:n,strokeOpacity:JXG$1.isNumber,strokeWidth:h,takeFirst:!1,takeSizeFromFile:!1,to10:!1,toOrigin:!1,translateTo10:!1,translateToOrigin:!1,useASCIIMathML:!1,useDirection:!1,useMathJax:!1,withLabel:!1,withTicks:!1,zoom:!1};for(t in p)p.hasOwnProperty(t)&&(d[t.toLowerCase()]=p[t]);return d})();JXG$1.normalizePointFace=function(t){var r={cross:"x",x:"x",circle:"o",o:"o",square:"[]","[]":"[]",plus:"+","+":"+",divide:"|","|":"|",minus:"-","-":"-",diamond:"<>","<>":"<>",triangleup:"^",A:"^",a:"^","^":"^",triangledown:"v",v:"v",triangleleft:"<","<":"<",triangleright:">",">":">"};return r[t]};JXG$1.useStandardOptions=function(t){var r,s,n,a,o=JXG$1.Options,l=t.hasGrid;t.options.grid.hasGrid=o.grid.hasGrid,t.options.grid.gridX=o.grid.gridX,t.options.grid.gridY=o.grid.gridY,t.options.grid.gridColor=o.grid.gridColor,t.options.grid.gridOpacity=o.grid.gridOpacity,t.options.grid.gridDash=o.grid.gridDash,t.options.grid.snapToGrid=o.grid.snapToGrid,t.options.grid.snapSizeX=o.grid.SnapSizeX,t.options.grid.snapSizeY=o.grid.SnapSizeY,t.takeSizeFromFile=o.takeSizeFromFile,a=function(u,f){u.visProp.fillcolor=f.fillColor,u.visProp.highlightfillcolor=f.highlightFillColor,u.visProp.strokecolor=f.strokeColor,u.visProp.highlightstrokecolor=f.highlightStrokeColor};for(r in t.objects)if(t.objects.hasOwnProperty(r))if(n=t.objects[r],n.elementClass===Const.OBJECT_CLASS_POINT)a(n,o.point);else if(n.elementClass===Const.OBJECT_CLASS_LINE)for(a(n,o.line),s=0;s<n.ticks.length;s++)n.ticks[s].majorTicks=o.line.ticks.majorTicks,n.ticks[s].minTicksDistance=o.line.ticks.minTicksDistance,n.ticks[s].visProp.minorheight=o.line.ticks.minorHeight,n.ticks[s].visProp.majorheight=o.line.ticks.majorHeight;else n.elementClass===Const.OBJECT_CLASS_CIRCLE?a(n,o.circle):n.type===Const.OBJECT_TYPE_ANGLE?a(n,o.angle):n.type===Const.OBJECT_TYPE_ARC?a(n,o.arc):n.type===Const.OBJECT_TYPE_POLYGON?a(n,o.polygon):n.type===Const.OBJECT_TYPE_CONIC?a(n,o.conic):n.type===Const.OBJECT_TYPE_CURVE?a(n,o.curve):n.type===Const.OBJECT_TYPE_SECTOR&&(n.arc.visProp.fillcolor=o.sector.fillColor,n.arc.visProp.highlightfillcolor=o.sector.highlightFillColor,n.arc.visProp.fillopacity=o.sector.fillOpacity,n.arc.visProp.highlightfillopacity=o.sector.highlightFillOpacity);t.fullUpdate(),l&&!t.hasGrid?t.removeGrids(t):!l&&t.hasGrid&&t.create("grid",[])};JXG$1.useBlackWhiteOptions=function(t){var r=JXG$1.Options;r.point.fillColor=JXG$1.rgb2bw(r.point.fillColor),r.point.highlightFillColor=JXG$1.rgb2bw(r.point.highlightFillColor),r.point.strokeColor=JXG$1.rgb2bw(r.point.strokeColor),r.point.highlightStrokeColor=JXG$1.rgb2bw(r.point.highlightStrokeColor),r.line.fillColor=JXG$1.rgb2bw(r.line.fillColor),r.line.highlightFillColor=JXG$1.rgb2bw(r.line.highlightFillColor),r.line.strokeColor=JXG$1.rgb2bw(r.line.strokeColor),r.line.highlightStrokeColor=JXG$1.rgb2bw(r.line.highlightStrokeColor),r.circle.fillColor=JXG$1.rgb2bw(r.circle.fillColor),r.circle.highlightFillColor=JXG$1.rgb2bw(r.circle.highlightFillColor),r.circle.strokeColor=JXG$1.rgb2bw(r.circle.strokeColor),r.circle.highlightStrokeColor=JXG$1.rgb2bw(r.circle.highlightStrokeColor),r.arc.fillColor=JXG$1.rgb2bw(r.arc.fillColor),r.arc.highlightFillColor=JXG$1.rgb2bw(r.arc.highlightFillColor),r.arc.strokeColor=JXG$1.rgb2bw(r.arc.strokeColor),r.arc.highlightStrokeColor=JXG$1.rgb2bw(r.arc.highlightStrokeColor),r.polygon.fillColor=JXG$1.rgb2bw(r.polygon.fillColor),r.polygon.highlightFillColor=JXG$1.rgb2bw(r.polygon.highlightFillColor),r.sector.fillColor=JXG$1.rgb2bw(r.sector.fillColor),r.sector.highlightFillColor=JXG$1.rgb2bw(r.sector.highlightFillColor),r.curve.strokeColor=JXG$1.rgb2bw(r.curve.strokeColor),r.grid.gridColor=JXG$1.rgb2bw(r.grid.gridColor),JXG$1.useStandardOptions(t)};JXG$1.Options.normalizePointFace=JXG$1.normalizePointFace;const Options=JXG$1.Options;JXG$1.AbstractRenderer=function(){this.vOffsetText=0,this.enhancedRendering=!0,this.container=null,this.type="",this.supportsForeignObject=!1,this.dashArray=[[2,2],[5,5],[10,10],[20,20],[20,10,10,10],[20,5,10,5],[0,5]]};JXG$1.extend(JXG$1.AbstractRenderer.prototype,{_updateVisual:function(t,r,s){(s||this.enhancedRendering)&&(r=r||{},this.setObjectTransition(t),JXG$1.evaluate(t.visProp.draft)?this.setDraft(t):(r.stroke||(t.highlighted?(this.setObjectStrokeColor(t,t.visProp.highlightstrokecolor,t.visProp.highlightstrokeopacity),this.setObjectStrokeWidth(t,t.visProp.highlightstrokewidth)):(this.setObjectStrokeColor(t,t.visProp.strokecolor,t.visProp.strokeopacity),this.setObjectStrokeWidth(t,t.visProp.strokewidth))),r.fill||(t.highlighted?this.setObjectFillColor(t,t.visProp.highlightfillcolor,t.visProp.highlightfillopacity):this.setObjectFillColor(t,t.visProp.fillcolor,t.visProp.fillopacity)),r.dash||this.setDashStyle(t,t.visProp),r.shadow||this.setShadow(t),r.tabindex||this.setTabindex(t)))},_getHighlighted:function(t){var r=!1,s;return(!JXG$1.exists(t.board)||!JXG$1.exists(t.board.highlightedObjects))&&(r=!0),!r&&JXG$1.exists(t.board.highlightedObjects[t.id])?s="highlight":s="",s},drawPoint:function(t){var r,s=Options.normalizePointFace(JXG$1.evaluate(t.visProp.face));s==="o"?r="ellipse":s==="[]"?r="rect":r="path",t.rendNode=this.appendChildPrim(this.createPrim(r,t.id),JXG$1.evaluate(t.visProp.layer)),this.appendNodesToElement(t,r),this._updateVisual(t,{dash:!0,shadow:!0},!0),this.updatePoint(t)},updatePoint:function(t){var r=JXG$1.evaluate(t.visProp.size),s=Options.normalizePointFace(JXG$1.evaluate(t.visProp.face)),n=JXG$1.evaluate(t.visProp.sizeunit),a=JXG$1.evaluate(t.visProp.zoom),o;isNaN(t.coords.scrCoords[2]+t.coords.scrCoords[1])||(n==="user"&&(r*=Math.sqrt(Math.abs(t.board.unitX*t.board.unitY))),r*=!t.board||!a?1:Math.sqrt(t.board.zoomX*t.board.zoomY),o=r===0?0:r+1,s==="o"?this.updateEllipsePrim(t.rendNode,t.coords.scrCoords[1],t.coords.scrCoords[2],o,o):s==="[]"?this.updateRectPrim(t.rendNode,t.coords.scrCoords[1]-r,t.coords.scrCoords[2]-r,r*2,r*2):this.updatePathPrim(t.rendNode,this.updatePathStringPoint(t,r,s),t.board),this._updateVisual(t,{dash:!1,shadow:!1}),this.setShadow(t))},changePointStyle:function(t){var r=this.getElementById(t.id);JXG$1.exists(r)&&this.remove(r),this.drawPoint(t),JXG$1.clearVisPropOld(t),t.visPropCalc.visible||this.display(t,!1),JXG$1.evaluate(t.visProp.draft)&&this.setDraft(t)},drawLine:function(t){t.rendNode=this.appendChildPrim(this.createPrim("line",t.id),JXG$1.evaluate(t.visProp.layer)),this.appendNodesToElement(t,"lines"),this.updateLine(t)},updateLine:function(t){this._updateVisual(t),this.updatePathWithArrowHeads(t),this.setLineCap(t)},drawCurve:function(t){t.rendNode=this.appendChildPrim(this.createPrim("path",t.id),JXG$1.evaluate(t.visProp.layer)),this.appendNodesToElement(t,"path"),this.updateCurve(t)},updateCurve:function(t){this._updateVisual(t),this.updatePathWithArrowHeads(t),this.setLineCap(t)},updatePathWithArrowHeads:function(t,r){var s=t.visProp,n=r?"highlight":"",a,o;r&&s.highlightstrokewidth?a=Math.max(JXG$1.evaluate(s.highlightstrokewidth),JXG$1.evaluate(s.strokewidth)):a=JXG$1.evaluate(s.strokewidth),o=this.getArrowHeadData(t,a,n),this.makeArrows(t,o),t.elementClass===Const.OBJECT_CLASS_LINE?this.updateLineWithEndings(t,o):t.elementClass===Const.OBJECT_CLASS_CURVE&&this.updatePath(t),this.setArrowSize(t,o)},getArrowHeadData:function(t,r,s){var n=Mat.eps,a,o,l=0,u=0,f=0,c=0,h=JXG$1.evaluate(t.visProp.firstarrow),d=JXG$1.evaluate(t.visProp.lastarrow),p,v;return(h||d)&&(JXG$1.exists(h.type)?a=JXG$1.evaluate(h.type):t.elementClass===Const.OBJECT_CLASS_LINE?a=1:a=7,JXG$1.exists(d.type)?o=JXG$1.evaluate(d.type):t.elementClass===Const.OBJECT_CLASS_LINE?o=1:o=7,h&&(v=6,JXG$1.exists(h.size)&&(v=JXG$1.evaluate(h.size)),s!==""&&JXG$1.exists(h[s+"size"])&&(v=JXG$1.evaluate(h[s+"size"])),p=r*v,a===2?(p*=.5,n+=r*v):a===3?(p=r*v/3,n+=r):a===4||a===5||a===6?(p=r*v/1.5,n+=r*v):a===7?(p=0,v=10,n+=r):n+=r*v,l+=p,f=v),d&&(v=6,JXG$1.exists(d.size)&&(v=JXG$1.evaluate(d.size)),s!==""&&JXG$1.exists(d[s+"size"])&&(v=JXG$1.evaluate(d[s+"size"])),p=r*v,o===2?(p*=.5,n+=r*v):o===3?(p=r*v/3,n+=r):o===4||o===5||o===6?(p=r*v/1.5,n+=r*v):o===7?(p=0,v=10,n+=r):n+=r*v,u+=p,c=v)),t.visPropCalc.typeFirst=a,t.visPropCalc.typeLast=o,{evFirst:h,evLast:d,typeFirst:a,typeLast:o,offFirst:l,offLast:u,sizeFirst:f,sizeLast:c,showFirst:1,showLast:1,minLen:n,strokeWidth:r}},updateLineWithEndings:function(t,r){var s,n,a=null;return s=new Coords(Const.COORDS_BY_USER,t.point1.coords.usrCoords,t.board),n=new Coords(Const.COORDS_BY_USER,t.point2.coords.usrCoords,t.board),a=JXG$1.evaluate(t.visProp.margin),Geometry.calcStraight(t,s,n,a),this.handleTouchpoints(t,s,n,r),this.getPositionArrowHead(t,s,n,r),this.updateLinePrim(t.rendNode,s.scrCoords[1],s.scrCoords[2],n.scrCoords[1],n.scrCoords[2],t.board),this},updatePath:function(t){return JXG$1.evaluate(t.visProp.handdrawing)?this.updatePathPrim(t.rendNode,this.updatePathStringBezierPrim(t),t.board):this.updatePathPrim(t.rendNode,this.updatePathStringPrim(t),t.board),this},getPositionArrowHead:function(t,r,s,n){var a,o,l,u,f;return(n.evFirst||n.evLast)&&(o=l=u=f=0,a=r.distance(Const.COORDS_BY_SCREEN,s),n.evFirst&&t.board.renderer.type!=="vml"&&(a>=n.minLen?(o=(s.scrCoords[1]-r.scrCoords[1])*n.offFirst/a,l=(s.scrCoords[2]-r.scrCoords[2])*n.offFirst/a):n.showFirst=0),n.evLast&&t.board.renderer.type!=="vml"&&(a>=n.minLen?(u=(s.scrCoords[1]-r.scrCoords[1])*n.offLast/a,f=(s.scrCoords[2]-r.scrCoords[2])*n.offLast/a):n.showLast=0),r.setCoordinates(Const.COORDS_BY_SCREEN,[r.scrCoords[1]+o,r.scrCoords[2]+l],!1,!0),s.setCoordinates(Const.COORDS_BY_SCREEN,[s.scrCoords[1]-u,s.scrCoords[2]-f],!1,!0)),this},handleTouchpoints:function(t,r,s,n){var a,o,l,u,f,c,h;return(n.evFirst||n.evLast)&&(l=u=f=c=h=0,a=JXG$1.evaluate(t.point1.visProp.size)+JXG$1.evaluate(t.point1.visProp.strokewidth),o=JXG$1.evaluate(t.point2.visProp.size)+JXG$1.evaluate(t.point2.visProp.strokewidth),n.evFirst&&JXG$1.evaluate(t.visProp.touchfirstpoint)&&JXG$1.evaluate(t.point1.visProp.visible)&&(l=r.distance(Const.COORDS_BY_SCREEN,s),u=(s.scrCoords[1]-r.scrCoords[1])*a/l,f=(s.scrCoords[2]-r.scrCoords[2])*a/l),n.evLast&&JXG$1.evaluate(t.visProp.touchlastpoint)&&JXG$1.evaluate(t.point2.visProp.visible)&&(l=r.distance(Const.COORDS_BY_SCREEN,s),c=(s.scrCoords[1]-r.scrCoords[1])*o/l,h=(s.scrCoords[2]-r.scrCoords[2])*o/l),r.setCoordinates(Const.COORDS_BY_SCREEN,[r.scrCoords[1]+u,r.scrCoords[2]+f],!1,!0),s.setCoordinates(Const.COORDS_BY_SCREEN,[s.scrCoords[1]-c,s.scrCoords[2]-h],!1,!0)),this},setArrowSize:function(t,r){return r.evFirst&&this._setArrowWidth(t.rendNodeTriangleStart,r.showFirst*r.strokeWidth,t.rendNode,r.sizeFirst),r.evLast&&this._setArrowWidth(t.rendNodeTriangleEnd,r.showLast*r.strokeWidth,t.rendNode,r.sizeLast),this},setLineCap:function(t){},drawTicks:function(t){t.rendNode=this.appendChildPrim(this.createPrim("path",t.id),JXG$1.evaluate(t.visProp.layer)),this.appendNodesToElement(t,"path")},updateTicks:function(t){},drawEllipse:function(t){t.rendNode=this.appendChildPrim(this.createPrim("ellipse",t.id),JXG$1.evaluate(t.visProp.layer)),this.appendNodesToElement(t,"ellipse"),this.updateEllipse(t)},updateEllipse:function(t){this._updateVisual(t);var r=t.Radius();Math.abs(t.center.coords.usrCoords[0])>Mat.eps&&!isNaN(r+t.center.coords.scrCoords[1]+t.center.coords.scrCoords[2])&&r*t.board.unitX<2e6&&this.updateEllipsePrim(t.rendNode,t.center.coords.scrCoords[1],t.center.coords.scrCoords[2],r*t.board.unitX,r*t.board.unitY),this.setLineCap(t)},drawPolygon:function(t){t.rendNode=this.appendChildPrim(this.createPrim("polygon",t.id),JXG$1.evaluate(t.visProp.layer)),this.appendNodesToElement(t,"polygon"),this.updatePolygon(t)},updatePolygon:function(t){this._updateVisual(t,{stroke:!0,dash:!0}),this.updatePolygonPrim(t.rendNode,t)},displayCopyright:function(t,r){},drawInternalText:function(t){},updateInternalText:function(t){},drawText:function(t){var r,s,n,a;JXG$1.evaluate(t.visProp.display)==="html"&&JXG$1.isBrowser&&this.type!=="no"?(r=this.container.ownerDocument.createElement("div"),r.style.position="absolute",r.className=JXG$1.evaluate(t.visProp.cssclass),n=JXG$1.evaluate(t.visProp.layer),JXG$1.exists(n)||(n=0),this.container.style.zIndex===""?s=0:s=parseInt(this.container.style.zIndex,10),r.style.zIndex=s+n,this.container.appendChild(r),r.setAttribute("id",this.container.id+"_"+t.id)):r=this.drawInternalText(t),t.rendNode=r,t.htmlStr="",t.visProp.islabel&&JXG$1.exists(t.visProp.anchor)?(a=JXG$1.evaluate(t.visProp.anchor.visProp.visible),t.prepareUpdate().updateVisibility(a)):t.prepareUpdate().updateVisibility(),this.updateText(t)},updateText:function(t){var r=t.plaintext,s,n,a,o,l,u,f,c,h,d;if(t.visPropCalc.visible)if(this.updateTextStyle(t,!1),JXG$1.evaluate(t.visProp.display)==="html"&&this.type!=="no"){if(isNaN(t.coords.scrCoords[1]+t.coords.scrCoords[2])||(n=t.coords.scrCoords[1],n=Math.abs(n)<1e6?n:1e6,o=t.getAnchorX(),o==="right"?(s=t.board.canvasWidth-n,h="right"):o==="middle"?(s=n-.5*t.size[0],h="center"):(s=n,h="left"),t.visPropOld.left!==o+s&&(o==="right"?(t.rendNode.style.right=s+"px",t.rendNode.style.left="auto"):(t.rendNode.style.left=s+"px",t.rendNode.style.right="auto"),t.visPropOld.left=o+s),n=t.coords.scrCoords[2]+this.vOffsetText,n=Math.abs(n)<1e6?n:1e6,l=t.getAnchorY(),l==="bottom"?(s=t.board.canvasHeight-n,d="bottom"):l==="middle"?(s=n-.5*t.size[1],d="center"):(s=n,d="top"),t.visPropOld.top!==l+s&&(l==="bottom"?(t.rendNode.style.top="auto",t.rendNode.style.bottom=s+"px"):(t.rendNode.style.bottom="auto",t.rendNode.style.top=s+"px"),t.visPropOld.top=l+s)),t.htmlStr!==r){try{t.type===JXG$1.OBJECT_TYPE_BUTTON?t.rendNodeButton.innerHTML=r:t.type===JXG$1.OBJECT_TYPE_CHECKBOX||t.type===JXG$1.OBJECT_TYPE_INPUT?t.rendNodeLabel.innerHTML=r:t.rendNode.innerHTML=r}catch{a=t.rendNode.parentNode,t.rendNode.parentNode.removeChild(t.rendNode),t.rendNode.innerHTML=r,a.appendChild(t.rendNode)}if(t.htmlStr=r,JXG$1.evaluate(t.visProp.usemathjax))try{MathJax.typeset?MathJax.typeset([t.rendNode]):MathJax.Hub.Queue(["Typeset",MathJax.Hub,t.rendNode])}catch{JXG$1.debug("MathJax (not yet) loaded")}else if(JXG$1.evaluate(t.visProp.usekatex))try{katex.render(r,t.rendNode,{macros:JXG$1.evaluate(t.visProp.katexmacros),throwOnError:!1})}catch{JXG$1.debug("KaTeX not loaded (yet)")}else if(JXG$1.evaluate(t.visProp.useasciimathml))try{AMprocessNode(t.rendNode,!1)}catch{JXG$1.debug("AsciiMathML not loaded (yet)")}}u=JXG$1.evaluate(t.visProp.rotate),u!==0&&(u*=Math.PI/180,f=Math.cos(u),c=Math.sin(u),t.rendNode.style.transform="matrix("+[f,-1*c,c,f,0,0].join(",")+")",t.rendNode.style["transform-origin"]=h+" "+d),this.transformImage(t,t.transformations)}else this.updateInternalText(t)},_css2js:function(t){var r=[],s,n,a,o,l,u=JXG$1.trim(t).replace(/;$/,"").split(";");for(n=u.length,s=0;s<n;++s)JXG$1.trim(u[s])!==""&&(l=u[s].split(":"),a=JXG$1.trim(l[0].replace(/-([a-z])/gi,function(f,c){return c.toUpperCase()})),o=JXG$1.trim(l[1]),r.push({key:a,val:o}));return r},updateTextStyle:function(t,r){var s,n,a,o,l,u=t.visProp,f=JXG$1.isBrowser?u.display:"internal",c=["rendNode","rendNodeTag","rendNodeLabel"],h=c.length,d=JXG$1.evaluate(u.fontunit),p,v,y,b,w=["cssdefaultstyle","cssstyle"],x=w.length;if(r?(a=u.highlightstrokecolor,n=u.highlightstrokeopacity,o=u.highlightcssclass):(a=u.strokecolor,n=u.strokeopacity,o=u.cssclass),this.type!=="no"&&(f==="html"||this.type!=="canvas")){for(y=0;y<x;y++)if(b=JXG$1.evaluate(u[(r?"highlight":"")+w[y]]),b!==""&&t.visPropOld[w[y]]!==b){for(p=this._css2js(b),l=0;l<h;l++)if(JXG$1.exists(t[c[l]]))for(v in p)p.hasOwnProperty(v)&&(t[c[l]].style[p[v].key]=p[v].val);t.visPropOld[w[y]]=b}if(s=JXG$1.evaluate(u.fontsize),t.visPropOld.fontsize!==s){t.needsSizeUpdate=!0;try{for(l=0;l<h;l++)JXG$1.exists(t[c[l]])&&(t[c[l]].style.fontSize=s+d)}catch{for(l=0;l<h;l++)JXG$1.exists(t[c[l]])&&(t[c[l]].style.fontSize=s)}t.visPropOld.fontsize=s}}return this.setTabindex(t),this.setObjectTransition(t),f==="html"&&this.type!=="no"?(t.visPropOld.cssclass!==o&&(t.rendNode.className=o,t.visPropOld.cssclass=o,t.needsSizeUpdate=!0),this.setObjectStrokeColor(t,a,n)):this.updateInternalTextStyle(t,a,n),this},updateInternalTextStyle:function(t,r,s){this.setObjectStrokeColor(t,r,s)},drawImage:function(t){},updateImage:function(t){this.updateRectPrim(t.rendNode,t.coords.scrCoords[1],t.coords.scrCoords[2]-t.size[1],t.size[0],t.size[1]),this.updateImageURL(t),this.transformImage(t,t.transformations),this._updateVisual(t,{stroke:!0,dash:!0},!0)},joinTransforms:function(t,r){var s,n=t.board.origin.scrCoords[1],a=t.board.origin.scrCoords[2],o=t.board.unitX,l=t.board.unitY,u=r.length,f=[[1,0,0],[-n/o,1/o,0],[a/l,0,-1/l]];for(s=0;s<u;s++)f=Mat.matMatMult(r[s].matrix,f);return f=Mat.matMatMult([[1,0,0],[n,o,0],[a,0,-l]],f),f},transformImage:function(t,r){},updateImageURL:function(t){},updateImageStyle:function(t,r){t.rendNode.className=JXG$1.evaluate(r?t.visProp.highlightcssclass:t.visProp.cssclass)},drawForeignObject:function(t){},updateForeignObject:function(t){},appendChildPrim:function(t,r){},appendNodesToElement:function(t,r){},createPrim:function(t,r){return null},remove:function(t){},makeArrows:function(t,r){},_setArrowWidth:function(t,r,s){},updateEllipsePrim:function(t,r,s,n,a){},updateLinePrim:function(t,r,s,n,a,o){},updatePathPrim:function(t,r,s){},updatePathStringPoint:function(t,r,s){},updatePathStringPrim:function(t){},updatePathStringBezierPrim:function(t){},updatePolygonPrim:function(t,r){},updateRectPrim:function(t,r,s,n,a){},setPropertyPrim:function(t,r,s){},setTabindex:function(t){var r;t.board.attr.keyboard.enabled&&JXG$1.exists(t.rendNode)&&(r=JXG$1.evaluate(t.visProp.tabindex),(!t.visPropCalc.visible||JXG$1.evaluate(t.visProp.fixed))&&(r=null),r!==t.visPropOld.tabindex&&(t.rendNode.setAttribute("tabindex",r),t.visPropOld.tabindex=r))},display:function(t,r){t&&(t.visPropOld.visible=r)},show:function(t){},hide:function(t){},setBuffering:function(t,r){},setDashStyle:function(t){},setDraft:function(t){if(JXG$1.evaluate(t.visProp.draft)){var r=t.board.options.elements.draft.color,s=t.board.options.elements.draft.opacity;this.setObjectTransition(t),t.type===Const.OBJECT_TYPE_POLYGON?this.setObjectFillColor(t,r,s):(t.elementClass===Const.OBJECT_CLASS_POINT?this.setObjectFillColor(t,r,s):this.setObjectFillColor(t,"none",0),this.setObjectStrokeColor(t,r,s),this.setObjectStrokeWidth(t,t.board.options.elements.draft.strokeWidth))}},removeDraft:function(t){this.setObjectTransition(t),t.type===Const.OBJECT_TYPE_POLYGON?this.setObjectFillColor(t,t.visProp.fillcolor,t.visProp.fillopacity):(t.type===Const.OBJECT_CLASS_POINT&&this.setObjectFillColor(t,t.visProp.fillcolor,t.visProp.fillopacity),this.setObjectStrokeColor(t,t.visProp.strokecolor,t.visProp.strokeopacity),this.setObjectStrokeWidth(t,t.visProp.strokewidth))},setGradient:function(t){},updateGradient:function(t){},setObjectTransition:function(t,r){},setObjectFillColor:function(t,r,s){},setObjectStrokeColor:function(t,r,s){},setObjectStrokeWidth:function(t,r){},setShadow:function(t){},highlight:function(t,r){var s,n,a=t.visProp,o;if(this.setObjectTransition(t),!a.draft){if(t.type===Const.OBJECT_TYPE_POLYGON)for(this.setObjectFillColor(t,a.highlightfillcolor,a.highlightfillopacity),n=JXG$1.evaluate(a.highlightbystrokewidth),s=0;s<t.borders.length;s++)this.highlight(t.borders[s],!n);else t.elementClass===Const.OBJECT_CLASS_TEXT?this.updateTextStyle(t,!0):t.type===Const.OBJECT_TYPE_IMAGE?(this.updateImageStyle(t,!0),this.setObjectFillColor(t,a.highlightfillcolor,a.highlightfillopacity)):(this.setObjectStrokeColor(t,a.highlightstrokecolor,a.highlightstrokeopacity),this.setObjectFillColor(t,a.highlightfillcolor,a.highlightfillopacity));a.highlightstrokewidth&&!r&&(o=Math.max(JXG$1.evaluate(a.highlightstrokewidth),JXG$1.evaluate(a.strokewidth)),this.setObjectStrokeWidth(t,o),(t.elementClass===Const.OBJECT_CLASS_LINE||t.elementClass===Const.OBJECT_CLASS_CURVE)&&this.updatePathWithArrowHeads(t,!0))}return this},noHighlight:function(t){var r,s=t.visProp,n;if(this.setObjectTransition(t),!JXG$1.evaluate(t.visProp.draft)){if(t.type===Const.OBJECT_TYPE_POLYGON)for(this.setObjectFillColor(t,s.fillcolor,s.fillopacity),r=0;r<t.borders.length;r++)this.noHighlight(t.borders[r]);else t.elementClass===Const.OBJECT_CLASS_TEXT?this.updateTextStyle(t,!1):t.type===Const.OBJECT_TYPE_IMAGE?(this.updateImageStyle(t,!1),this.setObjectFillColor(t,s.fillcolor,s.fillopacity)):(this.setObjectStrokeColor(t,s.strokecolor,s.strokeopacity),this.setObjectFillColor(t,s.fillcolor,s.fillopacity));n=JXG$1.evaluate(s.strokewidth),this.setObjectStrokeWidth(t,n),(t.elementClass===Const.OBJECT_CLASS_LINE||t.elementClass===Const.OBJECT_CLASS_CURVE)&&this.updatePathWithArrowHeads(t,!1)}return this},suspendRedraw:function(){},unsuspendRedraw:function(){},drawNavigationBar:function(t,r){var s,n,a=function(l){l||(l=window.event),l.stopPropagation?l.stopPropagation():l.cancelBubble=!0},o=function(l,u,f){var c;f=f||"",c=s.createElement("span"),c.innerHTML=l,c.style.paddingLeft="7px",c.style.paddingRight="7px",c.classList!==void 0&&c.classList.add("JXG_navigation_button"),c.setAttribute("id",f),n.appendChild(c),JXG$1.addEvent(c,"click",function(h){return JXG$1.bind(u,t)(),!1},t),JXG$1.addEvent(c,"pointerup",a,t),JXG$1.addEvent(c,"pointerdown",a,t),JXG$1.addEvent(c,"pointerleave",a,t),JXG$1.addEvent(c,"mouseup",a,t),JXG$1.addEvent(c,"mousedown",a,t),JXG$1.addEvent(c,"touchend",a,t),JXG$1.addEvent(c,"touchstart",a,t)};JXG$1.isBrowser&&this.type!=="no"&&(s=t.containerObj.ownerDocument,n=s.createElement("div"),n.setAttribute("id",t.container+"_navigationbar"),n.style.color=r.strokecolor,n.style.backgroundColor=r.fillcolor,n.style.padding=r.padding,n.style.position=r.position,n.style.fontSize=r.fontsize,n.style.cursor=r.cursor,n.style.zIndex=r.zindex,t.containerObj.appendChild(n),n.style.right=r.right,n.style.bottom=r.bottom,n.classList!==void 0&&n.classList.add("JXG_navigation"),t.attr.showfullscreen&&o(t.attr.fullscreen.symbol,function(){t.toFullscreen(t.attr.fullscreen.id)},t.container+"_navigation_fullscreen"),t.attr.showscreenshot&&o(t.attr.screenshot.symbol,function(){window.setTimeout(function(){t.renderer.screenshot(t,"",!1)},330)},t.container+"_navigation_screenshot"),t.attr.showreload&&o("",function(){t.reload()},t.container+"_navigation_reload"),t.attr.showcleartraces&&o("",function(){t.clearTraces()},t.container+"_navigation_cleartraces"),t.attr.shownavigation&&(t.attr.showzoom&&(o("",t.zoomOut,t.container+"_navigation_out"),o("o",t.zoom100,t.container+"_navigation_100"),o("+",t.zoomIn,t.container+"_navigation_in")),o("",t.clickLeftArrow,t.container+"_navigation_left"),o("",t.clickUpArrow,t.container+"_navigation_down"),o("",t.clickDownArrow,t.container+"_navigation_up"),o("",t.clickRightArrow,t.container+"_navigation_right")))},getElementById:function(t){var r;return JXG$1.exists(this.container)?(r=this.container.id+"_"+t,JXG$1.exists(CSS)&&JXG$1.exists(CSS.escape)&&(r=CSS.escape(r)),this.container.querySelector("#"+r)):""},removeToInsertLater:function(t){var r=t.parentNode,s=t.nextSibling;if(r!==null)return r.removeChild(t),function(){s?r.insertBefore(t,s):r.appendChild(t)}},resize:function(t,r){},createTouchpoints:function(t){},showTouchpoint:function(t){},hideTouchpoint:function(t){},updateTouchpoint:function(t,r){},dumpToDataURI:function(t){},dumpToCanvas:function(t,r,s,n){},screenshot:function(t){},setLayer:function(t,r){}});const AbstractRenderer=JXG$1.AbstractRenderer;JXG$1.FileReader={handleRemoteFile:function(t,r,s,n,a,o){var l=!1;try{l=new XMLHttpRequest,s.toLowerCase()==="raw"?l.overrideMimeType("text/plain; charset="+a):l.overrideMimeType("text/xml; charset="+a)}catch{try{l=new ActiveXObject("Msxml2.XMLHTTP")}catch{try{l=new ActiveXObject("Microsoft.XMLHTTP")}catch{l=!1}}}if(!l){JXG$1.debug("AJAX not activated!");return}l.open("GET",t,n),s.toLowerCase()==="raw"?this.cbp=function(){var u=l;u.readyState===4&&r(u.responseText)}:this.cbp=function(){var u=l,f="";u.readyState===4&&(JXG$1.exists(u.responseStream)&&(u.responseText.slice(0,2)==="PK"||Encoding.asciiCharCodeAt(u.responseText.slice(0,1),0)===31)?f=Base64.decode(jxgBinFileReader(u)):f=u.responseText,this.parseString(f,r,s,o))},this.cb=JXG$1.bind(this.cbp,this),l.onreadystatechange=this.cb;try{l.send(null)}catch{throw new Error("JSXGraph: A problem occurred while trying to read remote file '"+t+"'.")}},handleLocalFile:function(t,r,s,n,a,o){JXG$1.exists(n)||(n=!0),s.toLowerCase()==="raw"?this.cbp=function(u){r(u.target.result)}:this.cbp=function(u){var f=u.target.result;this.parseString(f,r,s,o)},this.cb=JXG$1.bind(this.cbp,this);var l=new FileReader;l.onload=this.cb,s.toLowerCase()==="raw"?l.readAsText(t):l.readAsText(t,a)},parseFileContent:function(t,r,s,n,a,o){JXG$1.isString(t)||FileReader===void 0?this.handleRemoteFile(t,r,s,n,a,o):this.handleLocalFile(t,r,s,n,a,o)},parseString:function(t,r,s,n){var a,o;if(s=s.toLowerCase(),a=JXG$1.readers[s],JXG$1.exists(a))o=new a(r,t),o.read();else if(s!=="jessiecode")throw new Error("JSXGraph: There is no reader available for '"+s+"'.");JXG$1.isFunction(n)&&n(r)}};!JXG$1.isMetroApp()&&JXG$1.isBrowser&&typeof navigator=="object"&&/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)&&document&&document.write&&document.write(`<script type="text/vbscript">
Function Base64Encode(inData)
  Const Base64 = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"
  Dim cOut, sOut, I
  For I = 1 To LenB(inData) Step 3
    Dim nGroup, pOut, sGroup
    nGroup = &H10000 * AscB(MidB(inData, I, 1)) + _
      &H100 * MyASC(MidB(inData, I + 1, 1)) + MyASC(MidB(inData, I + 2, 1))
    nGroup = Oct(nGroup)
    nGroup = String(8 - Len(nGroup), "0") & nGroup
    pOut = Mid(Base64, CLng("&o" & Mid(nGroup, 1, 2)) + 1, 1) + _
      Mid(Base64, CLng("&o" & Mid(nGroup, 3, 2)) + 1, 1) + _
      Mid(Base64, CLng("&o" & Mid(nGroup, 5, 2)) + 1, 1) + _
      Mid(Base64, CLng("&o" & Mid(nGroup, 7, 2)) + 1, 1)
    sOut = sOut + pOut
  Next
  Select Case LenB(inData) Mod 3
    Case 1: '8 bit final
      sOut = Left(sOut, Len(sOut) - 2) + "=="
    Case 2: '16 bit final
      sOut = Left(sOut, Len(sOut) - 1) + "="
  End Select
  Base64Encode = sOut
End Function

Function MyASC(OneChar)
  If OneChar = "" Then MyASC = 0 Else MyASC = AscB(OneChar)
End Function

Function jxgBinFileReader(xhr)
    Dim byteString
    Dim b64String
    Dim i
    byteString = xhr.responseBody
    ReDim byteArray(LenB(byteString))
    For i = 1 To LenB(byteString)
        byteArray(i-1) = AscB(MidB(byteString, i, 1))
    Next
    b64String = Base64Encode(byteString)
    jxgBinFileReader = b64String
End Function
<\/script>
`);const FileReader$1=JXG$1.FileReader;JXG$1.GeonextParser={replacePow:function(t){var r,s,n,a,o,l,u,f,c,h,d,p;for(t=t.replace(/(\s*)\^(\s*)/g,"^"),h=t.indexOf("^"),a=-1;h>=0&&h<t.length-1;){if(a===h)throw new Error("JSXGraph: Error while parsing expression '"+t+"'");if(a=h,c=t.slice(0,h),d=t.slice(h+1),c.charAt(c.length-1)===")"){for(r=1,s=c.length-2;s>=0&&r>0;)n=c.charAt(s),n===")"?r++:n==="("&&(r-=1),s-=1;if(r===0){for(o="",u=c.substring(0,s+1),f=s;f>=0&&u.substr(f,1).match(/([\w.]+)/);)o=RegExp.$1+o,f-=1;o+=c.substring(s+1,c.length),o=o.replace(/([()+*%^\-/\][])/g,"\\$1")}else throw new Error("JSXGraph: Missing '(' in expression")}else o="[\\w\\.]+";if(d.match(/^([\w.]*\()/)){for(r=1,s=RegExp.$1.length;s<d.length&&r>0;)n=d.charAt(s),n===")"?r-=1:n==="("&&(r+=1),s+=1;if(r===0)l=d.substring(0,s),l=l.replace(/([()+*%^\-/[\]])/g,"\\$1");else throw new Error("JSXGraph: Missing ')' in expression")}else l="[\\w\\.]+";p=new RegExp("("+o+")\\^("+l+")"),t=t.replace(p,"pow($1,$2)"),h=t.indexOf("^")}return t},replaceIf:function(t){var r,s,n,a,o,l,u,f,c,h="",d=null,p=null,v=null;if(n=t.indexOf("If("),n<0)return t;for(t=t.replace(/""/g,"0");n>=0;){for(r=t.slice(0,n),s=t.slice(n+3),o=1,a=0,l=-1,u=-1;a<s.length&&o>0;)f=s.charAt(a),f===")"?o-=1:f==="("?o+=1:f===","&&o===1&&(l<0?l=a:u=a),a+=1;if(c=s.slice(0,a-1),s=s.slice(a),l<0||u<0)return"";d=c.slice(0,l),p=c.slice(l+1,u),v=c.slice(u+1),d=this.replaceIf(d),p=this.replaceIf(p),v=this.replaceIf(v),h+=r+"(("+d+")?("+p+"):("+v+"))",t=s,d=null,p=null,n=t.indexOf("If(")}return h+=s,h},replaceNameById:function(t,r,s){var n,a,o,l,u=0,f=["X","Y","L","V"],c=function(h){return s?"$('"+h+"')":h};for(l=0;l<f.length;l++)for(u=t.indexOf(f[l]+"(");u>=0;)u>=0&&(n=t.indexOf(")",u+2),n>=0&&(a=t.slice(u+2,n),a=a.replace(/\\(['"])?/g,"$1"),o=r.elementsByName[a],o&&(t=t.slice(0,u+2)+(s?"$('":"")+c(o.id)+t.slice(n)))),n=t.indexOf(")",u+2),u=t.indexOf(f[l]+"(",n);for(u=t.indexOf("Dist(");u>=0;)u>=0&&(n=t.indexOf(",",u+5),n>=0&&(a=t.slice(u+5,n),a=a.replace(/\\(['"])?/g,"$1"),o=r.elementsByName[a],o&&(t=t.slice(0,u+5)+c(o.id)+t.slice(n)))),n=t.indexOf(",",u+5),u=t.indexOf(",",n),n=t.indexOf(")",u+1),n>=0&&(a=t.slice(u+1,n),a=a.replace(/\\(['"])?/g,"$1"),o=r.elementsByName[a],o&&(t=t.slice(0,u+1)+c(o.id)+t.slice(n))),n=t.indexOf(")",u+1),u=t.indexOf("Dist(",n);for(f=["Deg","Rad"],l=0;l<f.length;l++)for(u=t.indexOf(f[l]+"(");u>=0;)u>=0&&(n=t.indexOf(",",u+4),n>=0&&(a=t.slice(u+4,n),a=a.replace(/\\(['"])?/g,"$1"),o=r.elementsByName[a],o&&(t=t.slice(0,u+4)+c(o.id)+t.slice(n)))),n=t.indexOf(",",u+4),u=t.indexOf(",",n),n=t.indexOf(",",u+1),n>=0&&(a=t.slice(u+1,n),a=a.replace(/\\(['"])?/g,"$1"),o=r.elementsByName[a],o&&(t=t.slice(0,u+1)+c(o.id)+t.slice(n))),n=t.indexOf(",",u+1),u=t.indexOf(",",n),n=t.indexOf(")",u+1),n>=0&&(a=t.slice(u+1,n),a=a.replace(/\\(['"])?/g,"$1"),o=r.elementsByName[a],o&&(t=t.slice(0,u+1)+c(o.id)+t.slice(n))),n=t.indexOf(")",u+1),u=t.indexOf(f[l]+"(",n);return t},replaceIdByObj:function(t){var r=/(X|Y|L)\(([\w_]+)\)/g;return t=t.replace(r,"$('$2').$1()"),r=/(V)\(([\w_]+)\)/g,t=t.replace(r,"$('$2').Value()"),r=/(Dist)\(([\w_]+),([\w_]+)\)/g,t=t.replace(r,"dist($('$2'), $('$3'))"),r=/(Deg)\(([\w_]+),([ \w[\w_]+),([\w_]+)\)/g,t=t.replace(r,"deg($('$2'),$('$3'),$('$4'))"),r=/Rad\(([\w_]+),([\w_]+),([\w_]+)\)/g,t=t.replace(r,"rad($('$1'),$('$2'),$('$3'))"),r=/N\((.+)\)/g,t=t.replace(r,"($1)"),t},geonext2JS:function(t,r){var s,n,a,o=["Abs","ACos","ASin","ATan","Ceil","Cos","Exp","Factorial","Floor","Log","Max","Min","Random","Round","Sin","Sqrt","Tan","Trunc"],l=["abs","acos","asin","atan","ceil","cos","exp","factorial","floor","log","max","min","random","round","sin","sqrt","tan","ceil"];for(t=t.replace(/&lt;/g,"<"),t=t.replace(/&gt;/g,">"),t=t.replace(/&amp;/g,"&"),n=t,n=this.replaceNameById(n,r),n=this.replaceIf(n),n=this.replacePow(n),n=this.replaceIdByObj(n),a=0;a<o.length;a++)s=new RegExp(["(\\W|^)(",o[a],")"].join(""),"ig"),n=n.replace(s,["$1",l[a]].join(""));return n=n.replace(/True/g,"true"),n=n.replace(/False/g,"false"),n=n.replace(/fasle/g,"false"),n=n.replace(/Pi/g,"PI"),n=n.replace(/"/g,"'"),n},findDependencies:function(t,r,s){var n,a,o,l;JXG$1.exists(s)||(s=t.board),n=s.elementsByName;for(a in n)n.hasOwnProperty(a)&&a!==t.name&&(n[a].elementClass===Const.OBJECT_CLASS_TEXT?JXG$1.evaluate(n[a].visProp.islabel)||(l=a.replace(/\[/g,"\\["),l=l.replace(/\]/g,"\\]"),o=new RegExp("\\(([\\w\\[\\]'_ ]+,)*("+l+")(,[\\w\\[\\]'_ ]+)*\\)","g"),r.search(o)>=0&&n[a].addChild(t)):(l=a.replace(/\[/g,"\\["),l=l.replace(/\]/g,"\\]"),o=new RegExp("\\(([\\w\\[\\]'_ ]+,)*("+l+")(,[\\w\\[\\]'_ ]+)*\\)","g"),r.search(o)>=0&&n[a].addChild(t)))},gxt2jc:function(t,r){var s;return t=t.replace(/&lt;/g,"<"),t=t.replace(/&gt;/g,">"),t=t.replace(/&amp;/g,"&"),s=t,s=this.replaceNameById(s,r,!0),s=s.replace(/True/g,"true"),s=s.replace(/False/g,"false"),s=s.replace(/fasle/g,"false"),s}};const GeonextParser=JXG$1.GeonextParser;JXG$1.GeometryElement=function(t,r,s,n){var a,o,l;if(this.needsUpdate=!0,this.isDraggable=!1,this.isReal=!0,this.childElements={},this.hasLabel=!1,this.highlighted=!1,this.notExistingParents={},this.traces={},this.numTraces=0,this.transformations=[],this.baseElement=null,this.descendants={},this.ancestors={},this.parents=[],this.symbolic={},this.rendNode=null,this.elType="",this.dump=!0,this.subs={},this.inherits=[],this._pos=-1,this.stdform=[1,0,0,0,1,1,0,0],this.methodMap={setLabel:"setLabel",label:"label",setName:"setName",getName:"getName",addTransform:"addTransform",setProperty:"setAttribute",setAttribute:"setAttribute",addChild:"addChild",animate:"animate",on:"on",off:"off",trigger:"trigger",addTicks:"addTicks",removeTicks:"removeTicks",removeAllTicks:"removeAllTicks"},this.quadraticform=[[1,0,0],[0,1,0],[0,0,1]],this.visProp={},this.visPropCalc={visible:!1},EventEmitter.eventify(this),this.mouseover=!1,this.lastDragTime=new Date,arguments.length>0){this.board=t,this.type=s,this._org_type=s,this.elementClass=n||Const.OBJECT_CLASS_OTHER,this.id=r.id,a=r.name,JXG$1.exists(a)||(a=this.board.generateName(this)),a!==""&&(this.board.elementsByName[a]=this),this.name=a,this.needsRegularUpdate=r.needsregularupdate,JXG$1.clearVisPropOld(this),l=this.resolveShortcuts(r);for(o in l)l.hasOwnProperty(o)&&this._set(o,l[o]);this.visProp.draft=l.draft&&l.draft.draft}};JXG$1.extend(JXG$1.GeometryElement.prototype,{addChild:function(t){var r,s;this.childElements[t.id]=t,this.addDescendants(t),t.ancestors[this.id]=this;for(r in this.descendants)if(this.descendants.hasOwnProperty(r)){this.descendants[r].ancestors[this.id]=this;for(s in this.ancestors)this.ancestors.hasOwnProperty(s)&&(this.descendants[r].ancestors[this.ancestors[s].id]=this.ancestors[s])}for(r in this.ancestors)if(this.ancestors.hasOwnProperty(r))for(s in this.descendants)this.descendants.hasOwnProperty(s)&&(this.ancestors[r].descendants[this.descendants[s].id]=this.descendants[s]);return this},addDescendants:function(t){var r;this.descendants[t.id]=t;for(r in t.childElements)t.childElements.hasOwnProperty(r)&&this.addDescendants(t.childElements[r]);return this},addParents:function(t){var r,s,n;for(JXG$1.isArray(t)?n=t:n=arguments,s=n.length,r=0;r<s;++r)JXG$1.exists(n[r])&&(JXG$1.isId(this.board,n[r])?this.parents.push(n[r]):JXG$1.exists(n[r].id)&&this.parents.push(n[r].id));this.parents=JXG$1.uniqueArray(this.parents)},setParents:function(t){this.parents=[],this.addParents(t)},addParentsFromJCFunctions:function(t){var r,s,n;for(r=0;r<t.length;r++)for(s in t[r].deps)n=t[r].deps[s],this.addParents(n),n.addChild(this);return this},removeChild:function(t){return delete this.childElements[t.id],this.removeDescendants(t),delete t.ancestors[this.id],this},removeDescendants:function(t){var r;delete this.descendants[t.id];for(r in t.childElements)t.childElements.hasOwnProperty(r)&&this.removeDescendants(t.childElements[r]);return this},countChildren:function(){var t,r,s=0;r=this.childElements;for(t in r)r.hasOwnProperty(t)&&t.indexOf("Label")<0&&s++;return s},getName:function(){return this.name},addTransform:function(t){return this},draggable:function(){return this.isDraggable&&!JXG$1.evaluate(this.visProp.fixed)&&this.type!==Const.OBJECT_TYPE_GLIDER},setPosition:function(t,r){var s=[],n,a,o,l;if(!JXG$1.exists(this.parents))return this;for(o=this.parents.length,a=0;a<o;++a)if(n=this.board.select(this.parents[a]),JXG$1.isPoint(n)){if(!n.draggable())return this;s.push(n)}for(r.length===3&&(r=r.slice(1)),l=this.board.create("transform",r,{type:"translate"}),o=s.length,o>0?l.applyOnce(s):this.transformations.length>0&&this.transformations[this.transformations.length-1].isNumericMatrix?this.transformations[this.transformations.length-1].melt(l):this.addTransform(l),a=0;a<o;++a)s[a].type===Const.OBJECT_TYPE_GLIDER&&s[a].updateGlider();return this},setPositionDirectly:function(t,r,s){var n=new Coords(t,r,this.board,!1),a=new Coords(t,s,this.board,!1),o=Statistics.subtract(n.usrCoords,a.usrCoords);return this.setPosition(Const.COORDS_BY_USER,o),this},generatePolynomial:function(){return[]},animate:function(t,r,s){s=s||{};var n,a,o,l=this.board.attr.animationdelay,u=Math.ceil(r/l),f=this,c=function(d,p,v){var y,b,w,x,A;for(y=JXG$1.rgb2hsv(d),b=JXG$1.rgb2hsv(p),w=(b[0]-y[0])/u,x=(b[1]-y[1])/u,A=(b[2]-y[2])/u,f.animationData[v]=[],o=0;o<u;o++)f.animationData[v][u-o-1]=JXG$1.hsv2rgb(y[0]+(o+1)*w,y[1]+(o+1)*x,y[2]+(o+1)*A)},h=function(d,p,v,y){var b,w;if(d=parseFloat(d),p=parseFloat(p),!(isNaN(d)||isNaN(p)))for(w=(p-d)/u,f.animationData[v]=[],o=0;o<u;o++)b=d+(o+1)*w,f.animationData[v][u-o-1]=y?Math.floor(b):b};this.animationData={};for(n in t)if(t.hasOwnProperty(n))switch(a=n.toLowerCase(),a){case"strokecolor":case"fillcolor":c(this.visProp[a],t[n],a);break;case"size":if(!JXG$1.isPoint(this))break;h(this.visProp[a],t[n],a,!0);break;case"strokeopacity":case"strokewidth":case"fillopacity":h(this.visProp[a],t[n],a,!1);break}return this.animationCallback=s.callback,this.board.addAnimation(this),this},update:function(){return JXG$1.evaluate(this.visProp.trace)&&this.cloneToBackground(),this},updateRenderer:function(){return this},fullUpdate:function(t){return this.prepareUpdate().update().updateVisibility(t).updateRenderer()},setDisplayRendNode:function(t){var r,s,n,a,o;if(t===void 0&&(t=this.visPropCalc.visible),t===this.visPropOld.visible)return this;for(this.board.renderer.display(this,t),s=this.inherits.length,n=0;n<s;n++)if(o=this.inherits[n],JXG$1.isArray(o))for(a=o.length,r=0;r<a;r++)JXG$1.exists(o[r])&&JXG$1.exists(o[r].rendNode)&&JXG$1.evaluate(o[r].visProp.visible)==="inherit"&&o[r].setDisplayRendNode(t);else JXG$1.exists(o)&&JXG$1.exists(o.rendNode)&&JXG$1.evaluate(o.visProp.visible)==="inherit"&&o.setDisplayRendNode(t);return this.hasLabel&&JXG$1.exists(this.label)&&JXG$1.exists(this.label.rendNode)&&JXG$1.evaluate(this.label.visProp.visible)==="inherit"&&this.label.setDisplayRendNode(t),this},hide:function(){return this.setAttribute({visible:!1}),this},hideElement:function(){return this.hide(),this},show:function(){return this.setAttribute({visible:!0}),this},showElement:function(){return this.show(),this},updateVisibility:function(t){var r,s,n,a,o,l;if(this.needsUpdate){for(t!==void 0?this.visPropCalc.visible=t:(l=JXG$1.evaluate(this.visProp.visible),JXG$1.exists(this.hiddenByParent)&&this.hiddenByParent&&(l=!1),l!=="inherit"&&(this.visPropCalc.visible=l)),s=this.inherits.length,n=0;n<s;n++)if(o=this.inherits[n],JXG$1.isArray(o))for(a=o.length,r=0;r<a;r++)JXG$1.exists(o[r])&&JXG$1.evaluate(o[r].visProp.visible)==="inherit"&&o[r].prepareUpdate().updateVisibility(this.visPropCalc.visible);else JXG$1.exists(o)&&JXG$1.evaluate(o.visProp.visible)==="inherit"&&o.prepareUpdate().updateVisibility(this.visPropCalc.visible);JXG$1.exists(this.label)&&JXG$1.exists(this.label.visProp)&&JXG$1.evaluate(this.label.visProp.visible)&&this.label.prepareUpdate().updateVisibility(this.visPropCalc.visible)}return this},_set:function(t,r){var s;if(t=t.toLocaleLowerCase(),this.visProp.hasOwnProperty(t)&&t.indexOf("color")>=0&&JXG$1.isString(r)&&r.length===9&&r.charAt(0)==="#")r=JXG$1.rgba2rgbo(r),this.visProp[t]=r[0],this.visProp[t.replace("color","opacity")]=r[1];else if(r!==null&&JXG$1.isObject(r)&&!JXG$1.exists(r.id)&&!JXG$1.exists(r.name)){this.visProp[t]={};for(s in r)r.hasOwnProperty(s)&&(this.visProp[t][s.toLocaleLowerCase()]=r[s])}else this.visProp[t]=r},resolveShortcuts:function(t){var r,s,n,a=["traceattributes","traceAttributes"];for(r in Options.shortcuts)if(Options.shortcuts.hasOwnProperty(r)){if(JXG$1.exists(t[r]))for(s=0;s<Options.shortcuts[r].length;s++)JXG$1.exists(t[Options.shortcuts[r][s]])||(t[Options.shortcuts[r][s]]=t[r]);for(n=0;n<a.length;n++)JXG$1.isObject(t[a[n]])&&(t[a[n]]=this.resolveShortcuts(t[a[n]]))}return t},setLabel:function(t){this.hasLabel||this.setAttribute({withlabel:!0}),this.setLabelText(t)},setLabelText:function(t){return JXG$1.exists(this.label)&&(t=t.replace(/</g,"&lt;").replace(/>/g,"&gt;"),this.label.setText(t)),this},setName:function(t){t=t.replace(/</g,"&lt;").replace(/>/g,"&gt;"),this.elType!=="slider"&&this.setLabelText(t),this.setAttribute({name:t})},setProperty:function(){JXG$1.deprecated("setProperty()","setAttribute()"),this.setAttribute.apply(this,arguments)},setAttribute:function(t){var r,s,n,a,o,l,u,f,c,h={};for(r=0;r<arguments.length;r++)l=arguments[r],JXG$1.isString(l)?(f=l.split(":"),h[JXG$1.trim(f[0])]=JXG$1.trim(f[1])):JXG$1.isArray(l)?h[l[0]]=l[1]:JXG$1.extend(h,l);h=this.resolveShortcuts(h);for(r in h)if(h.hasOwnProperty(r)){if(a=r.replace(/\s+/g,"").toLowerCase(),o=h[r],JXG$1.isObject(o)&&JXG$1.exists(this.visProp[a])){if(this.visProp[a]=JXG$1.merge(this.visProp[a],o),this.type===Const.OBJECT_TYPE_TICKS&&JXG$1.exists(this.labels))for(n=this.labels.length,s=0;s<n;s++)this.labels[s].setAttribute(o);else if(JXG$1.exists(this[a]))if(JXG$1.isArray(this[a]))for(s=0;s<this[a].length;s++)this[a][s].setAttribute(o);else this[a].setAttribute(o);continue}switch(c=this.visProp[a],a){case"name":c=this.name,delete this.board.elementsByName[this.name],this.name=o,this.board.elementsByName[this.name]=this;break;case"needsregularupdate":this.needsRegularUpdate=!(o==="false"||o===!1),this.board.renderer.setBuffering(this,this.needsRegularUpdate?"auto":"static");break;case"labelcolor":o=JXG$1.rgba2rgbo(o),u=o[1],o=o[0],u===0&&JXG$1.exists(this.label)&&this.hasLabel&&this.label.hideElement(),JXG$1.exists(this.label)&&this.hasLabel&&(this.label.visProp.strokecolor=o,this.board.renderer.setObjectStrokeColor(this.label,o,u)),this.elementClass===Const.OBJECT_CLASS_TEXT&&(this.visProp.strokecolor=o,this.visProp.strokeopacity=u,this.board.renderer.setObjectStrokeColor(this,o,u));break;case"infoboxtext":JXG$1.isString(o)?this.infoboxText=o:this.infoboxText=!1;break;case"visible":o==="false"?this.visProp.visible=!1:o==="true"?this.visProp.visible=!0:this.visProp.visible=o,this.setDisplayRendNode(JXG$1.evaluate(this.visProp.visible)),JXG$1.evaluate(this.visProp.visible)&&JXG$1.exists(this.updateSize)&&this.updateSize();break;case"face":JXG$1.isPoint(this)&&(this.visProp.face=o,this.board.renderer.changePointStyle(this));break;case"trace":o==="false"||o===!1?(this.clearTrace(),this.visProp.trace=!1):o==="pause"?this.visProp.trace=!1:this.visProp.trace=!0;break;case"gradient":this.visProp.gradient=o,this.board.renderer.setGradient(this);break;case"gradientsecondcolor":o=JXG$1.rgba2rgbo(o),this.visProp.gradientsecondcolor=o[0],this.visProp.gradientsecondopacity=o[1],this.board.renderer.updateGradient(this);break;case"gradientsecondopacity":this.visProp.gradientsecondopacity=o,this.board.renderer.updateGradient(this);break;case"withlabel":this.visProp.withlabel=o,JXG$1.evaluate(o)?(this.label||this.createLabel(),this.label.setAttribute({visible:"inherit"})):this.label&&this.hasLabel&&this.label.setAttribute({visible:!1}),this.hasLabel=o;break;case"radius":(this.type===Const.OBJECT_TYPE_ANGLE||this.type===Const.OBJECT_TYPE_SECTOR)&&this.setRadius(o);break;case"rotate":(this.elementClass===Const.OBJECT_CLASS_TEXT&&JXG$1.evaluate(this.visProp.display)==="internal"||this.type===Const.OBJECT_TYPE_IMAGE)&&this.addRotation(o);break;case"generatelabelvalue":this.type===Const.OBJECT_TYPE_TICKS&&JXG$1.isFunction(o)&&(this.generateLabelValue=o);break;case"onpolygon":this.type===Const.OBJECT_TYPE_GLIDER&&(this.onPolygon=!!o);break;case"disabled":JXG$1.exists(this.rendNodeTag)&&(this.rendNodeTag.disabled=!!o);break;case"checked":JXG$1.exists(this.rendNodeTag)&&(this.rendNodeCheckbox.checked=!!o);break;case"maxlength":JXG$1.exists(this.rendNodeTag)&&(this.rendNodeTag.maxlength=!!o);break;case"layer":this.board.renderer.setLayer(this,JXG$1.evaluate(o)),this._set(a,o);break;case"tabindex":JXG$1.exists(this.rendNode)&&(this.rendNode.setAttribute("tabindex",o),this._set(a,o));break;default:JXG$1.exists(this.visProp[a])&&(!JXG$1.Validator[a]||JXG$1.Validator[a]&&JXG$1.Validator[a](o)||JXG$1.Validator[a]&&JXG$1.isFunction(o)&&JXG$1.Validator[a](o()))&&(o=o.toLowerCase&&o.toLowerCase()==="false"?!1:o,this._set(a,o));break}this.triggerEventHandlers(["attribute:"+a],[c,o,this])}return this.triggerEventHandlers(["attribute"],[h,this]),JXG$1.evaluate(this.visProp.needsregularupdate)?this.board.update(this):this.board.fullUpdate(),this},getProperty:function(){JXG$1.deprecated("getProperty()","getAttribute()"),this.getProperty.apply(this,arguments)},getAttribute:function(t){var r;switch(t=t.toLowerCase(),t){case"needsregularupdate":r=this.needsRegularUpdate;break;case"labelcolor":r=this.label.visProp.strokecolor;break;case"infoboxtext":r=this.infoboxText;break;case"withlabel":r=this.hasLabel;break;default:r=this.visProp[t];break}return r},setDash:function(t){return this.setAttribute({dash:t}),this},prepareUpdate:function(){return this.needsUpdate=!0,this},remove:function(){return this.board.renderer.remove(this.board.renderer.getElementById(this.id)),this.hasLabel&&this.board.renderer.remove(this.board.renderer.getElementById(this.label.id)),this},getTextAnchor:function(){return new Coords(Const.COORDS_BY_USER,[0,0],this.board)},getLabelAnchor:function(){return new Coords(Const.COORDS_BY_USER,[0,0],this.board)},setArrow:function(t,r){return this.visProp.firstarrow=t,this.visProp.lastarrow=r,r&&(this.type=Const.OBJECT_TYPE_VECTOR,this.elType="arrow"),this.prepareUpdate().update().updateVisibility().updateRenderer(),this},createGradient:function(){var t=JXG$1.evaluate(this.visProp.gradient);(t==="linear"||t==="radial")&&this.board.renderer.setGradient(this)},createLabel:function(){var t,r=this;return JXG$1.elements.text?(t=JXG$1.deepCopy(this.visProp.label,null),t.id=this.id+"Label",t.isLabel=!0,t.anchor=this,t.priv=this.visProp.priv,this.visProp.withlabel&&(this.label=JXG$1.elements.text(this.board,[0,0,function(){return JXG$1.isFunction(r.name)?r.name():r.name}],t),this.label.needsUpdate=!0,this.label.dump=!1,this.label.fullUpdate(),this.hasLabel=!0)):JXG$1.debug("JSXGraph: Can't create label: text element is not available. Make sure you include base/text"),this},highlight:function(t){return t=JXG$1.def(t,!1),JXG$1.evaluate(this.visProp.highlight)&&(!this.highlighted||t)&&(this.highlighted=!0,this.board.highlightedObjects[this.id]=this,this.board.renderer.highlight(this)),this},noHighlight:function(){return this.highlighted&&(this.highlighted=!1,delete this.board.highlightedObjects[this.id],this.board.renderer.noHighlight(this)),this},clearTrace:function(){var t;for(t in this.traces)this.traces.hasOwnProperty(t)&&this.board.renderer.remove(this.traces[t]);return this.numTraces=0,this},cloneToBackground:function(){return this},bounds:function(){return[0,0,0,0]},normalize:function(){return this.stdform=Mat.normalize(this.stdform),this},toJSON:function(){var t,r,s=['{"name":',this.name];s.push(', "id":'+this.id),t=[];for(r in this.visProp)this.visProp.hasOwnProperty(r)&&JXG$1.exists(this.visProp[r])&&t.push('"'+r+'":'+this.visProp[r]);return s.push(', "visProp":{'+t.toString()+"}"),s.push("}"),s.join("")},addRotation:function(t){var r,s,n,a,o,l=this;return(this.elementClass===Const.OBJECT_CLASS_TEXT||this.type===Const.OBJECT_TYPE_IMAGE)&&t!==0&&(r=this.board.create("transform",[function(){return-l.X()},function(){return-l.Y()}],{type:"translate"}),s=this.board.create("transform",[function(){return l.X()},function(){return l.Y()}],{type:"translate"}),n=this.board.create("transform",[function(){return l.board.unitX/l.board.unitY},function(){return 1}],{type:"scale"}),a=this.board.create("transform",[function(){return l.board.unitY/l.board.unitX},function(){return 1}],{type:"scale"}),o=this.board.create("transform",[function(){return JXG$1.evaluate(t)*Math.PI/180}],{type:"rotate"}),r.bindTo(this),n.bindTo(this),o.bindTo(this),a.bindTo(this),s.bindTo(this)),this},highlightStrokeColor:function(t){return JXG$1.deprecated("highlightStrokeColor()","setAttribute()"),this.setAttribute({highlightStrokeColor:t}),this},strokeColor:function(t){return JXG$1.deprecated("strokeColor()","setAttribute()"),this.setAttribute({strokeColor:t}),this},strokeWidth:function(t){return JXG$1.deprecated("strokeWidth()","setAttribute()"),this.setAttribute({strokeWidth:t}),this},fillColor:function(t){return JXG$1.deprecated("fillColor()","setAttribute()"),this.setAttribute({fillColor:t}),this},highlightFillColor:function(t){return JXG$1.deprecated("highlightFillColor()","setAttribute()"),this.setAttribute({highlightFillColor:t}),this},labelColor:function(t){return JXG$1.deprecated("labelColor()","setAttribute()"),this.setAttribute({labelColor:t}),this},dash:function(t){return JXG$1.deprecated("dash()","setAttribute()"),this.setAttribute({dash:t}),this},visible:function(t){return JXG$1.deprecated("visible()","setAttribute()"),this.setAttribute({visible:t}),this},shadow:function(t){return JXG$1.deprecated("shadow()","setAttribute()"),this.setAttribute({shadow:t}),this},getType:function(){return this.elType},getParents:function(){return JXG$1.isArray(this.parents)?this.parents:[]},snapToGrid:function(){return this},snapToPoints:function(){return this},getAttributes:function(){var t=JXG$1.deepCopy(this.visProp),r=[],s,n=r.length;for(t.id=this.id,t.name=this.name,s=0;s<n;s++)delete t[r[s]];return t},hasPoint:function(t,r){return!1},addTicks:function(t){return(t.id===""||!JXG$1.exists(t.id))&&(t.id=this.id+"_ticks_"+(this.ticks.length+1)),this.board.renderer.drawTicks(t),this.ticks.push(t),t.id},removeAllTicks:function(){var t;if(JXG$1.exists(this.ticks)){for(t=this.ticks.length-1;t>=0;t--)this.removeTicks(this.ticks[t]);this.ticks=[],this.board.update()}},removeTicks:function(t){var r,s;if(JXG$1.exists(this.defaultTicks)&&this.defaultTicks===t&&(this.defaultTicks=null),JXG$1.exists(this.ticks)){for(r=this.ticks.length-1;r>=0;r--)if(this.ticks[r]===t){if(this.board.removeObject(this.ticks[r]),this.ticks[r].ticks)for(s=0;s<this.ticks[r].ticks.length;s++)JXG$1.exists(this.ticks[r].labels[s])&&this.board.removeObject(this.ticks[r].labels[s]);delete this.ticks[r];break}}},getSnapSizes:function(){var t,r,s;return t=JXG$1.evaluate(this.visProp.snapsizex),r=JXG$1.evaluate(this.visProp.snapsizey),t<=0&&this.board.defaultAxes&&this.board.defaultAxes.x.defaultTicks&&(s=this.board.defaultAxes.x.defaultTicks,t=s.ticksDelta*(JXG$1.evaluate(s.visProp.minorticks)+1)),r<=0&&this.board.defaultAxes&&this.board.defaultAxes.y.defaultTicks&&(s=this.board.defaultAxes.y.defaultTicks,r=s.ticksDelta*(JXG$1.evaluate(s.visProp.minorticks)+1)),[t,r]},handleSnapToGrid:function(t,r){var s,n,a,o,l,u,f,c,h,d,p,v=!1,y=JXG$1.evaluate(this.visProp.attracttogrid),b=JXG$1.evaluate(this.visProp.attractorunit),w=JXG$1.evaluate(this.visProp.attractordistance);return!JXG$1.exists(this.coords)||JXG$1.evaluate(this.visProp.fixed)?this:(v=JXG$1.evaluate(this.visProp.snaptogrid)||y||t===!0,v&&(s=this.coords.usrCoords[1],n=this.coords.usrCoords[2],h=this.getSnapSizes(),d=h[0],p=h[1],d>0&&p>0&&(c=this.board.getBoundingBox(),a=Math.round(s/d)*d,o=Math.round(n/p)*p,l=new JXG$1.Coords(Const.COORDS_BY_USER,[a,o],this.board),(!y||l.distance(b==="screen"?Const.COORDS_BY_SCREEN:Const.COORDS_BY_USER,this.coords)<w)&&(s=a,n=o,r||(u=Math.min(c[0],c[2]),f=Math.max(c[0],c[2]),s<u&&s>u-d?s+=d:s>f&&s<f+d&&(s-=d),u=Math.min(c[1],c[3]),f=Math.max(c[1],c[3]),n<u&&n>u-p?n+=p:n>f&&n<f+p&&(n-=p)),this.coords.setCoordinates(Const.COORDS_BY_USER,[s,n])))),this)},getBoundingBox:function(){var t,r,s,n,a,o=[1/0,1/0,-1/0,-1/0];if(this.type===Const.OBJECT_TYPE_POLYGON){if(r=this.vertices.length-1,r<=0)return o;for(t=0;t<r;t++)s=this.vertices[t].X(),o[0]=s<o[0]?s:o[0],o[2]=s>o[2]?s:o[2],s=this.vertices[t].Y(),o[1]=s<o[1]?s:o[1],o[3]=s>o[3]?s:o[3]}else if(this.elementClass===Const.OBJECT_CLASS_CIRCLE)n=this.center.X(),a=this.center.Y(),o=[n-this.radius,a+this.radius,n+this.radius,a-this.radius];else if(this.elementClass===Const.OBJECT_CLASS_CURVE){if(r=this.vertices.length,r===0)return o;for(t=0;t<r;t++)s=this.points[t].coords.usrCoords[1],o[0]=s<o[0]?s:o[0],o[2]=s>o[2]?s:o[2],s=this.points[t].coords.usrCoords[1],o[1]=s<o[1]?s:o[1],o[3]=s>o[3]?s:o[3]}return o},addEvent:JXG$1.shortcut(JXG$1.GeometryElement.prototype,"on"),removeEvent:JXG$1.shortcut(JXG$1.GeometryElement.prototype,"off"),formatNumberLocale:function(t,r){var s,n,a,o={},l={maximumfractiondigits:"maximumFractionDigits",minimumfractiondigits:"minimumFractionDigits",compactdisplay:"compactDisplay",currencydisplay:"currencyDisplay",currencysign:"currencySign",localematcher:"localeMatcher",numberingsystem:"numberingSystem",signdisplay:"signDisplay",unitdisplay:"unitDisplay",usegrouping:"useGrouping",roundingmode:"roundingMode",roundingpriority:"roundingPriority",roundingincrement:"roundingIncrement",trailingzerodisplay:"trailingZeroDisplay",minimumintegerdigits:"minimumIntegerDigits",minimumsignificantdigits:"minimumSignificantDigits",maximumsignificantdigits:"maximumSignificantDigits"};if(JXG$1.exists(Intl)&&this.useLocale()){s=JXG$1.evaluate(this.visProp.intl.locale)||JXG$1.evaluate(this.board.attr.intl.locale),n=JXG$1.evaluate(this.visProp.intl.options)||{};for(a in n)n.hasOwnProperty(a)&&(l.hasOwnProperty(a)?o[l[a]]=JXG$1.evaluate(n[a]):o[a]=JXG$1.evaluate(n[a]));return a="maximumfractiondigits",JXG$1.exists(n[a])||(o[l[a]]=r),Intl.NumberFormat(s,o).format(t)}return t},useLocale:function(){var t;return!JXG$1.exists(this.visProp.intl)||!JXG$1.exists(this.visProp.intl.enabled)?!1:(t=JXG$1.evaluate(this.visProp.intl.enabled),t===!0||t==="inherit"&&JXG$1.evaluate(this.board.attr.intl.enabled)===!0)},__evt__over:function(t){},__evt__mouseover:function(t){},__evt__out:function(t){},__evt__mouseout:function(t){},__evt__move:function(t){},__evt__mousemove:function(t){},__evt__drag:function(t){},__evt__mousedrag:function(t){},__evt__pendrag:function(t){},__evt__touchdrag:function(t){},__evt__keydrag:function(t){},__evt__down:function(t){},__evt__mousedown:function(t){},__evt__pendown:function(t){},__evt__touchdown:function(t){},__evt__up:function(t){},__evt__mouseup:function(t){},__evt__penup:function(t){},__evt__touchup:function(t){},__evt__attribute:function(t,r){},__evt__attribute_:function(t,r,s){},__evt:function(){}});const GeometryElement=JXG$1.GeometryElement;JXG$1.CoordsElement=function(t,r){var s;for(JXG$1.exists(t)||(t=[1,0,0]),s=0;s<t.length;++s)t[s]=parseFloat(t[s]);this.coords=new Coords(Const.COORDS_BY_USER,t,this.board),this.initialCoords=new Coords(Const.COORDS_BY_USER,t,this.board),this.position=null,this.isConstrained=!1,this.onPolygon=!1,this.slideObject=null,this.slideObjects=[],this.needsUpdateFromParent=!0,this.groups=[],this.Xjc=null,this.Yjc=null,this.methodMap=JXG$1.deepCopy(this.methodMap,{move:"moveTo",moveTo:"moveTo",moveAlong:"moveAlong",visit:"visit",glide:"makeGlider",makeGlider:"makeGlider",intersect:"makeIntersection",makeIntersection:"makeIntersection",X:"X",Y:"Y",free:"free",setPosition:"setGliderPosition",setGliderPosition:"setGliderPosition",addConstraint:"addConstraint",dist:"Dist",onPolygon:"onPolygon"}),JXG$1.exists(this.element)&&this.addAnchor(t,r),this.isDraggable=!0};JXG$1.extend(JXG$1.CoordsElement.prototype,{updateConstraint:function(){return this},updateCoords:function(t){return this.needsUpdate?(JXG$1.exists(t)||(t=!1),JXG$1.evaluate(this.visProp.frozen)||this.updateConstraint(),this.type===Const.OBJECT_TYPE_GLIDER&&(this.isConstrained&&(t=!1),t?this.updateGliderFromParent():this.updateGlider()),this.updateTransform(t),this):this},updateGlider:function(){var t,r,s,n,a,o,l,u,f,c,h,d,p=2*Math.PI,v,y,b,w,x,A=!1,S,_,$,M=this.slideObject,T,O,B=[],J;if(this.needsUpdateFromParent=!1,M.elementClass===Const.OBJECT_CLASS_CIRCLE)JXG$1.evaluate(this.visProp.isgeonext)&&(p=1),w=Geometry.projectPointToCircle(this,M,this.board),x=Geometry.rad([M.center.X()+1,M.center.Y()],M.center,this)/p;else if(M.elementClass===Const.OBJECT_CLASS_LINE){if(this.onPolygon){if(n=M.point1.coords.usrCoords,a=M.point2.coords.usrCoords,t=1,r=a[t]-n[t],Math.abs(r)<Mat.eps&&(t=2,r=a[t]-n[t]),l=Geometry.projectPointToLine(this,M,this.board),u=(l.usrCoords[t]-n[t])/r,o=M.parentPolygon,u<0){for(t=0;t<o.borders.length;t++)if(M===o.borders[t]){M=o.borders[(t-1+o.borders.length)%o.borders.length];break}}else if(u>1){for(t=0;t<o.borders.length;t++)if(M===o.borders[t]){M=o.borders[(t+1+o.borders.length)%o.borders.length];break}}M.id!==this.slideObject.id&&(this.slideObject=M)}n=M.point1.coords,a=M.point2.coords,r=n.distance(Const.COORDS_BY_USER,a),r<Mat.eps?(w=n,A=!0,x=0):(w=Geometry.projectPointToLine(this,M,this.board),n=n.usrCoords.slice(0),a=a.usrCoords.slice(0),Math.abs(a[0])<Mat.eps?(t=1,r=a[t],Math.abs(r)<Mat.eps&&(t=2,r=a[t]),r=(w.usrCoords[t]-n[t])/r,c=r>=0?1:-1,r=Math.abs(r),x=c*r/(r+1)):Math.abs(n[0])<Mat.eps?(t=1,r=n[t],Math.abs(r)<Mat.eps&&(t=2,r=n[t]),r=(w.usrCoords[t]-a[t])/r,r<0?x=(1-2*r)/(1-r):x=1/(r+1)):(t=1,r=a[t]-n[t],Math.abs(r)<Mat.eps&&(t=2,r=a[t]-n[t]),x=(w.usrCoords[t]-n[t])/r)),_=this.findClosestSnapValue(x),_!==null?($=JXG$1.evaluate(this.visProp.snapvalues),x=($[_]-this._smin)/(this._smax-this._smin),this.update(!0)):(S=JXG$1.evaluate(this.visProp.snapwidth),JXG$1.evaluate(S)>0&&Math.abs(this._smax-this._smin)>=Mat.eps&&(x=Math.max(Math.min(x,1),0),s=x*(this._smax-this._smin)+this._smin,s=Math.round(s/S)*S,x=(s-this._smin)/(this._smax-this._smin),this.update(!0))),n=M.point1.coords,!JXG$1.evaluate(M.visProp.straightfirst)&&Math.abs(n.usrCoords[0])>Mat.eps&&x<0&&(w=n,A=!0,x=0),a=M.point2.coords,!JXG$1.evaluate(M.visProp.straightlast)&&Math.abs(a.usrCoords[0])>Mat.eps&&x>1&&(w=a,A=!0,x=1)}else if(M.type===Const.OBJECT_TYPE_TURTLE)this.updateConstraint(),T=Geometry.projectPointToTurtle(this,M,this.board),w=T[0],x=T[1];else if(M.elementClass===Const.OBJECT_CLASS_CURVE)if(M.type===Const.OBJECT_TYPE_ARC||M.type===Const.OBJECT_TYPE_SECTOR)w=Geometry.projectPointToCircle(this,M,this.board),f=Geometry.rad(M.radiuspoint,M.center,this),h=0,d=Geometry.rad(M.radiuspoint,M.center,M.anglepoint),x=f,S=JXG$1.evaluate(M.visProp.selection),(S==="minor"&&d>Math.PI||S==="major"&&d<Math.PI)&&(h=d,d=2*Math.PI),(f<h||f>d)&&(x=d,(f<h&&f>h*.5||f>d&&f>d*.5+Math.PI)&&(x=h),this.needsUpdateFromParent=!0,this.updateGliderFromParent()),p=d-h,this.visProp.isgeonext&&(p=1),Math.abs(p)>Mat.eps&&(x/=p);else if(this.updateConstraint(),M.transformations.length>0){for(J=!1,T=M.getTransformationSource(),T[0]&&(J=T[0],B.push(M),B.push(T[1]));T[0]&&JXG$1.exists(T[1]._transformationSource);)T=T[1].getTransformationSource(),B.push(T[1]);if(O=this.coords.usrCoords,J){for(t=0;t<B.length;t++)B[t].updateTransformMatrix(),b=Mat.inverse(B[t].transformMat),O=Mat.matVecMult(b,O);for(v=new Coords(Const.COORDS_BY_USER,O,this.board).usrCoords,y=Geometry.projectCoordsToCurve(v[1],v[2],this.position||0,B[B.length-1],this.board),O=y[0].usrCoords,t=B.length-2;t>=0;t--)O=Mat.matVecMult(B[t].transformMat,O);y[0]=new Coords(Const.COORDS_BY_USER,O,this.board)}else M.updateTransformMatrix(),b=Mat.inverse(M.transformMat),O=Mat.matVecMult(b,O),v=new Coords(Const.COORDS_BY_USER,O,this.board).usrCoords,y=Geometry.projectCoordsToCurve(v[1],v[2],this.position||0,M,this.board);w=y[0],x=y[1]}else T=Geometry.projectPointToCurve(this,M,this.board),w=T[0],x=T[1];else JXG$1.isPoint(M)&&(w=Geometry.projectPointToPoint(this,M,this.board),x=this.position);this.coords.setCoordinates(Const.COORDS_BY_USER,w.usrCoords,A),this.position=x},findClosestSnapValue:function(t){var r,s,n,a,o=null;if(n=JXG$1.evaluate(this.visProp.snapvalues),a=JXG$1.evaluate(this.visProp.snapvaluedistance),JXG$1.isArray(n)&&Math.abs(this._smax-this._smin)>=Mat.eps&&a>0)for(r=0;r<n.length;r++)s=Math.abs(t*(this._smax-this._smin)+this._smin-n[r]),s<a&&(a=s,o=r);return o},updateGliderFromParent:function(){var t,r,s,n,a,o=this.slideObject,l=[],u,f,c,h,d,p,v,y=2*Math.PI;if(!this.needsUpdateFromParent){this.needsUpdateFromParent=!0;return}if(o.elementClass===Const.OBJECT_CLASS_CIRCLE)s=o.Radius(),JXG$1.evaluate(this.visProp.isgeonext)&&(y=1),a=[o.center.X()+s*Math.cos(this.position*y),o.center.Y()+s*Math.sin(this.position*y)];else if(o.elementClass===Const.OBJECT_CLASS_LINE)t=o.point1.coords.usrCoords,r=o.point2.coords.usrCoords,t[0]===0&&t[1]===0&&t[2]===0||r[0]===0&&r[1]===0&&r[2]===0?a=[0,0,0]:Math.abs(r[0])<Mat.eps?(n=Math.min(Math.abs(this.position),1-Mat.eps),n/=1-n,this.position<0&&(n=-n),a=[t[0]+n*r[0],t[1]+n*r[1],t[2]+n*r[2]]):Math.abs(t[0])<Mat.eps?(n=Math.max(this.position,Mat.eps),n=Math.min(n,2-Mat.eps),n>1?n=(n-1)/(n-2):n=(1-n)/n,a=[r[0]+n*t[0],r[1]+n*t[1],r[2]+n*t[2]]):(n=this.position,a=[t[0]+n*(r[0]-t[0]),t[1]+n*(r[1]-t[1]),t[2]+n*(r[2]-t[2])]);else if(o.type===Const.OBJECT_TYPE_TURTLE)this.coords.setCoordinates(Const.COORDS_BY_USER,[o.Z(this.position),o.X(this.position),o.Y(this.position)]),this.updateConstraint(),a=Geometry.projectPointToTurtle(this,o,this.board)[0].usrCoords;else if(o.elementClass===Const.OBJECT_CLASS_CURVE){for(c=!1,u=o.getTransformationSource(),u[0]&&(c=u[0],l.push(o),l.push(u[1]));u[0]&&JXG$1.exists(u[1]._transformationSource);)u=u[1].getTransformationSource(),l.push(u[1]);if(c?this.coords.setCoordinates(Const.COORDS_BY_USER,[l[l.length-1].Z(this.position),l[l.length-1].X(this.position),l[l.length-1].Y(this.position)]):this.coords.setCoordinates(Const.COORDS_BY_USER,[o.Z(this.position),o.X(this.position),o.Y(this.position)]),o.type===Const.OBJECT_TYPE_ARC||o.type===Const.OBJECT_TYPE_SECTOR)h=Geometry.rad([o.center.X()+1,o.center.Y()],o.center,o.radiuspoint),d=0,v=Geometry.rad(o.radiuspoint,o.center,o.anglepoint),(o.visProp.selection==="minor"&&v>Math.PI||o.visProp.selection==="major"&&v<Math.PI)&&(d=v,v=2*Math.PI),y=v-d,JXG$1.evaluate(this.visProp.isgeonext)&&(y=1),p=this.position*y,(p<d||p>v)&&(p=v,(p<d&&p>d*.5||p>v&&p>v*.5+Math.PI)&&(p=d),this.position=p,Math.abs(y)>Mat.eps&&(this.position/=y)),s=o.Radius(),a=[o.center.X()+s*Math.cos(this.position*y+h),o.center.Y()+s*Math.sin(this.position*y+h)];else if(this.updateConstraint(),c)for(a=Geometry.projectPointToCurve(this,l[l.length-1],this.board)[0].usrCoords,f=l.length-2;f>=0;f--)a=new Coords(Const.COORDS_BY_USER,Mat.matVecMult(l[f].transformMat,a),this.board).usrCoords;else a=Geometry.projectPointToCurve(this,o,this.board)[0].usrCoords}else JXG$1.isPoint(o)&&(a=Geometry.projectPointToPoint(this,o,this.board).usrCoords);this.coords.setCoordinates(Const.COORDS_BY_USER,a,!1)},updateRendererGeneric:function(t){return!this.needsUpdate||!this.board.renderer?this:(this.visPropCalc.visible&&(this.isReal=!isNaN(this.coords.usrCoords[1]+this.coords.usrCoords[2]),this.isReal=Math.abs(this.coords.usrCoords[0])>Mat.eps?this.isReal:!1,this.isReal||this.updateVisibility(!1)),this.visPropCalc.visible&&this.board.renderer[t](this),this.hasLabel&&this.visPropCalc.visible&&this.label&&this.label.visPropCalc.visible&&this.isReal&&(this.label.update(),this.board.renderer.updateText(this.label)),this.setDisplayRendNode(),this.needsUpdate=!1,this)},X:function(){return this.coords.usrCoords[1]},Y:function(){return this.coords.usrCoords[2]},Z:function(){return this.coords.usrCoords[0]},XEval:function(){return this.coords.usrCoords[1]},YEval:function(){return this.coords.usrCoords[2]},ZEval:function(){return this.coords.usrCoords[0]},Dist:function(t){return this.isReal&&t.isReal?this.coords.distance(Const.COORDS_BY_USER,t.coords):NaN},snapToGrid:function(t){return this.handleSnapToGrid(t)},handleSnapToPoints:function(t){var r,s,n,a=0,o,l=1/0,u=null,f,c,h=JXG$1.evaluate(this.visProp.ignoredsnaptopoints),d,p,v=!1;if(o=this.board.objectsList.length,h&&(d=h.length),JXG$1.evaluate(this.visProp.snaptopoints)||t){for(f=JXG$1.evaluate(this.visProp.attractorunit),c=JXG$1.evaluate(this.visProp.attractordistance),r=0;r<o;r++){if(s=this.board.objectsList[r],h){for(v=!1,p=0;p<d;p++)if(s===this.board.select(h[p])){v=!0;break}if(v)continue}JXG$1.isPoint(s)&&s!==this&&s.visPropCalc.visible&&(n=Geometry.projectPointToPoint(this,s,this.board),f==="screen"?a=n.distance(Const.COORDS_BY_SCREEN,this.coords):a=n.distance(Const.COORDS_BY_USER,this.coords),a<c&&a<l&&(l=a,u=n))}u!==null&&this.coords.setCoordinates(Const.COORDS_BY_USER,u.usrCoords)}return this},snapToPoints:function(t){return this.handleSnapToPoints(t)},handleAttractors:function(){var t,r,s,n=0,a,o=JXG$1.evaluate(this.visProp.attractorunit),l=JXG$1.evaluate(this.visProp.attractordistance),u=JXG$1.evaluate(this.visProp.snatchdistance),f=JXG$1.evaluate(this.visProp.attractors),c=f.length;if(l!==0){for(t=0;t<c;t++)if(r=this.board.select(f[t]),JXG$1.exists(r)&&r!==this){if(JXG$1.isPoint(r)?s=Geometry.projectPointToPoint(this,r,this.board):r.elementClass===Const.OBJECT_CLASS_LINE?(a=Geometry.projectCoordsToSegment(this.coords.usrCoords,r.point1.coords.usrCoords,r.point2.coords.usrCoords),!JXG$1.evaluate(r.visProp.straightfirst)&&a[1]<0?s=r.point1.coords:!JXG$1.evaluate(r.visProp.straightlast)&&a[1]>1?s=r.point2.coords:s=new Coords(Const.COORDS_BY_USER,a[0],this.board)):r.elementClass===Const.OBJECT_CLASS_CIRCLE?s=Geometry.projectPointToCircle(this,r,this.board):r.elementClass===Const.OBJECT_CLASS_CURVE?s=Geometry.projectPointToCurve(this,r,this.board)[0]:r.type===Const.OBJECT_TYPE_TURTLE?s=Geometry.projectPointToTurtle(this,r,this.board)[0]:r.type===Const.OBJECT_TYPE_POLYGON&&(s=new Coords(Const.COORDS_BY_USER,Geometry.projectCoordsToPolygon(this.coords.usrCoords,r),this.board)),o==="screen"?n=s.distance(Const.COORDS_BY_SCREEN,this.coords):n=s.distance(Const.COORDS_BY_USER,this.coords),n<l){this.type===Const.OBJECT_TYPE_GLIDER&&(r===this.slideObject||this.slideObject&&this.onPolygon&&this.slideObject.parentPolygon===r)||this.makeGlider(r);break}n>=u&&(r===this.slideObject||this.slideObject&&this.onPolygon&&this.slideObject.parentPolygon===r)&&this.popSlideObject()}return this}},setPositionDirectly:function(t,r){var s,n,a,o=this.coords,l;if(this.relativeCoords)return n=new Coords(t,r,this.board),JXG$1.evaluate(this.visProp.islabel)?(a=Statistics.subtract(n.scrCoords,o.scrCoords),this.relativeCoords.scrCoords[1]+=a[1],this.relativeCoords.scrCoords[2]+=a[2]):(a=Statistics.subtract(n.usrCoords,o.usrCoords),this.relativeCoords.usrCoords[1]+=a[1],this.relativeCoords.usrCoords[2]+=a[2]),this;for(this.coords.setCoordinates(t,r),this.handleSnapToGrid(),this.handleSnapToPoints(),this.handleAttractors(),s=this.transformations.length-1;s>=0;s--)t===Const.COORDS_BY_SCREEN?l=new Coords(t,r,this.board).usrCoords:(r.length===2&&(r=[1].concat(r)),l=r),this.initialCoords.setCoordinates(Const.COORDS_BY_USER,Mat.matVecMult(Mat.inverse(this.transformations[s].matrix),l));return this.prepareUpdate().update(),this.board.isSuspendedUpdate&&this.type===Const.OBJECT_TYPE_GLIDER&&this.updateGlider(),this},setPositionByTransform:function(t,r){var s;return r=new Coords(t,r,this.board),s=this.board.create("transform",r.usrCoords.slice(1),{type:"translate"}),this.transformations.length>0&&this.transformations[this.transformations.length-1].isNumericMatrix?this.transformations[this.transformations.length-1].melt(s):this.addTransform(this,s),this.prepareUpdate().update(),this},setPosition:function(t,r){return this.setPositionDirectly(t,r)},setGliderPosition:function(t){return this.type===Const.OBJECT_TYPE_GLIDER&&(this.position=t,this.board.update()),this},makeGlider:function(t){var r=this.board.select(t),s=!1,n,a,o;if(r.type===Const.OBJECT_TYPE_POLYGON){for(n=Number.MAX_VALUE,a=0;a<r.borders.length;a++)o=JXG$1.Math.Geometry.distPointLine(this.coords.usrCoords,r.borders[a].stdform),o<n&&(n=o,t=r.borders[a]);r=this.board.select(t),s=!0}if(JXG$1.exists(r)){if(r.type===Const.OBJECT_TYPE_TICKS)throw new Error("JSXGraph: gliders on ticks are not possible.")}else throw new Error("JSXGraph: slide object undefined.");return this.slideObject=this.board.select(t),this.slideObjects.push(this.slideObject),this.addParents(t),this.type=Const.OBJECT_TYPE_GLIDER,this.elType="glider",this.visProp.snapwidth=-1,this.slideObject.addChild(this),this.isDraggable=!0,this.onPolygon=s,this.generatePolynomial=function(){return this.slideObject.generatePolynomial(this)},this.updateGlider(),this.needsUpdateFromParent=!0,this.updateGliderFromParent(),this},popSlideObject:function(){this.slideObjects.length>0&&(this.slideObjects.pop(),this.slideObject.removeChild(this),this.slideObjects.length===0?(this.type=this._org_type,this.type===Const.OBJECT_TYPE_POINT?this.elType="point":this.elementClass===Const.OBJECT_CLASS_TEXT?this.elType="text":this.type===Const.OBJECT_TYPE_IMAGE?this.elType="image":this.type===Const.OBJECT_TYPE_FOREIGNOBJECT&&(this.elType="foreignobject"),this.slideObject=null):this.slideObject=this.slideObjects[this.slideObjects.length-1])},free:function(){var t,r;if(this.type!==Const.OBJECT_TYPE_GLIDER)if(this.transformations.length=0,delete this.updateConstraint,this.isConstrained=!1,!this.isDraggable)this.isDraggable=!0,this.elementClass===Const.OBJECT_CLASS_POINT&&(this.type=Const.OBJECT_TYPE_POINT,this.elType="point"),this.XEval=function(){return this.coords.usrCoords[1]},this.YEval=function(){return this.coords.usrCoords[2]},this.ZEval=function(){return this.coords.usrCoords[0]},this.Xjc=null,this.Yjc=null;else return;for(t in this.board.objects)this.board.objects.hasOwnProperty(t)&&(r=this.board.objects[t],r.descendants&&(delete r.descendants[this.id],delete r.childElements[this.id],this.hasLabel&&(delete r.descendants[this.label.id],delete r.childElements[this.label.id])));this.ancestors={},this.slideObject=null,this.slideObjects=[],this.elementClass===Const.OBJECT_CLASS_POINT?(this.type=Const.OBJECT_TYPE_POINT,this.elType="point"):this.elementClass===Const.OBJECT_CLASS_TEXT?(this.type=this._org_type,this.elType="text"):this.elementClass===Const.OBJECT_CLASS_OTHER&&(this.type=this._org_type,this.elType="image")},addConstraint:function(t){var r,s,n=[],a=["X","Y"],o=function(u){return function(){return u}},l=function(u){return function(){return u.Value()}};for(this.elementClass===Const.OBJECT_CLASS_POINT&&(this.type=Const.OBJECT_TYPE_CAS),this.isDraggable=!1,r=0;r<t.length;r++)s=t[r],JXG$1.isString(s)?(n[r]=this.board.jc.snippet(s,!0,null,!0),this.addParentsFromJCFunctions([n[r]]),t.length===2&&(this[a[r]+"jc"]=t[r])):JXG$1.isFunction(s)?n[r]=s:JXG$1.isNumber(s)?n[r]=o(s):JXG$1.isObject(s)&&JXG$1.isFunction(s.Value)&&(n[r]=l(s)),n[r].origin=s;return t.length===1?this.updateConstraint=function(){var u=n[0]();return JXG$1.isArray(u)?this.coords.setCoordinates(Const.COORDS_BY_USER,u):this.coords=u,this}:t.length===2?(this.XEval=n[0],this.YEval=n[1],this.addParents([n[0].origin,n[1].origin]),this.updateConstraint=function(){return this.coords.setCoordinates(Const.COORDS_BY_USER,[this.XEval(),this.YEval()]),this}):(this.ZEval=n[0],this.XEval=n[1],this.YEval=n[2],this.addParents([n[0].origin,n[1].origin,n[2].origin]),this.updateConstraint=function(){return this.coords.setCoordinates(Const.COORDS_BY_USER,[this.ZEval(),this.XEval(),this.YEval()]),this}),this.isConstrained=!0,this.prepareUpdate().update(),this.board.isSuspendedUpdate||(this.updateVisibility().updateRenderer(),this.hasLabel&&this.label.fullUpdate()),this},addAnchor:function(t,r){r?this.relativeCoords=new Coords(Const.COORDS_BY_SCREEN,t.slice(0,2),this.board):this.relativeCoords=new Coords(Const.COORDS_BY_USER,t,this.board),this.element.addChild(this),r&&this.addParents(this.element),this.XEval=function(){var s,n,a,o;return JXG$1.evaluate(this.visProp.islabel)?(o=JXG$1.evaluate(this.visProp.offset),s=parseFloat(o[0]),a=this.element.getLabelAnchor(),n=new Coords(Const.COORDS_BY_SCREEN,[s+this.relativeCoords.scrCoords[1]+a.scrCoords[1],0],this.board),n.usrCoords[1]):(a=this.element.getTextAnchor(),this.relativeCoords.usrCoords[1]+a.usrCoords[1])},this.YEval=function(){var s,n,a,o;return JXG$1.evaluate(this.visProp.islabel)?(o=JXG$1.evaluate(this.visProp.offset),s=-parseFloat(o[1]),a=this.element.getLabelAnchor(),n=new Coords(Const.COORDS_BY_SCREEN,[0,s+this.relativeCoords.scrCoords[2]+a.scrCoords[2]],this.board),n.usrCoords[2]):(a=this.element.getTextAnchor(),this.relativeCoords.usrCoords[2]+a.usrCoords[2])},this.ZEval=JXG$1.createFunction(1,this.board,""),this.updateConstraint=function(){this.coords.setCoordinates(Const.COORDS_BY_USER,[this.ZEval(),this.XEval(),this.YEval()])},this.isConstrained=!0,this.updateConstraint()},updateTransform:function(t){var r;if(this.transformations.length===0)return this;for(r=0;r<this.transformations.length;r++)this.transformations[r].update();return this},addTransform:function(t,r){var s,n=JXG$1.isArray(r)?r:[r],a=n.length;for(this.transformations.length===0&&(this.baseElement=t),s=0;s<a;s++)this.transformations.push(n[s]);return this},startAnimation:function(t,r,s){var n=JXG$1.evaluate(t),a=JXG$1.evaluate(r),o=this;return s=JXG$1.evaluate(s)||250,this.type===Const.OBJECT_TYPE_GLIDER&&!JXG$1.exists(this.intervalCode)&&(this.intervalCode=window.setInterval(function(){o._anim(n,a)},s),JXG$1.exists(this.intervalCount)||(this.intervalCount=0)),this},stopAnimation:function(){return JXG$1.exists(this.intervalCode)&&(window.clearInterval(this.intervalCode),delete this.intervalCode),this},moveAlong:function(t,r,s){s=s||{};var n,a,o=[],l=[],u=this.board.attr.animationdelay,f=r/u,c,h,d,p=function(v,y){return function(){return t[v][y]}};if(JXG$1.isArray(t)){for(c=t.length,n=0;n<c;n++)JXG$1.isPoint(t[n])?l[n]=t[n]:l[n]={elementClass:Const.OBJECT_CLASS_POINT,X:p(n,0),Y:p(n,1)};if(r=r||0,r===0)return this.setPosition(Const.COORDS_BY_USER,[l[l.length-1].X(),l[l.length-1].Y()]),this.board.update(this);if(!JXG$1.exists(s.interpolate)||s.interpolate)for(a=Numerics.Neville(l),n=0;n<f;n++)o[n]=[],o[n][0]=a[0]((f-n)/f*a[3]()),o[n][1]=a[1]((f-n)/f*a[3]());else{for(c=t.length-1,n=0;n<f;++n)h=Math.floor(n/f*c),d=n/f*c-h,o[n]=[],o[n][0]=(1-d)*l[h].X()+d*l[h+1].X(),o[n][1]=(1-d)*l[h].Y()+d*l[h+1].Y();o.push([l[c].X(),l[c].Y()]),o.reverse()}this.animationPath=o}else JXG$1.isFunction(t)&&(this.animationPath=t,this.animationStart=new Date().getTime());return this.animationCallback=s.callback,this.board.addAnimation(this),this},moveTo:function(t,r,s){s=s||{},t=new Coords(Const.COORDS_BY_USER,t,this.board);var n,a=this.board.attr.animationdelay,o=Math.ceil(r/a),l=[],u=this.coords.usrCoords[1],f=this.coords.usrCoords[2],c=t.usrCoords[1]-u,h=t.usrCoords[2]-f,d=function(p){return s.effect&&s.effect==="<>"?Math.pow(Math.sin(p/o*Math.PI/2),2):p/o};if(!JXG$1.exists(r)||r===0||Math.abs(t.usrCoords[0]-this.coords.usrCoords[0])>Mat.eps)return this.setPosition(Const.COORDS_BY_USER,t.usrCoords),this.board.update(this);if(!JXG$1.exists(s.callback)&&Math.abs(c)<Mat.eps&&Math.abs(h)<Mat.eps)return this;for(n=o;n>=0;n--)l[o-n]=[t.usrCoords[0],u+c*d(n),f+h*d(n)];return this.animationPath=l,this.animationCallback=s.callback,this.board.addAnimation(this),this},visit:function(t,r,s){t=new Coords(Const.COORDS_BY_USER,t,this.board);var n,a,o,l=this.board.attr.animationdelay,u=[],f=this.coords.usrCoords[1],c=this.coords.usrCoords[2],h=t.usrCoords[1]-f,d=t.usrCoords[2]-c,p=function(v){var y=v<o/2?2*v/o:2*(o-v)/o;return s.effect&&s.effect==="<>"?Math.pow(Math.sin(y*Math.PI/2),2):y};for(JXG$1.isNumber(s)?s={repeat:s}:(s=s||{},JXG$1.exists(s.repeat)||(s.repeat=1)),o=Math.ceil(r/(l*s.repeat)),a=0;a<s.repeat;a++)for(n=o;n>=0;n--)u[a*(o+1)+o-n]=[t.usrCoords[0],f+h*p(n),c+d*p(n)];return this.animationPath=u,this.animationCallback=s.callback,this.board.addAnimation(this),this},_anim:function(t,r){var s,n,a,o,l,u,f,c,h;return this.intervalCount+=1,this.intervalCount>r&&(this.intervalCount=0),this.slideObject.elementClass===Const.OBJECT_CLASS_LINE?(f=this.slideObject.point1.coords.scrCoords,c=this.slideObject.point2.coords.scrCoords,s=Math.round((c[1]-f[1])*this.intervalCount/r),n=Math.round((c[2]-f[2])*this.intervalCount/r),t>0?o=this.slideObject.point1:(o=this.slideObject.point2,s*=-1,n*=-1),this.coords.setCoordinates(Const.COORDS_BY_SCREEN,[o.coords.scrCoords[1]+s,o.coords.scrCoords[2]+n])):this.slideObject.elementClass===Const.OBJECT_CLASS_CURVE?(t>0?l=Math.round(this.intervalCount/r*this.board.canvasWidth):l=Math.round((r-this.intervalCount)/r*this.board.canvasWidth),this.coords.setCoordinates(Const.COORDS_BY_SCREEN,[l,0]),h=Geometry.projectPointToCurve(this,this.slideObject,this.board),this.coords=h[0],this.position=h[1]):this.slideObject.elementClass===Const.OBJECT_CLASS_CIRCLE&&(a=2*Math.PI,t<0?a*=this.intervalCount/r:a*=(r-this.intervalCount)/r,u=this.slideObject.Radius(),this.coords.setCoordinates(Const.COORDS_BY_USER,[this.slideObject.center.coords.usrCoords[1]+u*Math.cos(a),this.slideObject.center.coords.usrCoords[2]+u*Math.sin(a)])),this.board.update(this),this},getTextAnchor:function(){return this.coords},getLabelAnchor:function(){return this.coords},getParents:function(){var t=[this.Z(),this.X(),this.Y()];return this.parents.length!==0&&(t=this.parents),this.type===Const.OBJECT_TYPE_GLIDER&&(t=[this.X(),this.Y(),this.slideObject.id]),t}});JXG$1.CoordsElement.create=function(t,r,s,n,a,o){var l,u=!1,f;for(f=0;f<s.length;f++)(JXG$1.isFunction(s[f])||JXG$1.isString(s[f]))&&(u=!0);if(u)l=new t(r,[0,0],n,a,o),l.addConstraint(s);else if(JXG$1.isNumber(s[0])&&JXG$1.isNumber(s[1]))l=new t(r,s,n,a,o),JXG$1.exists(n.slideobject)?l.makeGlider(n.slideobject):l.baseElement=l,l.isDraggable=!0;else if(JXG$1.isObject(s[0])&&JXG$1.isTransformationOrArray(s[1]))l=new t(r,[0,0],n,a,o),l.addTransform(s[0],s[1]),l.isDraggable=!1;else return!1;return l.handleSnapToGrid(),l.handleSnapToPoints(),l.handleAttractors(),l.addParents(s),l};const CoordsElement=JXG$1.CoordsElement;var priv$5={HTMLSliderInputEventHandler:function(){this._val=parseFloat(this.rendNodeRange.value),this.rendNodeOut.value=this.rendNodeRange.value,this.board.update()}};JXG$1.Text=function(t,r,s,n){var a;this.constructor(t,s,Const.OBJECT_TYPE_TEXT,Const.OBJECT_CLASS_TEXT),this.element=this.board.select(s.anchor),this.coordsConstructor(r,JXG$1.evaluate(this.visProp.islabel)),this.content="",this.plaintext="",this.plaintextOld=null,this.orgText="",this.needsSizeUpdate=!1,this.hiddenByParent=!1,this.size=[1,1],this.id=this.board.setId(this,"T"),this.board.renderer.drawText(this),this.board.finalizeAdding(this),a=this.visProp.visible,this.visProp.visible=!0,this.setText(n),this.visProp.visible=a,JXG$1.isString(this.content)&&this.notifyParents(this.content),this.elType="text",this.methodMap=JXG$1.deepCopy(this.methodMap,{setText:"setTextJessieCode"})};JXG$1.Text.prototype=new GeometryElement;JXG$1.copyPrototypeMethods(JXG$1.Text,CoordsElement,"coordsConstructor");JXG$1.extend(JXG$1.Text.prototype,{hasPoint:function(t,r){var s,n,a,o,l,u,f,c;return JXG$1.isObject(JXG$1.evaluate(this.visProp.precision))?(f=this.board._inputDevice,c=JXG$1.evaluate(this.visProp.precision[f])):c=this.board.options.precision.hasPoint,this.transformations.length>0&&(s=Mat.matVecMult(Mat.inverse(this.board.renderer.joinTransforms(this,this.transformations)),[1,t,r]),t=s[1],r=s[2]),l=this.getAnchorX(),l==="right"?s=this.coords.scrCoords[1]-this.size[0]:l==="middle"?s=this.coords.scrCoords[1]-.5*this.size[0]:s=this.coords.scrCoords[1],n=s+this.size[0],u=this.getAnchorY(),u==="top"?o=this.coords.scrCoords[2]+this.size[1]:u==="middle"?o=this.coords.scrCoords[2]+.5*this.size[1]:o=this.coords.scrCoords[2],a=o-this.size[1],JXG$1.evaluate(this.visProp.dragarea)==="all"?t>=s-c&&t<n+c&&r>=a-c&&r<=o+c:r>=a-c&&r<=o+c&&(t>=s-c&&t<=s+2*c||t>=n-2*c&&t<=n+c)},_createFctUpdateText:function(t){var r,s,n,a,o,l,u=JXG$1.evaluate(this.visProp.parse),f=JXG$1.evaluate(this.visProp.usemathjax),c=JXG$1.evaluate(this.visProp.usekatex),h=!1;if(this.orgText=t,JXG$1.isFunction(t))this.updateText=function(){a=t().toString(),u&&!f&&!c?this.plaintext=this.replaceSub(this.replaceSup(this.convertGeonextAndSketchometry2CSS(a,!1))):this.plaintext=a};else if(JXG$1.isNumber(t)?(n=JXG$1.evaluate(this.visProp.digits),this.useLocale()?this.content=this.formatNumberLocale(t,n):this.content=JXG$1.toFixed(t,n)):JXG$1.isString(t)&&u?(JXG$1.evaluate(this.visProp.useasciimathml)?this.content="'`"+t+"`'":f||c?(this.content=this.valueTagToJessieCode(t),JXG$1.isArray(this.content)||(this.content=this.content.replace(/\\/g,"\\\\"))):this.content=this.poorMansTeX(this.valueTagToJessieCode(t)),h=!0):this.content=t,h){if(JXG$1.isArray(this.content)){for(l=this,o=0;o<this.content.length;o++)if(this.content[o][0]!=='"'){this.content[o]=this.board.jc.snippet(this.content[o],!0,"",!1);for(s in this.content[o].deps)this.addParents(this.content[o].deps[s]),this.content[o].deps[s].addChild(this)}r=function(){var d,p,v=JXG$1.evaluate(l.visProp.digits),y="";for(d=0;d<l.content.length;d++)JXG$1.isFunction(l.content[d])?(p=l.content[d](),l.useLocale()?p=l.formatNumberLocale(p,v):p=JXG$1.toFixed(p,v)):(p=l.content[d],p.at(0)==='"'&&p.at(-1)==='"'&&(p=p.slice(1,-1))),y+=p;return y}}else{r=this.board.jc.snippet(this.content,!0,"",!1);for(s in r.deps)this.addParents(r.deps[s]),r.deps[s].addChild(this)}this.updateText=function(){this.plaintext=this.unescapeTicks(r())}}else this.updateText=function(){this.plaintext=this.content}},_setText:function(t){return this._createFctUpdateText(t),this.updateText(),this.fullUpdate(),(!this.board.infobox||this.id!==this.board.infobox.id)&&this.updateSize(),this},setTextJessieCode:function(t){var r;return this.visProp.castext=t,JXG$1.isFunction(t)?r=function(){return JXG$1.sanitizeHTML(t())}:JXG$1.isNumber(t)?r=t:r=JXG$1.sanitizeHTML(t),this._setText(r)},setText:function(t){return this._setText(t)},updateSize:function(){var t,r,s,n=JXG$1.evaluate(this.visProp.display);return!JXG$1.isBrowser||this.board.renderer.type==="no"?this:(s=this.rendNode,n==="html"||this.board.renderer.type==="vml"?JXG$1.exists(s.offsetWidth)?(r=this,window.setTimeout(function(){r.size=[s.offsetWidth,s.offsetHeight],r.needsUpdate=!0,r.updateRenderer()},0)):this.size=this.crudeSizeEstimate():n==="internal"&&(this.board.renderer.type==="svg"?(r=this,window.setTimeout(function(){try{t=s.getBBox(),r.size=[t.width,t.height],r.needsUpdate=!0,r.updateRenderer()}catch{}},0)):this.board.renderer.type==="canvas"&&(this.size=this.crudeSizeEstimate())),this)},crudeSizeEstimate:function(){var t=parseFloat(JXG$1.evaluate(this.visProp.fontsize));return[t*this.plaintext.length*.45,t*.9]},utf8_decode:function(t){return t.replace(/&#x(\w+);/g,function(r,s){return String.fromCharCode(parseInt(s,16))})},replaceSub:function(t){if(!t.indexOf)return t;for(var r,s=t.indexOf("_{");s>=0;)t=t.substr(0,s)+t.substr(s).replace(/_\{/,"<sub>"),r=t.substr(s).indexOf("}"),r>=0&&(t=t.substr(0,r)+t.substr(r).replace(/\}/,"</sub>")),s=t.indexOf("_{");for(s=t.indexOf("_");s>=0;)t=t.substr(0,s)+t.substr(s).replace(/_(.?)/,"<sub>$1</sub>"),s=t.indexOf("_");return t},replaceSup:function(t){if(!t.indexOf)return t;for(var r,s=t.indexOf("^{");s>=0;)t=t.substr(0,s)+t.substr(s).replace(/\^\{/,"<sup>"),r=t.substr(s).indexOf("}"),r>=0&&(t=t.substr(0,r)+t.substr(r).replace(/\}/,"</sup>")),s=t.indexOf("^{");for(s=t.indexOf("^");s>=0;)t=t.substr(0,s)+t.substr(s).replace(/\^(.?)/,"<sup>$1</sup>"),s=t.indexOf("^");return t},getSize:function(){return this.size},setCoords:function(t,r){var s,n,a;return JXG$1.isArray(t)&&t.length>1&&(r=t[1],t=t[0]),JXG$1.evaluate(this.visProp.islabel)&&JXG$1.exists(this.element)?(s=this.element.getLabelAnchor(),n=(t-s.usrCoords[1])*this.board.unitX,a=-(r-s.usrCoords[2])*this.board.unitY,this.relativeCoords.setCoordinates(Const.COORDS_BY_SCREEN,[n,a])):this.coords.setCoordinates(Const.COORDS_BY_USER,[t,r]),this.fullUpdate(),this},update:function(t){return this.needsUpdate?(this.updateCoords(t),this.updateText(),JXG$1.evaluate(this.visProp.display)==="internal"&&JXG$1.isString(this.plaintext)&&(this.plaintext=this.utf8_decode(this.plaintext)),this.checkForSizeUpdate(),this.needsSizeUpdate&&this.updateSize(),this):this},checkForSizeUpdate:function(){this.board.infobox&&this.id===this.board.infobox.id?this.needsSizeUpdate=!1:(this.needsSizeUpdate=this.plaintextOld!==this.plaintext,this.needsSizeUpdate&&(this.plaintextOld=this.plaintext))},updateRenderer:function(){return JXG$1.evaluate(this.visProp.autoposition)&&this.setAutoPosition().updateConstraint(),this.updateRendererGeneric("updateText")},expandShortMath:function(t){var r=/([)0-9.])\s*([(a-zA-Z_])/g;return t.replace(r,"$1*$2")},generateTerm:function(t,r,s){var n,a,o,l,u='""';if(t=t||"",t=t.replace(/\r/g,""),t=t.replace(/\n/g,""),t=t.replace(/"/g,"'"),t=t.replace(/'/g,"\\'"),t=t.replace(/&amp;arc;/g,"&ang;"),t=t.replace(/<arc\s*\/>/g,"&ang;"),t=t.replace(/&lt;arc\s*\/&gt;/g,"&ang;"),t=t.replace(/&lt;sqrt\s*\/&gt;/g,"&radic;"),t=t.replace(/&lt;value&gt;/g,"<value>"),t=t.replace(/&lt;\/value&gt;/g,"</value>"),o=t.indexOf("<value>"),l=t.indexOf("</value>"),o>=0)for(;o>=0;)u+=' + "'+this.replaceSub(this.replaceSup(t.slice(0,o)))+'"',a=t.slice(o+7,l),a=a.replace(/\s+/g,""),r===!0&&(a=this.expandShortMath(a)),s?n=a:n=GeonextParser.geonext2JS(a,this.board),n=n.replace(/\\"/g,"'"),n=n.replace(/\\'/g,"'"),n.indexOf("toFixed")<0&&JXG$1.isNumber(JXG$1.bind(this.board.jc.snippet(n,!0,"",!1),this)())?u+="+("+n+").toFixed("+JXG$1.evaluate(this.visProp.digits)+")":u+="+("+n+")",t=t.slice(l+8),o=t.indexOf("<value>"),l=t.indexOf("</value>");return u+=' + "'+this.replaceSub(this.replaceSup(t))+'"',u=this.convertGeonextAndSketchometry2CSS(u),u=u.replace(/&amp;/g,"&"),u=u.replace(/"/g,"'"),u},valueTagToJessieCode:function(t){var r,s,n,a,o=[],l='"';if(t=t||"",t=t.replace(/\r/g,""),t=t.replace(/\n/g,""),t=t.replace(/&lt;value&gt;/g,"<value>"),t=t.replace(/&lt;\/value&gt;/g,"</value>"),n=t.indexOf("<value>"),a=t.indexOf("</value>"),n>=0)for(;n>=0;)o.push(l+this.escapeTicks(t.slice(0,n))+l),s=t.slice(n+7,a),s=s.replace(/\s+/g,""),s=this.expandShortMath(s),r=s,r=r.replace(/\\"/g,"'").replace(/\\'/g,"'"),o.push("("+r+")"),t=t.slice(a+8),n=t.indexOf("<value>"),a=t.indexOf("</value>");for(o.push(l+this.escapeTicks(t)+l),n=0;n<o.length;n++)o[n]=o[n].replace(/&amp;/g,"&");return o},poorMansTeX:function(t){var r,s;if(JXG$1.isArray(t)){for(s=[],r=0;r<t.length;r++)s.push(this.poorMansTeX(t[r]));return s}return t=t.replace(/<arc\s*\/*>/g,"&ang;").replace(/&lt;arc\s*\/*&gt;/g,"&ang;").replace(/<sqrt\s*\/*>/g,"&radic;").replace(/&lt;sqrt\s*\/*&gt;/g,"&radic;"),this.convertGeonextAndSketchometry2CSS(this.replaceSub(this.replaceSup(t)),!0)},escapeTicks:function(t){return t.replace(/"/g,"%22").replace(/'/g,"%27")},unescapeTicks:function(t){return t.replace(/%22/g,'"').replace(/%27/g,"'")},convertGeonext2CSS:function(t){return JXG$1.isString(t)&&(t=t.replace(/(<|&lt;)overline(>|&gt;)/g,"<span style=text-decoration:overline;>"),t=t.replace(/(<|&lt;)\/overline(>|&gt;)/g,"</span>"),t=t.replace(/(<|&lt;)arrow(>|&gt;)/g,"<span style=text-decoration:overline;>"),t=t.replace(/(<|&lt;)\/arrow(>|&gt;)/g,"</span>")),t},convertSketchometry2CSS:function(t,r){var s='<span class="sketcho sketcho-inherit sketcho-',n='"></span>';return JXG$1.isString(t)&&(r&&(s=this.escapeTicks(s),n=this.escapeTicks(n)),t=t.replace(/(<|&lt;)sketchofont(>|&gt;)/g,s),t=t.replace(/(<|&lt;)\/sketchofont(>|&gt;)/g,n)),t},convertGeonextAndSketchometry2CSS:function(t,r){return t=this.convertGeonext2CSS(t),t=this.convertSketchometry2CSS(t,r),t},notifyParents:function(t){var r,s=null;t=t.replace(/&lt;value&gt;/g,"<value>"),t=t.replace(/&lt;\/value&gt;/g,"</value>");do r=/<value>([\w\s*/^\-+()[\],<>=!]+)<\/value>/,s=r.exec(t),s!==null&&(GeonextParser.findDependencies(this,s[1],this.board),t=t.substr(s.index),t=t.replace(r,""));while(s!==null);return this},getParents:function(){var t;return this.relativeCoords!==void 0?t=[this.relativeCoords.usrCoords[1],this.relativeCoords.usrCoords[2],this.orgText]:t=[this.Z(),this.X(),this.Y(),this.orgText],this.parents.length!==0&&(t=this.parents),t},bounds:function(){var t=this.coords.usrCoords;return JXG$1.evaluate(this.visProp.islabel)||this.board.unitY===0||this.board.unitX===0?[0,0,0,0]:[t[1],t[2]+this.size[1]/this.board.unitY,t[1]+this.size[0]/this.board.unitX,t[2]]},getAnchorX:function(){var t=JXG$1.evaluate(this.visProp.anchorx);if(t==="auto")switch(this.visProp.position){case"top":case"bot":return"middle";case"rt":case"lrt":case"urt":return"left";case"lft":case"llft":case"ulft":default:return"right"}return t},getAnchorY:function(){var t=JXG$1.evaluate(this.visProp.anchory);if(t==="auto")switch(this.visProp.position){case"top":case"ulft":case"urt":return"bottom";case"bot":case"lrt":case"llft":return"top";case"rt":case"lft":default:return"middle"}return t},getNumberOfConflicts:function(t,r,s,n){var a=0,o,l,u,f;for(f=this.board.options.precision.hasPoint,this.board.options.precision.hasPoint=(s+n)*.25,o=0,u=this.board.objectsList.length;o<u;o++)l=this.board.objectsList[o],l.visPropCalc.visible&&l.elType!=="axis"&&l.elType!=="ticks"&&l!==this.board.infobox&&l!==this&&l.hasPoint(t,r)&&a++;return this.board.options.precision.hasPoint=f,a},setAutoPosition:function(){var t,r,s,n,a,o=this.size[0],l=this.size[1],u,f,c={conflicts:1/0,angle:0,r:0},h,d,p,v,y,b=12,w=2*Math.PI/b,x,A,S,_,$;if(this===this.board.infobox||!this.visPropCalc.visible||!JXG$1.evaluate(this.visProp.islabel)||!this.element)return this;if(v=JXG$1.evaluate(this.visProp.offset),a=this.element.getLabelAnchor(),s=a.scrCoords[1],n=a.scrCoords[2],A=v[0],S=v[1],p=this.getNumberOfConflicts(s+A,n-S,o,l),p===0)return this;for(y=JXG$1.evaluate(this.visProp.autopositionmindistance),h=JXG$1.evaluate(this.visProp.autopositionmaxdistance),d=.2*y,u=Math.atan2(S,A),c.conflicts=p,c.angle=u,c.r=y;c.conflicts>0&&y<=h;){for(x=1,f=u+w;x<b&&c.conflicts>0&&(_=Math.cos(f),$=Math.sin(f),t=s+y*_,r=n-y*$,p=this.getNumberOfConflicts(t,r,o,l),p<c.conflicts&&(c.conflicts=p,c.angle=f,c.r=y),c.conflicts!==0);x++)f+=w;y+=d}return y=c.r,_=Math.cos(c.angle),$=Math.sin(c.angle),this.visProp.offset=[y*_,y*$],_<-.2?this.visProp.anchorx="right":_>.2?this.visProp.anchorx="left":this.visProp.anchorx="middle",this}});JXG$1.createText=function(t,r,s){var n,a=JXG$1.copyAttributes(s,t.options,"text"),o=r.slice(0,-1),l=r[r.length-1];if(a.anchor=a.parent||a.anchor,n=CoordsElement.create(JXG$1.Text,t,o,a,l),!n)throw new Error("JSXGraph: Can't create text with parent types '"+typeof r[0]+"' and '"+typeof r[1]+`'.
Possible parent types: [x,y], [z,x,y], [element,transformation]`);return a.rotate!==0&&n.addRotation(a.rotate),n};JXG$1.registerElement("text",JXG$1.createText);JXG$1.createHTMLSlider=function(t,r,s){var n,a,o=JXG$1.copyAttributes(s,t.options,"htmlslider");if(r.length!==2||r[0].length!==2||r[1].length!==3)throw new Error("JSXGraph: Can't create htmlslider with parent types '"+typeof r[0]+"' and '"+typeof r[1]+`'.
Possible parents are: [[x,y], [min, start, max]]`);o.anchor=o.parent||o.anchor,o.fixed=o.fixed||!0,a=[r[0][0],r[0][1],'<form style="display:inline"><input type="range" /><span></span><input type="text" /></form>'],n=JXG$1.createText(t,a,o),n.type=JXG$1.OBJECT_TYPE_HTMLSLIDER,n.rendNodeForm=n.rendNode.childNodes[0],n.rendNodeRange=n.rendNodeForm.childNodes[0],n.rendNodeRange.min=r[1][0],n.rendNodeRange.max=r[1][2],n.rendNodeRange.step=o.step,n.rendNodeRange.value=r[1][1],n.rendNodeLabel=n.rendNodeForm.childNodes[1],n.rendNodeLabel.id=n.rendNode.id+"_label",o.withlabel&&(n.rendNodeLabel.innerHTML=n.name+"="),n.rendNodeOut=n.rendNodeForm.childNodes[2],n.rendNodeOut.value=r[1][1];try{n.rendNodeForm.id=n.rendNode.id+"_form",n.rendNodeRange.id=n.rendNode.id+"_range",n.rendNodeOut.id=n.rendNode.id+"_out"}catch(l){JXG$1.debug(l)}return n.rendNodeRange.style.width=o.widthrange+"px",n.rendNodeRange.style.verticalAlign="middle",n.rendNodeOut.style.width=o.widthout+"px",n._val=r[1][1],JXG$1.supportsVML()?JXG$1.addEvent(n.rendNodeForm,"change",priv$5.HTMLSliderInputEventHandler,n):JXG$1.addEvent(n.rendNodeForm,"input",priv$5.HTMLSliderInputEventHandler,n),n.Value=function(){return this._val},n};JXG$1.registerElement("htmlslider",JXG$1.createHTMLSlider);const Text=JXG$1.Text;Object.create||(Object.create=function(t,r){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object prototype may only be an Object: "+t);if(t===null)throw new Error("This browser's implementation of Object.create is a shim and doesn't support 'null' as the first argument.");if(typeof r<"u")throw new Error("This browser's implementation of Object.create is a shim and doesn't support a second argument.");function s(){}return s.prototype=t,new s});var priv$4={modules:{math:Mat,"math/geometry":Geometry,"math/statistics":Statistics,"math/numerics":Mat.Numerics}};JXG$1.JessieCode=function(t,r){this.scope={id:0,hasChild:!0,args:[],locals:{},context:null,previous:null},this.scopes=[],this.scopes.push(this.scope),this.dpstack=[[]],this.pscope=0,this.propstack=[{}],this.propscope=0,this.lhs=[],this.isLHS=!1,this.warnLog="jcwarn",this.$log=[],this.builtIn=this.defineBuiltIn(),this.operands=this.getPossibleOperands(),this.board=null,this.lineToElement={},this.parCurLine=1,this.parCurColumn=0,this.line=1,this.col=1,JXG$1.CA&&(this.CA=new JXG$1.CA(this.node,this.createNode,this)),this.code="",typeof t=="string"&&this.parse(t,r)};JXG$1.extend(JXG$1.JessieCode.prototype,{node:function(t,r,s){return{type:t,value:r,children:s}},createNode:function(t,r,s){var n=this.node(t,r,[]),a;for(a=2;a<arguments.length;a++)n.children.push(arguments[a]);return n.type=="node_const"&&JXG$1.isNumber(n.value)&&(n.isMath=!0),n.line=this.parCurLine,n.col=this.parCurColumn,n},pushScope:function(t){var r={args:t,locals:{},context:null,previous:this.scope};return this.scope.hasChild=!0,this.scope=r,r.id=this.scopes.push(r)-1,r},popScope:function(){var t=this.scope.previous;return this.scope=t!==null?t:this.scope,this.scope},getElementById:function(t){return this.board.objects[t]},log:function(){this.$log.push(arguments),typeof console=="object"&&console.log&&console.log.apply(console,arguments)},creator:(function(){var t={},r;return r=function(s){var n;return typeof t[this.board.id+s]=="function"?n=t[this.board.id+s]:(n=(function(a){return function(o,l){var u;return JXG$1.exists(l)?u=l:u={},u.name===void 0&&u.id===void 0&&(u.name=a.lhs[a.scope.id]!==0?a.lhs[a.scope.id]:""),a.board.create(s,o,u)}})(this),n.creator=!0,t[this.board.id+s]=n),n},r.clearCache=function(){t={}},r})(),letvar:function(t,r){this.builtIn[t]&&this._warn('"'+t+'" is a predefined value.'),this.scope.locals[t]=r},isLocalVariable:function(t){for(var r=this.scope;r!==null;){if(JXG$1.exists(r.locals[t]))return r;r=r.previous}return null},isParameter:function(t){for(var r=this.scope;r!==null;){if(JXG$1.indexOf(r.args,t)>-1)return r;r=r.previous}return null},isCreator:function(t){return!!JXG$1.elements[t]},isMathMethod:function(t){return t!=="E"&&!!Math[t]},isBuiltIn:function(t){return!!this.builtIn[t]},getvar:function(t,r,s){var n;if(r=JXG$1.def(r,!1),n=this.isLocalVariable(t),n!==null)return n.locals[t];if(t==="$board"||t==="EULER"||t==="PI")return this.builtIn[t];if(s){if(this.isBuiltIn(t))return this.builtIn[t];if(this.isMathMethod(t))return Math[t];if(this.isCreator(t))return this.creator(t)}if(!r&&(n=this.board.select(t),n!==t))return n},resolve:function(t){for(var r=this.scope;r!==null;){if(JXG$1.exists(r.locals[t]))return r.locals[t];r=r.previous}},getvarJS:function(t,r,s){var n,a="",o;return r=JXG$1.def(r,!1),s=JXG$1.def(s,!1),n=this.isParameter(t),n!==null?t:(n=this.isLocalVariable(t),n!==null&&!s?"$jc$.resolve('"+t+"')":this.isCreator(t)?"(function () { var a = Array.prototype.slice.call(arguments, 0), props = "+(s?"a.pop()":"{}")+"; return $jc$.board.create.apply($jc$.board, ['"+t+"'].concat([a, props])); })":(s&&this._error("Syntax error (attribute values are allowed with element creators only)"),this.isBuiltIn(t)?(a=this.builtIn[t].src||this.builtIn[t],JXG$1.isNumber(a)||a.match(/board\.select/)?a:(t=a.split(".").pop(),JXG$1.exists(this.board.mathLib)&&(o=new RegExp("^Math."+t),o.exec(a)!==null)?a.replace(o,"$jc$.board.mathLib."+t):JXG$1.exists(this.board.mathLibJXG)?(o=new RegExp("^JXG.Math."),o.exec(a)!==null?a.replace(o,"$jc$.board.mathLibJXG."):a):a)):this.isMathMethod(t)?"$jc$.board.mathLib."+t:r?"":(JXG$1.isId(this.board,t)?(a="$jc$.board.objects['"+t+"']",this.board.objects[t].elType==="slider"&&(a+=".Value()")):JXG$1.isName(this.board,t)?(a="$jc$.board.elementsByName['"+t+"']",this.board.elementsByName[t].elType==="slider"&&(a+=".Value()")):JXG$1.isGroup(this.board,t)&&(a="$jc$.board.groups['"+t+"']"),a)))},makeMap:function(t){return t.isMap=!0,t},functionCodeJS:function(t){var r=t.children[0].join(", "),s="",n="";return t.value==="op_map"&&(s="{ return  ",n=" }"),"function ("+r+`) {
var $oldscope$ = $jc$.scope;
$jc$.scope = $jc$.scopes[`+this.scope.id+`];
var r = (function () `+s+this.compile(t.children[1],!0)+n+`)();
$jc$.scope = $oldscope$;
return r;
}`},defineFunction:function(node){var fun,i,that=this,list=node.children[0],scope=this.pushScope(list);if(this.board.options.jc.compile){for(this.isLHS=!1,i=0;i<list.length;i++)scope.locals[list[i]]=list[i];this.replaceNames(node.children[1]),fun=(function(jc){var fun,str="var f = function($jc$) { return "+jc.functionCodeJS(node)+"}; f;";try{for(fun=eval(str)(jc),scope.argtypes=[],i=0;i<list.length;i++)scope.argtypes.push(that.resolveType(list[i],node));return fun}catch(t){return jc._warn(`error compiling function

`+str+`

`+t.toString()),function(){}}})(this),this.popScope()}else fun=(function(t,r,s){return function(){var n,a;for(a=r.scope,r.scope=r.scopes[s],n=0;n<t.length;n++)r.scope.locals[t[n]]=arguments[n];return n=r.execute(node.children[1]),r.scope=a,n}})(list,this,scope.id);return fun.node=node,fun.scope=scope,fun.toJS=fun.toString,fun.toString=(function(t){return function(){return t.compile(t.replaceIDs(JXG$1.deepCopy(node)))}})(this),fun.deps={},this.collectDependencies(node.children[1],node.children[0],fun.deps),fun},mergeAttributes:function(t){var r,s={};for(r=0;r<arguments.length;r++)s=JXG$1.deepCopy(s,arguments[r],!0);return s},setProp:function(t,r,s){var n={},a,o;t.elementClass===Const.OBJECT_CLASS_POINT&&(r==="X"||r==="Y")?(r=r.toLowerCase(),t.isDraggable&&typeof s=="number"?(a=r==="x"?s:t.X(),o=r==="y"?s:t.Y(),t.setPosition(Const.COORDS_BY_USER,[a,o])):t.isDraggable&&(typeof s=="function"||typeof s=="string")?(a=r==="x"?s:t.coords.usrCoords[1],o=r==="y"?s:t.coords.usrCoords[2],t.addConstraint([a,o])):t.isDraggable||(a=r==="x"?s:t.XEval.origin,o=r==="y"?s:t.YEval.origin,t.addConstraint([a,o])),this.board.update()):t.elementClass===Const.OBJECT_CLASS_TEXT&&(r==="X"||r==="Y")?(typeof s=="number"?t[r]=function(){return s}:typeof s=="function"?(t.isDraggable=!1,t[r]=s):typeof s=="string"&&(t.isDraggable=!1,t[r]=JXG$1.createFunction(s,this.board,null,!0),t[r+"jc"]=s),t[r].origin=s,this.board.update()):t.type&&t.elementClass&&t.visProp?JXG$1.exists(t[t.methodMap[r]])&&typeof t[t.methodMap[r]]!="function"?t[t.methodMap[r]]=s:(n[r]=s,t.setAttribute(n)):t[r]=s},_genericParse:function(t,r,s,n){var a,o,l,u,f=t.replace(/\r\n/g,`
`).split(`
`),c=[];n||(this.code+=t+`
`),Text&&(o=Text.prototype.setText,Text.prototype.setText=Text.prototype.setTextJessieCode);try{for(JXG$1.exists(s)||(s=!1),a=0;a<f.length;a++)s&&(f[a]=JXG$1.GeonextParser.geonext2JS(f[a],this.board)),c.push(f[a]);switch(t=c.join(`
`),l=parser.parse(t),this.CA&&(l=this.CA.expandDerivatives(l,null,l),l=this.CA.removeTrivialNodes(l)),r){case"parse":u=this.execute(l);break;case"manipulate":u=this.compile(l);break;case"getAst":u=l;break;default:u=!1}}catch(h){throw h}finally{Text&&(Text.prototype.setText=o)}return u},parse:function(t,r,s){return this._genericParse(t,"parse",r,s)},manipulate:function(t,r,s){return this._genericParse(t,"manipulate",r,s)},getAST:function(t,r,s){return this._genericParse(t,"getAst",r,s)},snippet:function(t,r,s,n){var a;return r=JXG$1.def(r,!0),s=JXG$1.def(s,""),n=JXG$1.def(n,!1),a=(r?" function ("+s+") { return ":"")+t+(r?"; }":"")+";",this.parse(a,n,!0)},replaceIDs:function(t){var r,s;if(t.replaced&&(s=this.board.objects[t.children[1][0].value],JXG$1.exists(s)&&s.name!==""&&(t.type="node_var",t.value=s.name,t.children.length=0,delete t.replaced)),JXG$1.isArray(t))for(r=0;r<t.length;r++)t[r]=this.replaceIDs(t[r]);if(t.children)for(r=t.children.length;r>0;r--)JXG$1.exists(t.children[r-1])&&(t.children[r-1]=this.replaceIDs(t.children[r-1]));return t},replaceNames:function(t){var r,s;if(s=t.value,t.type==="node_op"&&s==="op_lhs"&&t.children.length===1?this.isLHS=!0:t.type==="node_var"&&(this.isLHS?this.letvar(s,!0):!JXG$1.exists(this.getvar(s,!0))&&JXG$1.exists(this.board.elementsByName[s])&&(t=this.createReplacementNode(t))),JXG$1.isArray(t))for(r=0;r<t.length;r++)t[r]=this.replaceNames(t[r]);if(t.children)for(r=t.children.length;r>0;r--)JXG$1.exists(t.children[r-1])&&(t.children[r-1]=this.replaceNames(t.children[r-1]));return t.type==="node_op"&&t.value==="op_lhs"&&t.children.length===1&&(this.isLHS=!1),t},createReplacementNode:function(t){var r=t.value,s=this.board.elementsByName[r];return t=this.createNode("node_op","op_execfun",this.createNode("node_var","$"),[this.createNode("node_str",s.id)]),t.replaced=!0,t},collectDependencies:function(t,r,s){var n,a,o,l;if(JXG$1.isArray(t)){for(l=t.length,n=0;n<l;n++)this.collectDependencies(t[n],r,s);return}if(a=t.value,t.type==="node_var"&&r.indexOf(a)<0&&(o=this.getvar(a),o&&o.visProp&&o.type&&o.elementClass&&o.id&&o.type===Const.OBJECT_TYPE_SLIDER&&(s[o.id]=o)),t.type==="node_op"&&t.value==="op_execfun"&&t.children.length>1&&t.children[0].value==="$"&&t.children[1].length>0&&(o=t.children[1][0].value,s[o]=this.board.objects[o]),t.children)for(n=t.children.length;n>0;n--)JXG$1.exists(t.children[n-1])&&this.collectDependencies(t.children[n-1],r,s)},resolveProperty:function(t,r,s){return s=JXG$1.def(s,!1),t&&t.methodMap&&(JXG$1.exists(t.subs)&&JXG$1.exists(t.subs[r])?t=t.subs:JXG$1.exists(t.methodMap[r])?r=t.methodMap[r]:(t=t.visProp,r=r.toLowerCase())),JXG$1.isFunction(t)&&this._error("Accessing function properties is not allowed."),JXG$1.exists(t)||this._error(t+" is not an object"),JXG$1.exists(t[r])||this._error("unknown property "+r),s&&typeof t[r]=="function"?function(){return t[r].apply(t,arguments)}:t[r]},resolveType:function(t,r){var s,n,a="any";if(JXG$1.isArray(r)){for(s=0;s<r.length;s++)if(n=this.resolveType(t,r[s]),n!=="any")return a=n,a}if(r.type==="node_op"&&r.value==="op_execfun"&&r.children[0].type==="node_var"&&r.children[0].value===t)return"function";if(r.type==="node_op"){for(s=0;s<r.children.length;s++)if(r.children[0].type==="node_var"&&r.children[0].value===t&&(r.value==="op_add"||r.value==="op_sub"||r.value==="op_mul"||r.value==="op_div"||r.value==="op_mod"||r.value==="op_exp"||r.value==="op_neg"))return"any";for(s=0;s<r.children.length;s++)if(n=this.resolveType(t,r.children[s]),n!=="any")return a=n,a}return"any"},getLHS:function(t){var r;if(t.type==="node_var")r={o:this.scope.locals,what:t.value};else if(t.type==="node_op"&&t.value==="op_property")r={o:this.execute(t.children[0]),what:t.children[1]};else if(t.type==="node_op"&&t.value==="op_extvalue")r={o:this.execute(t.children[0]),what:this.execute(t.children[1])};else throw new Error("Syntax error: Invalid left-hand side of assignment.");return r},getLHSCompiler:function(t,r){var s;if(t.type==="node_var")s=t.value;else if(t.type==="node_op"&&t.value==="op_property")s=[this.compile(t.children[0],r),"'"+t.children[1]+"'"];else if(t.type==="node_op"&&t.value==="op_extvalue")s=[this.compile(t.children[0],r),t.children[1].type==="node_const"?t.children[1].value:this.compile(t.children[1],r)];else throw new Error("Syntax error: Invalid left-hand side of assignment.");return s},execute:function(t){var r,s,n,a,o,l,u,f,c=[],h,d,p;if(r=0,!t)return r;switch(this.line=t.line,this.col=t.col,t.type){case"node_op":switch(t.value){case"op_none":t.children[0]&&this.execute(t.children[0]),t.children[1]&&(r=this.execute(t.children[1]));break;case"op_assign":s=this.getLHS(t.children[0]),this.lhs[this.scope.id]=s.what,s.o.type&&s.o.elementClass&&s.o.methodMap&&s.what==="label"&&this._error("Left-hand side of assignment is read-only."),r=this.execute(t.children[1]),s.o!==this.scope.locals||JXG$1.isArray(s.o)&&typeof s.what=="number"?this.setProp(s.o,s.what,r):this.letvar(s.what,r),this.lhs[this.scope.id]=0;break;case"op_if":this.execute(t.children[0])&&(r=this.execute(t.children[1]));break;case"op_conditional":case"op_if_else":this.execute(t.children[0])?r=this.execute(t.children[1]):r=this.execute(t.children[2]);break;case"op_while":for(;this.execute(t.children[0]);)this.execute(t.children[1]);break;case"op_do":do this.execute(t.children[0]);while(this.execute(t.children[1]));break;case"op_for":for(this.execute(t.children[0]);this.execute(t.children[1]);this.execute(t.children[2]))this.execute(t.children[3]);break;case"op_proplst":t.children[0]&&this.execute(t.children[0]),t.children[1]&&this.execute(t.children[1]);break;case"op_emptyobject":r={};break;case"op_proplst_val":this.propstack.push({}),this.propscope++,this.execute(t.children[0]),r=this.propstack[this.propscope],this.propstack.pop(),this.propscope--;break;case"op_prop":this.propstack[this.propscope][t.children[0]]=this.execute(t.children[1]);break;case"op_array":for(r=[],o=t.children[0].length,n=0;n<o;n++)r.push(this.execute(t.children[0][n]));break;case"op_extvalue":r=this.execute(t.children[0]),n=this.execute(t.children[1]),typeof n=="number"&&Math.abs(Math.round(n)-n)<Mat.eps?r=r[n]:r=l;break;case"op_return":if(this.scope===0)this._error("Unexpected return.");else return this.execute(t.children[0]);break;case"op_map":!t.children[1].isMath&&t.children[1].type!=="node_var"&&this._error("execute: In a map only function calls and mathematical expressions are allowed."),h=this.defineFunction(t),h.isMap=!0,r=h;break;case"op_function":h=this.defineFunction(t),h.isMap=!1,r=h;break;case"op_execfun":if(this.dpstack.push([]),this.pscope++,u=t.children[1],JXG$1.exists(t.children[2]))if(t.children[3])for(f=t.children[2],d={},n=0;n<f.length;n++)d=JXG$1.deepCopy(d,this.execute(f[n]),!0);else d=this.execute(t.children[2]);for(t.children[0]._isFunctionName=!0,h=this.execute(t.children[0]),delete t.children[0]._isFunctionName,h&&h.sc?p=h.sc:p=this,!h.creator&&JXG$1.exists(t.children[2])&&this._error("Unexpected value. Only element creators are allowed to have a value after the function call."),n=0;n<u.length;n++)JXG$1.exists(h.scope)&&JXG$1.exists(h.scope.argtypes)&&h.scope.argtypes[n]==="function"?(u[n]._isFunctionName=!0,c[n]=this.execute(u[n]),delete u[n]._isFunctionName):c[n]=this.execute(u[n]),this.dpstack[this.pscope].push({line:t.children[1][n].line,col:t.children[1][n].ecol});if(typeof h=="function"&&!h.creator)r=h.apply(p,c);else if(typeof h=="function"&&h.creator){a=this.line;try{for(r=h(c,d),r.jcLineStart=a,r.jcLineEnd=t.eline,n=a;n<=t.line;n++)this.lineToElement[n]=r;r.debugParents=this.dpstack[this.pscope]}catch(v){this._error(v.toString())}}else this._error("Function '"+h+"' is undefined.");this.dpstack.pop(),this.pscope--;break;case"op_property":a=this.execute(t.children[0]),s=t.children[1],r=this.resolveProperty(a,s,!1),JXG$1.exists(r)&&["number","string","boolean"].indexOf(typeof r)<0&&(r.sc=a);break;case"op_use":this._warn("Use of the 'use' operator is deprecated."),this.use(t.children[0].toString());break;case"op_delete":this._warn("Use of the 'delete' operator is deprecated. Please use the remove() function."),s=this.getvar(t.children[0]),r=this.del(s);break;case"op_eq":r=this.execute(t.children[0])==this.execute(t.children[1]);break;case"op_neq":r=this.execute(t.children[0])!=this.execute(t.children[1]);break;case"op_approx":r=Math.abs(this.execute(t.children[0])-this.execute(t.children[1]))<Mat.eps;break;case"op_gt":r=this.execute(t.children[0])>this.execute(t.children[1]);break;case"op_lt":r=this.execute(t.children[0])<this.execute(t.children[1]);break;case"op_geq":r=this.execute(t.children[0])>=this.execute(t.children[1]);break;case"op_leq":r=this.execute(t.children[0])<=this.execute(t.children[1]);break;case"op_or":r=this.execute(t.children[0])||this.execute(t.children[1]);break;case"op_and":r=this.execute(t.children[0])&&this.execute(t.children[1]);break;case"op_not":r=!this.execute(t.children[0]);break;case"op_add":r=this.add(this.execute(t.children[0]),this.execute(t.children[1]));break;case"op_sub":r=this.sub(this.execute(t.children[0]),this.execute(t.children[1]));break;case"op_div":r=this.div(this.execute(t.children[0]),this.execute(t.children[1]));break;case"op_mod":r=this.mod(this.execute(t.children[0]),this.execute(t.children[1]),!0);break;case"op_mul":r=this.mul(this.execute(t.children[0]),this.execute(t.children[1]));break;case"op_exp":r=this.pow(this.execute(t.children[0]),this.execute(t.children[1]));break;case"op_neg":r=this.neg(this.execute(t.children[0]));break}break;case"node_var":r=this.getvar(t.value,!1,t._isFunctionName);break;case"node_const":t.value===null?r=null:r=Number(t.value);break;case"node_const_bool":r=t.value;break;case"node_str":r=t.value.replace(/\\(.)/g,"$1");break}return r},compile:function(t,r){var s,n,a,o="";if(JXG$1.exists(r)||(r=!1),!t)return o;switch(t.type){case"node_op":switch(t.value){case"op_none":t.children[0]&&(o=this.compile(t.children[0],r)),t.children[1]&&(o+=this.compile(t.children[1],r));break;case"op_assign":r?(s=this.getLHSCompiler(t.children[0],r),JXG$1.isArray(s)?o="$jc$.setProp("+s[0]+", "+s[1]+", "+this.compile(t.children[1],r)+`);
`:(this.isLocalVariable(s)!==this.scope&&(this.scope.locals[s]=!0),o="$jc$.scopes["+this.scope.id+"].locals['"+s+"'] = "+this.compile(t.children[1],r)+`;
`)):(s=this.compile(t.children[0]),o=s+" = "+this.compile(t.children[1],r)+`;
`);break;case"op_if":o=" if ("+this.compile(t.children[0],r)+") "+this.compile(t.children[1],r);break;case"op_if_else":o=" if ("+this.compile(t.children[0],r)+")"+this.compile(t.children[1],r),o+=" else "+this.compile(t.children[2],r);break;case"op_conditional":o="(("+this.compile(t.children[0],r)+")?("+this.compile(t.children[1],r),o+="):("+this.compile(t.children[2],r)+"))";break;case"op_while":o=" while ("+this.compile(t.children[0],r)+`) {
`+this.compile(t.children[1],r)+`}
`;break;case"op_do":o=` do {
`+this.compile(t.children[0],r)+"} while ("+this.compile(t.children[1],r)+`);
`;break;case"op_for":o=" for ("+this.compile(t.children[0],r)+this.compile(t.children[1],r)+"; "+this.compile(t.children[2],r).slice(0,-2)+`) {
`+this.compile(t.children[3],r)+`
}
`;break;case"op_proplst":t.children[0]&&(o=this.compile(t.children[0],r)+", "),o+=this.compile(t.children[1],r);break;case"op_prop":o=t.children[0]+": "+this.compile(t.children[1],r);break;case"op_emptyobject":o=r?"{}":"<< >>";break;case"op_proplst_val":o=this.compile(t.children[0],r);break;case"op_array":for(a=[],n=0;n<t.children[0].length;n++)a.push(this.compile(t.children[0][n],r));o="["+a.join(", ")+"]";break;case"op_extvalue":o=this.compile(t.children[0],r)+"["+this.compile(t.children[1],r)+"]";break;case"op_return":o=" return "+this.compile(t.children[0],r)+`;
`;break;case"op_map":!t.children[1].isMath&&t.children[1].type!=="node_var"&&this._error("compile: In a map only function calls and mathematical expressions are allowed."),a=t.children[0],r?o=" $jc$.makeMap(function ("+a.join(", ")+") { return "+this.compile(t.children[1],r)+"; })":o="map ("+a.join(", ")+") -> "+this.compile(t.children[1],r);break;case"op_function":a=t.children[0],this.pushScope(a),r?o=this.functionCodeJS(t):o=" function ("+a.join(", ")+") "+this.compile(t.children[1],r),this.popScope();break;case"op_execfunmath":console.log("op_execfunmath: TODO"),o="-1";break;case"op_execfun":if(t.children[2]){for(a=[],n=0;n<t.children[2].length;n++)a.push(this.compile(t.children[2][n],r));r?s="$jc$.mergeAttributes("+a.join(", ")+")":s=a.join(", ")}for(t.children[0].withProps=!!t.children[2],a=[],n=0;n<t.children[1].length;n++)a.push(this.compile(t.children[1][n],r));o=this.compile(t.children[0],r)+"("+a.join(", ")+(t.children[2]&&r?", "+s:"")+")"+(t.children[2]&&!r?" "+s:""),r&&(o+=`
`),r&&t.children[0].value==="$"&&(o="$jc$.board.objects["+this.compile(t.children[1][0],r)+"]");break;case"op_property":r&&t.children[1]!=="X"&&t.children[1]!=="Y"?o="$jc$.resolveProperty("+this.compile(t.children[0],r)+", '"+t.children[1]+"', true)":o=this.compile(t.children[0],r)+"."+t.children[1];break;case"op_use":this._warn("Use of the 'use' operator is deprecated."),r?o="$jc$.use('":o="use('",o+=t.children[0].toString()+"');";break;case"op_delete":this._warn("Use of the 'delete' operator is deprecated. Please use the remove() function."),r?o="$jc$.del(":o="remove(",o+=this.compile(t.children[0],r)+")";break;case"op_eq":o="("+this.compile(t.children[0],r)+" === "+this.compile(t.children[1],r)+")";break;case"op_neq":o="("+this.compile(t.children[0],r)+" !== "+this.compile(t.children[1],r)+")";break;case"op_approx":o="("+this.compile(t.children[0],r)+" ~= "+this.compile(t.children[1],r)+")";break;case"op_gt":r?o="$jc$.gt("+this.compile(t.children[0],r)+", "+this.compile(t.children[1],r)+")":o="("+this.compile(t.children[0],r)+" > "+this.compile(t.children[1],r)+")";break;case"op_lt":r?o="$jc$.lt("+this.compile(t.children[0],r)+", "+this.compile(t.children[1],r)+")":o="("+this.compile(t.children[0],r)+" < "+this.compile(t.children[1],r)+")";break;case"op_geq":r?o="$jc$.geq("+this.compile(t.children[0],r)+", "+this.compile(t.children[1],r)+")":o="("+this.compile(t.children[0],r)+" >= "+this.compile(t.children[1],r)+")";break;case"op_leq":r?o="$jc$.leq("+this.compile(t.children[0],r)+", "+this.compile(t.children[1],r)+")":o="("+this.compile(t.children[0],r)+" <= "+this.compile(t.children[1],r)+")";break;case"op_or":o="("+this.compile(t.children[0],r)+" || "+this.compile(t.children[1],r)+")";break;case"op_and":o="("+this.compile(t.children[0],r)+" && "+this.compile(t.children[1],r)+")";break;case"op_not":o="!("+this.compile(t.children[0],r)+")";break;case"op_add":r?o="$jc$.add("+this.compile(t.children[0],r)+", "+this.compile(t.children[1],r)+")":o="("+this.compile(t.children[0],r)+" + "+this.compile(t.children[1],r)+")";break;case"op_sub":r?o="$jc$.sub("+this.compile(t.children[0],r)+", "+this.compile(t.children[1],r)+")":o="("+this.compile(t.children[0],r)+" - "+this.compile(t.children[1],r)+")";break;case"op_div":r?o="$jc$.div("+this.compile(t.children[0],r)+", "+this.compile(t.children[1],r)+")":o="("+this.compile(t.children[0],r)+" / "+this.compile(t.children[1],r)+")";break;case"op_mod":r?o="$jc$.mod("+this.compile(t.children[0],r)+", "+this.compile(t.children[1],r)+", true)":o="("+this.compile(t.children[0],r)+" % "+this.compile(t.children[1],r)+")";break;case"op_mul":r?o="$jc$.mul("+this.compile(t.children[0],r)+", "+this.compile(t.children[1],r)+")":o="("+this.compile(t.children[0],r)+" * "+this.compile(t.children[1],r)+")";break;case"op_exp":r?o="$jc$.pow("+this.compile(t.children[0],r)+", "+this.compile(t.children[1],r)+")":o="("+this.compile(t.children[0],r)+"^"+this.compile(t.children[1],r)+")";break;case"op_neg":r?o="$jc$.neg("+this.compile(t.children[0],r)+")":o="(-"+this.compile(t.children[0],r)+")";break}break;case"node_var":r?o=this.getvarJS(t.value,!1,t.withProps):o=t.value;break;case"node_const":o=t.value;break;case"node_const_bool":o=t.value;break;case"node_str":o="'"+t.value+"'";break}return t.needsBrackets&&(o=`{
`+o+` }
`),t.needsAngleBrackets&&(r?o=`{
`+o+` }
`:o="<< "+o+` >>
`),o},getName:function(t,r){var s="";return JXG$1.exists(t)&&JXG$1.exists(t.getName)?(s=t.getName(),(!JXG$1.exists(s)||s==="")&&r&&(s=t.id)):r&&(s=t.id),s},X:function(t){return t.X()},Y:function(t){return t.Y()},V:function(t){return t.Value()},L:function(t){return t.L()},area:function(t){return(!JXG$1.exists(t)||!JXG$1.exists(t.Area))&&this._error("Error: Can't calculate area."),t.Area()},perimeter:function(t){return(!JXG$1.exists(t)||!JXG$1.exists(t.Perimeter))&&this._error("Error: Can't calculate perimeter."),t.Perimeter()},dist:function(t,r){return(!JXG$1.exists(t)||!JXG$1.exists(t.Dist))&&this._error("Error: Can't calculate distance."),t.Dist(r)},radius:function(t){return(!JXG$1.exists(t)||!JXG$1.exists(t.Radius))&&this._error("Error: Can't calculate radius."),t.Radius()},add:function(t,r){var s,n,a;if(t=JXG$1.evalSlider(t),r=JXG$1.evalSlider(r),Interval.isInterval(t)||Interval.isInterval(r))a=Interval.add(t,r);else if(JXG$1.isArray(t)&&JXG$1.isArray(r))for(n=Math.min(t.length,r.length),a=[],s=0;s<n;s++)a[s]=t[s]+r[s];else JXG$1.isNumber(t)&&JXG$1.isNumber(r)?a=t+r:JXG$1.isString(t)||JXG$1.isString(r)?a=t.toString()+r.toString():this._error("Operation + not defined on operands "+typeof t+" and "+typeof r);return a},sub:function(t,r){var s,n,a;if(t=JXG$1.evalSlider(t),r=JXG$1.evalSlider(r),Interval.isInterval(t)||Interval.isInterval(r))a=Interval.sub(t,r);else if(JXG$1.isArray(t)&&JXG$1.isArray(r))for(n=Math.min(t.length,r.length),a=[],s=0;s<n;s++)a[s]=t[s]-r[s];else JXG$1.isNumber(t)&&JXG$1.isNumber(r)?a=t-r:this._error("Operation - not defined on operands "+typeof t+" and "+typeof r);return a},neg:function(t){var r,s,n;if(t=JXG$1.evalSlider(t),Interval.isInterval(t))n=Interval.negative(t);else if(JXG$1.isArray(t))for(s=t.length,n=[],r=0;r<s;r++)n[r]=-t[r];else JXG$1.isNumber(t)?n=-t:this._error("Unary operation - not defined on operand "+typeof t);return n},mul:function(t,r){var s,n,a;if(t=JXG$1.evalSlider(t),r=JXG$1.evalSlider(r),JXG$1.isArray(t)&&JXG$1.isNumber(r)&&(s=t,t=r,r=t),Interval.isInterval(t)||Interval.isInterval(r))a=Interval.mul(t,r);else if(JXG$1.isArray(t)&&JXG$1.isArray(r))n=Math.min(t.length,r.length),a=Mat.innerProduct(t,r,n);else if(JXG$1.isNumber(t)&&JXG$1.isArray(r))for(n=r.length,a=[],s=0;s<n;s++)a[s]=t*r[s];else JXG$1.isNumber(t)&&JXG$1.isNumber(r)?a=t*r:this._error("Operation * not defined on operands "+typeof t+" and "+typeof r);return a},div:function(t,r){var s,n,a;if(t=JXG$1.evalSlider(t),r=JXG$1.evalSlider(r),Interval.isInterval(t)||Interval.isInterval(r))a=Interval.div(t,r);else if(JXG$1.isArray(t)&&JXG$1.isNumber(r))for(n=t.length,a=[],s=0;s<n;s++)a[s]=t[s]/r;else JXG$1.isNumber(t)&&JXG$1.isNumber(r)?a=t/r:this._error("Operation * not defined on operands "+typeof t+" and "+typeof r);return a},mod:function(t,r){var s,n,a;if(t=JXG$1.evalSlider(t),r=JXG$1.evalSlider(r),Interval.isInterval(t)||Interval.isInterval(r))return Interval.fmod(t,r);if(JXG$1.isArray(t)&&JXG$1.isNumber(r))for(n=t.length,a=[],s=0;s<n;s++)a[s]=Mat.mod(t[s],r,!0);else JXG$1.isNumber(t)&&JXG$1.isNumber(r)?a=Mat.mod(t,r,!0):this._error("Operation * not defined on operands "+typeof t+" and "+typeof r);return a},pow:function(t,r){return t=JXG$1.evalSlider(t),r=JXG$1.evalSlider(r),Interval.isInterval(t)||Interval.isInterval(r)?Interval.pow(t,r):Mat.pow(t,r)},lt:function(t,r){return Interval.isInterval(t)||Interval.isInterval(r)?Interval.lt(t,r):t<r},leq:function(t,r){return Interval.isInterval(t)||Interval.isInterval(r)?Interval.leq(t,r):t<=r},gt:function(t,r){return Interval.isInterval(t)||Interval.isInterval(r)?Interval.gt(t,r):t>r},geq:function(t,r){return Interval.isInterval(t)||Interval.isInterval(r)?Intervalt.geq(t,r):t>=r},randint:function(t,r,s){return JXG$1.exists(s)||(s=1),Math.round(Math.random()*(r-t)/s)*s+t},DDD:function(t){console.log("Dummy derivative function. This should never appear!")},ifthen:function(t,r,s){return t?r:s},del:function(t){typeof t=="object"&&JXG$1.exists(t.type)&&JXG$1.exists(t.elementClass)&&this.board.removeObject(t)},use:function(t){var r,s,n=!1;if(typeof t=="string"){for(r in JXG$1.boards)if(JXG$1.boards.hasOwnProperty(r)&&JXG$1.boards[r].container===t){s=JXG$1.boards[r],n=!0;break}}else s=t,n=!0;n?(this.board=s,this.builtIn.$board=s,this.builtIn.$board.src="$jc$.board"):this._error("Board '"+t+"' not found!")},findSymbol:function(t,r){var s,n;for(r=JXG$1.def(r,-1),r===-1?n=this.scope:n=this.scopes[r];n!==null;){for(s in n.locals)if(n.locals.hasOwnProperty(s)&&n.locals[s]===t)return[s,n];n=n.previous}return[]},importModule:function(t){return priv$4.modules[t.toLowerCase()]},defineBuiltIn:function(){var t=this,r={PI:Math.PI,EULER:Math.E,D:t.DDD,X:t.X,Y:t.Y,V:t.V,L:t.L,acosh:Mat.acosh,acot:Mat.acot,asinh:Mat.asinh,binomial:Mat.binomial,cbrt:Mat.cbrt,cosh:Mat.cosh,cot:Mat.cot,deg:Geometry.trueAngle,A:t.area,area:t.area,perimeter:t.perimeter,dist:t.dist,R:t.radius,radius:t.radius,erf:Mat.erf,erfc:Mat.erfc,erfi:Mat.erfi,factorial:Mat.factorial,gcd:Mat.gcd,lb:Mat.log2,lcm:Mat.lcm,ld:Mat.log2,lg:Mat.log10,ln:Math.log,log:Mat.log,log10:Mat.log10,log2:Mat.log2,ndtr:Mat.ndtr,ndtri:Mat.ndtri,nthroot:Mat.nthroot,pow:Mat.pow,rad:Geometry.rad,ratpow:Mat.ratpow,trunc:JXG$1.trunc,sinh:Mat.sinh,randint:t.randint,IfThen:t.ifthen,import:t.importModule,use:t.use,remove:t.del,$:t.getElementById,getName:t.getName,name:t.getName,$board:t.board,$log:t.log};return r.rad.sc=Geometry,r.deg.sc=Geometry,r.factorial.sc=Mat,r.X.src="$jc$.X",r.Y.src="$jc$.Y",r.V.src="$jc$.V",r.L.src="$jc$.L",r.acosh.src="JXG.Math.acosh",r.acot.src="JXG.Math.acot",r.asinh.src="JXG.Math.asinh",r.binomial.src="JXG.Math.binomial",r.cbrt.src="JXG.Math.cbrt",r.cot.src="JXG.Math.cot",r.cosh.src="JXG.Math.cosh",r.deg.src="JXG.Math.Geometry.trueAngle",r.erf.src="JXG.Math.erf",r.erfc.src="JXG.Math.erfc",r.erfi.src="JXG.Math.erfi",r.A.src="$jc$.area",r.area.src="$jc$.area",r.perimeter.src="$jc$.perimeter",r.dist.src="$jc$.dist",r.R.src="$jc$.radius",r.radius.src="$jc$.radius",r.factorial.src="JXG.Math.factorial",r.gcd.src="JXG.Math.gcd",r.lb.src="JXG.Math.log2",r.lcm.src="JXG.Math.lcm",r.ld.src="JXG.Math.log2",r.lg.src="JXG.Math.log10",r.ln.src="Math.log",r.log.src="JXG.Math.log",r.log10.src="JXG.Math.log10",r.log2.src="JXG.Math.log2",r.ndtr.src="JXG.Math.ndtr",r.ndtri.src="JXG.Math.ndtri",r.nthroot.src="JXG.Math.nthroot",r.pow.src="JXG.Math.pow",r.rad.src="JXG.Math.Geometry.rad",r.ratpow.src="JXG.Math.ratpow",r.trunc.src="JXG.trunc",r.sinh.src="JXG.Math.sinh",r.randint.src="$jc$.randint",r.import.src="$jc$.importModule",r.use.src="$jc$.use",r.remove.src="$jc$.del",r.IfThen.src="$jc$.ifthen",r.$.src="(function (n) { return $jc$.board.select(n); })",r.getName.src="$jc$.getName",r.name.src="$jc$.getName",r.$board&&(r.$board.src="$jc$.board"),r.$log.src="$jc$.log",r=JXG$1.merge(r,t._addedBuiltIn),r},_addedBuiltIn:{},addBuiltIn:function(t,r){if(JXG$1.exists(this.builtIn)){if(JXG$1.exists(this.builtIn[t]))return;this.builtIn[t]=r,this.builtIn[t].src="$jc$."+t}JXG$1.exists(this._addedBuiltIn[t])||(this._addedBuiltIn[t]=r,this._addedBuiltIn[t].src="$jc$."+t,JXG$1.JessieCode.prototype[t]=r,console.log("added",t,r))},getPossibleOperands:function(){var t=["E"],r=this.builtIn||this.defineBuiltIn(),s=Math,n,a,o,l,u,f,c,h,d,p,v,y,b,w;for(b=function(x,A){return x.toLowerCase().localeCompare(A.toLowerCase())},w=function(x,A){var S=null;if(A==="jc")S=r[x];else if(A==="Math")S=s[x];else return;if(!(t.indexOf(x)>=0)){if(JXG$1.isFunction(S))return{name:x,type:"function",numParams:S.length,origin:A};if(JXG$1.isNumber(S))return{name:x,type:"constant",value:S,origin:A};x.startsWith("$")||S!==void 0&&console.error("undefined type",S)}},n=Object.getOwnPropertyNames(r).sort(b),a=Object.getOwnPropertyNames(s).sort(b),o=[],l=0,u=0;l<n.length||u<a.length;)n[l]===a[u]?(f=w(a[u],"Math"),JXG$1.exists(f)&&o.push(f),l++,u++):!JXG$1.exists(a[u])||n[l].toLowerCase().localeCompare(a[u].toLowerCase())<0?(f=w(n[l],"jc"),JXG$1.exists(f)&&o.push(f),l++):(f=w(a[u],"Math"),JXG$1.exists(f)&&o.push(f),u++);for(d=[],p=[],v=[],y={},c=o.length,l=0;l<c;l++){switch(h=o[l],h.type){case"function":d.push(h.name),h.origin==="jc"&&p.push(h.name);break;case"constant":v.push(h.name);break}y[h.name]=h}return{all:y,list:o,functions:d,functions_jessiecode:p,constants:v}},_debug:function(t){typeof console=="object"?console.log(t):JXG$1.isBrowser&&document&&document.getElementById("debug")!==null&&(document.getElementById("debug").innerHTML+=t+"<br />")},_error:function(t){var r=new Error("Error("+this.line+"): "+t);throw r.line=this.line,r},_warn:function(t){typeof console=="object"?console.log("Warning("+this.line+"): "+t):JXG$1.isBrowser&&document&&document.getElementById(this.warnLog)!==null&&(document.getElementById(this.warnLog).innerHTML+="Warning("+this.line+"): "+t+"<br />")},_log:function(t){typeof window!="object"&&typeof self=="object"&&self.postMessage?self.postMessage({type:"log",msg:"Log: "+t.toString()}):console.log("Log: ",arguments)}});var parser=(function(){var t=function(Ve,qe,Fe,at){for(Fe=Fe||{},at=Ve.length;at--;Fe[Ve[at]]=qe);return Fe},r=[2,14],s=[1,13],n=[1,37],a=[1,14],o=[1,15],l=[1,21],u=[1,16],f=[1,17],c=[1,33],h=[1,18],d=[1,19],p=[1,12],v=[1,59],y=[1,60],b=[1,58],w=[1,46],x=[1,48],A=[1,49],S=[1,50],_=[1,51],$=[1,52],M=[1,53],T=[1,54],O=[1,45],B=[1,38],J=[1,39],F=[5,7,8,14,15,16,17,19,20,21,23,26,27,50,51,58,65,74,75,76,77,78,79,80,82,91,93],z=[5,7,8,12,14,15,16,17,19,20,21,23,26,27,50,51,58,65,74,75,76,77,78,79,80,82,91,93],Z=[8,10,16,32,34,35,37,39,41,42,43,45,46,47,48,50,51,53,54,55,57,64,65,66,83,86],se=[2,48],ie=[1,72],U=[10,16,32,34,35,37,39,41,42,43,45,46,47,48,50,51,53,54,55,57,66,83,86],H=[1,78],ue=[8,10,16,32,34,35,37,41,42,43,45,46,47,48,50,51,53,54,55,57,64,65,66,83,86],Y=[1,82],K=[8,10,16,32,34,35,37,39,45,46,47,48,50,51,53,54,55,57,64,65,66,83,86],te=[1,83],ae=[1,84],ee=[1,85],de=[8,10,16,32,34,35,37,39,41,42,43,50,51,53,54,55,57,64,65,66,83,86],ce=[1,89],xe=[1,90],Me=[1,91],Ae=[1,92],Xe=[1,97],Be=[8,10,16,32,34,35,37,39,41,42,43,45,46,47,48,53,54,55,57,64,65,66,83,86],Ze=[1,103],nt=[1,104],rt=[8,10,16,32,34,35,37,39,41,42,43,45,46,47,48,50,51,57,64,65,66,83,86],it=[1,105],me=[1,106],be=[1,107],Re=[1,126],ye=[1,139],$e=[83,86],Te=[1,150],et=[10,66,86],Ke=[8,10,16,20,32,34,35,37,39,41,42,43,45,46,47,48,50,51,53,54,55,57,64,65,66,82,83,86],pe=[1,167],ve=[10,86],De={trace:function(){},yy:{},symbols_:{error:2,Program:3,StatementList:4,EOF:5,IfStatement:6,IF:7,"(":8,Expression:9,")":10,Statement:11,ELSE:12,LoopStatement:13,WHILE:14,FOR:15,";":16,DO:17,UnaryStatement:18,USE:19,IDENTIFIER:20,DELETE:21,ReturnStatement:22,RETURN:23,EmptyStatement:24,StatementBlock:25,"{":26,"}":27,ExpressionStatement:28,AssignmentExpression:29,ConditionalExpression:30,LeftHandSideExpression:31,"=":32,LogicalORExpression:33,"?":34,":":35,LogicalANDExpression:36,"||":37,EqualityExpression:38,"&&":39,RelationalExpression:40,"==":41,"!=":42,"~=":43,AdditiveExpression:44,"<":45,">":46,"<=":47,">=":48,MultiplicativeExpression:49,"+":50,"-":51,UnaryExpression:52,"*":53,"/":54,"%":55,ExponentExpression:56,"^":57,"!":58,MemberExpression:59,CallExpression:60,PrimaryExpression:61,FunctionExpression:62,MapExpression:63,".":64,"[":65,"]":66,BasicLiteral:67,ObjectLiteral:68,ArrayLiteral:69,NullLiteral:70,BooleanLiteral:71,StringLiteral:72,NumberLiteral:73,NULL:74,TRUE:75,FALSE:76,STRING:77,NUMBER:78,NAN:79,INFINITY:80,ElementList:81,"<<":82,">>":83,PropertyList:84,Property:85,",":86,PropertyName:87,Arguments:88,AttributeList:89,Attribute:90,FUNCTION:91,ParameterDefinitionList:92,MAP:93,"->":94,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",7:"IF",8:"(",10:")",12:"ELSE",14:"WHILE",15:"FOR",16:";",17:"DO",19:"USE",20:"IDENTIFIER",21:"DELETE",23:"RETURN",26:"{",27:"}",32:"=",34:"?",35:":",37:"||",39:"&&",41:"==",42:"!=",43:"~=",45:"<",46:">",47:"<=",48:">=",50:"+",51:"-",53:"*",54:"/",55:"%",57:"^",58:"!",64:".",65:"[",66:"]",74:"NULL",75:"TRUE",76:"FALSE",77:"STRING",78:"NUMBER",79:"NAN",80:"INFINITY",82:"<<",83:">>",86:",",91:"FUNCTION",93:"MAP",94:"->"},productions_:[0,[3,2],[6,5],[6,7],[13,5],[13,9],[13,7],[18,2],[18,2],[22,2],[22,3],[24,1],[25,3],[4,2],[4,0],[11,1],[11,1],[11,1],[11,1],[11,1],[11,1],[11,1],[28,2],[9,1],[29,1],[29,3],[30,1],[30,5],[33,1],[33,3],[36,1],[36,3],[38,1],[38,3],[38,3],[38,3],[40,1],[40,3],[40,3],[40,3],[40,3],[44,1],[44,3],[44,3],[49,1],[49,3],[49,3],[49,3],[56,1],[56,3],[52,1],[52,2],[52,2],[52,2],[31,1],[31,1],[59,1],[59,1],[59,1],[59,3],[59,4],[61,1],[61,1],[61,1],[61,1],[61,3],[67,1],[67,1],[67,1],[67,1],[70,1],[71,1],[71,1],[72,1],[73,1],[73,1],[73,1],[69,2],[69,3],[68,2],[68,3],[84,1],[84,3],[85,3],[87,1],[87,1],[87,1],[60,2],[60,3],[60,2],[60,4],[60,3],[88,2],[88,3],[89,1],[89,3],[90,1],[90,1],[81,1],[81,3],[62,4],[62,5],[63,5],[63,6],[92,1],[92,3]],performAction:function(qe,Fe,at,vt,pt,He,ht){var L=He.length-1;switch(pt){case 1:return He[L-1];case 2:this.$=_e.createNode(Oe(ht[L-4]),"node_op","op_if",He[L-2],He[L]);break;case 3:this.$=_e.createNode(Oe(ht[L-6]),"node_op","op_if_else",He[L-4],He[L-2],He[L]);break;case 4:this.$=_e.createNode(Oe(ht[L-4]),"node_op","op_while",He[L-2],He[L]);break;case 5:this.$=_e.createNode(Oe(ht[L-8]),"node_op","op_for",He[L-6],He[L-4],He[L-2],He[L]);break;case 6:this.$=_e.createNode(Oe(ht[L-6]),"node_op","op_do",He[L-5],He[L-2]);break;case 7:this.$=_e.createNode(Oe(ht[L-1]),"node_op","op_use",He[L]);break;case 8:this.$=_e.createNode(Oe(ht[L-1]),"node_op","op_delete",He[L]);break;case 9:this.$=_e.createNode(Oe(ht[L-1]),"node_op","op_return",void 0);break;case 10:this.$=_e.createNode(Oe(ht[L-2]),"node_op","op_return",He[L-1]);break;case 11:case 14:this.$=_e.createNode(Oe(ht[L]),"node_op","op_none");break;case 12:this.$=He[L-1],this.$.needsBrackets=!0;break;case 13:this.$=_e.createNode(Oe(ht[L-1]),"node_op","op_none",He[L-1],He[L]);break;case 15:case 16:case 17:case 18:case 19:case 20:case 21:case 23:case 24:case 26:case 28:case 30:case 32:case 36:case 41:case 44:case 48:case 50:case 52:case 54:case 55:case 56:case 58:case 62:case 81:case 84:case 85:case 86:this.$=He[L];break;case 22:case 65:case 93:this.$=He[L-1];break;case 25:this.$=_e.createNode(Oe(ht[L-2]),"node_op","op_assign",He[L-2],He[L]),this.$.isMath=!1;break;case 27:this.$=_e.createNode(Oe(ht[L-4]),"node_op","op_conditional",He[L-4],He[L-2],He[L]),this.$.isMath=!1;break;case 29:this.$=_e.createNode(Oe(ht[L-2]),"node_op","op_or",He[L-2],He[L]),this.$.isMath=!1;break;case 31:this.$=_e.createNode(Oe(ht[L-2]),"node_op","op_and",He[L-2],He[L]),this.$.isMath=!1;break;case 33:this.$=_e.createNode(Oe(ht[L-2]),"node_op","op_eq",He[L-2],He[L]),this.$.isMath=!1;break;case 34:this.$=_e.createNode(Oe(ht[L-2]),"node_op","op_neq",He[L-2],He[L]),this.$.isMath=!1;break;case 35:this.$=_e.createNode(Oe(ht[L-2]),"node_op","op_approx",He[L-2],He[L]),this.$.isMath=!1;break;case 37:this.$=_e.createNode(Oe(ht[L-2]),"node_op","op_lt",He[L-2],He[L]),this.$.isMath=!1;break;case 38:this.$=_e.createNode(Oe(ht[L-2]),"node_op","op_gt",He[L-2],He[L]),this.$.isMath=!1;break;case 39:this.$=_e.createNode(Oe(ht[L-2]),"node_op","op_leq",He[L-2],He[L]),this.$.isMath=!1;break;case 40:this.$=_e.createNode(Oe(ht[L-2]),"node_op","op_geq",He[L-2],He[L]),this.$.isMath=!1;break;case 42:this.$=_e.createNode(Oe(ht[L-2]),"node_op","op_add",He[L-2],He[L]),this.$.isMath=!0;break;case 43:this.$=_e.createNode(Oe(ht[L-2]),"node_op","op_sub",He[L-2],He[L]),this.$.isMath=!0;break;case 45:this.$=_e.createNode(Oe(ht[L-2]),"node_op","op_mul",He[L-2],He[L]),this.$.isMath=!0;break;case 46:this.$=_e.createNode(Oe(ht[L-2]),"node_op","op_div",He[L-2],He[L]),this.$.isMath=!0;break;case 47:this.$=_e.createNode(Oe(ht[L-2]),"node_op","op_mod",He[L-2],He[L]),this.$.isMath=!0;break;case 49:this.$=_e.createNode(Oe(ht[L-2]),"node_op","op_exp",He[L-2],He[L]),this.$.isMath=!0;break;case 51:this.$=_e.createNode(Oe(ht[L-1]),"node_op","op_not",He[L]),this.$.isMath=!1;break;case 53:this.$=_e.createNode(Oe(ht[L-1]),"node_op","op_neg",He[L]),this.$.isMath=!0;break;case 57:case 63:case 64:case 66:case 67:case 68:case 97:this.$=He[L],this.$.isMath=!1;break;case 59:case 91:this.$=_e.createNode(Oe(ht[L-2]),"node_op","op_property",He[L-2],He[L]),this.$.isMath=!0;break;case 60:case 90:this.$=_e.createNode(Oe(ht[L-3]),"node_op","op_extvalue",He[L-3],He[L-1]),this.$.isMath=!0;break;case 61:this.$=_e.createNode(Oe(ht[L]),"node_var",He[L]);break;case 69:this.$=He[L],this.$.isMath=!0;break;case 70:this.$=_e.createNode(Oe(ht[L]),"node_const",null);break;case 71:this.$=_e.createNode(Oe(ht[L]),"node_const_bool",!0);break;case 72:this.$=_e.createNode(Oe(ht[L]),"node_const_bool",!1);break;case 73:this.$=_e.createNode(Oe(ht[L]),"node_str",He[L].substring(1,He[L].length-1));break;case 74:this.$=_e.createNode(Oe(ht[L]),"node_const",parseFloat(He[L]));break;case 75:this.$=_e.createNode(Oe(ht[L]),"node_const",NaN);break;case 76:this.$=_e.createNode(Oe(ht[L]),"node_const",1/0);break;case 77:this.$=_e.createNode(Oe(ht[L-1]),"node_op","op_array",[]);break;case 78:this.$=_e.createNode(Oe(ht[L-2]),"node_op","op_array",He[L-1]);break;case 79:this.$=_e.createNode(Oe(ht[L-1]),"node_op","op_emptyobject",{}),this.$.needsAngleBrackets=!0;break;case 80:this.$=_e.createNode(Oe(ht[L-2]),"node_op","op_proplst_val",He[L-1]),this.$.needsAngleBrackets=!0;break;case 82:this.$=_e.createNode(Oe(ht[L-2]),"node_op","op_proplst",He[L-2],He[L]);break;case 83:this.$=_e.createNode(Oe(ht[L-2]),"node_op","op_prop",He[L-2],He[L]);break;case 87:case 89:this.$=_e.createNode(Oe(ht[L-1]),"node_op","op_execfun",He[L-1],He[L]),this.$.isMath=!0;break;case 88:this.$=_e.createNode(Oe(ht[L-2]),"node_op","op_execfun",He[L-2],He[L-1],He[L],!0),this.$.isMath=!1;break;case 92:this.$=[];break;case 94:case 98:case 104:this.$=[He[L]];break;case 95:case 99:case 105:this.$=He[L-2].concat(He[L]);break;case 96:this.$=_e.createNode(Oe(ht[L]),"node_var",He[L]),this.$.isMath=!0;break;case 100:this.$=_e.createNode(Oe(ht[L-3]),"node_op","op_function",[],He[L]),this.$.isMath=!1;break;case 101:this.$=_e.createNode(Oe(ht[L-4]),"node_op","op_function",He[L-2],He[L]),this.$.isMath=!1;break;case 102:this.$=_e.createNode(Oe(ht[L-4]),"node_op","op_map",[],He[L]);break;case 103:this.$=_e.createNode(Oe(ht[L-5]),"node_op","op_map",He[L-3],He[L]);break}},table:[t([5,7,8,14,15,16,17,19,20,21,23,26,50,51,58,65,74,75,76,77,78,79,80,82,91,93],r,{3:1,4:2}),{1:[3]},{5:[1,3],6:6,7:s,8:n,9:20,11:4,13:7,14:a,15:o,16:l,17:u,18:8,19:f,20:c,21:h,22:9,23:d,24:11,25:5,26:p,28:10,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:v,51:y,52:56,56:57,58:b,59:26,60:27,61:29,62:30,63:31,65:w,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:x,75:A,76:S,77:_,78:$,79:M,80:T,82:O,91:B,93:J},{1:[2,1]},t(F,[2,13]),t(z,[2,15]),t(z,[2,16]),t(z,[2,17]),t(z,[2,18]),t(z,[2,19]),t(z,[2,20]),t(z,[2,21]),t([7,8,14,15,16,17,19,20,21,23,26,27,50,51,58,65,74,75,76,77,78,79,80,82,91,93],r,{4:61}),{8:[1,62]},{8:[1,63]},{8:[1,64]},{6:6,7:s,8:n,9:20,11:65,13:7,14:a,15:o,16:l,17:u,18:8,19:f,20:c,21:h,22:9,23:d,24:11,25:5,26:p,28:10,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:v,51:y,52:56,56:57,58:b,59:26,60:27,61:29,62:30,63:31,65:w,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:x,75:A,76:S,77:_,78:$,79:M,80:T,82:O,91:B,93:J},{20:[1,66]},{20:[1,67]},{8:n,9:69,16:[1,68],20:c,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:v,51:y,52:56,56:57,58:b,59:26,60:27,61:29,62:30,63:31,65:w,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:x,75:A,76:S,77:_,78:$,79:M,80:T,82:O,91:B,93:J},{16:[1,70]},t(z,[2,11]),t(Z,[2,23]),t(Z,[2,24]),t([8,10,16,34,35,37,39,41,42,43,45,46,47,48,50,51,53,54,55,64,65,66,83,86],se,{32:[1,71],57:ie}),t([8,10,16,32,35,39,41,42,43,45,46,47,48,50,51,53,54,55,57,64,65,66,83,86],[2,26],{34:[1,73],37:[1,74]}),t(U,[2,54],{88:77,8:H,64:[1,75],65:[1,76]}),t(U,[2,55],{88:79,8:H,64:[1,81],65:[1,80]}),t(ue,[2,28],{39:Y}),t(Z,[2,56]),t(Z,[2,57]),t(Z,[2,58]),t(K,[2,30],{41:te,42:ae,43:ee}),t(Z,[2,61]),t(Z,[2,62]),t(Z,[2,63]),t(Z,[2,64]),{8:n,9:86,20:c,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:v,51:y,52:56,56:57,58:b,59:26,60:27,61:29,62:30,63:31,65:w,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:x,75:A,76:S,77:_,78:$,79:M,80:T,82:O,91:B,93:J},{8:[1,87]},{8:[1,88]},t(de,[2,32],{45:ce,46:xe,47:Me,48:Ae}),t(Z,[2,66]),t(Z,[2,67]),t(Z,[2,68]),t(Z,[2,69]),{20:Xe,72:98,73:99,77:_,78:$,79:M,80:T,83:[1,93],84:94,85:95,87:96},{8:n,20:c,29:102,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:v,51:y,52:56,56:57,58:b,59:26,60:27,61:29,62:30,63:31,65:w,66:[1,100],67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:x,75:A,76:S,77:_,78:$,79:M,80:T,81:101,82:O,91:B,93:J},t(Be,[2,36],{50:Ze,51:nt}),t(Z,[2,70]),t(Z,[2,71]),t(Z,[2,72]),t(Z,[2,73]),t(Z,[2,74]),t(Z,[2,75]),t(Z,[2,76]),t(rt,[2,41],{53:it,54:me,55:be}),t(Z,[2,44]),t(Z,[2,50]),{8:n,20:c,31:109,50:v,51:y,52:108,56:57,58:b,59:26,60:27,61:29,62:30,63:31,65:w,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:x,75:A,76:S,77:_,78:$,79:M,80:T,82:O,91:B,93:J},{8:n,20:c,31:109,50:v,51:y,52:110,56:57,58:b,59:26,60:27,61:29,62:30,63:31,65:w,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:x,75:A,76:S,77:_,78:$,79:M,80:T,82:O,91:B,93:J},{8:n,20:c,31:109,50:v,51:y,52:111,56:57,58:b,59:26,60:27,61:29,62:30,63:31,65:w,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:x,75:A,76:S,77:_,78:$,79:M,80:T,82:O,91:B,93:J},{6:6,7:s,8:n,9:20,11:4,13:7,14:a,15:o,16:l,17:u,18:8,19:f,20:c,21:h,22:9,23:d,24:11,25:5,26:p,27:[1,112],28:10,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:v,51:y,52:56,56:57,58:b,59:26,60:27,61:29,62:30,63:31,65:w,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:x,75:A,76:S,77:_,78:$,79:M,80:T,82:O,91:B,93:J},{8:n,9:113,20:c,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:v,51:y,52:56,56:57,58:b,59:26,60:27,61:29,62:30,63:31,65:w,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:x,75:A,76:S,77:_,78:$,79:M,80:T,82:O,91:B,93:J},{8:n,9:114,20:c,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:v,51:y,52:56,56:57,58:b,59:26,60:27,61:29,62:30,63:31,65:w,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:x,75:A,76:S,77:_,78:$,79:M,80:T,82:O,91:B,93:J},{8:n,9:115,20:c,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:v,51:y,52:56,56:57,58:b,59:26,60:27,61:29,62:30,63:31,65:w,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:x,75:A,76:S,77:_,78:$,79:M,80:T,82:O,91:B,93:J},{14:[1,116]},t(z,[2,7]),t(z,[2,8]),t(z,[2,9]),{16:[1,117]},t(z,[2,22]),{8:n,20:c,29:118,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:v,51:y,52:56,56:57,58:b,59:26,60:27,61:29,62:30,63:31,65:w,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:x,75:A,76:S,77:_,78:$,79:M,80:T,82:O,91:B,93:J},{8:n,20:c,31:109,50:v,51:y,52:119,56:57,58:b,59:26,60:27,61:29,62:30,63:31,65:w,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:x,75:A,76:S,77:_,78:$,79:M,80:T,82:O,91:B,93:J},{8:n,20:c,29:120,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:v,51:y,52:56,56:57,58:b,59:26,60:27,61:29,62:30,63:31,65:w,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:x,75:A,76:S,77:_,78:$,79:M,80:T,82:O,91:B,93:J},{8:n,20:c,31:109,36:121,38:32,40:40,44:47,49:55,50:v,51:y,52:56,56:57,58:b,59:26,60:27,61:29,62:30,63:31,65:w,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:x,75:A,76:S,77:_,78:$,79:M,80:T,82:O,91:B,93:J},{20:[1,122]},{8:n,9:123,20:c,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:v,51:y,52:56,56:57,58:b,59:26,60:27,61:29,62:30,63:31,65:w,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:x,75:A,76:S,77:_,78:$,79:M,80:T,82:O,91:B,93:J},t(Z,[2,87],{89:124,90:125,68:127,20:Re,82:O}),{8:n,10:[1,128],20:c,29:102,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:v,51:y,52:56,56:57,58:b,59:26,60:27,61:29,62:30,63:31,65:w,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:x,75:A,76:S,77:_,78:$,79:M,80:T,81:129,82:O,91:B,93:J},t(Z,[2,89]),{8:n,9:130,20:c,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:v,51:y,52:56,56:57,58:b,59:26,60:27,61:29,62:30,63:31,65:w,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:x,75:A,76:S,77:_,78:$,79:M,80:T,82:O,91:B,93:J},{20:[1,131]},{8:n,20:c,31:109,38:132,40:40,44:47,49:55,50:v,51:y,52:56,56:57,58:b,59:26,60:27,61:29,62:30,63:31,65:w,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:x,75:A,76:S,77:_,78:$,79:M,80:T,82:O,91:B,93:J},{8:n,20:c,31:109,40:133,44:47,49:55,50:v,51:y,52:56,56:57,58:b,59:26,60:27,61:29,62:30,63:31,65:w,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:x,75:A,76:S,77:_,78:$,79:M,80:T,82:O,91:B,93:J},{8:n,20:c,31:109,40:134,44:47,49:55,50:v,51:y,52:56,56:57,58:b,59:26,60:27,61:29,62:30,63:31,65:w,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:x,75:A,76:S,77:_,78:$,79:M,80:T,82:O,91:B,93:J},{8:n,20:c,31:109,40:135,44:47,49:55,50:v,51:y,52:56,56:57,58:b,59:26,60:27,61:29,62:30,63:31,65:w,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:x,75:A,76:S,77:_,78:$,79:M,80:T,82:O,91:B,93:J},{10:[1,136]},{10:[1,137],20:ye,92:138},{10:[1,140],20:ye,92:141},{8:n,20:c,31:109,44:142,49:55,50:v,51:y,52:56,56:57,58:b,59:26,60:27,61:29,62:30,63:31,65:w,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:x,75:A,76:S,77:_,78:$,79:M,80:T,82:O,91:B,93:J},{8:n,20:c,31:109,44:143,49:55,50:v,51:y,52:56,56:57,58:b,59:26,60:27,61:29,62:30,63:31,65:w,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:x,75:A,76:S,77:_,78:$,79:M,80:T,82:O,91:B,93:J},{8:n,20:c,31:109,44:144,49:55,50:v,51:y,52:56,56:57,58:b,59:26,60:27,61:29,62:30,63:31,65:w,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:x,75:A,76:S,77:_,78:$,79:M,80:T,82:O,91:B,93:J},{8:n,20:c,31:109,44:145,49:55,50:v,51:y,52:56,56:57,58:b,59:26,60:27,61:29,62:30,63:31,65:w,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:x,75:A,76:S,77:_,78:$,79:M,80:T,82:O,91:B,93:J},t(Z,[2,79]),{83:[1,146],86:[1,147]},t($e,[2,81]),{35:[1,148]},{35:[2,84]},{35:[2,85]},{35:[2,86]},t(Z,[2,77]),{66:[1,149],86:Te},t(et,[2,98]),{8:n,20:c,31:109,49:151,50:v,51:y,52:56,56:57,58:b,59:26,60:27,61:29,62:30,63:31,65:w,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:x,75:A,76:S,77:_,78:$,79:M,80:T,82:O,91:B,93:J},{8:n,20:c,31:109,49:152,50:v,51:y,52:56,56:57,58:b,59:26,60:27,61:29,62:30,63:31,65:w,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:x,75:A,76:S,77:_,78:$,79:M,80:T,82:O,91:B,93:J},{8:n,20:c,31:109,50:v,51:y,52:153,56:57,58:b,59:26,60:27,61:29,62:30,63:31,65:w,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:x,75:A,76:S,77:_,78:$,79:M,80:T,82:O,91:B,93:J},{8:n,20:c,31:109,50:v,51:y,52:154,56:57,58:b,59:26,60:27,61:29,62:30,63:31,65:w,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:x,75:A,76:S,77:_,78:$,79:M,80:T,82:O,91:B,93:J},{8:n,20:c,31:109,50:v,51:y,52:155,56:57,58:b,59:26,60:27,61:29,62:30,63:31,65:w,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:x,75:A,76:S,77:_,78:$,79:M,80:T,82:O,91:B,93:J},t(Z,[2,51]),t([8,10,16,32,34,35,37,39,41,42,43,45,46,47,48,50,51,53,54,55,64,65,66,83,86],se,{57:ie}),t(Z,[2,52]),t(Z,[2,53]),t([5,7,8,10,12,14,15,16,17,19,20,21,23,26,27,32,34,35,37,39,41,42,43,45,46,47,48,50,51,53,54,55,57,58,64,65,66,74,75,76,77,78,79,80,82,83,86,91,93],[2,12]),{10:[1,156]},{10:[1,157]},{16:[1,158]},{8:[1,159]},t(z,[2,10]),t(Z,[2,25]),t(Z,[2,49]),{35:[1,160]},t(ue,[2,29],{39:Y}),t(Z,[2,59]),{66:[1,161]},t([8,10,16,32,34,35,37,39,41,42,43,45,46,47,48,50,51,53,54,55,57,64,65,66,83],[2,88],{86:[1,162]}),t(Z,[2,94]),t(Z,[2,96]),t(Z,[2,97]),t(Ke,[2,92]),{10:[1,163],86:Te},{66:[1,164]},t(Z,[2,91]),t(K,[2,31],{41:te,42:ae,43:ee}),t(de,[2,33],{45:ce,46:xe,47:Me,48:Ae}),t(de,[2,34],{45:ce,46:xe,47:Me,48:Ae}),t(de,[2,35],{45:ce,46:xe,47:Me,48:Ae}),t(Z,[2,65]),{25:165,26:p},{10:[1,166],86:pe},t(ve,[2,104]),{94:[1,168]},{10:[1,169],86:pe},t(Be,[2,37],{50:Ze,51:nt}),t(Be,[2,38],{50:Ze,51:nt}),t(Be,[2,39],{50:Ze,51:nt}),t(Be,[2,40],{50:Ze,51:nt}),t(Z,[2,80]),{20:Xe,72:98,73:99,77:_,78:$,79:M,80:T,85:170,87:96},{8:n,20:c,29:171,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:v,51:y,52:56,56:57,58:b,59:26,60:27,61:29,62:30,63:31,65:w,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:x,75:A,76:S,77:_,78:$,79:M,80:T,82:O,91:B,93:J},t(Z,[2,78]),{8:n,20:c,29:172,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:v,51:y,52:56,56:57,58:b,59:26,60:27,61:29,62:30,63:31,65:w,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:x,75:A,76:S,77:_,78:$,79:M,80:T,82:O,91:B,93:J},t(rt,[2,42],{53:it,54:me,55:be}),t(rt,[2,43],{53:it,54:me,55:be}),t(Z,[2,45]),t(Z,[2,46]),t(Z,[2,47]),{6:6,7:s,8:n,9:20,11:173,13:7,14:a,15:o,16:l,17:u,18:8,19:f,20:c,21:h,22:9,23:d,24:11,25:5,26:p,28:10,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:v,51:y,52:56,56:57,58:b,59:26,60:27,61:29,62:30,63:31,65:w,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:x,75:A,76:S,77:_,78:$,79:M,80:T,82:O,91:B,93:J},{6:6,7:s,8:n,9:20,11:174,13:7,14:a,15:o,16:l,17:u,18:8,19:f,20:c,21:h,22:9,23:d,24:11,25:5,26:p,28:10,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:v,51:y,52:56,56:57,58:b,59:26,60:27,61:29,62:30,63:31,65:w,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:x,75:A,76:S,77:_,78:$,79:M,80:T,82:O,91:B,93:J},{8:n,9:175,20:c,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:v,51:y,52:56,56:57,58:b,59:26,60:27,61:29,62:30,63:31,65:w,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:x,75:A,76:S,77:_,78:$,79:M,80:T,82:O,91:B,93:J},{8:n,9:176,20:c,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:v,51:y,52:56,56:57,58:b,59:26,60:27,61:29,62:30,63:31,65:w,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:x,75:A,76:S,77:_,78:$,79:M,80:T,82:O,91:B,93:J},{8:n,20:c,29:177,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:v,51:y,52:56,56:57,58:b,59:26,60:27,61:29,62:30,63:31,65:w,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:x,75:A,76:S,77:_,78:$,79:M,80:T,82:O,91:B,93:J},t(Z,[2,60]),{20:Re,68:127,82:O,90:178},t(Ke,[2,93]),t(Z,[2,90]),t(Z,[2,100]),{25:179,26:p},{20:[1,180]},{8:n,9:181,20:c,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:v,51:y,52:56,56:57,58:b,59:26,60:27,61:29,62:30,63:31,65:w,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:x,75:A,76:S,77:_,78:$,79:M,80:T,82:O,91:B,93:J},{94:[1,182]},t($e,[2,82]),t($e,[2,83]),t(et,[2,99]),t(F,[2,2],{12:[1,183]}),t(z,[2,4]),{16:[1,184]},{10:[1,185]},t(Z,[2,27]),t(Z,[2,95]),t(Z,[2,101]),t(ve,[2,105]),t(Z,[2,102]),{8:n,9:186,20:c,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:v,51:y,52:56,56:57,58:b,59:26,60:27,61:29,62:30,63:31,65:w,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:x,75:A,76:S,77:_,78:$,79:M,80:T,82:O,91:B,93:J},{6:6,7:s,8:n,9:20,11:187,13:7,14:a,15:o,16:l,17:u,18:8,19:f,20:c,21:h,22:9,23:d,24:11,25:5,26:p,28:10,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:v,51:y,52:56,56:57,58:b,59:26,60:27,61:29,62:30,63:31,65:w,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:x,75:A,76:S,77:_,78:$,79:M,80:T,82:O,91:B,93:J},{8:n,9:188,20:c,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:v,51:y,52:56,56:57,58:b,59:26,60:27,61:29,62:30,63:31,65:w,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:x,75:A,76:S,77:_,78:$,79:M,80:T,82:O,91:B,93:J},{16:[1,189]},t(Z,[2,103]),t(z,[2,3]),{10:[1,190]},t(z,[2,6]),{6:6,7:s,8:n,9:20,11:191,13:7,14:a,15:o,16:l,17:u,18:8,19:f,20:c,21:h,22:9,23:d,24:11,25:5,26:p,28:10,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:v,51:y,52:56,56:57,58:b,59:26,60:27,61:29,62:30,63:31,65:w,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:x,75:A,76:S,77:_,78:$,79:M,80:T,82:O,91:B,93:J},t(z,[2,5])],defaultActions:{3:[2,1],97:[2,84],98:[2,85],99:[2,86]},parseError:function(qe,Fe){if(Fe.recoverable)this.trace(qe);else{var at=new Error(qe);throw at.hash=Fe,at}},parse:function(qe){var Fe=this,at=[0],vt=[null],pt=[],He=this.table,ht="",L=0,we=0,Ie=2,k=1,q=pt.slice.call(arguments,1),Le=Object.create(this.lexer),oe={yy:{}};for(var Ce in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Ce)&&(oe.yy[Ce]=this.yy[Ce]);Le.setInput(qe,oe.yy),oe.yy.lexer=Le,oe.yy.parser=this,typeof Le.yylloc>"u"&&(Le.yylloc={});var Lt=Le.yylloc;pt.push(Lt);var yt=Le.options&&Le.options.ranges;typeof oe.yy.parseError=="function"?this.parseError=oe.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var sr=function(){var ei;return ei=Le.lex()||k,typeof ei!="number"&&(ei=Fe.symbols_[ei]||ei),ei},Kt,Ct,Jt,ir,Ur={},Se,Ht,Ge,ui;;){if(Ct=at[at.length-1],this.defaultActions[Ct]?Jt=this.defaultActions[Ct]:((Kt===null||typeof Kt>"u")&&(Kt=sr()),Jt=He[Ct]&&He[Ct][Kt]),typeof Jt>"u"||!Jt.length||!Jt[0]){var Oi="";ui=[];for(Se in He[Ct])this.terminals_[Se]&&Se>Ie&&ui.push("'"+this.terminals_[Se]+"'");Le.showPosition?Oi="Parse error on line "+(L+1)+`:
`+Le.showPosition()+`
Expecting `+ui.join(", ")+", got '"+(this.terminals_[Kt]||Kt)+"'":Oi="Parse error on line "+(L+1)+": Unexpected "+(Kt==k?"end of input":"'"+(this.terminals_[Kt]||Kt)+"'"),this.parseError(Oi,{text:Le.match,token:this.terminals_[Kt]||Kt,line:Le.yylineno,loc:Lt,expected:ui})}if(Jt[0]instanceof Array&&Jt.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Ct+", token: "+Kt);switch(Jt[0]){case 1:at.push(Kt),vt.push(Le.yytext),pt.push(Le.yylloc),at.push(Jt[1]),Kt=null,we=Le.yyleng,ht=Le.yytext,L=Le.yylineno,Lt=Le.yylloc;break;case 2:if(Ht=this.productions_[Jt[1]][1],Ur.$=vt[vt.length-Ht],Ur._$={first_line:pt[pt.length-(Ht||1)].first_line,last_line:pt[pt.length-1].last_line,first_column:pt[pt.length-(Ht||1)].first_column,last_column:pt[pt.length-1].last_column},yt&&(Ur._$.range=[pt[pt.length-(Ht||1)].range[0],pt[pt.length-1].range[1]]),ir=this.performAction.apply(Ur,[ht,we,L,oe.yy,Jt[1],vt,pt].concat(q)),typeof ir<"u")return ir;Ht&&(at=at.slice(0,-1*Ht*2),vt=vt.slice(0,-1*Ht),pt=pt.slice(0,-1*Ht)),at.push(this.productions_[Jt[1]][0]),vt.push(Ur.$),pt.push(Ur._$),Ge=He[at[at.length-2]][at[at.length-1]],at.push(Ge);break;case 3:return!0}}return!0}},_e={node:function(Ve,qe,Fe){return{type:Ve,value:qe,children:Fe}},createNode:function(Ve,qe,Fe,at){var vt,pt=this.node(qe,Fe,[]);for(vt=3;vt<arguments.length;vt++)pt.children.push(arguments[vt]);return pt.line=Ve[0],pt.col=Ve[1],pt.eline=Ve[2],pt.ecol=Ve[3],pt}},Oe=function(Ve){return[Ve.first_line,Ve.first_column,Ve.last_line,Ve.last_column]},Ye=(function(){var Ve={EOF:1,parseError:function(Fe,at){if(this.yy.parser)this.yy.parser.parseError(Fe,at);else throw new Error(Fe)},setInput:function(qe,Fe){return this.yy=Fe||this.yy||{},this._input=qe,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var qe=this._input[0];this.yytext+=qe,this.yyleng++,this.offset++,this.match+=qe,this.matched+=qe;var Fe=qe.match(/(?:\r\n?|\n).*/g);return Fe?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),qe},unput:function(qe){var Fe=qe.length,at=qe.split(/(?:\r\n?|\n)/g);this._input=qe+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Fe),this.offset-=Fe;var vt=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),at.length-1&&(this.yylineno-=at.length-1);var pt=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:at?(at.length===vt.length?this.yylloc.first_column:0)+vt[vt.length-at.length].length-at[0].length:this.yylloc.first_column-Fe},this.options.ranges&&(this.yylloc.range=[pt[0],pt[0]+this.yyleng-Fe]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(qe){this.unput(this.match.slice(qe))},pastInput:function(){var qe=this.matched.substr(0,this.matched.length-this.match.length);return(qe.length>20?"...":"")+qe.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var qe=this.match;return qe.length<20&&(qe+=this._input.substr(0,20-qe.length)),(qe.substr(0,20)+(qe.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var qe=this.pastInput(),Fe=new Array(qe.length+1).join("-");return qe+this.upcomingInput()+`
`+Fe+"^"},test_match:function(qe,Fe){var at,vt,pt;if(this.options.backtrack_lexer&&(pt={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(pt.yylloc.range=this.yylloc.range.slice(0))),vt=qe[0].match(/(?:\r\n?|\n).*/g),vt&&(this.yylineno+=vt.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:vt?vt[vt.length-1].length-vt[vt.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+qe[0].length},this.yytext+=qe[0],this.match+=qe[0],this.matches=qe,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(qe[0].length),this.matched+=qe[0],at=this.performAction.call(this,this.yy,this,Fe,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),at)return at;if(this._backtrack){for(var He in pt)this[He]=pt[He];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var qe,Fe,at,vt;this._more||(this.yytext="",this.match="");for(var pt=this._currentRules(),He=0;He<pt.length;He++)if(at=this._input.match(this.rules[pt[He]]),at&&(!Fe||at[0].length>Fe[0].length)){if(Fe=at,vt=He,this.options.backtrack_lexer){if(qe=this.test_match(at,pt[He]),qe!==!1)return qe;if(this._backtrack){Fe=!1;continue}else return!1}else if(!this.options.flex)break}return Fe?(qe=this.test_match(Fe,pt[vt]),qe!==!1?qe:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var Fe=this.next();return Fe||this.lex()},begin:function(Fe){this.conditionStack.push(Fe)},popState:function(){var Fe=this.conditionStack.length-1;return Fe>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(Fe){return Fe=this.conditionStack.length-1-Math.abs(Fe||0),Fe>=0?this.conditionStack[Fe]:"INITIAL"},pushState:function(Fe){this.begin(Fe)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(Fe,at,vt,pt){switch(vt){case 0:break;case 1:return 78;case 2:return 78;case 3:return 77;case 4:return 77;case 5:break;case 6:break;case 7:return 7;case 8:return 12;case 9:return 14;case 10:return 17;case 11:return 15;case 12:return 91;case 13:return 93;case 14:return 19;case 15:return 23;case 16:return 21;case 17:return 75;case 18:return 76;case 19:return 74;case 20:return 80;case 21:return 94;case 22:return 94;case 23:return 82;case 24:return 83;case 25:return 26;case 26:return 27;case 27:return 16;case 28:return"#";case 29:return 34;case 30:return 35;case 31:return 79;case 32:return 64;case 33:return 65;case 34:return 66;case 35:return 8;case 36:return 10;case 37:return 58;case 38:return 57;case 39:return 53;case 40:return 54;case 41:return 55;case 42:return 50;case 43:return 51;case 44:return 47;case 45:return 45;case 46:return 48;case 47:return 46;case 48:return 41;case 49:return 43;case 50:return 42;case 51:return 39;case 52:return 37;case 53:return 32;case 54:return 86;case 55:return 5;case 56:return 20;case 57:return"INVALID"}},rules:[/^(?:\s+)/,/^(?:[0-9]+\.[0-9]*|[0-9]*\.[0-9]+\b)/,/^(?:[0-9]+)/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:\/\/.*)/,/^(?:\/\*(.|\n|\r)*?\*\/)/,/^(?:if\b)/,/^(?:else\b)/,/^(?:while\b)/,/^(?:do\b)/,/^(?:for\b)/,/^(?:function\b)/,/^(?:map\b)/,/^(?:use\b)/,/^(?:return\b)/,/^(?:delete\b)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:Infinity\b)/,/^(?:->)/,/^(?:=>)/,/^(?:<<)/,/^(?:>>)/,/^(?:\{)/,/^(?:\})/,/^(?:;)/,/^(?:#)/,/^(?:\?)/,/^(?::)/,/^(?:NaN\b)/,/^(?:\.)/,/^(?:\[)/,/^(?:\])/,/^(?:\()/,/^(?:\))/,/^(?:!)/,/^(?:\^)/,/^(?:\*)/,/^(?:\/)/,/^(?:%)/,/^(?:\+)/,/^(?:-)/,/^(?:<=)/,/^(?:<)/,/^(?:>=)/,/^(?:>)/,/^(?:==)/,/^(?:~=)/,/^(?:!=)/,/^(?:&&)/,/^(?:\|\|)/,/^(?:=)/,/^(?:,)/,/^(?:$)/,/^(?:[A-Za-z_\$][A-Za-z0-9_]*)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57],inclusive:!0}}};return Ve})();De.lexer=Ye;function tt(){this.yy={}}return tt.prototype=De,De.Parser=tt,new tt})();parser.yy.parseError=parser.parseError;const JessieCode=JXG$1.JessieCode;JXG$1.Composition=function(t){var r,s=this,n=["setAttribute","setParents","prepareUpdate","updateRenderer","update","fullUpdate","highlight","noHighlight"],a=function(o){return function(){var l;for(l in s.elements)s.elements.hasOwnProperty(l)&&JXG$1.exists(s.elements[l][o])&&s.elements[l][o].apply(s.elements[l],arguments);return s}};for(r=0;r<n.length;r++)this[n[r]]=a(n[r]);this.elements={},this.objects=this.elements,this.elementsByName={},this.objectsList=[],this.groups={},this.methodMap={setAttribute:"setAttribute",setProperty:"setAttribute",setParents:"setParents",add:"add",remove:"remove",select:"select"};for(r in t)t.hasOwnProperty(r)&&this.add(r,t[r]);this.dump=!0,this.subs={}};JXG$1.extend(JXG$1.Composition.prototype,{add:function(t,r){return!JXG$1.exists(this[t])&&JXG$1.exists(r)?(JXG$1.exists(r.id)?this.elements[r.id]=r:this.elements[t]=r,JXG$1.exists(r.name)&&(this.elementsByName[r.name]=r),r.on("attribute:name",this.nameListener,this),this.objectsList.push(r),this[t]=r,this.methodMap[t]=r,!0):!1},remove:function(t){var r=!1,s;for(s in this.elements)if(this.elements.hasOwnProperty(s)&&this.elements[s].id===this[t].id){r=!0;break}return r&&(delete this.elements[this[t].id],delete this[t]),r},nameListener:function(t,r,s){delete this.elementsByName[t],this.elementsByName[r]=s},select:function(t){return JXG$1.exists(JXG$1.Board)?JXG$1.Board.prototype.select.call(this,t):new JXG$1.Composition},getParents:function(){return this.parents},getType:function(){return this.elType},getAttributes:function(){var t;for(t in this.subs)this.subs.hasOwnProperty(t)&&this.subs[t].visProp;return this.attr}});const Composition=JXG$1.Composition;JXG$1.Board=function(t,r,s,n,a,o,l,u,f,c,h){if(this.BOARD_MODE_NONE=0,this.BOARD_MODE_DRAG=1,this.BOARD_MODE_MOVE_ORIGIN=2,this.BOARD_MODE_ZOOM=17,this.BOARD_QUALITY_LOW=1,this.BOARD_QUALITY_HIGH=2,JXG$1.exists(h.document)&&h.document!==!1?this.document=h.document:JXG$1.isBrowser&&(this.document=document),this.container="",this.containerObj=null,JXG$1.isString(t)?(this.container=t,this.containerObj=JXG$1.isBrowser?this.document.getElementById(this.container):null):JXG$1.isBrowser&&(this.containerObj=t,this.container=this.containerObj.getAttribute("id"),this.container===null&&(this.container="null"+parseInt(Math.random()*1e8).toString())),JXG$1.isBrowser&&r.type!=="no"&&this.containerObj===null)throw new Error(`
JSXGraph: HTML container element "`+t+'" not found.');this.renderer=r,this.grids=[],this.options=JXG$1.deepCopy(Options),this.attr=h,this.dimension=2,this.jc=new JessieCode,this.jc.use(this),this.origin={},this.origin.usrCoords=[1,0,0],this.origin.scrCoords=[1,n[0],n[1]],this.zoomX=a,this.zoomY=o,this.unitX=l*this.zoomX,this.unitY=u*this.zoomY,this.keepaspectratio=!1,this.canvasWidth=f,this.canvasHeight=c,JXG$1.exists(s)&&s!==""&&JXG$1.isBrowser&&!JXG$1.exists(this.document.getElementById(s))?this.id=s:this.id=this.generateId(),EventEmitter.eventify(this),this.hooks=[],this.dependentBoards=[],this.inUpdate=!1,this.objects={},this.objectsList=[],this.groups={},this.animationObjects={},this.highlightedObjects={},this.numObjects=0,this.elementsByName={},this.mode=this.BOARD_MODE_NONE,this.updateQuality=this.BOARD_QUALITY_HIGH,this.isSuspendedRedraw=!1,this.calculateSnapSizes(),this.drag_dx=0,this.drag_dy=0,this.drag_position=[0,0],this.mouse={},this.touches=[],this.xmlString="",this.cPos=[],this.touchMoveLast=0,this.touchMoveLastId=1/0,this.positionAccessLast=0,this.downObjects=[],this.focusObjects=[],this.attr.showcopyright&&this.renderer.displayCopyright(Const.licenseText,parseInt(this.options.text.fontSize,10)),this.needsFullUpdate=!1,this.reducedUpdate=!1,this.currentCBDef="none",this.geonextCompatibilityMode=!1,this.options.text.useASCIIMathML&&translateASCIIMath?init():this.options.text.useASCIIMathML=!1,this.hasMouseHandlers=!1,this.hasTouchHandlers=!1,this.hasPointerHandlers=!1,this.hasMouseUp=!1,this.hasTouchEnd=!1,this.hasPointerUp=!1,this._drag_offset=[0,0],this._inputDevice="mouse",this._board_touches=[],this.selectingMode=!1,this.isSelecting=!1,this._isScrolling=!1,this._isResizing=!1,this.selectingBox=[[0,0],[0,0]],this.userLog=[],this.mathLib=Math,this.mathLibJXG=JXG$1.Math,this.attr.registerevents&&this.addEventHandlers(),this.attr.registerresizeevent&&this.addResizeEventHandlers(),this.attr.registerfullscreenevent&&this.addFullscreenEventHandlers(),this.methodMap={update:"update",fullUpdate:"fullUpdate",on:"on",off:"off",trigger:"trigger",setView:"setBoundingBox",setBoundingBox:"setBoundingBox",migratePoint:"migratePoint",colorblind:"emulateColorblindness",suspendUpdate:"suspendUpdate",unsuspendUpdate:"unsuspendUpdate",clearTraces:"clearTraces",left:"clickLeftArrow",right:"clickRightArrow",up:"clickUpArrow",down:"clickDownArrow",zoomIn:"zoomIn",zoomOut:"zoomOut",zoom100:"zoom100",zoomElements:"zoomElements",remove:"removeObject",removeObject:"removeObject"}};JXG$1.extend(JXG$1.Board.prototype,{generateName:function(t){var r,s,n=this.attr.maxnamelength,a="",o="",l=[],u="";if(t.type===Const.OBJECT_TYPE_TICKS)return"";for(JXG$1.isPoint(t)||JXG$1.isPoint3D(t)?r=["","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"]:t.type===Const.OBJECT_TYPE_ANGLE?r=["","&alpha;","&beta;","&gamma;","&delta;","&epsilon;","&zeta;","&eta;","&theta;","&iota;","&kappa;","&lambda;","&mu;","&nu;","&xi;","&omicron;","&pi;","&rho;","&sigma;","&tau;","&upsilon;","&phi;","&chi;","&psi;","&omega;"]:r=["","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],!JXG$1.isPoint(t)&&t.elementClass!==Const.OBJECT_CLASS_LINE&&t.type!==Const.OBJECT_TYPE_ANGLE&&(t.type===Const.OBJECT_TYPE_POLYGON?a="P_{":t.elementClass===Const.OBJECT_CLASS_CIRCLE?a="k_{":t.elementClass===Const.OBJECT_CLASS_TEXT?a="t_{":a="s_{",o="}"),s=0;s<n;s++)l[s]=0;for(;l[n-1]<r.length;){for(l[0]=1;l[0]<r.length;l[0]++){for(u=a,s=n;s>0;s--)u+=r[l[s-1]];if(!JXG$1.exists(this.elementsByName[u+o]))return u+o}for(l[0]=r.length,s=1;s<n;s++)l[s-1]===r.length&&(l[s-1]=1,l[s]+=1)}return""},generateId:function(){for(var t=1;JXG$1.exists(JXG$1.boards["jxgBoard"+t]);)t=Math.round(Math.random()*65535);return"jxgBoard"+t},setId:function(t,r){var s,n=this.numObjects,a=t.id;if(this.numObjects+=1,a===""||!JXG$1.exists(a))for(a=this.id+r+n;JXG$1.exists(this.objects[a]);)s=Math.round(Math.random()*65535),a=this.id+r+n+"-"+s;return t.id=a,this.objects[a]=t,t._pos=this.objectsList.length,this.objectsList[this.objectsList.length]=t,a},finalizeAdding:function(t){JXG$1.evaluate(t.visProp.visible)===!1&&this.renderer.display(t,!1)},finalizeLabel:function(t){t.hasLabel&&!JXG$1.evaluate(t.label.visProp.islabel)&&JXG$1.evaluate(t.label.visProp.visible)===!1&&this.renderer.display(t.label,!1)},checkFrameRate:function(t){var r=!1,s=new Date().getTime();return JXG$1.exists(t.pointerId)&&this.touchMoveLastId!==t.pointerId&&(r=!0,this.touchMoveLastId=t.pointerId),!r&&(s-this.touchMoveLast)*this.attr.maxframerate>=1e3&&(r=!0),r&&(this.touchMoveLast=s),r},getCoordsTopLeftCorner:function(){var t,r,s,n=this.document.ownerDocument||this.document,a=n.documentElement||this.document.body.parentNode,o=n.body,l=this.containerObj,u,f;if(this.cPos.length>0&&(this.mode===this.BOARD_MODE_DRAG||this.mode===this.BOARD_MODE_MOVE_ORIGIN||new Date().getTime()-this.positionAccessLast<1e3))return this.cPos;if(this.positionAccessLast=new Date().getTime(),l.getBoundingClientRect){for(s=l.getBoundingClientRect(),u=1,f=l;f&&JXG$1.exists(f.parentNode);)JXG$1.exists(f.style)&&JXG$1.exists(f.style.zoom)&&f.style.zoom!==""&&(u*=parseFloat(f.style.zoom)),f=f.parentNode;return t=[s.left*u,s.top*u],t[0]+=JXG$1.getProp(l,"border-left-width"),t[1]+=JXG$1.getProp(l,"border-top-width"),this.renderer.type!=="vml"&&(t[0]+=JXG$1.getProp(l,"padding-left"),t[1]+=JXG$1.getProp(l,"padding-top")),this.cPos=t.slice(),this.cPos}return t=JXG$1.getOffset(l),r=this.document.documentElement.ownerDocument,!this.containerObj.currentStyle&&r.defaultView&&(t[0]+=JXG$1.getProp(a,"margin-left"),t[1]+=JXG$1.getProp(a,"margin-top"),t[0]+=JXG$1.getProp(a,"border-left-width"),t[1]+=JXG$1.getProp(a,"border-top-width"),t[0]+=JXG$1.getProp(a,"padding-left"),t[1]+=JXG$1.getProp(a,"padding-top")),o&&(t[0]+=JXG$1.getProp(o,"left"),t[1]+=JXG$1.getProp(o,"top")),typeof google=="object"&&google.translate&&(t[0]+=10,t[1]+=25),t[0]+=JXG$1.getProp(l,"border-left-width"),t[1]+=JXG$1.getProp(l,"border-top-width"),this.renderer.type!=="vml"&&(t[0]+=JXG$1.getProp(l,"padding-left"),t[1]+=JXG$1.getProp(l,"padding-top")),t[0]+=this.attr.offsetx,t[1]+=this.attr.offsety,this.cPos=t.slice(),this.cPos},getMousePosition:function(t,r){var s=this.getCoordsTopLeftCorner(),n,a;return n=JXG$1.getPosition(t,r,this.document),JXG$1.exists(this.cssTransMat)||this.updateCSSTransforms(),a=[1,n[0]-s[0],n[1]-s[1]],a=Mat.matVecMult(this.cssTransMat,a),a[1]/=a[0],a[2]/=a[0],[a[1],a[2]]},initMoveOrigin:function(t,r){this.drag_dx=t-this.origin.scrCoords[1],this.drag_dy=r-this.origin.scrCoords[2],this.mode=this.BOARD_MODE_MOVE_ORIGIN,this.updateQuality=this.BOARD_QUALITY_LOW},initMoveObject:function(t,r,s,n){var a,o,l=[],u=[],f,c=this.objectsList.length,h={visProp:{layer:-1e4}};for(this._shiftKey=s.shiftKey,this._ctrlKey=s.ctrlKey,o=0;o<c;o++)a=this.objectsList[o],f=a.hasPoint&&a.hasPoint(t,r),a.visPropCalc.visible&&f&&(a.triggerEventHandlers([n+"down","down"],[s]),this.downObjects.push(a)),f&&a.isDraggable&&a.visPropCalc.visible&&(this.geonextCompatibilityMode&&(JXG$1.isPoint(a)||a.elementClass===Const.OBJECT_CLASS_TEXT)||!this.geonextCompatibilityMode)&&!JXG$1.evaluate(a.visProp.fixed)&&(a.visProp.layer>h.visProp.layer||a.visProp.layer===h.visProp.layer&&a.lastDragTime.getTime()>=h.lastDragTime.getTime())&&(!this.attr.ignorelabels||!JXG$1.exists(h.label)||a!==h.label)&&(h=a,l.push(h),JXG$1.exists(h.coords)?u.push(Statistics.subtract(h.coords.scrCoords.slice(1),[t,r])):u.push([0,0]));return this.attr.drag.enabled&&l.length>0&&(this.mode=this.BOARD_MODE_DRAG),this.attr.takefirst?(l.length=1,this._drag_offset=u[0]):(l=l.slice(-1),this._drag_offset=u[u.length-1]),this._drag_offset||(this._drag_offset=[0,0]),this.renderer.type==="svg"&&JXG$1.exists(l[0])&&JXG$1.evaluate(l[0].visProp.dragtotopoflayer)&&l.length===1&&JXG$1.exists(l[0].rendNode)&&l[0].rendNode.parentNode.appendChild(l[0].rendNode),l.length>=1&&(l[0].highlight(!0),this.triggerEventHandlers(["mousehit","hit"],[s,l[0]])),l},moveObject:function(t,r,s,n,a){var o=new Coords(Const.COORDS_BY_SCREEN,this.getScrCoordsOfMouse(t,r),this),l,u,f;s&&s.obj&&(l=s.obj,l.coords&&(u=l.coords.scrCoords.slice()),this.addLogEntry("drag",l,o.usrCoords.slice(1)),this.drag_position=[o.scrCoords[1],o.scrCoords[2]],this.drag_position=Statistics.add(this.drag_position,this._drag_offset),this._shiftKey=n.shiftKey,this._ctrlKey=n.ctrlKey,JXG$1.exists(l.coords)?l.setPositionDirectly(Const.COORDS_BY_SCREEN,this.drag_position):(this.displayInfobox(!1),isNaN(s.targets[0].Xprev+s.targets[0].Yprev)||l.setPositionDirectly(Const.COORDS_BY_SCREEN,[o.scrCoords[1],o.scrCoords[2]],[s.targets[0].Xprev,s.targets[0].Yprev]),s.targets[0].Xprev=o.scrCoords[1],s.targets[0].Yprev=o.scrCoords[2]),JXG$1.exists(l.coords)&&(l.prepareUpdate().update(!1).updateRenderer(),this.updateInfobox(l),l.prepareUpdate().update(!0).updateRenderer()),l.coords&&(f=l.coords.scrCoords),(!l.coords||u[1]!==f[1]||u[2]!==f[2])&&(l.triggerEventHandlers([a+"drag","drag"],[n]),this.update()),l.highlight(!0),this.triggerEventHandlers(["mousehit","hit"],[n,l]),l.lastDragTime=new Date)},twoFingerMove:function(t,r,s){var n;if(JXG$1.exists(t)&&JXG$1.exists(t.obj))n=t.obj;else return;n.elementClass===Const.OBJECT_CLASS_LINE||n.type===Const.OBJECT_TYPE_POLYGON?this.twoFingerTouchObject(t.targets,n,r):n.elementClass===Const.OBJECT_CLASS_CIRCLE&&this.twoFingerTouchCircle(t.targets,n,r),s&&n.triggerEventHandlers(["touchdrag","drag"],[s])},getTwoFingerTransform(t,r,s,n){var a,o,l,u,f,c,h,d,p,v,y,b,w,x,A,S,_,$,M;return a=new Coords(Const.COORDS_BY_SCREEN,[t.Xprev,t.Yprev],this).usrCoords,o=a[1],l=a[2],a=new Coords(Const.COORDS_BY_SCREEN,[r.Xprev,r.Yprev],this).usrCoords,u=a[1],f=a[2],a=new Coords(Const.COORDS_BY_SCREEN,[t.X,t.Y],this).usrCoords,d=a[1],p=a[2],a=new Coords(Const.COORDS_BY_SCREEN,[r.X,r.Y],this).usrCoords,v=a[1],y=a[2],c=u-o,h=f-l,b=v-d,w=y-p,S=c*c+h*h,x=(b*c+w*h)/S,A=(w*c-b*h)/S,s||(M=Math.sqrt(x*x+A*A),x/=M,A/=M),n||(A=0),_=.5*(d+v-x*(o+u)+A*(l+f)),$=.5*(p+y-A*(o+u)-x*(l+f)),[1,0,0,_,x,-A,$,A,x]},twoFingerTouchObject:function(t,r,s){var n,a,o,l,u,f,c=!1;if(JXG$1.exists(t[0])&&JXG$1.exists(t[1])&&!isNaN(t[0].Xprev+t[0].Yprev+t[1].Xprev+t[1].Yprev)){if(a=this.getTwoFingerTransform(t[0],t[1],JXG$1.evaluate(r.visProp.scalable),JXG$1.evaluate(r.visProp.rotatable)),n=this.create("transform",a,{type:"generic"}),n.update(),r.elementClass===Const.OBJECT_CLASS_LINE)o=[],r.point1.draggable()&&o.push(r.point1),r.point2.draggable()&&o.push(r.point2),n.applyOnce(o);else if(r.type===Const.OBJECT_TYPE_POLYGON){for(u=r.vertices.length-1,f=r.visProp,c=JXG$1.evaluate(f.snaptogrid)||JXG$1.evaluate(f.snaptopoints),l=0;l<u&&!c;++l)f=r.vertices[l].visProp,c=c||JXG$1.evaluate(f.snaptogrid)||JXG$1.evaluate(f.snaptopoints),c=c||!r.vertices[l].draggable();if(!c){for(o=[],l=0;l<u;++l)r.vertices[l].draggable()&&o.push(r.vertices[l]);n.applyOnce(o)}}this.update(),r.highlight(!0)}},twoFingerTouchCircle:function(t,r,s){var n,a,o,l,u,f,c,h,d,p,v;r.method==="pointCircle"||r.method==="pointLine"||JXG$1.exists(t[0])&&JXG$1.exists(t[1])&&!isNaN(t[0].Xprev+t[0].Yprev+t[1].Xprev+t[1].Yprev)&&(s===t[0].num?(n=t[1],a=t[0]):(n=t[0],a=t[1]),u=new Coords(Const.COORDS_BY_SCREEN,[n.Xprev,n.Yprev],this).usrCoords,l=new Coords(Const.COORDS_BY_SCREEN,[a.Xprev,a.Yprev],this).usrCoords,o=new Coords(Const.COORDS_BY_SCREEN,[a.X,a.Y],this).usrCoords,c=Geometry.rad(l.slice(1),u.slice(1),o.slice(1)),h=this.create("transform",[-u[1],-u[2]],{type:"translate"}),d=this.create("transform",[c],{type:"rotate"}),h.melt(d),JXG$1.evaluate(r.visProp.scalable)&&(f=Geometry.distance(u,o)/Geometry.distance(u,l),p=this.create("transform",[f,f],{type:"scale"}),h.melt(p)),v=this.create("transform",[u[1],u[2]],{type:"translate"}),h.melt(v),r.center.draggable()&&h.applyOnce([r.center]),r.method==="twoPoints"?r.point2.draggable()&&h.applyOnce([r.point2]):r.method==="pointRadius"&&JXG$1.isNumber(r.updateRadius.origin)&&r.setRadius(r.radius*f),this.update(r.center),r.highlight(!0))},highlightElements:function(t,r,s,n){var a,o,l,u={},f=this.objectsList.length;for(a=0;a<f;a++)o=this.objectsList[a],l=o.id,JXG$1.exists(o.hasPoint)&&o.visPropCalc.visible&&o.hasPoint(t,r)&&(this.updateInfobox(o),JXG$1.exists(this.highlightedObjects[l])||(u[l]=o,o.highlight(),this.triggerEventHandlers(["mousehit","hit"],[s,o,n])),o.mouseover?o.triggerEventHandlers(["mousemove","move"],[s]):(o.triggerEventHandlers(["mouseover","over"],[s]),o.mouseover=!0));for(a=0;a<f;a++)o=this.objectsList[a],l=o.id,o.mouseover&&(u[l]||(o.triggerEventHandlers(["mouseout","out"],[s]),o.mouseover=!1))},saveStartPos:function(t,r){var s=[],n,a;if(t.type===Const.OBJECT_TYPE_TICKS)s.push([1,NaN,NaN]);else if(t.elementClass===Const.OBJECT_CLASS_LINE)s.push(t.point1.coords.usrCoords),s.push(t.point2.coords.usrCoords);else if(t.elementClass===Const.OBJECT_CLASS_CIRCLE)s.push(t.center.coords.usrCoords),t.method==="twoPoints"&&s.push(t.point2.coords.usrCoords);else if(t.type===Const.OBJECT_TYPE_POLYGON)for(a=t.vertices.length-1,n=0;n<a;n++)s.push(t.vertices[n].coords.usrCoords);else if(t.type===Const.OBJECT_TYPE_SECTOR)s.push(t.point1.coords.usrCoords),s.push(t.point2.coords.usrCoords),s.push(t.point3.coords.usrCoords);else if(JXG$1.isPoint(t)||t.type===Const.OBJECT_TYPE_GLIDER)s.push(t.coords.usrCoords);else if(t.elementClass===Const.OBJECT_CLASS_CURVE)t.points.length>0&&s.push(t.points[0].usrCoords);else try{s.push(t.coords.usrCoords)}catch(o){JXG$1.debug("JSXGraph+ saveStartPos: obj.coords.usrCoords not available: "+o)}for(a=s.length,n=0;n<a;n++)r.Zstart.push(s[n][0]),r.Xstart.push(s[n][1]),r.Ystart.push(s[n][2])},mouseOriginMoveStart:function(t){var r,s;return r=this._isRequiredKeyPressed(t,"pan"),r&&(s=this.getMousePosition(t),this.initMoveOrigin(s[0],s[1])),r},mouseOriginMove:function(t){var r=this.mode===this.BOARD_MODE_MOVE_ORIGIN,s;return r&&(s=this.getMousePosition(t),this.moveOrigin(s[0],s[1],!0)),r},touchStartMoveOriginOneFinger:function(t){var r=t[JXG$1.touchProperty],s,n;return s=this.attr.pan.enabled&&!this.attr.pan.needtwofingers&&r.length===1,s&&(n=this.getMousePosition(t,0),this.initMoveOrigin(n[0],n[1])),s},touchOriginMove:function(t){var r=this.mode===this.BOARD_MODE_MOVE_ORIGIN,s;return r&&(s=this.getMousePosition(t,0),this.moveOrigin(s[0],s[1],!0)),r},originMoveEnd:function(){this.updateQuality=this.BOARD_QUALITY_HIGH,this.mode=this.BOARD_MODE_NONE},addEventHandlers:function(){JXG$1.supportsPointerEvents()?this.addPointerEventHandlers():(this.addMouseEventHandlers(),this.addTouchEventHandlers()),this.containerObj!==null&&(this.containerObj.oncontextmenu=function(t){return JXG$1.exists(t)&&t.preventDefault(),!1}),this.addKeyboardEventHandlers()},addResizeEventHandlers:function(){if(JXG$1.isBrowser){try{this.startResizeObserver()}catch{JXG$1.addEvent(window,"resize",this.resizeListener,this),this.startIntersectionObserver()}JXG$1.addEvent(window,"scroll",this.scrollListener,this)}},removeEventHandlers:function(){this.removeMouseEventHandlers(),this.removeTouchEventHandlers(),this.removePointerEventHandlers(),this.removeFullscreenEventHandlers(),this.removeKeyboardEventHandlers(),JXG$1.isBrowser&&(JXG$1.exists(this.resizeObserver)?this.stopResizeObserver():(JXG$1.removeEvent(window,"resize",this.resizeListener,this),this.stopIntersectionObserver()),JXG$1.removeEvent(window,"scroll",this.scrollListener,this))},addPointerEventHandlers:function(){if(!this.hasPointerHandlers&&JXG$1.isBrowser){var t=this.attr.movetarget||this.containerObj;window.navigator.msPointerEnabled?(JXG$1.addEvent(this.containerObj,"MSPointerDown",this.pointerDownListener,this),JXG$1.addEvent(t,"MSPointerMove",this.pointerMoveListener,this)):(JXG$1.addEvent(this.containerObj,"pointerdown",this.pointerDownListener,this),JXG$1.addEvent(t,"pointermove",this.pointerMoveListener,this),JXG$1.addEvent(t,"pointerleave",this.pointerLeaveListener,this)),JXG$1.addEvent(this.containerObj,"mousewheel",this.mouseWheelListener,this),JXG$1.addEvent(this.containerObj,"DOMMouseScroll",this.mouseWheelListener,this),this.containerObj!==null&&(this.containerObj.style.touchAction="none"),this.hasPointerHandlers=!0}},addMouseEventHandlers:function(){if(!this.hasMouseHandlers&&JXG$1.isBrowser){var t=this.attr.movetarget||this.containerObj;JXG$1.addEvent(this.containerObj,"mousedown",this.mouseDownListener,this),JXG$1.addEvent(t,"mousemove",this.mouseMoveListener,this),JXG$1.addEvent(this.containerObj,"mousewheel",this.mouseWheelListener,this),JXG$1.addEvent(this.containerObj,"DOMMouseScroll",this.mouseWheelListener,this),this.hasMouseHandlers=!0}},addTouchEventHandlers:function(t){if(!this.hasTouchHandlers&&JXG$1.isBrowser){var r=this.attr.movetarget||this.containerObj;JXG$1.addEvent(this.containerObj,"touchstart",this.touchStartListener,this),JXG$1.addEvent(r,"touchmove",this.touchMoveListener,this),this.hasTouchHandlers=!0}},addFullscreenEventHandlers:function(){var t,r=["fullscreenchange","mozfullscreenchange","webkitfullscreenchange","msfullscreenchange"],s=r.length;if(!this.hasFullscreenEventHandlers&&JXG$1.isBrowser){for(t=0;t<s;t++)JXG$1.addEvent(this.document,r[t],this.fullscreenListener,this);this.hasFullscreenEventHandlers=!0}},addKeyboardEventHandlers:function(){this.attr.keyboard.enabled&&!this.hasKeyboardHandlers&&JXG$1.isBrowser&&(JXG$1.addEvent(this.containerObj,"keydown",this.keyDownListener,this),JXG$1.addEvent(this.containerObj,"focusin",this.keyFocusInListener,this),JXG$1.addEvent(this.containerObj,"focusout",this.keyFocusOutListener,this),this.hasKeyboardHandlers=!0)},removeKeyboardEventHandlers:function(){this.hasKeyboardHandlers&&JXG$1.isBrowser&&(JXG$1.removeEvent(this.containerObj,"keydown",this.keyDownListener,this),JXG$1.removeEvent(this.containerObj,"focusin",this.keyFocusInListener,this),JXG$1.removeEvent(this.containerObj,"focusout",this.keyFocusOutListener,this),this.hasKeyboardHandlers=!1)},removeFullscreenEventHandlers:function(){var t,r=["fullscreenchange","mozfullscreenchange","webkitfullscreenchange","msfullscreenchange"],s=r.length;if(this.hasFullscreenEventHandlers&&JXG$1.isBrowser){for(t=0;t<s;t++)JXG$1.removeEvent(this.document,r[t],this.fullscreenListener,this);this.hasFullscreenEventHandlers=!1}},removePointerEventHandlers:function(){if(this.hasPointerHandlers&&JXG$1.isBrowser){var t=this.attr.movetarget||this.containerObj;window.navigator.msPointerEnabled?(JXG$1.removeEvent(this.containerObj,"MSPointerDown",this.pointerDownListener,this),JXG$1.removeEvent(t,"MSPointerMove",this.pointerMoveListener,this)):(JXG$1.removeEvent(this.containerObj,"pointerdown",this.pointerDownListener,this),JXG$1.removeEvent(t,"pointermove",this.pointerMoveListener,this),JXG$1.removeEvent(t,"pointerleave",this.pointerLeaveListener,this)),JXG$1.removeEvent(this.containerObj,"mousewheel",this.mouseWheelListener,this),JXG$1.removeEvent(this.containerObj,"DOMMouseScroll",this.mouseWheelListener,this),this.hasPointerUp&&(window.navigator.msPointerEnabled?JXG$1.removeEvent(this.document,"MSPointerUp",this.pointerUpListener,this):(JXG$1.removeEvent(this.document,"pointerup",this.pointerUpListener,this),JXG$1.removeEvent(this.document,"pointercancel",this.pointerUpListener,this)),this.hasPointerUp=!1),this.hasPointerHandlers=!1}},removeMouseEventHandlers:function(){if(this.hasMouseHandlers&&JXG$1.isBrowser){var t=this.attr.movetarget||this.containerObj;JXG$1.removeEvent(this.containerObj,"mousedown",this.mouseDownListener,this),JXG$1.removeEvent(t,"mousemove",this.mouseMoveListener,this),this.hasMouseUp&&(JXG$1.removeEvent(this.document,"mouseup",this.mouseUpListener,this),this.hasMouseUp=!1),JXG$1.removeEvent(this.containerObj,"mousewheel",this.mouseWheelListener,this),JXG$1.removeEvent(this.containerObj,"DOMMouseScroll",this.mouseWheelListener,this),this.hasMouseHandlers=!1}},removeTouchEventHandlers:function(){if(this.hasTouchHandlers&&JXG$1.isBrowser){var t=this.attr.movetarget||this.containerObj;JXG$1.removeEvent(this.containerObj,"touchstart",this.touchStartListener,this),JXG$1.removeEvent(t,"touchmove",this.touchMoveListener,this),this.hasTouchEnd&&(JXG$1.removeEvent(this.document,"touchend",this.touchEndListener,this),this.hasTouchEnd=!1),this.hasTouchHandlers=!1}},clickLeftArrow:function(){return this.moveOrigin(this.origin.scrCoords[1]+this.canvasWidth*.1,this.origin.scrCoords[2]),this},clickRightArrow:function(){return this.moveOrigin(this.origin.scrCoords[1]-this.canvasWidth*.1,this.origin.scrCoords[2]),this},clickUpArrow:function(){return this.moveOrigin(this.origin.scrCoords[1],this.origin.scrCoords[2]-this.canvasHeight*.1),this},clickDownArrow:function(){return this.moveOrigin(this.origin.scrCoords[1],this.origin.scrCoords[2]+this.canvasHeight*.1),this},gestureChangeListener:function(t){var r,s=[],n=[],a,o=10,l=!1,u=this.attr.zoom.factorx,f=this.attr.zoom.factory,c,h,d,p,v,y,b,w;return this.mode!==this.BOARD_MODE_ZOOM?!0:(t.preventDefault(),h=Geometry.distance([t.touches[0].clientX,t.touches[0].clientY],[t.touches[1].clientX,t.touches[1].clientY],2),t.scale===void 0&&(t.scale=h/this.prevDist),!JXG$1.exists(this.prevCoords)||(s=[t.touches[0].clientX-this.prevCoords[0][0],t.touches[0].clientY-this.prevCoords[0][1]],n=[t.touches[1].clientX-this.prevCoords[1][0],t.touches[1].clientY-this.prevCoords[1][1]],s[0]*s[0]+s[1]*s[1]<o*o&&n[0]*n[0]+n[1]*n[1]<o*o)||(a=Geometry.rad(s,[0,0],n),this.isPreviousGesture!=="pan"&&Math.abs(a)>Math.PI*.2&&Math.abs(a)<Math.PI*1.8&&(l=!0),this.isPreviousGesture!=="pan"&&!l&&(Math.abs(t.scale)<.77||Math.abs(t.scale)>1.3)&&(l=!0),c=t.scale/this.prevScale,this.prevScale=t.scale,this.prevCoords=[[t.touches[0].clientX,t.touches[0].clientY],[t.touches[1].clientX,t.touches[1].clientY]],r=new Coords(Const.COORDS_BY_SCREEN,this.getMousePosition(t,0),this),this.attr.pan.enabled&&this.attr.pan.needtwofingers&&!l?(this.isPreviousGesture="pan",this.moveOrigin(r.scrCoords[1],r.scrCoords[2],!0)):this.attr.zoom.enabled&&Math.abs(c-1)<.5&&((this.attr.zoom.pinchhorizontal||this.attr.zoom.pinchvertical)&&(v=Math.abs(t.touches[0].clientX-t.touches[1].clientX),y=Math.abs(t.touches[0].clientY-t.touches[1].clientY),d=Math.abs(Math.atan2(y,v)),p=Math.PI*this.attr.zoom.pinchsensitivity/90),this.attr.zoom.pinchhorizontal&&d<p?(this.attr.zoom.factorx=c,this.attr.zoom.factory=1,b=0,w=0):this.attr.zoom.pinchvertical&&Math.abs(d-Math.PI*.5)<p?(this.attr.zoom.factorx=1,this.attr.zoom.factory=c,b=0,w=0):(this.attr.zoom.factorx=c,this.attr.zoom.factory=c,b=r.usrCoords[1],w=r.usrCoords[2]),this.zoomIn(b,w),this.attr.zoom.factorx=u,this.attr.zoom.factory=f)),!1)},gestureStartListener:function(t){var r;return t.preventDefault(),this.prevScale=1,this.prevDist=Geometry.distance([t.touches[0].clientX,t.touches[0].clientY],[t.touches[1].clientX,t.touches[1].clientY],2),this.prevCoords=[[t.touches[0].clientX,t.touches[0].clientY],[t.touches[1].clientX,t.touches[1].clientY]],this.isPreviousGesture="none",r=this.getMousePosition(t,0),this.initMoveOrigin(r[0],r[1]),this.mode=this.BOARD_MODE_ZOOM,!1},_isRequiredKeyPressed:function(t,r){var s=this.attr[r];return s.enabled?!!((s.needshift&&t.shiftKey||!s.needshift&&!t.shiftKey)&&(s.needctrl&&t.ctrlKey||!s.needctrl&&!t.ctrlKey)):!1},_isPointerRegistered:function(t){var r,s=this._board_touches.length;for(r=0;r<s;r++)if(this._board_touches[r].pointerId===t.pointerId)return!0;return!1},_pointerStorePosition:function(t){var r,s;for(r=0,s=!1;r<this._board_touches.length;r++)if(this._board_touches[r].pointerId===t.pointerId){this._board_touches[r].clientX=t.clientX,this._board_touches[r].clientY=t.clientY,s=!0;break}return!s&&this._board_touches.length<2&&this._board_touches.push({pointerId:t.pointerId,clientX:t.clientX,clientY:t.clientY}),this},_pointerRemoveTouches:function(t){var r;for(r=0;r<this._board_touches.length;r++)if(this._board_touches[r].pointerId===t.pointerId){this._board_touches.splice(r,1);break}return this},_pointerClearTouches:function(t){this._board_touches.length>0&&this.dehighlightAll(),this.updateQuality=this.BOARD_QUALITY_HIGH,this.mode=this.BOARD_MODE_NONE,this._board_touches=[],this.touches=[]},_getPointerInputDevice:function(t){if(JXG$1.isBrowser){if(t.pointerType==="touch"||window.navigator.msMaxTouchPoints&&window.navigator.msMaxTouchPoints>1)return"touch";if(t.pointerType==="mouse")return"mouse";if(t.pointerType==="pen")return"pen"}return"mouse"},pointerDownListener:function(t,r,s){var n,a,o,l,u,f,c,h="mouse",d,p,v;if(!r&&this._isPointerRegistered(t))return!1;if(JXG$1.evaluate(this.attr.movetarget)===null&&JXG$1.exists(t.target)&&JXG$1.exists(t.target.releasePointerCapture)&&t.target.releasePointerCapture(t.pointerId),!r&&t.isPrimary,this.hasPointerUp||(window.navigator.msPointerEnabled?JXG$1.addEvent(this.document,"MSPointerUp",this.pointerUpListener,this):(JXG$1.addEvent(this.document,"pointerup",this.pointerUpListener,this),JXG$1.addEvent(this.document,"pointercancel",this.pointerUpListener,this)),this.hasPointerUp=!0),this.hasMouseHandlers&&this.removeMouseEventHandlers(),this.hasTouchHandlers&&this.removeTouchEventHandlers(),this.document.selection&&JXG$1.isFunction(this.document.selection.empty))this.document.selection.empty();else if(window.getSelection&&(f=window.getSelection(),f.removeAllRanges))try{f.removeAllRanges()}catch{}if(this._inputDevice=this._getPointerInputDevice(t),h=this._inputDevice,this.options.precision.hasPoint=this.options.precision[h],l=this.getMousePosition(t),this._testForSelection(t),this.selectingMode){this._startSelecting(l),this.triggerEventHandlers(["touchstartselecting","pointerstartselecting","startselecting"],[t]);return}if(this.attr.drag.enabled&&r?(u=[r],this.mode=this.BOARD_MODE_DRAG):u=this.initMoveObject(l[0],l[1],t,h),c={num:t.pointerId,X:l[0],Y:l[1],Xprev:NaN,Yprev:NaN,Xstart:[],Ystart:[],Zstart:[]},u.length>0){for(p=u[u.length-1],d=!1,n=0;n<this.touches.length;n++)if(this.touches[n].obj===p){a=n,o=this.touches[n].targets.push(c)-1,d=!0;break}d||(o=0,a=this.touches.push({obj:p,targets:[c]})-1),this.dehighlightAll(),p.highlight(!0),this.saveStartPos(p,this.touches[a].targets[o]),t&&t.preventDefault&&!s&&t.preventDefault()}return this.touches.length>0&&!s&&(t.preventDefault(),t.stopPropagation()),JXG$1.isBrowser?(this._getPointerInputDevice(t)!=="touch"?this.mode===this.BOARD_MODE_NONE&&this.mouseOriginMoveStart(t):(this._pointerStorePosition(t),t.touches=this._board_touches,t.touches.length===1&&this.mode===this.BOARD_MODE_NONE&&this.touchStartMoveOriginOneFinger(t)||t.touches.length===2&&(this.mode===this.BOARD_MODE_NONE||this.mode===this.BOARD_MODE_MOVE_ORIGIN)&&(this.mode===this.BOARD_MODE_MOVE_ORIGIN&&this.originMoveEnd(),this.gestureStartListener(t))),v="none",this.mode===this.BOARD_MODE_NONE&&JXG$1.evaluate(this.attr.browserpan)&&!(JXG$1.evaluate(this.attr.pan.enabled)&&!JXG$1.evaluate(this.attr.pan.needtwofingers))&&(v="pan-x pan-y"),this.containerObj.style.touchAction=v,this.triggerEventHandlers(["touchstart","down","pointerdown","MSPointerDown"],[t]),!0):!1},pointerMoveListener:function(t){var r,s,n,a,o,l="mouse";if(this._getPointerInputDevice(t)==="touch"&&!this._isPointerRegistered(t))return this.BOARD_MODE_NONE;if(!this.checkFrameRate(t))return!1;if(this.mode!==this.BOARD_MODE_DRAG&&(this.dehighlightAll(),this.displayInfobox(!1)),this.mode!==this.BOARD_MODE_NONE&&(t.preventDefault(),t.stopPropagation()),this.updateQuality=this.BOARD_QUALITY_LOW,this._inputDevice=this._getPointerInputDevice(t),l=this._inputDevice,this.options.precision.hasPoint=this.options.precision[l],a=this.options.precision.hasPoint*.3333,n=this.getMousePosition(t),JXG$1.evaluate(this.attr.movetarget)===null&&n[0]<=a||n[1]<=a||n[0]>=this.canvasWidth-a||n[1]>=this.canvasHeight-a)return this.mode===this.BOARD_MODE_NONE;if(this.selectingMode)this._moveSelecting(n),this.triggerEventHandlers(["touchmoveselecting","moveselecting","pointermoveselecting"],[t,this.mode]);else if(!this.mouseOriginMove(t))if(this.mode===this.BOARD_MODE_DRAG){for(r=0;r<this.touches.length;r++)for(o=this.touches[r].targets,s=0;s<o.length;s++)if(o[s].num===t.pointerId){o[s].X=n[0],o[s].Y=n[1],o.length===1?this.moveObject(n[0],n[1],this.touches[r],t,l):o.length===2&&(this.twoFingerMove(this.touches[r],t.pointerId,t),o[s].Xprev=n[0],o[s].Yprev=n[1]);break}}else this._getPointerInputDevice(t)==="touch"&&(this._pointerStorePosition(t),this._board_touches.length===2&&(t.touches=this._board_touches,this.gestureChangeListener(t))),this.highlightElements(n[0],n[1],t,-1);return this.triggerEventHandlers(["pointermove","MSPointerMove","move"],[t,this.mode]),this.updateQuality=this.BOARD_QUALITY_HIGH,this.mode===this.BOARD_MODE_NONE},pointerUpListener:function(t){var r,s,n,a,o=!1;if(this.triggerEventHandlers(["touchend","up","pointerup","MSPointerUp"],[t]),this.displayInfobox(!1),t){for(r=0;r<this.touches.length;r++)for(a=this.touches[r].targets,s=0;s<a.length;s++)if(a[s].num===t.pointerId){a.splice(s,1),a.length===0&&this.touches.splice(r,1);break}}if(this.originMoveEnd(),this.update(),this.selectingMode)this._stopSelecting(t),this.triggerEventHandlers(["touchstopselecting","pointerstopselecting","stopselecting"],[t]),this.stopSelectionMode();else for(r=this.downObjects.length-1;r>-1;r--){for(n=!1,s=0;s<this.touches.length;s++)this.touches[s].obj.id===this.downObjects[r].id&&(n=!0);n||(this.downObjects[r].triggerEventHandlers(["touchend","up","pointerup","MSPointerUp"],[t]),JXG$1.exists(this.downObjects[r].coords)||(this.downObjects[r].snapToGrid(),this.downObjects[r].snapToPoints(),o=!0),this.downObjects.splice(r,1))}return this.hasPointerUp&&(window.navigator.msPointerEnabled?JXG$1.removeEvent(this.document,"MSPointerUp",this.pointerUpListener,this):(JXG$1.removeEvent(this.document,"pointerup",this.pointerUpListener,this),JXG$1.removeEvent(this.document,"pointercancel",this.pointerUpListener,this)),this.hasPointerUp=!1),this._pointerClearTouches(t.pointerId),this._getPointerInputDevice(t)!=="touch"&&this.dehighlightAll(),o&&this.update(),!0},pointerLeaveListener:function(t){return this.displayInfobox(!1),this.dehighlightAll(),!0},touchStartListener:function(t){var r,s,n,a,o,l=this.options.precision.touch,u,f,c,h=t[JXG$1.touchProperty],d,p;for(this.hasTouchEnd||(JXG$1.addEvent(this.document,"touchend",this.touchEndListener,this),this.hasTouchEnd=!0),this.document.selection&&JXG$1.isFunction(this.document.selection.empty)?this.document.selection.empty():window.getSelection&&window.getSelection().removeAllRanges(),this._inputDevice="touch",this.options.precision.hasPoint=this.options.precision.touch,r=0;r<h.length;r++)h[r].jxg_isused=!1;for(r=0;r<this.touches.length;r++)for(p=this.touches[r].targets,a=0;a<p.length;a++){p[a].num=-1,l=this.options.precision.touch;do{for(o=0;o<h.length;o++)if(Math.abs(Math.pow(h[o].screenX-p[a].X,2)+Math.pow(h[o].screenY-p[a].Y,2))<l*l){p[a].num=o,p[a].X=h[o].screenX,p[a].Y=h[o].screenY,h[o].jxg_isused=!0;break}l*=2}while(p[a].num===-1&&l<this.options.precision.touchMax);p[a].num===-1&&(JXG$1.debug("i couldn't find a targettouches for target no "+a+" on "+this.touches[r].obj.name+" ("+this.touches[r].obj.id+"). Removed the target."),JXG$1.debug("eps = "+l+", touchMax = "+Options.precision.touchMax),p.splice(r,1))}for(r=0;r<h.length;r++)if(!h[r].jxg_isused){if(s=this.getMousePosition(t,r),this.selectingMode)return this._startSelecting(s),this.triggerEventHandlers(["touchstartselecting","startselecting"],[t]),t.preventDefault(),t.stopPropagation(),this.options.precision.hasPoint=this.options.precision.mouse,this.touches.length>0;if(n=this.initMoveObject(s[0],s[1],t,"touch"),n.length!==0){if(u=n[n.length-1],d={num:r,X:h[r].screenX,Y:h[r].screenY,Xprev:NaN,Yprev:NaN,Xstart:[],Ystart:[],Zstart:[]},JXG$1.isPoint(u)||u.elementClass===Const.OBJECT_CLASS_TEXT||u.type===Const.OBJECT_TYPE_TICKS||u.type===Const.OBJECT_TYPE_IMAGE)c=[d],this.saveStartPos(u,c[0]),this.touches.push({obj:u,targets:c}),u.highlight(!0);else if(u.elementClass===Const.OBJECT_CLASS_LINE||u.elementClass===Const.OBJECT_CLASS_CIRCLE||u.elementClass===Const.OBJECT_CLASS_CURVE||u.type===Const.OBJECT_TYPE_POLYGON){for(f=!1,a=0;a<this.touches.length;a++)u.id===this.touches[a].obj.id&&(f=!0,this.touches[a].targets.length===1&&(this.saveStartPos(u,d),this.touches[a].targets.push(d)),h[r].jxg_isused=!0);f||(c=[d],this.saveStartPos(u,c[0]),this.touches.push({obj:u,targets:c}),u.highlight(!0))}}h[r].jxg_isused=!0}return this.touches.length>0&&(t.preventDefault(),t.stopPropagation()),h.length===1&&this.mode===this.BOARD_MODE_NONE&&this.touchStartMoveOriginOneFinger(t)||h.length===2&&(this.mode===this.BOARD_MODE_NONE||this.mode===this.BOARD_MODE_MOVE_ORIGIN)&&(this.mode===this.BOARD_MODE_MOVE_ORIGIN&&this.originMoveEnd(),this.gestureStartListener(t)),this.options.precision.hasPoint=this.options.precision.mouse,this.triggerEventHandlers(["touchstart","down"],[t]),!1},touchMoveListener:function(t){var r,s,n,a,o=t[JXG$1.touchProperty];if(!this.checkFrameRate(t))return!1;if(this.mode!==this.BOARD_MODE_NONE&&(t.preventDefault(),t.stopPropagation()),this.mode!==this.BOARD_MODE_DRAG&&(this.dehighlightAll(),this.displayInfobox(!1)),this._inputDevice="touch",this.options.precision.hasPoint=this.options.precision.touch,this.updateQuality=this.BOARD_QUALITY_LOW,this.selectingMode){for(r=0;r<o.length;r++)if(!o[r].jxg_isused){s=this.getMousePosition(t,r),this._moveSelecting(s),this.triggerEventHandlers(["touchmoves","moveselecting"],[t,this.mode]);break}}else if(!this.touchOriginMove(t))if(this.mode===this.BOARD_MODE_DRAG){for(r=0;r<this.touches.length;r++)if(a=this.touches[r].targets,a.length===1){if(o[a[0].num]){if(s=this.getMousePosition(t,a[0].num),s[0]<0||s[0]>this.canvasWidth||s[1]<0||s[1]>this.canvasHeight)return;a[0].X=s[0],a[0].Y=s[1],this.moveObject(s[0],s[1],this.touches[r],t,"touch")}}else if(a.length===2&&a[0].num>-1&&a[1].num>-1&&o[a[0].num]&&o[a[1].num]){if(s=this.getMousePosition(t,a[0].num),n=this.getMousePosition(t,a[1].num),s[0]<0||s[0]>this.canvasWidth||s[1]<0||s[1]>this.canvasHeight||n[0]<0||n[0]>this.canvasWidth||n[1]<0||n[1]>this.canvasHeight)return;a[0].X=s[0],a[0].Y=s[1],a[1].X=n[0],a[1].Y=n[1],this.twoFingerMove(this.touches[r],a[0].num,t),a[0].Xprev=s[0],a[0].Yprev=s[1],a[1].Xprev=n[0],a[1].Yprev=n[1]}}else o.length===2&&this.gestureChangeListener(t),s=this.getMousePosition(t,0),this.highlightElements(s[0],s[1],t,-1);return this.mode!==this.BOARD_MODE_DRAG&&this.displayInfobox(!1),this.triggerEventHandlers(["touchmove","move"],[t,this.mode]),this.options.precision.hasPoint=this.options.precision.mouse,this.updateQuality=this.BOARD_QUALITY_HIGH,this.mode===this.BOARD_MODE_NONE},touchEndListener:function(t){var r,s,n,a=this.options.precision.touch,o=[],l,u,f=t&&t[JXG$1.touchProperty],c,h=!1;if(this.triggerEventHandlers(["touchend","up"],[t]),this.displayInfobox(!1),this.selectingMode)this._stopSelecting(t),this.triggerEventHandlers(["touchstopselecting","stopselecting"],[t]),this.stopSelectionMode();else if(f&&f.length>0){for(r=0;r<this.touches.length;r++)o[r]=this.touches[r];for(this.touches.length=0,r=0;r<f.length;r++)f[r].jxg_isused=!1;for(r=0;r<o.length;r++){for(l=!1,u=0,c=o[r].targets,s=0;s<c.length;s++)for(c[s].found=!1,n=0;n<f.length;n++)if(Math.abs(Math.pow(f[n].screenX-c[s].X,2)+Math.pow(f[n].screenY-c[s].Y,2))<a*a){c[s].found=!0,c[s].num=n,c[s].X=f[n].screenX,c[s].Y=f[n].screenY,u+=1;break}if(JXG$1.isPoint(o[r].obj)?l=c[0]&&c[0].found:o[r].obj.elementClass===Const.OBJECT_CLASS_LINE?l=c[0]&&c[0].found||c[1]&&c[1].found:o[r].obj.elementClass===Const.OBJECT_CLASS_CIRCLE&&(l=u===1||u===3),l)for(this.touches.push({obj:o[r].obj,targets:[]}),s=0;s<c.length;s++)c[s].found&&this.touches[this.touches.length-1].targets.push({num:c[s].num,X:c[s].screenX,Y:c[s].screenY,Xprev:NaN,Yprev:NaN,Xstart:c[s].Xstart,Ystart:c[s].Ystart,Zstart:c[s].Zstart});else o[r].obj.noHighlight()}}else this.touches.length=0;for(r=this.downObjects.length-1;r>-1;r--){for(l=!1,s=0;s<this.touches.length;s++)this.touches[s].obj.id===this.downObjects[r].id&&(l=!0);l||(this.downObjects[r].triggerEventHandlers(["touchup","up"],[t]),JXG$1.exists(this.downObjects[r].coords)||(this.downObjects[r].snapToGrid(),this.downObjects[r].snapToPoints(),h=!0),this.downObjects.splice(r,1))}return(!f||f.length===0)&&(this.hasTouchEnd&&(JXG$1.removeEvent(this.document,"touchend",this.touchEndListener,this),this.hasTouchEnd=!1),this.dehighlightAll(),this.updateQuality=this.BOARD_QUALITY_HIGH,this.originMoveEnd(),h&&this.update()),!0},mouseDownListener:function(t){var r,s,n;if(this.document.selection&&JXG$1.isFunction(this.document.selection.empty)?this.document.selection.empty():window.getSelection&&window.getSelection().removeAllRanges(),!this.hasMouseUp)JXG$1.addEvent(this.document,"mouseup",this.mouseUpListener,this),this.hasMouseUp=!0;else return;if(this._inputDevice="mouse",this.options.precision.hasPoint=this.options.precision.mouse,r=this.getMousePosition(t),this._testForSelection(t),this.selectingMode){this._startSelecting(r),this.triggerEventHandlers(["mousestartselecting","startselecting"],[t]);return}return s=this.initMoveObject(r[0],r[1],t,"mouse"),s.length===0?(this.mode=this.BOARD_MODE_NONE,n=!0):(this.mouse={obj:null,targets:[{X:r[0],Y:r[1],Xprev:NaN,Yprev:NaN}]},this.mouse.obj=s[s.length-1],this.dehighlightAll(),this.mouse.obj.highlight(!0),this.mouse.targets[0].Xstart=[],this.mouse.targets[0].Ystart=[],this.mouse.targets[0].Zstart=[],this.saveStartPos(this.mouse.obj,this.mouse.targets[0]),t&&t.preventDefault?t.preventDefault():window.event&&(window.event.returnValue=!1)),this.mode===this.BOARD_MODE_NONE&&(n=this.mouseOriginMoveStart(t)),this.triggerEventHandlers(["mousedown","down"],[t]),n},mouseMoveListener:function(t){var r;if(!this.checkFrameRate(t))return!1;r=this.getMousePosition(t),this.updateQuality=this.BOARD_QUALITY_LOW,this.mode!==this.BOARD_MODE_DRAG&&(this.dehighlightAll(),this.displayInfobox(!1)),this.selectingMode?(this._moveSelecting(r),this.triggerEventHandlers(["mousemoveselecting","moveselecting"],[t,this.mode])):this.mouseOriginMove(t)||(this.mode===this.BOARD_MODE_DRAG?this.moveObject(r[0],r[1],this.mouse,t,"mouse"):this.highlightElements(r[0],r[1],t,-1),this.triggerEventHandlers(["mousemove","move"],[t,this.mode])),this.updateQuality=this.BOARD_QUALITY_HIGH},mouseUpListener:function(t){var r;if(this.selectingMode===!1&&this.triggerEventHandlers(["mouseup","up"],[t]),this.updateQuality=this.BOARD_QUALITY_HIGH,this.mouse&&this.mouse.obj&&(JXG$1.exists(this.mouse.obj.coords)||(this.mouse.obj.snapToGrid(this.mouse.targets[0]),this.mouse.obj.snapToPoints())),this.originMoveEnd(),this.dehighlightAll(),this.update(),this.selectingMode)this._stopSelecting(t),this.triggerEventHandlers(["mousestopselecting","stopselecting"],[t]),this.stopSelectionMode();else for(r=0;r<this.downObjects.length;r++)this.downObjects[r].triggerEventHandlers(["mouseup","up"],[t]);this.downObjects.length=0,this.hasMouseUp&&(JXG$1.removeEvent(this.document,"mouseup",this.mouseUpListener,this),this.hasMouseUp=!1),this.mouse=null},mouseWheelListener:function(t){if(!this.attr.zoom.wheel||!this._isRequiredKeyPressed(t,"zoom"))return!0;t=t||window.event;var r=t.detail?-t.detail:t.wheelDelta/40,s=new Coords(Const.COORDS_BY_SCREEN,this.getMousePosition(t),this);return r>0?this.zoomIn(s.usrCoords[1],s.usrCoords[2]):this.zoomOut(s.usrCoords[1],s.usrCoords[2]),this.triggerEventHandlers(["mousewheel"],[t]),t.preventDefault(),!1},keyDownListener:function(t){var r=t.target.id,s,n,a,o,l=0,u=0,f=JXG$1.evaluate(this.attr.keyboard.dx)/this.unitX,c=JXG$1.evaluate(this.attr.keyboard.dy)/this.unitY,h=!1,d=!0,p,v;return!this.attr.keyboard.enabled||r===""||(o=this.containerObj.shadowRoot||document,o.activeElement&&(n=o.activeElement,n.tagName==="INPUT"||n.tagName==="textarea"))?!1:(s=r.replace(this.containerObj.id+"_",""),n=this.select(s),JXG$1.exists(n.coords)&&(v=n.coords.usrCoords.slice(1)),JXG$1.evaluate(this.attr.keyboard.panshift)&&t.shiftKey||JXG$1.evaluate(this.attr.keyboard.panctrl)&&t.ctrlKey?(JXG$1.evaluate(this.attr.zoom.enabled)===!0&&(h=!0),t.keyCode===38?this.clickUpArrow():t.keyCode===40?this.clickDownArrow():t.keyCode===37?this.clickLeftArrow():t.keyCode===39?this.clickRightArrow():h&&t.keyCode===171?this.zoomIn():h&&t.keyCode===173?this.zoomOut():h&&t.keyCode===79?this.zoom100():d=!1):(JXG$1.exists(n.visProp)&&(JXG$1.exists(n.visProp.snaptogrid)&&n.visProp.snaptogrid&&JXG$1.evaluate(n.visProp.snapsizex)&&JXG$1.evaluate(n.visProp.snapsizey)?(a=n.getSnapSizes(),l=a[0],u=a[1],f=Math.max(l,f),c=Math.max(u,c)):JXG$1.exists(n.visProp.attracttogrid)&&n.visProp.attracttogrid&&JXG$1.evaluate(n.visProp.attractordistance)&&JXG$1.evaluate(n.visProp.attractorunit)&&(l=1.1*JXG$1.evaluate(n.visProp.attractordistance),u=l,JXG$1.evaluate(n.visProp.attractorunit)==="screen"&&(l/=this.unitX,u/=this.unitX),f=Math.max(l,f),c=Math.max(u,c))),t.keyCode===38?p=[0,c]:t.keyCode===40?p=[0,-c]:t.keyCode===37?p=[-f,0]:t.keyCode===39?p=[f,0]:d=!1,p&&n.isDraggable&&n.visPropCalc.visible&&(this.geonextCompatibilityMode&&(JXG$1.isPoint(n)||n.elementClass===Const.OBJECT_CLASS_TEXT)||!this.geonextCompatibilityMode)&&!JXG$1.evaluate(n.visProp.fixed)&&(this.mode=this.BOARD_MODE_DRAG,JXG$1.exists(n.coords)&&(p[0]+=v[0],p[1]+=v[1]),JXG$1.exists(n.coords)?(n.setPosition(JXG$1.COORDS_BY_USER,p),this.updateInfobox(n)):(this.displayInfobox(!1),n.setPositionDirectly(Const.COORDS_BY_USER,p,[0,0])),this.triggerEventHandlers(["keymove","move"],[t,this.mode]),n.triggerEventHandlers(["keydrag","drag"],[t]),this.mode=this.BOARD_MODE_NONE)),this.update(),d&&JXG$1.exists(t.preventDefault)&&t.preventDefault(),d)},keyFocusInListener:function(t){var r=t.target.id,s,n;if(!this.attr.keyboard.enabled||r==="")return!1;s=r.replace(this.containerObj.id+"_",""),n=this.select(s),JXG$1.exists(n.highlight)&&(n.highlight(!0),this.focusObjects=[s],n.triggerEventHandlers(["hit"],[t])),JXG$1.exists(n.coords)&&this.updateInfobox(n)},keyFocusOutListener:function(t){if(!this.attr.keyboard.enabled)return!1;this.focusObjects=[],this.dehighlightAll(),this.displayInfobox(!1)},updateContainerDims:function(){var t,r,s,n,a,o;s=this.containerObj.getBoundingClientRect(),t=s.width,r=s.height,window&&window.getComputedStyle&&(n=window.getComputedStyle(this.containerObj,null),a=parseFloat(n.getPropertyValue("border-left-width"))+parseFloat(n.getPropertyValue("border-right-width")),isNaN(a)||(t-=a),o=parseFloat(n.getPropertyValue("border-top-width"))+parseFloat(n.getPropertyValue("border-bottom-width")),isNaN(o)||(r-=o)),!(t<=0||r<=0||isNaN(t)||isNaN(r))&&(isNaN(this.getBoundingBox()[0])&&this.setBoundingBox(this.attr.boundingbox,this.keepaspectratio,"keep"),!(JXG$1.exists(this._prevDim)&&this._prevDim.w===t&&this._prevDim.h===r)&&(this.resizeContainer(t,r,!0),this._prevDim={w:t,h:r}))},startResizeObserver:function(){var t=this;!JXG$1.isBrowser||!this.attr.resize||!this.attr.resize.enabled||(this.resizeObserver=new ResizeObserver(function(r){t._isResizing||(t._isResizing=!0,window.setTimeout(function(){try{t.updateContainerDims()}catch{t.stopResizeObserver()}finally{t._isResizing=!1}},t.attr.resize.throttle))}),this.resizeObserver.observe(this.containerObj))},stopResizeObserver:function(){!JXG$1.isBrowser||!this.attr.resize||!this.attr.resize.enabled||JXG$1.exists(this.resizeObserver)&&this.resizeObserver.unobserve(this.containerObj)},resizeListener:function(){var t=this;!JXG$1.isBrowser||!this.attr.resize||!this.attr.resize.enabled||!this._isScrolling&&!this._isResizing&&(this._isResizing=!0,window.setTimeout(function(){t.updateContainerDims(),t._isResizing=!1},this.attr.resize.throttle))},scrollListener:function(t){var r=this;JXG$1.isBrowser&&(this._isScrolling||(this._isScrolling=!0,window.setTimeout(function(){r._isScrolling=!1},66)))},startIntersectionObserver:function(){var t=this,r={root:null,rootMargin:"0px",threshold:.8};try{this.intersectionObserver=new IntersectionObserver(function(s){isNaN(t.getBoundingBox()[0])&&t.updateContainerDims()},r),this.intersectionObserver.observe(t.containerObj)}catch{JXG$1.debug("JSXGraph: IntersectionObserver not available in this browser.")}},stopIntersectionObserver:function(){JXG$1.exists(this.intersectionObserver)&&this.intersectionObserver.unobserve(this.containerObj)},initInfobox:function(t){var r=JXG$1.copyAttributes(t,this.options,"infobox");return r.id=this.id+"_infobox",this.infobox=this.create("text",[0,0,"0,0"],r),this.infobox.dump=!1,this.displayInfobox(!1),this},updateInfobox:function(t){var r,s,n,a,o,l,u,f=JXG$1.evaluate(t.visProp.showinfobox);return!JXG$1.evaluate(this.attr.showinfobox)&&f==="inherit"||!f?this:(JXG$1.isPoint(t)&&(n=t.coords.usrCoords[1],a=t.coords.usrCoords[2],l=JXG$1.evaluate(this.infobox.visProp.distancex),u=JXG$1.evaluate(this.infobox.visProp.distancey),this.infobox.setCoords(n+l/this.unitX,a+u/this.unitY),o=JXG$1.evaluate(t.visProp.infoboxdigits),typeof t.infoboxText!="string"?(o==="auto"?this.infobox.useLocale()?(r=this.infobox.formatNumberLocale(n),s=this.infobox.formatNumberLocale(a)):(r=JXG$1.autoDigits(n),s=JXG$1.autoDigits(a)):JXG$1.isNumber(o)?this.infobox.useLocale()?(r=this.infobox.formatNumberLocale(n,o),s=this.infobox.formatNumberLocale(a,o)):(r=JXG$1.toFixed(n,o),s=JXG$1.toFixed(a,o)):(r=n,s=a),this.highlightInfobox(r,s,t)):this.highlightCustomInfobox(t.infoboxText,t),this.displayInfobox(!0)),this)},displayInfobox:function(t){return!t&&this.focusObjects.length>0&&this.select(this.focusObjects[0]).elementClass===Const.OBJECT_CLASS_POINT?this:(this.infobox.hiddenByParent===t&&(this.infobox.hiddenByParent=!t,this.infobox.prepareUpdate().updateVisibility(t).updateRenderer()),this)},showInfobox:function(t){return this.displayInfobox(t)},highlightInfobox:function(t,r,s){return this.highlightCustomInfobox("("+t+", "+r+")",s),this},highlightCustomInfobox:function(t,r){return this.infobox.setText(t),this},dehighlightAll:function(){var t,r,s={},n=!1;for(t in this.highlightedObjects)this.highlightedObjects.hasOwnProperty(t)&&(r=this.highlightedObjects[t],this.focusObjects.indexOf(t)<0?((this.hasMouseHandlers||this.hasPointerHandlers)&&r.noHighlight(),n=!0):s[t]=r);return this.highlightedObjects=s,this.renderer.type==="canvas"&&n&&(this.prepareUpdate(),this.renderer.suspendRedraw(this),this.updateRenderer(),this.renderer.unsuspendRedraw()),this},getScrCoordsOfMouse:function(t,r){return[t,r]},getUsrCoordsOfMouse:function(t){var r=this.getCoordsTopLeftCorner(),s=JXG$1.getPosition(t,null,this.document),n=s[0]-r[0],a=s[1]-r[1],o=new Coords(Const.COORDS_BY_SCREEN,[n,a],this);return o.usrCoords.slice(1)},getAllUnderMouse:function(t){var r=this.getAllObjectsUnderMouse(t);return r.push(this.getUsrCoordsOfMouse(t)),r},getAllObjectsUnderMouse:function(t){var r=this.getCoordsTopLeftCorner(),s=JXG$1.getPosition(t,null,this.document),n=s[0]-r[0],a=s[1]-r[1],o=[],l,u,f=this.objectsList.length;for(l=0;l<f;l++)u=this.objectsList[l],u.visPropCalc.visible&&u.hasPoint&&u.hasPoint(n,a)&&(o[o.length]=u);return o},updateCoords:function(){var t,r,s=this.objectsList.length;for(r=0;r<s;r++)t=this.objectsList[r],JXG$1.exists(t.coords)&&(JXG$1.evaluate(t.visProp.frozen)?t.is3D?t.element2D.coords.screen2usr():t.coords.screen2usr():t.is3D?t.element2D.coords.usr2screen():t.coords.usr2screen());return this},moveOrigin:function(t,r,s){var n,a,o,l;return JXG$1.exists(t)&&JXG$1.exists(r)&&(n=this.origin.scrCoords[1],a=this.origin.scrCoords[2],this.origin.scrCoords[1]=t,this.origin.scrCoords[2]=r,s&&(this.origin.scrCoords[1]-=this.drag_dx,this.origin.scrCoords[2]-=this.drag_dy),o=new Coords(Const.COORDS_BY_SCREEN,[0,0],this).usrCoords,l=new Coords(Const.COORDS_BY_SCREEN,[this.canvasWidth,this.canvasHeight],this).usrCoords,(o[1]<this.maxboundingbox[0]||o[2]>this.maxboundingbox[1]||l[1]>this.maxboundingbox[2]||l[2]<this.maxboundingbox[3])&&(this.origin.scrCoords[1]=n,this.origin.scrCoords[2]=a)),this.updateCoords().clearTraces().fullUpdate(),this.triggerEventHandlers(["boundingbox"]),this},addConditions:function(t){var r,s,n,a,o,l,u,f=[],c=t.indexOf("<data>"),h=t.indexOf("</data>"),d=function(w,x,A,S){return function(){var _,$;_=w.select(x.id),$=_.coords.usrCoords[S],S===2?_.setPositionDirectly(Const.COORDS_BY_USER,[A(),$]):_.setPositionDirectly(Const.COORDS_BY_USER,[$,A()]),_.prepareUpdate().update()}},p=function(w,x,A){return function(){var S,_;S=w.select(x.id),_=A(),S.setAttribute({visible:_})}},v=function(w,x,A,S){return function(){var _,$;_=w.select(x.id),$=A(),S==="strokewidth"?_.visProp.strokewidth=$:($=JXG$1.rgba2rgbo($),_.visProp[S+"color"]=$[0],_.visProp[S+"opacity"]=$[1])}},y=function(w,x,A){return function(){var S=w.select(x.id);S.position=A()}},b=function(w,x,A){return function(){var S=w.select(x.id);S.setStyle(A())}};if(!(c<0)){for(;c>=0;){if(r=t.slice(c+6,h),s=r.indexOf("="),n=r.slice(0,s),a=r.slice(s+1),s=n.indexOf("."),o=n.slice(0,s),l=this.elementsByName[JXG$1.unescapeHTML(o)],u=n.slice(s+1).replace(/\s+/g,"").toLowerCase(),a=JXG$1.createFunction(a,this,"",!0),!JXG$1.exists(this.elementsByName[o]))JXG$1.debug("debug conditions: |"+o+"| undefined");else switch(u){case"x":f.push(d(this,l,a,2));break;case"y":f.push(d(this,l,a,1));break;case"visible":f.push(p(this,l,a));break;case"position":f.push(y(this,l,a));break;case"stroke":f.push(v(this,l,a,"stroke"));break;case"style":f.push(b(this,l,a));break;case"strokewidth":f.push(v(this,l,a,"strokewidth"));break;case"fill":f.push(v(this,l,a,"fill"));break;case"label":break;default:JXG$1.debug('property "'+u+'" in conditions not yet implemented:'+a);break}t=t.slice(h+7),c=t.indexOf("<data>"),h=t.indexOf("</data>")}this.updateConditions=function(){var w;for(w=0;w<f.length;w++)f[w]();return this.prepareUpdate().updateElements(),!0},this.updateConditions()}},updateConditions:function(){return!1},calculateSnapSizes:function(){var t=new Coords(Const.COORDS_BY_USER,[0,0],this),r=new Coords(Const.COORDS_BY_USER,[this.options.grid.gridX,this.options.grid.gridY],this),s=t.scrCoords[1]-r.scrCoords[1],n=t.scrCoords[2]-r.scrCoords[2];for(this.options.grid.snapSizeX=this.options.grid.gridX;Math.abs(s)>25;)this.options.grid.snapSizeX*=2,s/=2;for(this.options.grid.snapSizeY=this.options.grid.gridY;Math.abs(n)>25;)this.options.grid.snapSizeY*=2,n/=2;return this},applyZoom:function(){return this.updateCoords().calculateSnapSizes().clearTraces().fullUpdate(),this},zoomIn:function(t,r){var s=this.getBoundingBox(),n=this.attr.zoom.factorx,a=this.attr.zoom.factory,o=(s[2]-s[0])*(1-1/n),l=(s[1]-s[3])*(1-1/a),u=.5,f=.5,c=this.attr.zoom.eps||this.attr.zoom.min||.001;return this.zoomX>this.attr.zoom.max&&n>1||this.zoomY>this.attr.zoom.max&&a>1||this.zoomX<c&&n<1||this.zoomY<c&&a<1?this:(JXG$1.isNumber(t)&&JXG$1.isNumber(r)&&(u=(t-s[0])/(s[2]-s[0]),f=(s[1]-r)/(s[1]-s[3])),this.setBoundingBox([s[0]+o*u,s[1]-l*f,s[2]-o*(1-u),s[3]+l*(1-f)],this.keepaspectratio,"update"),this.applyZoom())},zoomOut:function(t,r){var s=this.getBoundingBox(),n=this.attr.zoom.factorx,a=this.attr.zoom.factory,o=(s[2]-s[0])*(1-n),l=(s[1]-s[3])*(1-a),u=.5,f=.5,c=this.attr.zoom.eps||this.attr.zoom.min||.001;return this.zoomX<c||this.zoomY<c?this:(JXG$1.isNumber(t)&&JXG$1.isNumber(r)&&(u=(t-s[0])/(s[2]-s[0]),f=(s[1]-r)/(s[1]-s[3])),this.setBoundingBox([s[0]+o*u,s[1]-l*f,s[2]-o*(1-u),s[3]+l*(1-f)],this.keepaspectratio,"update"),this.applyZoom())},zoom100:function(){var t,r,s;return JXG$1.exists(this.attr.boundingbox)?this.setBoundingBox(this.attr.boundingbox,this.keepaspectratio,"reset"):(t=this.getBoundingBox(),r=(t[2]-t[0])*(1-this.zoomX)*.5,s=(t[1]-t[3])*(1-this.zoomY)*.5,this.setBoundingBox([t[0]+r,t[1]-s,t[2]-r,t[3]+s],this.keepaspectratio,"reset")),this.applyZoom()},zoomAllPoints:function(){var t,r,s,n,a,o=0,l=0,u=0,f=0,c=this.objectsList.length;for(t=0;t<c;t++)a=this.objectsList[t],JXG$1.isPoint(a)&&a.visPropCalc.visible&&(a.coords.usrCoords[1]<o?o=a.coords.usrCoords[1]:a.coords.usrCoords[1]>l&&(l=a.coords.usrCoords[1]),a.coords.usrCoords[2]>f?f=a.coords.usrCoords[2]:a.coords.usrCoords[2]<u&&(u=a.coords.usrCoords[2]));return r=50,s=r/this.unitX,n=r/this.unitY,this.setBoundingBox([o-s,f+n,l+s,u-n],this.keepaspectratio,"update"),this.applyZoom()},zoomElements:function(t){var r,s,n,a=[1/0,-1/0,-1/0,1/0],o,l,u,f,c;if(!JXG$1.isArray(t)||t.length===0)return this;for(r=0;r<t.length;r++)s=this.select(t[r]),n=s.bounds(),JXG$1.isArray(n)&&(n[0]<a[0]&&(a[0]=n[0]),n[1]>a[1]&&(a[1]=n[1]),n[2]>a[2]&&(a[2]=n[2]),n[3]<a[3]&&(a[3]=n[3]));return JXG$1.isArray(a)&&(o=.5*(a[0]+a[2]),l=.5*(a[1]+a[3]),u=1.5*(a[2]-a[0])*.5,f=1.5*(a[1]-a[3])*.5,c=Math.max(u,f),this.setBoundingBox([o-c,l+c,o+c,l-c],this.keepaspectratio,"update")),this},setZoom:function(t,r){var s=this.attr.zoom.factorx,n=this.attr.zoom.factory;return this.attr.zoom.factorx=t/this.zoomX,this.attr.zoom.factory=r/this.zoomY,this.zoomIn(),this.attr.zoom.factorx=s,this.attr.zoom.factory=n,this},removeObject:function(t,r){var s,n;if(JXG$1.isArray(t)){for(n=0;n<t.length;n++)this.removeObject(t[n]);return this}if(t=this.select(t),!JXG$1.exists(t)||JXG$1.isString(t))return this;try{for(s in t.childElements)t.childElements.hasOwnProperty(s)&&t.childElements[s].board.removeObject(t.childElements[s]);for(s in t.objects)t.objects.hasOwnProperty(s)&&t.objects[s].board.removeObject(t.objects[s]);if(r)for(s in this.objects)this.objects.hasOwnProperty(s)&&JXG$1.exists(this.objects[s].childElements)&&JXG$1.exists(this.objects[s].childElements.hasOwnProperty(t.id))&&(delete this.objects[s].childElements[t.id],delete this.objects[s].descendants[t.id]);else if(JXG$1.exists(t.ancestors))for(s in t.ancestors)t.ancestors.hasOwnProperty(s)&&JXG$1.exists(t.ancestors[s].childElements)&&JXG$1.exists(t.ancestors[s].childElements.hasOwnProperty(t.id))&&(delete t.ancestors[s].childElements[t.id],delete t.ancestors[s].descendants[t.id]);if(t._pos>-1)for(this.objectsList.splice(t._pos,1),n=t._pos;n<this.objectsList.length;n++)this.objectsList[n]._pos--;else t.type!==Const.OBJECT_TYPE_TURTLE&&JXG$1.debug("Board.removeObject: object "+t.id+" not found in list.");delete this.objects[t.id],delete this.elementsByName[t.name],t.visProp&&JXG$1.evaluate(t.visProp.trace)&&t.clearTrace(),JXG$1.exists(t.remove)&&t.remove()}catch(a){JXG$1.debug(t.id+": Could not be removed: "+a)}return this.update(),this},removeAncestors:function(t){var r;for(r in t.ancestors)t.ancestors.hasOwnProperty(r)&&this.removeAncestors(t.ancestors[r]);return this.removeObject(t),this},initGeonextBoard:function(){var t,r,s;return t=this.create("point",[0,0],{id:this.id+"g00e0",name:"Ursprung",withLabel:!1,visible:!1,fixed:!0}),r=this.create("point",[1,0],{id:this.id+"gX0e0",name:"Punkt_1_0",withLabel:!1,visible:!1,fixed:!0}),s=this.create("point",[0,1],{id:this.id+"gY0e0",name:"Punkt_0_1",withLabel:!1,visible:!1,fixed:!0}),this.create("line",[t,r],{id:this.id+"gXLe0",name:"X-Achse",withLabel:!1,visible:!1}),this.create("line",[t,s],{id:this.id+"gYLe0",name:"Y-Achse",withLabel:!1,visible:!1}),this},resizeContainer:function(t,r,s,n){var a,o,l,u,f;return o=this.canvasWidth,l=this.canvasHeight,n||(a=this.getBoundingBox()),this.canvasWidth=Math.max(parseFloat(t),Mat.eps),this.canvasHeight=Math.max(parseFloat(r),Mat.eps),s||(this.containerObj.style.width=this.canvasWidth+"px",this.containerObj.style.height=this.canvasHeight+"px"),this.renderer.resize(this.canvasWidth,this.canvasHeight),n?(u=(this.canvasWidth-o)/2,f=(this.canvasHeight-l)/2,this.moveOrigin(this.origin.scrCoords[1]+u,this.origin.scrCoords[2]+f)):this.setBoundingBox(a,this.keepaspectratio,"keep"),this},showDependencies:function(){var t,r,s,n,a;r=`<p>
`;for(t in this.objects)if(this.objects.hasOwnProperty(t)){a=0;for(s in this.objects[t].childElements)this.objects[t].childElements.hasOwnProperty(s)&&(a+=1);a>=0&&(r+="<strong>"+this.objects[t].id+":</strong> ");for(s in this.objects[t].childElements)this.objects[t].childElements.hasOwnProperty(s)&&(r+=this.objects[t].childElements[s].id+"("+this.objects[t].childElements[s].name+"), ");r+=`<p>
`}return r+=`</p>
`,n=window.open(),n.document.open(),n.document.write(r),n.document.close(),this},showXML:function(){var t=window.open("");return t.document.open(),t.document.write("<pre>"+JXG$1.escapeHTML(this.xmlString)+"</pre>"),t.document.close(),this},prepareUpdate:function(){var t,r,s=this.objectsList.length;for(t=0;t<s;t++)r=this.objectsList[t],r.needsUpdate=r.needsRegularUpdate||this.needsFullUpdate;for(t in this.groups)this.groups.hasOwnProperty(t)&&(r=this.groups[t],r.needsUpdate=r.needsRegularUpdate||this.needsFullUpdate);return this},updateElements:function(t){var r,s;for(t=this.select(t),r=0;r<this.objectsList.length;r++)s=this.objectsList[r],this.needsFullUpdate&&s.elementClass===Const.OBJECT_CLASS_TEXT&&s.updateSize(),s.update(!JXG$1.exists(t)||s.id!==t.id).updateVisibility();for(r in this.groups)this.groups.hasOwnProperty(r)&&this.groups[r].update(t);return this},updateRenderer:function(){var t,r=this.objectsList.length;if(this.renderer){if(this.renderer.type==="canvas")this.updateRendererCanvas();else for(t=0;t<r;t++)this.objectsList[t].updateRenderer();return this}},updateRendererCanvas:function(){var t,r,s,n,a,o=this.objectsList.length,l=this.options.layer,u=this.options.layer.numlayers,f=Number.NEGATIVE_INFINITY;for(s=0;s<u;s++){n=Number.POSITIVE_INFINITY;for(a in l)l.hasOwnProperty(a)&&l[a]>f&&l[a]<n&&(n=l[a]);for(f=n,t=0;t<o;t++)r=this.objectsList[t],r.visProp.layer===n&&r.prepareUpdate().updateRenderer()}return this},addHook:function(t,r,s){return JXG$1.deprecated("Board.addHook()","Board.on()"),r=JXG$1.def(r,"update"),s=JXG$1.def(s,this),this.hooks.push([r,t]),this.on(r,t,s),this.hooks.length-1},addEvent:JXG$1.shortcut(JXG$1.Board.prototype,"on"),removeHook:function(t){return JXG$1.deprecated("Board.removeHook()","Board.off()"),this.hooks[t]&&(this.off(this.hooks[t][0],this.hooks[t][1]),this.hooks[t]=null),this},removeEvent:JXG$1.shortcut(JXG$1.Board.prototype,"off"),updateHooks:function(t){var r=Array.prototype.slice.call(arguments,0);return JXG$1.deprecated("Board.updateHooks()","Board.triggerEventHandlers()"),r[0]=JXG$1.def(r[0],"update"),this.triggerEventHandlers([r[0]],arguments),this},addChild:function(t){return JXG$1.exists(t)&&JXG$1.exists(t.containerObj)&&(this.dependentBoards.push(t),this.update()),this},removeChild:function(t){var r;for(r=this.dependentBoards.length-1;r>=0;r--)this.dependentBoards[r]===t&&this.dependentBoards.splice(r,1);return this},update:function(t){var r,s,n,a,o;if(this.inUpdate||this.isSuspendedUpdate)return this;for(this.inUpdate=!0,this.attr.minimizereflow==="all"&&this.containerObj&&this.renderer.type!=="vml"&&(o=this.document.activeElement,a=this.renderer.removeToInsertLater(this.containerObj)),this.attr.minimizereflow==="svg"&&this.renderer.type==="svg"&&(o=this.document.activeElement,a=this.renderer.removeToInsertLater(this.renderer.svgRoot)),this.prepareUpdate().updateElements(t).updateConditions(),this.renderer.suspendRedraw(this),this.updateRenderer(),this.renderer.unsuspendRedraw(),this.triggerEventHandlers(["update"],[]),a&&(a(),o.focus()),s=this.dependentBoards.length,r=0;r<s;r++)n=this.dependentBoards[r],JXG$1.exists(n)&&n!==this&&(n.updateQuality=this.updateQuality,n.prepareUpdate().updateElements().updateConditions(),n.renderer.suspendRedraw(),n.updateRenderer(),n.renderer.unsuspendRedraw(),n.triggerEventHandlers(["update"],[]));return this.inUpdate=!1,this},fullUpdate:function(){return this.needsFullUpdate=!0,this.update(),this.needsFullUpdate=!1,this},addGrid:function(){return this.create("grid",[]),this},removeGrids:function(){var t;for(t=0;t<this.grids.length;t++)this.removeObject(this.grids[t]);return this.grids.length=0,this.update(),this},create:function(t,r,s){var n,a;for(t=t.toLowerCase(),JXG$1.exists(r)||(r=[]),JXG$1.exists(s)||(s={}),a=0;a<r.length;a++)JXG$1.isString(r[a])&&!(t==="text"&&a===2)&&!(t==="solidofrevolution3d"&&a===2)&&!((t==="input"||t==="checkbox"||t==="button")&&(a===2||a===3))&&t!=="curve"&&t!=="functiongraph"&&(r[a]=this.select(r[a]));if(JXG$1.isFunction(JXG$1.elements[t]))n=JXG$1.elements[t](this,r,s);else throw new Error("JSXGraph: create: Unknown element type given: "+t);return JXG$1.exists(n)?(n.prepareUpdate&&n.update&&n.updateRenderer&&n.fullUpdate(),n):(JXG$1.debug("JSXGraph: create: failure creating "+t),n)},createElement:function(){return JXG$1.deprecated("Board.createElement()","Board.create()"),this.create.apply(this,arguments)},clearTraces:function(){var t;for(t=0;t<this.objectsList.length;t++)this.objectsList[t].clearTrace();return this.numTraces=0,this},suspendUpdate:function(){return this.inUpdate||(this.isSuspendedUpdate=!0),this},unsuspendUpdate:function(){return this.isSuspendedUpdate&&(this.isSuspendedUpdate=!1,this.fullUpdate()),this},setBoundingBox:function(t,r,s){var n,a,o,l,u=0,f=0,c=1,h,d,p,v,y,b=JXG$1.getDimensions(this.container,this.document);return JXG$1.isArray(t)?t[0]<this.maxboundingbox[0]||t[1]>this.maxboundingbox[1]||t[2]>this.maxboundingbox[2]||t[3]<this.maxboundingbox[3]?this:(JXG$1.exists(s)||(s="reset"),o=this.unitX,l=this.unitY,this.canvasWidth=parseFloat(b.width),this.canvasHeight=parseFloat(b.height),a=this.canvasWidth,n=this.canvasHeight,r?(h=o/l,s==="keep"&&(c=this.zoomX/this.zoomY),d=t[2]-t[0],p=t[1]-t[3],v=o*d,y=l*p,a>=n?v>=y?(this.unitY=n/p,this.unitX=this.unitY*h):(this.unitY=n/Math.abs(d)*Mat.sign(p)/c,this.unitX=this.unitY*h):y>v?(this.unitX=a/d,this.unitY=this.unitX/h):(this.unitX=a/Math.abs(p)*Mat.sign(d)*c,this.unitY=this.unitX/h),u=(a/this.unitX-d)*.5,f=(n/this.unitY-p)*.5,this.keepaspectratio=!0):(this.unitX=a/(t[2]-t[0]),this.unitY=n/(t[1]-t[3]),this.keepaspectratio=!1),this.moveOrigin(-this.unitX*(t[0]-u),this.unitY*(t[1]+f)),s==="update"?(this.zoomX*=this.unitX/o,this.zoomY*=this.unitY/l):s==="reset"&&(this.zoomX=JXG$1.exists(this.attr.zoomx)?this.attr.zoomx:1,this.zoomY=JXG$1.exists(this.attr.zoomy)?this.attr.zoomy:1),this):this},getBoundingBox:function(){var t=new Coords(Const.COORDS_BY_SCREEN,[0,0],this).usrCoords,r=new Coords(Const.COORDS_BY_SCREEN,[this.canvasWidth,this.canvasHeight],this).usrCoords;return[t[1],t[2],r[1],r[2]]},_set:function(t,r){t=t.toLocaleLowerCase(),r!==null&&JXG$1.isObject(r)&&!JXG$1.exists(r.id)&&!JXG$1.exists(r.name)?JXG$1.mergeAttr(this.attr[t],r):this.attr[t]=r},setAttribute:function(t){var r,s,n,a,o,l,u,f={};for(r=0;r<arguments.length;r++)s=arguments[r],JXG$1.isString(s)?(n=s.split(":"),f[JXG$1.trim(n[0])]=JXG$1.trim(n[1])):JXG$1.isArray(s)?f[s[0]]=s[1]:JXG$1.extend(f,s);for(r in f)switch(f.hasOwnProperty(r)&&(a=r.replace(/\s+/g,"").toLowerCase(),o=f[r]),o=o.toLowerCase&&o.toLowerCase()==="false"?!1:o,l=this.attr[a],a){case"axis":o===!1&&JXG$1.exists(this.defaultAxes)&&(this.defaultAxes.x.setAttribute({visible:!1}),this.defaultAxes.y.setAttribute({visible:!1}));break;case"boundingbox":this.setBoundingBox(o,this.keepaspectratio),this._set(a,o);break;case"defaultaxes":JXG$1.exists(this.defaultAxes.x)&&JXG$1.exists(o.x)&&this.defaultAxes.x.setAttribute(o.x),JXG$1.exists(this.defaultAxes.y)&&JXG$1.exists(o.y)&&this.defaultAxes.y.setAttribute(o.y);break;case"description":this.document.getElementById(this.container+"_ARIAdescription").innerHTML=o,this._set(a,o);break;case"title":this.document.getElementById(this.container+"_ARIAlabel").innerHTML=o,this._set(a,o);break;case"keepaspectratio":this._set(a,o),l=this.getBoundingBox(),this.setBoundingBox([0,this.canvasHeight,this.canvasWidth,0],!1,"keep"),this.setBoundingBox(l,o,"keep");break;case"document":case"maxboundingbox":this[a]=o,this._set(a,o);break;case"zoomx":case"zoomy":this[a]=o,this._set(a,o),this.setZoom(this.attr.zoomx,this.attr.zoomy);break;case"registerevents":case"registerfullscreenevent":case"registerresizeevent":case"renderer":break;case"fullscreen":case"screenshot":u=this.containerObj.ownerDocument.getElementById(this.container+"_navigation_"+a),u&&JXG$1.exists(o.symbol)&&(u.innerHTML=JXG$1.evaluate(o.symbol)),this._set(a,o);break;case"selection":o.visible=!1,o.withLines=!1,o.vertices={visible:!1},this._set(a,o);break;case"showcopyright":this.renderer.type==="svg"&&(u=this.containerObj.ownerDocument.getElementById(this.renderer.uniqName("licenseText")),u?u.style.display=JXG$1.evaluate(o)?"inline":"none":JXG$1.evaluate(o)&&this.renderer.displayCopyright(Const.licenseText,parseInt(this.options.text.fontSize,10)));default:JXG$1.exists(this.attr[a])&&this._set(a,o);break}return this.containerObj.ownerDocument.getElementById(this.container+"_navigationbar").remove(),this.renderer.drawNavigationBar(this,this.attr.navbar),this.triggerEventHandlers(["attribute"],[f,this]),this.fullUpdate(),this},addAnimation:function(t){var r=this;return this.animationObjects[t.id]=t,this.animationIntervalCode||(this.animationIntervalCode=window.setInterval(function(){r.animate()},t.board.attr.animationdelay)),this},stopAllAnimation:function(){var t;for(t in this.animationObjects)this.animationObjects.hasOwnProperty(t)&&JXG$1.exists(this.animationObjects[t])&&(this.animationObjects[t]=null,delete this.animationObjects[t]);return window.clearInterval(this.animationIntervalCode),delete this.animationIntervalCode,this},animate:function(){var t,r,s,n,a,o,l,u,f=0,c=null;for(r in this.animationObjects)if(this.animationObjects.hasOwnProperty(r)&&JXG$1.exists(this.animationObjects[r])){if(f+=1,s=this.animationObjects[r],s.animationPath&&(JXG$1.isFunction(s.animationPath)?n=s.animationPath(new Date().getTime()-s.animationStart):n=s.animationPath.pop(),!JXG$1.exists(n)||!JXG$1.isArray(n)&&isNaN(n)?delete s.animationPath:(s.setPositionDirectly(Const.COORDS_BY_USER,n),s.fullUpdate(),c=s)),s.animationData){l=0;for(a in s.animationData)s.animationData.hasOwnProperty(a)&&(o=s.animationData[a].pop(),JXG$1.exists(o)?(l+=1,t={},t[a]=o,s.setAttribute(t)):delete s.animationData[o]);l===0&&delete s.animationData}!JXG$1.exists(s.animationData)&&!JXG$1.exists(s.animationPath)&&(this.animationObjects[r]=null,delete this.animationObjects[r],JXG$1.exists(s.animationCallback)&&(u=s.animationCallback,s.animationCallback=null,u()))}return f===0?(window.clearInterval(this.animationIntervalCode),delete this.animationIntervalCode):this.update(c),this},migratePoint:function(t,r,s){var n,a,o,l,u,f,c=!1;t=this.select(t),r=this.select(r),JXG$1.exists(t.label)&&(f=t.label.id,c=!0,this.removeObject(t.label));for(a in t.childElements)if(t.childElements.hasOwnProperty(a)){n=t.childElements[a],l=!1;for(o in n)n.hasOwnProperty(o)&&n[o]===t&&(n[o]=r,l=!0);for(l&&delete t.childElements[a],u=0;u<n.parents.length;u++)n.parents[u]===t.id&&(n.parents[u]=r.id);r.addChild(n)}return s&&(c&&(delete r.childElements[f],delete r.descendants[f]),r.label&&this.removeObject(r.label),delete this.elementsByName[r.name],r.name=t.name,c&&r.createLabel()),this.removeObject(t),JXG$1.exists(r.name)&&r.name!==""&&(this.elementsByName[r.name]=r),this.fullUpdate(),this},emulateColorblindness:function(t){var r,s;if(JXG$1.exists(t)||(t="none"),this.currentCBDef===t)return this;for(r in this.objects)this.objects.hasOwnProperty(r)&&(s=this.objects[r],t!=="none"?(this.currentCBDef==="none"&&(s.visPropOriginal={strokecolor:s.visProp.strokecolor,fillcolor:s.visProp.fillcolor,highlightstrokecolor:s.visProp.highlightstrokecolor,highlightfillcolor:s.visProp.highlightfillcolor}),s.setAttribute({strokecolor:JXG$1.rgb2cb(JXG$1.evaluate(s.visPropOriginal.strokecolor),t),fillcolor:JXG$1.rgb2cb(JXG$1.evaluate(s.visPropOriginal.fillcolor),t),highlightstrokecolor:JXG$1.rgb2cb(JXG$1.evaluate(s.visPropOriginal.highlightstrokecolor),t),highlightfillcolor:JXG$1.rgb2cb(JXG$1.evaluate(s.visPropOriginal.highlightfillcolor),t)})):JXG$1.exists(s.visPropOriginal)&&JXG$1.extend(s.visProp,s.visPropOriginal));return this.currentCBDef=t,this.update(),this},select:function(t,r){var s,n,a,o,l=t;if(l===null)return l;if(JXG$1.isString(l)&&l!=="")JXG$1.exists(this.objects[l])?l=this.objects[l]:JXG$1.exists(this.elementsByName[l])?l=this.elementsByName[l]:JXG$1.exists(this.groups[l])&&(l=this.groups[l]);else if(!r&&(JXG$1.isFunction(l)||JXG$1.isObject(l)&&!JXG$1.isFunction(l.setAttribute))){for(s=JXG$1.filterElements(this.objectsList,l),n={},o=s.length,a=0;a<o;a++)n[s[a].id]=s[a];l=new Composition(n)}else JXG$1.isObject(l)&&JXG$1.exists(l.id)&&!JXG$1.exists(this.objects[l.id])&&(l=null);return l},hasPoint:function(t,r){var s=t,n=r,a=this.getBoundingBox();return JXG$1.exists(t)&&JXG$1.isArray(t.usrCoords)&&(s=t.usrCoords[1],n=t.usrCoords[2]),!!(JXG$1.isNumber(s)&&JXG$1.isNumber(n)&&a[0]<s&&s<a[2]&&a[1]>n&&n>a[3])},updateCSSTransforms:function(){var t=this.containerObj,r=t,s=t;if(this.cssTransMat=JXG$1.getCSSTransformMatrix(r),JXG$1.exists(r.getRootNode)){for(r=r.parentNode===r.getRootNode()?r.parentNode.host:r.parentNode;r;)this.cssTransMat=Mat.matMatMult(JXG$1.getCSSTransformMatrix(r),this.cssTransMat),r=r.parentNode===r.getRootNode()?r.parentNode.host:r.parentNode;this.cssTransMat=Mat.inverse(this.cssTransMat)}else{for(r=r.offsetParent;r;){for(this.cssTransMat=Mat.matMatMult(JXG$1.getCSSTransformMatrix(r),this.cssTransMat),s=s.parentNode;s!==r;)this.cssTransMat=Mat.matMatMult(JXG$1.getCSSTransformMatrix(r),this.cssTransMat),s=s.parentNode;r=r.offsetParent}this.cssTransMat=Mat.inverse(this.cssTransMat)}return this},startSelectionMode:function(){this.selectingMode=!0,this.selectionPolygon.setAttribute({visible:!0}),this.selectingBox=[[0,0],[0,0]],this._setSelectionPolygonFromBox(),this.selectionPolygon.fullUpdate()},stopSelectionMode:function(){return this.selectingMode=!1,this.selectionPolygon.setAttribute({visible:!1}),[this.selectionPolygon.vertices[0].coords,this.selectionPolygon.vertices[2].coords]},_startSelecting:function(t){this.isSelecting=!0,this.selectingBox=[[t[0],t[1]],[t[0],t[1]]],this._setSelectionPolygonFromBox()},_moveSelecting:function(t){this.isSelecting&&(this.selectingBox[1]=[t[0],t[1]],this._setSelectionPolygonFromBox(),this.selectionPolygon.fullUpdate())},_stopSelecting:function(t){var r=this.getMousePosition(t);this.isSelecting=!1,this.selectingBox[1]=[r[0],r[1]],this._setSelectionPolygonFromBox()},_setSelectionPolygonFromBox:function(){var t=this.selectingBox[0],r=this.selectingBox[1];this.selectionPolygon.vertices[0].setPositionDirectly(JXG$1.COORDS_BY_SCREEN,[t[0],t[1]]),this.selectionPolygon.vertices[1].setPositionDirectly(JXG$1.COORDS_BY_SCREEN,[t[0],r[1]]),this.selectionPolygon.vertices[2].setPositionDirectly(JXG$1.COORDS_BY_SCREEN,[r[0],r[1]]),this.selectionPolygon.vertices[3].setPositionDirectly(JXG$1.COORDS_BY_SCREEN,[r[0],t[1]])},_testForSelection:function(t){this._isRequiredKeyPressed(t,"selection")&&(JXG$1.exists(this.selectionPolygon)||this._createSelectionPolygon(this.attr),this.startSelectionMode())},_createSelectionPolygon:function(t){var r;return JXG$1.exists(this.selectionPolygon)||(r=JXG$1.copyAttributes(t,Options,"board","selection"),r.enabled===!0&&(this.selectionPolygon=this.create("polygon",[[0,0],[0,0],[0,0],[0,0]],r))),this},__evt__attribute:function(t){},__evt__down:function(t){},__evt__mousedown:function(t){},__evt__pendown:function(t){},__evt__pointerdown:function(t){},__evt__touchstart:function(t){},__evt__up:function(t){},__evt__mouseup:function(t){},__evt__pointerup:function(t){},__evt__touchend:function(t){},__evt__move:function(t,r){},__evt__mousemove:function(t,r){},__evt__penmove:function(t,r){},__evt__pointermove:function(t,r){},__evt__touchmove:function(t,r){},__evt__keymove:function(t,r){},__evt__hit:function(t,r,s){},__evt__mousehit:function(t,r,s){},__evt__update:function(){},__evt__boundingbox:function(){},__evt__startselecting:function(){},__evt__mousestartselecting:function(){},__evt__pointerstartselecting:function(){},__evt__touchstartselecting:function(){},__evt__stopselecting:function(){},__evt__mousestopselecting:function(){},__evt__pointerstopselecting:function(){},__evt__touchstopselecting:function(){},__evt__moveselecting:function(){},__evt__mousemoveselecting:function(){},__evt__pointermoveselecting:function(){},__evt__touchmoveselecting:function(){},__evt:function(){},toFullscreen:function(t){var r,s,n,a,o=this.document,l;return t=t||this.container,this._fullscreen_inner_id=t,n=o.getElementById(t),r="fullscreenwrap_"+t,a=this.containerObj.getBoundingClientRect(),n._cssFullscreenStore={w:a.width,h:a.height},o.getElementById(r)?s=o.getElementById(r):(s=document.createElement("div"),s.classList.add("JXG_wrap_private"),s.setAttribute("id",r),n.parentNode.insertBefore(s,n),s.appendChild(n)),s.requestFullscreen=s.requestFullscreen||s.webkitRequestFullscreen||s.mozRequestFullScreen||s.msRequestFullscreen,o.fullscreenElement!==void 0?l=o.fullscreenElement:o.webkitFullscreenElement!==void 0?l=o.webkitFullscreenElement:l=o.msFullscreenElement,l===null?s.requestFullscreen&&(s.requestFullscreen(),this.startFullscreenResizeObserver(s)):(this.stopFullscreenResizeObserver(s),JXG$1.exists(document.exitFullscreen)?document.exitFullscreen():JXG$1.exists(document.webkitExitFullscreen)&&document.webkitExitFullscreen()),this},fullscreenListener:function(t){var r,s,n,a,o=this.document;if(r=this._fullscreen_inner_id,!!JXG$1.exists(r)){if(o.fullscreenElement!==void 0?n=o.fullscreenElement:o.webkitFullscreenElement!==void 0?n=o.webkitFullscreenElement:n=o.msFullscreenElement,s=o.getElementById(r),n)s._cssFullscreenStore.id=n.id,s._cssFullscreenStore.isFullscreen=!0,s._cssFullscreenStore.margin=s.style.margin,s.style.margin="",JXG$1.scaleJSXGraphDiv(n.id,r,o,JXG$1.evaluate(this.attr.fullscreen.scale)),n=null;else if(JXG$1.exists(s._cssFullscreenStore)){for(a=o.styleSheets.length-1;a>=0;a--)if(o.styleSheets[a].title==="jsxgraph_fullscreen_css"){o.styleSheets[a].deleteRule(0);break}s._cssFullscreenStore.isFullscreen=!1,s.style.margin=s._cssFullscreenStore.margin,s.parentElement.replaceWith(s)}this.updateCSSTransforms()}},startFullscreenResizeObserver:function(t){var r=this;return!JXG$1.isBrowser||!this.attr.resize||!this.attr.resize.enabled?this:(this.resizeObserver=new ResizeObserver(function(s){var n,a,o=r.document;r._isResizing||(r._isResizing=!0,window.setTimeout(function(){try{n=r._fullscreen_inner_id,o.fullscreenElement!==void 0?a=o.fullscreenElement:o.webkitFullscreenElement!==void 0?a=o.webkitFullscreenElement:a=o.msFullscreenElement,a!==null&&JXG$1.scaleJSXGraphDiv(a.id,n,o,JXG$1.evaluate(r.attr.fullscreen.scale))}catch{r.stopFullscreenResizeObserver(t)}finally{r._isResizing=!1}},r.attr.resize.throttle))}),this.resizeObserver.observe(t),this)},stopFullscreenResizeObserver:function(t){return!JXG$1.isBrowser||!this.attr.resize||!this.attr.resize.enabled?this:(JXG$1.exists(this.resizeObserver)&&this.resizeObserver.unobserve(t),this)},addLogEntry:function(t,r,s){var n,a,o=this.userLog.length-1;return JXG$1.exists(r.elementClass)&&(a=r.id),JXG$1.evaluate(this.attr.logging.enabled)&&(n=new Date().getTime(),o>=0&&this.userLog[o].type===t&&this.userLog[o].id===a&&n-this.userLog[o].end<500?(this.userLog[o].end=n,this.userLog[o].endpos=s):this.userLog.push({type:t,id:a,start:n,startpos:s,end:n,endpos:s,bbox:this.getBoundingBox(),canvas:[this.canvasWidth,this.canvasHeight],zoom:[this.zoomX,this.zoomY]})),this},createRoulette:function(t,r,s,n,a,o,l){var u=this,f=function(){var c=0,h=0,d=0,p=s,v=Numerics.root(function(B){var J=t.X(p),F=t.Y(p),z=r.X(B),Z=r.Y(B);return(J-z)*(J-z)+(F-Z)*(F-Z)},[0,Math.PI*2]),y=0,b=0,w,x=u.create("transform",[function(){return c}],{type:"rotate"}),A=u.create("transform",[function(){return c},function(){return t.X(p)},function(){return t.Y(p)}],{type:"rotate"}),S=u.create("transform",[function(){return h},function(){return d}],{type:"translate"}),_=function(B,J,F){var z=Numerics.D(B.X)(J),Z=Numerics.D(B.Y)(J),se=Numerics.D(B.X)(F),ie=Numerics.D(B.Y)(F),U=Numerics.D(B.X)((J+F)*.5),H=Numerics.D(B.Y)((J+F)*.5),ue=Math.sqrt(z*z+Z*Z),Y=Math.sqrt(se*se+ie*ie),K=Math.sqrt(U*U+H*H);return(ue+4*K+Y)*(F-J)/6},$=function(B){return w-_(r,v,B)},M=Math.PI/18,T=M*9,O=null;return this.rolling=function(){var B,J,F,z,Z;y=p+a*n,w=_(t,p,y),b=Numerics.root($,v),B=new Complex(t.X(y),t.Y(y)),J=new Complex(r.X(b),r.Y(b)),F=new Complex(Numerics.D(t.X)(y),Numerics.D(t.Y)(y)),z=new Complex(Numerics.D(r.X)(b),Numerics.D(r.Y)(b)),Z=Complex.C.div(F,z),c=Math.atan2(Z.imaginary,Z.real),Z.div(Complex.C.abs(Z)),Z.mult(J),h=B.real-Z.real,d=B.imaginary-Z.imaginary,c<-M&&c>-T?(c=-M,A.applyOnce(l)):c>M&&c<T?(c=M,A.applyOnce(l)):(x.applyOnce(l),S.applyOnce(l),p=y,v=b),u.update()},this.start=function(){return o>0&&(O=window.setInterval(this.rolling,o)),this},this.stop=function(){return window.clearInterval(O),this},this};return new f}});const Board=JXG$1.Board;JXG$1.SVGRenderer=function(t,r){var s;for(this.type="svg",this.isIE=navigator.appVersion.indexOf("MSIE")!==-1||navigator.userAgent.match(/Trident\//),this.svgRoot=null,this.svgNamespace="http://www.w3.org/2000/svg",this.xlinkNamespace="http://www.w3.org/1999/xlink",this.container=t,this.container.style.MozUserSelect="none",this.container.style.userSelect="none",this.container.style.overflow="hidden",this.container.style.position===""&&(this.container.style.position="relative"),this.svgRoot=this.container.ownerDocument.createElementNS(this.svgNamespace,"svg"),this.svgRoot.style.overflow="hidden",this.svgRoot.style.display="block",this.resize(r.width,r.height),this.container.appendChild(this.svgRoot),this.defs=this.container.ownerDocument.createElementNS(this.svgNamespace,"defs"),this.svgRoot.appendChild(this.defs),this.createShadowFilter=function(n,a,o,l,u,f){var c=this.container.ownerDocument.createElementNS(this.svgNamespace,"filter"),h,d,p,v,y;return c.setAttributeNS(null,"id",n),c.setAttributeNS(null,"width","300%"),c.setAttributeNS(null,"height","300%"),c.setAttributeNS(null,"filterUnits","userSpaceOnUse"),h=this.container.ownerDocument.createElementNS(this.svgNamespace,"feOffset"),h.setAttributeNS(null,"in","SourceGraphic"),h.setAttributeNS(null,"result","offOut"),h.setAttributeNS(null,"dx",f[0]),h.setAttributeNS(null,"dy",f[1]),c.appendChild(h),d=this.container.ownerDocument.createElementNS(this.svgNamespace,"feColorMatrix"),d.setAttributeNS(null,"in","offOut"),d.setAttributeNS(null,"result","colorOut"),d.setAttributeNS(null,"type","matrix"),a==="none"||!JXG$1.isArray(a)||a.length<3?d.setAttributeNS(null,"values","0.1 0 0 0 0  0 0.1 0 0 0  0 0 0.1 0 0  0 0 0 "+o+" 0"):(a[0]/=255,a[1]/=255,a[2]/=255,y=l+" 0 0 0 "+a[0]+"  0 "+l+" 0 0 "+a[1]+"  0 0 "+l+" 0 "+a[2]+"  0 0 0 "+o+" 0",d.setAttributeNS(null,"values",y)),c.appendChild(d),p=this.container.ownerDocument.createElementNS(this.svgNamespace,"feGaussianBlur"),p.setAttributeNS(null,"in","colorOut"),p.setAttributeNS(null,"result","blurOut"),p.setAttributeNS(null,"stdDeviation",u),c.appendChild(p),v=this.container.ownerDocument.createElementNS(this.svgNamespace,"feBlend"),v.setAttributeNS(null,"in","SourceGraphic"),v.setAttributeNS(null,"in2","blurOut"),v.setAttributeNS(null,"mode","normal"),c.appendChild(v),c},this.uniqName=function(){return this.container.id+"_"+Array.prototype.slice.call(arguments).join("_")},this.toURL=function(){var n=Array.prototype.slice.call(arguments).join("");return JXG$1.exists(CSS)&&JXG$1.exists(CSS.escape)&&(n=CSS.escape(n)),"url(#"+n+")"},this.defs.appendChild(this.createShadowFilter(this.uniqName("f1"),"none",1,.1,3,[5,5])),this.layer=[],s=0;s<Options.layer.numlayers;s++)this.layer[s]=this.container.ownerDocument.createElementNS(this.svgNamespace,"g"),this.svgRoot.appendChild(this.layer[s]);try{this.foreignObjLayer=this.container.ownerDocument.createElementNS(this.svgNamespace,"foreignObject"),this.foreignObjLayer.setAttribute("display","none"),this.foreignObjLayer.setAttribute("x",0),this.foreignObjLayer.setAttribute("y",0),this.foreignObjLayer.setAttribute("width","100%"),this.foreignObjLayer.setAttribute("height","100%"),this.foreignObjLayer.setAttribute("id",this.uniqName("foreignObj")),this.svgRoot.appendChild(this.foreignObjLayer),this.supportsForeignObject=!0}catch{this.supportsForeignObject=!1}};JXG$1.SVGRenderer.prototype=new AbstractRenderer;JXG$1.extend(JXG$1.SVGRenderer.prototype,{_createArrowHead:function(t,r,s){var n,a,o=t.id+"Triangle",l,u;return JXG$1.exists(r)&&(o+=r),n=this.createPrim("marker",o),n.setAttributeNS(null,"stroke",JXG$1.evaluate(t.visProp.strokecolor)),n.setAttributeNS(null,"stroke-opacity",JXG$1.evaluate(t.visProp.strokeopacity)),n.setAttributeNS(null,"fill",JXG$1.evaluate(t.visProp.strokecolor)),n.setAttributeNS(null,"fill-opacity",JXG$1.evaluate(t.visProp.strokeopacity)),n.setAttributeNS(null,"stroke-width",0),n.setAttributeNS(null,"orient","auto"),n.setAttributeNS(null,"markerUnits","strokeWidth"),a=this.container.ownerDocument.createElementNS(this.svgNamespace,"path"),u=5,r==="End"?(l=0,s===2?a.setAttributeNS(null,"d","M 10,0 L 0,5 L 10,10 L 5,5 z"):s===3?a.setAttributeNS(null,"d","M 0,0 L 3.33,0 L 3.33,10 L 0,10 z"):s===4?(u=3.31,a.setAttributeNS(null,"d","M 0.00,3.31 C 3.53,3.84 7.13,4.50 10.00,6.63 C 9.33,5.52 8.67,4.42 8.00,3.31 C 8.67,2.21 9.33,1.10 10.00,0.00 C 7.13,2.13 3.53,2.79 0.00,3.31")):s===5?(u=3.28,a.setAttributeNS(null,"d","M 0.00,3.28 C 3.39,4.19 6.81,5.07 10.00,6.55 C 9.38,5.56 9.00,4.44 9.00,3.28 C 9.00,2.11 9.38,0.99 10.00,0.00 C 6.81,1.49 3.39,2.37 0.00,3.28")):s===6?(u=2.84,a.setAttributeNS(null,"d","M 0.00,2.84 C 3.39,3.59 6.79,4.35 10.00,5.68 C 9.67,4.73 9.33,3.78 9.00,2.84 C 9.33,1.89 9.67,0.95 10.00,0.00 C 6.79,1.33 3.39,2.09 0.00,2.84")):s===7?(u=5.2,a.setAttributeNS(null,"d","M 0.00,5.20 C 4.04,5.20 7.99,6.92 10.00,10.39 M 10.00,0.00 C 7.99,3.47 4.04,5.20 0.00,5.20")):a.setAttributeNS(null,"d","M 10,0 L 0,5 L 10,10 z"),t.elementClass===Const.OBJECT_CLASS_LINE&&(s===2?l=4.9:s===3?l=3.3:s===4||s===5||s===6?l=6.66:s===7?l=0:l=10)):(l=10,s===2?a.setAttributeNS(null,"d","M 0,0 L 10,5 L 0,10 L 5,5 z"):s===3?(l=3.3,a.setAttributeNS(null,"d","M 0,0 L 3.33,0 L 3.33,10 L 0,10 z")):s===4?(u=3.31,a.setAttributeNS(null,"d","M 10.00,3.31 C 6.47,3.84 2.87,4.50 0.00,6.63 C 0.67,5.52 1.33,4.42 2.00,3.31 C 1.33,2.21 0.67,1.10 0.00,0.00 C 2.87,2.13 6.47,2.79 10.00,3.31")):s===5?(u=3.28,a.setAttributeNS(null,"d","M 10.00,3.28 C 6.61,4.19 3.19,5.07 0.00,6.55 C 0.62,5.56 1.00,4.44 1.00,3.28 C 1.00,2.11 0.62,0.99 0.00,0.00 C 3.19,1.49 6.61,2.37 10.00,3.28")):s===6?(u=2.84,a.setAttributeNS(null,"d","M 10.00,2.84 C 6.61,3.59 3.21,4.35 0.00,5.68 C 0.33,4.73 0.67,3.78 1.00,2.84 C 0.67,1.89 0.33,0.95 0.00,0.00 C 3.21,1.33 6.61,2.09 10.00,2.84")):s===7?(u=5.2,a.setAttributeNS(null,"d","M 10.00,5.20 C 5.96,5.20 2.01,6.92 0.00,10.39 M 0.00,0.00 C 2.01,3.47 5.96,5.20 10.00,5.20")):a.setAttributeNS(null,"d","M 0,0 L 10,5 L 0,10 z"),t.elementClass===Const.OBJECT_CLASS_LINE&&(s===2?l=5.1:s===3?l=.02:s===4||s===5||s===6?l=3.33:s===7?l=10:l=.05)),s===7&&(n.setAttributeNS(null,"fill","none"),n.setAttributeNS(null,"stroke-width",1)),n.setAttributeNS(null,"refY",u),n.setAttributeNS(null,"refX",l),n.appendChild(a),n},_setArrowColor:function(t,r,s,n,a){t&&(JXG$1.isString(r)&&(a!==7?this._setAttribute(function(){t.setAttributeNS(null,"stroke",r),t.setAttributeNS(null,"fill",r),t.setAttributeNS(null,"stroke-opacity",s),t.setAttributeNS(null,"fill-opacity",s)},n.visPropOld.fillcolor):this._setAttribute(function(){t.setAttributeNS(null,"fill","none"),t.setAttributeNS(null,"stroke",r),t.setAttributeNS(null,"stroke-opacity",s)},n.visPropOld.fillcolor)),this.isIE&&n.rendNode.parentNode.insertBefore(n.rendNode,n.rendNode))},_setArrowWidth:function(t,r,s,n){var a,o;t&&(a=r,o=a*n,t.setAttributeNS(null,"viewBox","0 0 "+a*10+" "+a*10),t.setAttributeNS(null,"markerHeight",o),t.setAttributeNS(null,"markerWidth",o),t.setAttributeNS(null,"display","inherit"),this.isIE&&s.parentNode.insertBefore(s,s))},updateTicks:function(t){var r,s,n,a,o,l,u="",f=t.ticks.length,c,h,d=!0;for(r=0;r<f;r++){for(n=t.ticks[r],o=n[0],l=n[1],c=o.length,h=" M "+o[0]+" "+l[0],JXG$1.isNumber(o[0])||(d=!1),s=1;d&&s<c;++s)JXG$1.isNumber(o[s])?h+=" L "+o[s]+" "+l[s]:d=!1;d&&(u+=h)}a=t.rendNode,JXG$1.exists(a)||(a=this.createPrim("path",t.id),this.appendChildPrim(a,JXG$1.evaluate(t.visProp.layer)),t.rendNode=a),a.setAttributeNS(null,"stroke",JXG$1.evaluate(t.visProp.strokecolor)),a.setAttributeNS(null,"fill","none"),a.setAttributeNS(null,"stroke-opacity",JXG$1.evaluate(t.visProp.strokeopacity)),a.setAttributeNS(null,"stroke-width",JXG$1.evaluate(t.visProp.strokewidth)),this.updatePathPrim(a,u,t.board)},displayCopyright:function(t,r){var s=this.createPrim("text","licenseText"),n;s.setAttributeNS(null,"x","20px"),s.setAttributeNS(null,"y",2+r+"px"),s.setAttributeNS(null,"style","font-family:Arial,Helvetica,sans-serif; font-size:"+r+"px; fill:#356AA0;  opacity:0.3;"),n=this.container.ownerDocument.createTextNode(t),s.appendChild(n),this.appendChildPrim(s,0)},drawInternalText:function(t){var r=this.createPrim("text",t.id);return r.style.whiteSpace="nowrap",t.rendNodeText=this.container.ownerDocument.createTextNode(""),r.appendChild(t.rendNodeText),this.appendChildPrim(r,JXG$1.evaluate(t.visProp.layer)),r},updateInternalText:function(t){var r=t.plaintext,s,n=t.getAnchorX(),a=t.getAnchorY();t.rendNode.getAttributeNS(null,"class")!==t.visProp.cssclass&&(t.rendNode.setAttributeNS(null,"class",JXG$1.evaluate(t.visProp.cssclass)),t.needsSizeUpdate=!0),isNaN(t.coords.scrCoords[1]+t.coords.scrCoords[2])||(s=t.coords.scrCoords[1],t.visPropOld.left!==n+s&&(t.rendNode.setAttributeNS(null,"x",s+"px"),n==="left"?t.rendNode.setAttributeNS(null,"text-anchor","start"):n==="right"?t.rendNode.setAttributeNS(null,"text-anchor","end"):n==="middle"&&t.rendNode.setAttributeNS(null,"text-anchor","middle"),t.visPropOld.left=n+s),s=t.coords.scrCoords[2],t.visPropOld.top!==a+s&&(t.rendNode.setAttributeNS(null,"y",s+this.vOffsetText*.5+"px"),a==="bottom"?t.rendNode.setAttributeNS(null,"dominant-baseline","text-after-edge"):a==="top"?t.rendNode.setAttributeNS(null,"dy","1.6ex"):a==="middle"&&t.rendNode.setAttributeNS(null,"dy","0.6ex"),t.visPropOld.top=a+s)),t.htmlStr!==r&&(t.rendNodeText.data=r,t.htmlStr=r),this.transformImage(t,t.transformations)},updateInternalTextStyle:function(t,r,s,n){this.setObjectFillColor(t,r,s)},drawImage:function(t){var r=this.createPrim("image",t.id);r.setAttributeNS(null,"preserveAspectRatio","none"),this.appendChildPrim(r,JXG$1.evaluate(t.visProp.layer)),t.rendNode=r,this.updateImage(t)},transformImage:function(t,r){var s,n,a=t.rendNode,o="",l,u,f=r.length;if(f>0&&(n=this.joinTransforms(t,r),s=[n[1][1],n[2][1],n[1][2],n[2][2],n[1][0],n[2][0]].join(","),s.indexOf("NaN")===-1))if(o+=" matrix("+s+") ",t.elementClass===Const.OBJECT_CLASS_TEXT&&t.visProp.display==="html"){switch(a.style.transform=o,l=-t.coords.scrCoords[1],u=-t.coords.scrCoords[2],JXG$1.evaluate(t.visProp.anchorx)){case"right":l+=t.size[0];break;case"middle":l+=t.size[0]*.5;break}switch(JXG$1.evaluate(t.visProp.anchory)){case"bottom":u+=t.size[1];break;case"middle":u+=t.size[1]*.5;break}a.style["transform-origin"]=l+"px "+u+"px"}else a.setAttributeNS(null,"transform",o)},updateImageURL:function(t){var r=JXG$1.evaluate(t.url);return t._src!==r?(t.imgIsLoaded=!1,t.rendNode.setAttributeNS(this.xlinkNamespace,"xlink:href",r),t._src=r,!0):!1},updateImageStyle:function(t,r){var s=JXG$1.evaluate(r?t.visProp.highlightcssclass:t.visProp.cssclass);t.rendNode.setAttributeNS(null,"class",s)},drawForeignObject:function(t){t.rendNode=this.appendChildPrim(this.createPrim("foreignObject",t.id),JXG$1.evaluate(t.visProp.layer)),this.appendNodesToElement(t,"foreignObject"),this.updateForeignObject(t)},updateForeignObject:function(t){t._useUserSize?t.rendNode.style.overflow="hidden":t.rendNode.style.overflow="visible",this.updateRectPrim(t.rendNode,t.coords.scrCoords[1],t.coords.scrCoords[2]-t.size[1],t.size[0],t.size[1]),t.rendNode.innerHTML=t.content,this._updateVisual(t,{stroke:!0,dash:!0},!0)},appendChildPrim:function(t,r){return JXG$1.exists(r)?r>=Options.layer.numlayers&&(r=Options.layer.numlayers-1):r=0,this.layer[r].appendChild(t),t},createPrim:function(t,r){var s=this.container.ownerDocument.createElementNS(this.svgNamespace,t);return s.setAttributeNS(null,"id",this.uniqName(r)),s.style.position="absolute",t==="path"&&(s.setAttributeNS(null,"stroke-linecap","round"),s.setAttributeNS(null,"stroke-linejoin","round"),s.setAttributeNS(null,"fill-rule","evenodd")),s},remove:function(t){JXG$1.exists(t)&&JXG$1.exists(t.parentNode)&&t.parentNode.removeChild(t)},setLayer:function(t,r){JXG$1.exists(r)?r>=Options.layer.numlayers&&(r=Options.layer.numlayers-1):r=0,this.layer[r].appendChild(t.rendNode)},makeArrows:function(t,r){var s,n=r.evFirst,a=r.evLast;if(t.visPropOld.firstarrow===n&&t.visPropOld.lastarrow===a){this.isIE&&t.visPropCalc.visible&&(n||a)&&t.rendNode.parentNode.insertBefore(t.rendNode,t.rendNode);return}n?(s=t.rendNodeTriangleStart,JXG$1.exists(s)?this.defs.appendChild(s):(s=this._createArrowHead(t,"End",r.typeFirst),this.defs.appendChild(s),t.rendNodeTriangleStart=s,t.rendNode.setAttributeNS(null,"marker-start",this.toURL(this.container.id,"_",t.id,"TriangleEnd")))):(s=t.rendNodeTriangleStart,JXG$1.exists(s)&&this.remove(s)),a?(s=t.rendNodeTriangleEnd,JXG$1.exists(s)?this.defs.appendChild(s):(s=this._createArrowHead(t,"Start",r.typeLast),this.defs.appendChild(s),t.rendNodeTriangleEnd=s,t.rendNode.setAttributeNS(null,"marker-end",this.toURL(this.container.id,"_",t.id,"TriangleStart")))):(s=t.rendNodeTriangleEnd,JXG$1.exists(s)&&this.remove(s)),t.visPropOld.firstarrow=n,t.visPropOld.lastarrow=a},updateEllipsePrim:function(t,r,s,n,a){var o=1e6;o=2e5,r=Math.abs(r)<o?r:o*r/Math.abs(r),s=Math.abs(s)<o?s:o*s/Math.abs(s),n=Math.abs(n)<o?n:o*n/Math.abs(n),a=Math.abs(a)<o?a:o*a/Math.abs(a),t.setAttributeNS(null,"cx",r),t.setAttributeNS(null,"cy",s),t.setAttributeNS(null,"rx",Math.abs(n)),t.setAttributeNS(null,"ry",Math.abs(a))},updateLinePrim:function(t,r,s,n,a){var o=1e6;o=2e5,isNaN(r+s+n+a)||(r=Math.abs(r)<o?r:o*r/Math.abs(r),s=Math.abs(s)<o?s:o*s/Math.abs(s),n=Math.abs(n)<o?n:o*n/Math.abs(n),a=Math.abs(a)<o?a:o*a/Math.abs(a),t.setAttributeNS(null,"x1",r),t.setAttributeNS(null,"y1",s),t.setAttributeNS(null,"x2",n),t.setAttributeNS(null,"y2",a))},updatePathPrim:function(t,r){r===""&&(r="M 0 0"),t.setAttributeNS(null,"d",r)},updatePathStringPoint:function(t,r,s){var n="",a=t.coords.scrCoords,o=r*Math.sqrt(3)*.5,l=r*.5;return s==="x"?n=" M "+(a[1]-r)+" "+(a[2]-r)+" L "+(a[1]+r)+" "+(a[2]+r)+" M "+(a[1]+r)+" "+(a[2]-r)+" L "+(a[1]-r)+" "+(a[2]+r):s==="+"?n=" M "+(a[1]-r)+" "+a[2]+" L "+(a[1]+r)+" "+a[2]+" M "+a[1]+" "+(a[2]-r)+" L "+a[1]+" "+(a[2]+r):s==="|"?n=" M "+a[1]+" "+(a[2]-r)+" L "+a[1]+" "+(a[2]+r):s==="-"?n=" M "+(a[1]-r)+" "+a[2]+" L "+(a[1]+r)+" "+a[2]:s==="<>"?n=" M "+(a[1]-r)+" "+a[2]+" L "+a[1]+" "+(a[2]+r)+" L "+(a[1]+r)+" "+a[2]+" L "+a[1]+" "+(a[2]-r)+" Z ":s==="^"?n=" M "+a[1]+" "+(a[2]-r)+" L "+(a[1]-o)+" "+(a[2]+l)+" L "+(a[1]+o)+" "+(a[2]+l)+" Z ":s==="v"?n=" M "+a[1]+" "+(a[2]+r)+" L "+(a[1]-o)+" "+(a[2]-l)+" L "+(a[1]+o)+" "+(a[2]-l)+" Z ":s===">"?n=" M "+(a[1]+r)+" "+a[2]+" L "+(a[1]-l)+" "+(a[2]-o)+" L "+(a[1]-l)+" "+(a[2]+o)+" Z ":s==="<"&&(n=" M "+(a[1]-r)+" "+a[2]+" L "+(a[1]+l)+" "+(a[2]-o)+" L "+(a[1]+l)+" "+(a[2]+o)+" Z "),n},updatePathStringPrim:function(t){var r,s,n,a=" M ",o=" L ",l=" C ",u=a,f=5e3,c="";if(t.numberPoints<=0)return"";if(n=Math.min(t.points.length,t.numberPoints),t.bezierDegree===1)for(r=0;r<n;r++)s=t.points[r].scrCoords,isNaN(s[1])||isNaN(s[2])?u=a:(s[1]=Math.max(Math.min(s[1],f),-f),s[2]=Math.max(Math.min(s[2],f),-f),c+=u+s[1]+" "+s[2],u=o);else if(t.bezierDegree===3)for(r=0;r<n;)s=t.points[r].scrCoords,isNaN(s[1])||isNaN(s[2])?u=a:(c+=u+s[1]+" "+s[2],u===l&&(r+=1,s=t.points[r].scrCoords,c+=" "+s[1]+" "+s[2],r+=1,s=t.points[r].scrCoords,c+=" "+s[1]+" "+s[2]),u=l),r+=1;return c},updatePathStringBezierPrim:function(t){var r,s,n,a,o,l,u,f=" M ",c=" C ",h=f,d=5e3,p="",v=JXG$1.evaluate(t.visProp.strokewidth),y=JXG$1.evaluate(t.visProp.curvetype)!=="plot";if(t.numberPoints<=0)return"";for(y&&t.board.options.curve.RDPsmoothing&&(t.points=Numerics.RamerDouglasPeucker(t.points,.5)),u=Math.min(t.points.length,t.numberPoints),s=1;s<3;s++)for(h=f,r=0;r<u;r++)a=t.points[r].scrCoords,isNaN(a[1])||isNaN(a[2])?h=f:(a[1]=Math.max(Math.min(a[1],d),-d),a[2]=Math.max(Math.min(a[2],d),-d),h===f?p+=h+a[1]+" "+a[2]:(n=2*s,p+=[h,o+(a[1]-o)*.333+v*(n*Math.random()-s)," ",l+(a[2]-l)*.333+v*(n*Math.random()-s)," ",o+(a[1]-o)*.666+v*(n*Math.random()-s)," ",l+(a[2]-l)*.666+v*(n*Math.random()-s)," ",a[1]," ",a[2]].join("")),h=c,o=a[1],l=a[2]);return p},updatePolygonPrim:function(t,r){var s,n="",a,o=r.vertices.length;for(t.setAttributeNS(null,"stroke","none"),t.setAttributeNS(null,"fill-rule","evenodd"),r.elType==="polygonalchain"&&o++,s=0;s<o-1;s++){if(r.vertices[s].isReal)a=r.vertices[s].coords.scrCoords,n=n+a[1]+","+a[2];else{t.setAttributeNS(null,"points","");return}s<o-2&&(n+=" ")}n.indexOf("NaN")===-1&&t.setAttributeNS(null,"points",n)},updateRectPrim:function(t,r,s,n,a){t.setAttributeNS(null,"x",r),t.setAttributeNS(null,"y",s),t.setAttributeNS(null,"width",n),t.setAttributeNS(null,"height",a)},setPropertyPrim:function(t,r,s){r!=="stroked"&&t.setAttributeNS(null,r,s)},display:function(t,r){var s;t&&t.rendNode&&(t.visPropOld.visible=r,s=t.rendNode,r?(s.setAttributeNS(null,"display","inline"),s.style.visibility="inherit"):(s.setAttributeNS(null,"display","none"),s.style.visibility="hidden"))},show:function(t){JXG$1.deprecated("Board.renderer.show()","Board.renderer.display()"),this.display(t,!0)},hide:function(t){JXG$1.deprecated("Board.renderer.hide()","Board.renderer.display()"),this.display(t,!1)},setBuffering:function(t,r){t.rendNode.setAttribute("buffered-rendering",r)},setDashStyle:function(t){var r=JXG$1.evaluate(t.visProp.dash),s=JXG$1.evaluate(t.visProp.dashscale),n=s?.5*JXG$1.evaluate(t.visProp.strokewidth):1,a=t.rendNode;r>0?a.setAttributeNS(null,"stroke-dasharray",this.dashArray[r-1].map(function(o){return o*n}).join(",")):a.hasAttributeNS(null,"stroke-dasharray")&&a.removeAttributeNS(null,"stroke-dasharray")},setGradient:function(t){var r=t.rendNode,s,n,a,o=JXG$1.evaluate(t.visProp.gradient);o==="linear"||o==="radial"?(s=this.createPrim(o+"Gradient",t.id+"_gradient"),n=this.createPrim("stop",t.id+"_gradient1"),a=this.createPrim("stop",t.id+"_gradient2"),s.appendChild(n),s.appendChild(a),this.defs.appendChild(s),r.setAttributeNS(null,"style","fill:"+this.toURL(this.container.id+"_"+t.id+"_gradient")),t.gradNode1=n,t.gradNode2=a,t.gradNode=s):r.removeAttributeNS(null,"style")},updateGradientAngle:function(t,r){var s=1,n=Math.cos(r),a=Math.sin(r);Math.abs(n)>Math.abs(a)?s/=Math.abs(n):s/=Math.abs(a),n>=0?(t.setAttributeNS(null,"x1",0),t.setAttributeNS(null,"x2",n*s)):(t.setAttributeNS(null,"x1",-n*s),t.setAttributeNS(null,"x2",0)),a>=0?(t.setAttributeNS(null,"y1",0),t.setAttributeNS(null,"y2",a*s)):(t.setAttributeNS(null,"y1",-a*s),t.setAttributeNS(null,"y2",0))},updateGradientCircle:function(t,r,s,n,a,o,l){t.setAttributeNS(null,"cx",r*100+"%"),t.setAttributeNS(null,"cy",s*100+"%"),t.setAttributeNS(null,"r",n*100+"%"),t.setAttributeNS(null,"fx",a*100+"%"),t.setAttributeNS(null,"fy",o*100+"%"),t.setAttributeNS(null,"fr",l*100+"%")},updateGradient:function(t){var r,s,n=t.gradNode1,a=t.gradNode2,o=JXG$1.evaluate(t.visProp.gradient);!JXG$1.exists(n)||!JXG$1.exists(a)||(s=JXG$1.evaluate(t.visProp.fillopacity),s=s>0?s:0,r=JXG$1.evaluate(t.visProp.fillcolor),n.setAttributeNS(null,"style","stop-color:"+r+";stop-opacity:"+s),a.setAttributeNS(null,"style","stop-color:"+JXG$1.evaluate(t.visProp.gradientsecondcolor)+";stop-opacity:"+JXG$1.evaluate(t.visProp.gradientsecondopacity)),n.setAttributeNS(null,"offset",JXG$1.evaluate(t.visProp.gradientstartoffset)*100+"%"),a.setAttributeNS(null,"offset",JXG$1.evaluate(t.visProp.gradientendoffset)*100+"%"),o==="linear"?this.updateGradientAngle(t.gradNode,JXG$1.evaluate(t.visProp.gradientangle)):o==="radial"&&this.updateGradientCircle(t.gradNode,JXG$1.evaluate(t.visProp.gradientcx),JXG$1.evaluate(t.visProp.gradientcy),JXG$1.evaluate(t.visProp.gradientr),JXG$1.evaluate(t.visProp.gradientfx),JXG$1.evaluate(t.visProp.gradientfy),JXG$1.evaluate(t.visProp.gradientfr)))},setObjectTransition:function(t,r){var s,n,a=[],o,l,u=0,f=["rendNode","rendNodeTriangleStart","rendNodeTriangleEnd"];if(r===void 0&&(r=JXG$1.evaluate(t.visProp.transitionduration)),n=JXG$1.evaluate(t.visProp.transitionproperties),!(r===t.visPropOld.transitionduration&&n===t.visPropOld.transitionproperties)){for(JXG$1.exists(n)&&(u=n.length),l=0;l<u;l++)a.push(n[l]+" "+r+"ms");for(o=a.join(", "),u=f.length,l=0;l<u;++l)t[f[l]]&&(s=t[f[l]],s.style.transition=o);t.visPropOld.transitionduration=r,t.visPropOld.transitionproperties=n}},_setAttribute:function(t,r){r===""?t():window.setTimeout(t,1)},setObjectFillColor:function(t,r,s,n){var a,o,l,u,f=JXG$1.evaluate(r),c=JXG$1.evaluate(s),h=JXG$1.evaluate(t.visProp.gradient);c=c>0?c:0,!(t.visPropOld.fillcolor===f&&t.visPropOld.fillopacity===c&&h===null)&&(JXG$1.exists(f)&&f!==!1&&(f.length!==9?(o=f,u=c):(l=JXG$1.rgba2rgbo(f),o=l[0],u=c*l[1]),n===void 0?a=t.rendNode:a=n,o!=="none"&&this._setAttribute(function(){a.setAttributeNS(null,"fill",o)},t.visPropOld.fillcolor),t.type===JXG$1.OBJECT_TYPE_IMAGE?this._setAttribute(function(){a.setAttributeNS(null,"opacity",u)},t.visPropOld.fillopacity):(o==="none"?(u=0,a.setAttributeNS(null,"pointer-events","visibleStroke")):a.setAttributeNS(null,"pointer-events","visiblePainted"),this._setAttribute(function(){a.setAttributeNS(null,"fill-opacity",u)},t.visPropOld.fillopacity)),(h==="linear"||h==="radial")&&this.updateGradient(t)),t.visPropOld.fillcolor=f,t.visPropOld.fillopacity=c)},setObjectStrokeColor:function(t,r,s){var n=JXG$1.evaluate(r),a,o,l=JXG$1.evaluate(s),u,f;l=l>0?l:0,!(t.visPropOld.strokecolor===n&&t.visPropOld.strokeopacity===l)&&(JXG$1.exists(n)&&n!==!1&&(n.length!==9?(a=n,u=l):(o=JXG$1.rgba2rgbo(n),a=o[0],u=l*o[1]),f=t.rendNode,t.elementClass===Const.OBJECT_CLASS_TEXT?JXG$1.evaluate(t.visProp.display)==="html"?this._setAttribute(function(){f.style.color=a,f.style.opacity=u},t.visPropOld.strokecolor):this._setAttribute(function(){f.setAttributeNS(null,"style","fill:"+a),f.setAttributeNS(null,"style","fill-opacity:"+u)},t.visPropOld.strokecolor):this._setAttribute(function(){f.setAttributeNS(null,"stroke",a),f.setAttributeNS(null,"stroke-opacity",u)},t.visPropOld.strokecolor),(t.elementClass===Const.OBJECT_CLASS_CURVE||t.elementClass===Const.OBJECT_CLASS_LINE)&&(JXG$1.evaluate(t.visProp.firstarrow)&&this._setArrowColor(t.rendNodeTriangleStart,a,u,t,t.visPropCalc.typeFirst),JXG$1.evaluate(t.visProp.lastarrow)&&this._setArrowColor(t.rendNodeTriangleEnd,a,u,t,t.visPropCalc.typeLast))),t.visPropOld.strokecolor=n,t.visPropOld.strokeopacity=l)},setObjectStrokeWidth:function(t,r){var s,n=JXG$1.evaluate(r);isNaN(n)||t.visPropOld.strokewidth===n||(s=t.rendNode,this.setPropertyPrim(s,"stroked","true"),JXG$1.exists(n)&&this.setPropertyPrim(s,"stroke-width",n+"px"),t.visPropOld.strokewidth=n)},setLineCap:function(t){var r=JXG$1.evaluate(t.visProp.linecap);r===void 0||r===""||t.visPropOld.linecap===r||!JXG$1.exists(t.rendNode)||(this.setPropertyPrim(t.rendNode,"stroke-linecap",r),t.visPropOld.linecap=r)},setShadow:function(t){var r=JXG$1.evaluate(t.visProp.shadow),s,n,a,o,l,u,f,c,h=!0,d=!1;s=JSON.stringify(r),s!==t.visPropOld.shadow&&(typeof r=="boolean"?(h=!0,d=r,n="none",a=3,o=.1,l=[5,5],u=1):JXG$1.evaluate(r.enabled)?(h=!1,d=!0,n=JXG$1.rgbParser(JXG$1.evaluate(r.color)),a=JXG$1.evaluate(r.blur),o=JXG$1.evaluate(r.blend),l=JXG$1.evaluate(r.offset),u=JXG$1.evaluate(r.opacity)):d=!1,JXG$1.exists(t.rendNode)&&(d?h?t.rendNode.setAttributeNS(null,"filter",this.toURL(this.container.id+"_f1")):(c=this.container.ownerDocument.getElementById(f),c&&this.defs.removeChild(c),f=t.rendNode.id+"_f1",this.defs.appendChild(this.createShadowFilter(f,n,u,o,a,l)),t.rendNode.setAttributeNS(null,"filter",this.toURL(f))):t.rendNode.removeAttributeNS(null,"filter")),t.visPropOld.shadow=s)},suspendRedraw:function(){},unsuspendRedraw:function(){},resize:function(t,r){this.svgRoot.setAttribute("width",parseFloat(t)),this.svgRoot.setAttribute("height",parseFloat(r))},createTouchpoints:function(t){var r,s,n,a;for(this.touchpoints=[],r=0;r<t;r++)s="touchpoint1_"+r,a=this.createPrim("path",s),this.appendChildPrim(a,19),a.setAttributeNS(null,"d","M 0 0"),this.touchpoints.push(a),this.setPropertyPrim(a,"stroked","true"),this.setPropertyPrim(a,"stroke-width","1px"),a.setAttributeNS(null,"stroke","#000000"),a.setAttributeNS(null,"stroke-opacity",1),a.setAttributeNS(null,"display","none"),n="touchpoint2_"+r,a=this.createPrim("ellipse",n),this.appendChildPrim(a,19),this.updateEllipsePrim(a,0,0,0,0),this.touchpoints.push(a),this.setPropertyPrim(a,"stroked","true"),this.setPropertyPrim(a,"stroke-width","1px"),a.setAttributeNS(null,"stroke","#000000"),a.setAttributeNS(null,"stroke-opacity",1),a.setAttributeNS(null,"fill","#ffffff"),a.setAttributeNS(null,"fill-opacity",0),a.setAttributeNS(null,"display","none")},showTouchpoint:function(t){this.touchpoints&&t>=0&&2*t<this.touchpoints.length&&(this.touchpoints[2*t].setAttributeNS(null,"display","inline"),this.touchpoints[2*t+1].setAttributeNS(null,"display","inline"))},hideTouchpoint:function(t){this.touchpoints&&t>=0&&2*t<this.touchpoints.length&&(this.touchpoints[2*t].setAttributeNS(null,"display","none"),this.touchpoints[2*t+1].setAttributeNS(null,"display","none"))},updateTouchpoint:function(t,r){var s,n,a=37;this.touchpoints&&t>=0&&2*t<this.touchpoints.length&&(s=r[0],n=r[1],this.touchpoints[2*t].setAttributeNS(null,"d","M "+(s-a)+" "+n+" L "+(s+a)+" "+n+" M "+s+" "+(n-a)+" L "+s+" "+(n+a)),this.updateEllipsePrim(this.touchpoints[2*t+1],r[0],r[1],25,25))},_getValuesOfDOMElements:function(t){var r=[];if(t.nodeType===1)for(t=t.firstChild;t;)t.id!==void 0&&t.value!==void 0&&r.push([t.id,t.value]),r=r.concat(this._getValuesOfDOMElements(t)),t=t.nextSibling;return r},_getDataUri:function(t,r){var s=new Image;s.onload=function(){var n=document.createElement("canvas");n.width=this.naturalWidth,n.height=this.naturalHeight,n.getContext("2d").drawImage(this,0,0),r(n.toDataURL("image/png")),n.remove()},s.src=t},_getImgDataURL:function(t){var r,s,n,a,o,l;if(r=t.getElementsByTagName("image"),s=r.length,s>0)for(n=document.createElement("canvas"),l=0;l<s;l++){r[l].setAttribute("crossorigin","anonymous"),a=n.getContext("2d"),n.width=r[l].getAttribute("width"),n.height=r[l].getAttribute("height");try{a.drawImage(r[l],0,0,n.width,n.height),o=n.toDataURL(),r[l].setAttribute("xlink:href",o)}catch(u){console.log("CORS problem! Image can not be used",u)}}return!0},dumpToDataURI:function(t){var r=this.svgRoot,s=window.btoa||Base64.encode,n,a,o,l=[];if(this.container.hasChildNodes()&&JXG$1.exists(this.foreignObjLayer)&&!t)for(this.foreignObjLayer.setAttribute("display","inline");r.nextSibling;)l=l.concat(this._getValuesOfDOMElements(r.nextSibling)),this.foreignObjLayer.appendChild(r.nextSibling);if(this._getImgDataURL(r),r.setAttribute("xmlns","http://www.w3.org/2000/svg"),n=new XMLSerializer().serializeToString(r),t!==!0)for(o=l.length,a=0;a<o;a++)n=n.replace('id="'+l[a][0]+'"','id="'+l[a][0]+'" value="'+l[a][1]+'"');if((n.match(/xmlns="http:\/\/www.w3.org\/2000\/svg"/g)||[]).length>1&&(n=n.replace(/xmlns="http:\/\/www.w3.org\/2000\/svg"/g,"")),n=n.replace(/&nbsp;/g," "),n=n.replace(/url\(&quot;(.*)&quot;\)/g,"url($1)"),JXG$1.exists(this.foreignObjLayer)&&this.foreignObjLayer.hasChildNodes()){for(;this.foreignObjLayer.firstChild;)this.container.appendChild(this.foreignObjLayer.firstChild);this.foreignObjLayer.setAttribute("display","none")}return"data:image/svg+xml;base64,"+s(unescape(encodeURIComponent(n)))},dumpToCanvas:function(t,r,s,n){var a,o,l,u,f=this.container.ownerDocument;return l=f.getElementById(t),l.width=l.width,u=l.getContext("2d"),r!==void 0&&s!==void 0&&(l.style.width=parseFloat(r)+"px",l.style.height=parseFloat(s)+"px",l.setAttribute("width",parseFloat(r)),l.setAttribute("height",parseFloat(s))),o=new Image,a=this.dumpToDataURI(n),o.src=a,"Promise"in window?new Promise(function(c,h){try{o.onload=function(){u.drawImage(o,0,0,r,s),c()}}catch(d){h(d)}}):(o.onload=function(){window.setTimeout(function(){try{u.drawImage(o,0,0,r,s)}catch{console.log("screenshots not longer supported on IE")}},200)},this)},screenshot:function(t,r,s){var n,a=this.container.ownerDocument,o=this.container.parentNode,l,u,f,c,h,d,p,v=t.attr.screenshot,y,b,w,x=!1,A;return this.type==="no"?this:(d=v.scale*this.container.getBoundingClientRect().width,p=v.scale*this.container.getBoundingClientRect().height,r===void 0||r===""?(x=!0,f=new Image,f.style.width=d+"px",f.style.height=p+"px"):(x=!1,f=a.getElementById(r)),x&&(n=a.createElement("div"),n.style.cssText=v.css,n.style.width=d+"px",n.style.height=p+"px",n.style.zIndex=this.container.style.zIndex+120,n.style.position="absolute",n.style.top=this.container.offsetTop+"px",n.style.left=this.container.offsetLeft+"px"),l=a.createElement("canvas"),u=Math.random().toString(36).substr(2,5),l.setAttribute("id",u),l.setAttribute("width",d),l.setAttribute("height",p),l.style.width=d+"px",l.style.height=d+"px",l.style.display="none",o.appendChild(l),x&&(c=a.createElement("span"),h=a.createTextNode(""),c.style.cssText=v.cssButton,c.appendChild(h),c.onclick=function(){n.parentNode.removeChild(n)},n.appendChild(f),n.appendChild(c),o.insertBefore(n,this.container.nextSibling)),y=a.getElementById(this.uniqName("navigationbar")),JXG$1.exists(y)&&(b=y.style.display,y.style.display="none",w=this.removeToInsertLater(y)),A=function(){f.src=l.toDataURL("image/png"),o.removeChild(l)},"Promise"in window?this.dumpToCanvas(u,d,p,s).then(A):(this.dumpToCanvas(u,d,p,s),window.setTimeout(A,200)),JXG$1.exists(y)&&(y.style.display=b,w()),this)}});const SVGRenderer=JXG$1.SVGRenderer;JXG$1.VMLRenderer=function(t){this.type="vml",this.container=t,this.container.style.overflow="hidden",this.container.style.position===""&&(this.container.style.position="relative"),this.container.onselectstart=function(){return!1},this.resolution=10,JXG$1.exists(JXG$1.vmlStylesheet)||(t.ownerDocument.namespaces.add("jxgvml","urn:schemas-microsoft-com:vml"),JXG$1.vmlStylesheet=this.container.ownerDocument.createStyleSheet(),JXG$1.vmlStylesheet.addRule(".jxgvml","behavior:url(#default#VML)"));try{t.ownerDocument.namespaces.jxgvml||t.ownerDocument.namespaces.add("jxgvml","urn:schemas-microsoft-com:vml"),this.createNode=function(r){return t.ownerDocument.createElement("<jxgvml:"+r+' class="jxgvml">')}}catch{this.createNode=function(s){return t.ownerDocument.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="jxgvml">')}}this.dashArray=["Solid","1 1","ShortDash","Dash","LongDash","ShortDashDot","LongDashDot"]};JXG$1.VMLRenderer.prototype=new AbstractRenderer;JXG$1.extend(JXG$1.VMLRenderer.prototype,{_setAttr:function(t,r,s,n){try{this.container.ownerDocument.documentMode===8?t[r]=s:t.setAttribute(r,s,n)}catch{JXG$1.debug("_setAttr: "+r+" "+s+`<br>
`)}},updateTicks:function(t){var r,s,n,a,o,l=this.resolution,u=[];for(s=t.ticks.length,r=0;r<s;r++)n=t.ticks[r],a=n[0],o=n[1],JXG$1.isNumber(a[0])&&JXG$1.isNumber(a[1])&&u.push(" m "+Math.round(l*a[0])+", "+Math.round(l*o[0])+" l "+Math.round(l*a[1])+", "+Math.round(l*o[1])+" ");JXG$1.exists(t.rendNode)||(t.rendNode=this.createPrim("path",t.id),this.appendChildPrim(t.rendNode,JXG$1.evaluate(t.visProp.layer))),this._setAttr(t.rendNode,"stroked","true"),this._setAttr(t.rendNode,"strokecolor",JXG$1.evaluate(t.visProp.strokecolor),1),this._setAttr(t.rendNode,"strokeweight",JXG$1.evaluate(t.visProp.strokewidth)),this._setAttr(t.rendNodeStroke,"opacity",JXG$1.evaluate(t.visProp.strokeopacity)*100+"%"),this.updatePathPrim(t.rendNode,u,t.board)},displayCopyright:function(t,r){var s,n;s=this.createNode("textbox"),s.style.position="absolute",this._setAttr(s,"id",this.container.id+"_licenseText"),s.style.left=20,s.style.top=2,s.style.fontSize=r,s.style.color="#356AA0",s.style.fontFamily="Arial,Helvetica,sans-serif",this._setAttr(s,"opacity","30%"),s.style.filter="progid:DXImageTransform.Microsoft.Matrix(M11='1.0', sizingMethod='auto expand', enabled = false) progid:DXImageTransform.Microsoft.Alpha(opacity = 30, enabled = true)",n=this.container.ownerDocument.createTextNode(t),s.appendChild(n),this.appendChildPrim(s,0)},drawInternalText:function(t){var r;return r=this.createNode("textbox"),r.style.position="absolute",t.rendNodeText=this.container.ownerDocument.createTextNode(""),r.appendChild(t.rendNodeText),this.appendChildPrim(r,9),r.style.filter="progid:DXImageTransform.Microsoft.Matrix(M11='1.0', sizingMethod='auto expand', enabled = false) progid:DXImageTransform.Microsoft.Alpha(opacity = 100, enabled = false)",r},updateInternalText:function(t){var r,s=t.plaintext,n=this.joinTransforms(t,t.transformations),a=[0,0],o,l,u,f,c,h=t.rendNode,d=[],p=t.getAnchorX(),v=t.getAnchorY();if(!isNaN(t.coords.scrCoords[1]+t.coords.scrCoords[2])){for(p==="right"?a[0]=1:p==="middle"&&(a[0]=.5),v==="bottom"?a[1]=1:v==="middle"&&(a[1]=.5),d[0]=Mat.matVecMult(n,[1,t.coords.scrCoords[1]-a[0]*t.size[0],t.coords.scrCoords[2]+(1-a[1])*t.size[1]+this.vOffsetText]),d[0][1]/=d[0][0],d[0][2]/=d[0][0],d[1]=Mat.matVecMult(n,[1,t.coords.scrCoords[1]+(1-a[0])*t.size[0],t.coords.scrCoords[2]+(1-a[1])*t.size[1]+this.vOffsetText]),d[1][1]/=d[1][0],d[1][2]/=d[1][0],d[2]=Mat.matVecMult(n,[1,t.coords.scrCoords[1]+(1-a[0])*t.size[0],t.coords.scrCoords[2]-a[1]*t.size[1]+this.vOffsetText]),d[2][1]/=d[2][0],d[2][2]/=d[2][0],d[3]=Mat.matVecMult(n,[1,t.coords.scrCoords[1]-a[0]*t.size[0],t.coords.scrCoords[2]-a[1]*t.size[1]+this.vOffsetText]),d[3][1]/=d[3][0],d[3][2]/=d[3][0],o=d[0][1],u=d[0][1],l=d[0][2],f=d[0][2],c=1;c<4;c++)o=Math.max(o,d[c][1]),u=Math.min(u,d[c][1]),l=Math.max(l,d[c][2]),f=Math.min(f,d[c][2]);r=a[0]===1?Math.floor(t.board.canvasWidth-o):Math.floor(u),t.visPropOld.left!==p+r&&(a[0]===1?(t.rendNode.style.right=r+"px",t.rendNode.style.left="auto"):(t.rendNode.style.left=r+"px",t.rendNode.style.right="auto"),t.visPropOld.left=p+r),r=a[1]===1?Math.floor(t.board.canvasHeight-l):Math.floor(f),t.visPropOld.top!==v+r&&(a[1]===1?(t.rendNode.style.bottom=r+"px",t.rendNode.style.top="auto"):(t.rendNode.style.top=r+"px",t.rendNode.style.bottom="auto"),t.visPropOld.top=v+r)}t.htmlStr!==s&&(t.rendNodeText.data=s,t.htmlStr=s),h.filters.item(0).M11=n[1][1],h.filters.item(0).M12=n[1][2],h.filters.item(0).M21=n[2][1],h.filters.item(0).M22=n[2][2],h.filters.item(0).enabled=!0},drawImage:function(t){var r;r=this.container.ownerDocument.createElement("img"),r.style.position="absolute",this._setAttr(r,"id",this.container.id+"_"+t.id),this.container.appendChild(r),this.appendChildPrim(r,JXG$1.evaluate(t.visProp.layer)),r.style.filter="progid:DXImageTransform.Microsoft.Matrix(M11='1.0', sizingMethod='auto expand') progid:DXImageTransform.Microsoft.Alpha(opacity = 100, enabled = false)",t.rendNode=r,this.updateImage(t)},transformImage:function(t,r){var s,n,a,o,l,u,f=t.rendNode,c=[],h=r.length;if(h>0){for(s=this.joinTransforms(t,r),c[0]=Mat.matVecMult(s,t.coords.scrCoords),c[0][1]/=c[0][0],c[0][2]/=c[0][0],c[1]=Mat.matVecMult(s,[1,t.coords.scrCoords[1]+t.size[0],t.coords.scrCoords[2]]),c[1][1]/=c[1][0],c[1][2]/=c[1][0],c[2]=Mat.matVecMult(s,[1,t.coords.scrCoords[1]+t.size[0],t.coords.scrCoords[2]-t.size[1]]),c[2][1]/=c[2][0],c[2][2]/=c[2][0],c[3]=Mat.matVecMult(s,[1,t.coords.scrCoords[1],t.coords.scrCoords[2]-t.size[1]]),c[3][1]/=c[3][0],c[3][2]/=c[3][0],n=c[0][1],o=c[0][1],a=c[0][2],l=c[0][2],u=1;u<4;u++)n=Math.max(n,c[u][1]),o=Math.min(o,c[u][1]),a=Math.max(a,c[u][2]),l=Math.min(l,c[u][2]);f.style.left=Math.floor(o)+"px",f.style.top=Math.floor(l)+"px",f.filters.item(0).M11=s[1][1],f.filters.item(0).M12=s[1][2],f.filters.item(0).M21=s[2][1],f.filters.item(0).M22=s[2][2],f.filters.item(0).enabled=!0}},updateImageURL:function(t){var r=JXG$1.evaluate(t.url);this._setAttr(t.rendNode,"src",r)},appendChildPrim:function(t,r){return JXG$1.exists(r)||(r=0),t.style.zIndex=r,this.container.appendChild(t),t},appendNodesToElement:function(t,r){(r==="shape"||r==="path"||r==="polygon")&&(t.rendNodePath=this.getElementById(t.id+"_path")),t.rendNodeFill=this.getElementById(t.id+"_fill"),t.rendNodeStroke=this.getElementById(t.id+"_stroke"),t.rendNodeShadow=this.getElementById(t.id+"_shadow"),t.rendNode=this.getElementById(t.id)},createPrim:function(t,r){var s,n,a=this.createNode("fill"),o=this.createNode("stroke"),l=this.createNode("shadow");return this._setAttr(a,"id",this.container.id+"_"+r+"_fill"),this._setAttr(o,"id",this.container.id+"_"+r+"_stroke"),this._setAttr(l,"id",this.container.id+"_"+r+"_shadow"),t==="circle"||t==="ellipse"?(s=this.createNode("oval"),s.appendChild(a),s.appendChild(o),s.appendChild(l)):t==="polygon"||t==="path"||t==="shape"||t==="line"?(s=this.createNode("shape"),s.appendChild(a),s.appendChild(o),s.appendChild(l),n=this.createNode("path"),this._setAttr(n,"id",this.container.id+"_"+r+"_path"),s.appendChild(n)):(s=this.createNode(t),s.appendChild(a),s.appendChild(o),s.appendChild(l)),s.style.position="absolute",s.style.left="0px",s.style.top="0px",this._setAttr(s,"id",this.container.id+"_"+r),s},remove:function(t){JXG$1.exists(t)&&t.removeNode(!0)},makeArrows:function(t){var r,s=JXG$1.evaluate(t.visProp.firstarrow),n=JXG$1.evaluate(t.visProp.lastarrow);t.visPropOld.firstarrow===s&&t.visPropOld.lastarrow===n||(s?(r=t.rendNodeStroke,this._setAttr(r,"startarrow","block"),this._setAttr(r,"startarrowlength","long")):(r=t.rendNodeStroke,JXG$1.exists(r)&&this._setAttr(r,"startarrow","none")),n?(r=t.rendNodeStroke,this._setAttr(r,"id",this.container.id+"_"+t.id+"stroke"),this._setAttr(r,"endarrow","block"),this._setAttr(r,"endarrowlength","long")):(r=t.rendNodeStroke,JXG$1.exists(r)&&this._setAttr(r,"endarrow","none")),t.visPropOld.firstarrow=s,t.visPropOld.lastarrow=n)},updateEllipsePrim:function(t,r,s,n,a){t.style.left=Math.floor(r-n)+"px",t.style.top=Math.floor(s-a)+"px",t.style.width=Math.floor(Math.abs(n)*2)+"px",t.style.height=Math.floor(Math.abs(a)*2)+"px"},updateLinePrim:function(t,r,s,n,a,o){var l,u=this.resolution;isNaN(r+s+n+a)||(l=["m ",Math.floor(u*r),", ",Math.floor(u*s)," l ",Math.floor(u*n),", ",Math.floor(u*a)],this.updatePathPrim(t,l,o))},updatePathPrim:function(t,r,s){var n=s.canvasWidth,a=s.canvasHeight;r.length<=0&&(r=["m 0,0"]),t.style.width=n,t.style.height=a,this._setAttr(t,"coordsize",[Math.floor(this.resolution*n),Math.floor(this.resolution*a)].join(",")),this._setAttr(t,"path",r.join(""))},updatePathStringPoint:function(t,r,s){var n=[],a=Math.round,o=t.coords.scrCoords,l=r*Math.sqrt(3)*.5,u=r*.5,f=this.resolution;return s==="x"?n.push([" m ",a(f*(o[1]-r)),", ",a(f*(o[2]-r))," l ",a(f*(o[1]+r)),", ",a(f*(o[2]+r))," m ",a(f*(o[1]+r)),", ",a(f*(o[2]-r))," l ",a(f*(o[1]-r)),", ",a(f*(o[2]+r))].join("")):s==="+"?n.push([" m ",a(f*(o[1]-r)),", ",a(f*o[2])," l ",a(f*(o[1]+r)),", ",a(f*o[2])," m ",a(f*o[1]),", ",a(f*(o[2]-r))," l ",a(f*o[1]),", ",a(f*(o[2]+r))].join("")):s==="<>"?n.push([" m ",a(f*(o[1]-r)),", ",a(f*o[2])," l ",a(f*o[1]),", ",a(f*(o[2]+r))," l ",a(f*(o[1]+r)),", ",a(f*o[2])," l ",a(f*o[1]),", ",a(f*(o[2]-r))," x e "].join("")):s==="^"?n.push([" m ",a(f*o[1]),", ",a(f*(o[2]-r))," l ",a(f*(o[1]-l)),", ",a(f*(o[2]+u))," l ",a(f*(o[1]+l)),", ",a(f*(o[2]+u))," x e "].join("")):s==="v"?n.push([" m ",a(f*o[1]),", ",a(f*(o[2]+r))," l ",a(f*(o[1]-l)),", ",a(f*(o[2]-u))," l ",a(f*(o[1]+l)),", ",a(f*(o[2]-u))," x e "].join("")):s===">"?n.push([" m ",a(f*(o[1]+r)),", ",a(f*o[2])," l ",a(f*(o[1]-u)),", ",a(f*(o[2]-l))," l ",a(f*(o[1]-u)),", ",a(f*(o[2]+l))," l ",a(f*(o[1]+r)),", ",a(f*o[2])].join("")):s==="<"&&n.push([" m ",a(f*(o[1]-r)),", ",a(f*o[2])," l ",a(f*(o[1]+u)),", ",a(f*(o[2]-l))," l ",a(f*(o[1]+u)),", ",a(f*(o[2]+l))," x e "].join("")),n},updatePathStringPrim:function(t){var r,s,n=[],a=this.resolution,o=Math.round,l=" m ",u=" l ",f=" c ",c=l,h=Math.min(t.numberPoints,8192);if(t.numberPoints<=0)return"";if(h=Math.min(h,t.points.length),t.bezierDegree===1)for(r=0;r<h;r++)s=t.points[r].scrCoords,isNaN(s[1])||isNaN(s[2])?c=l:(s[1]>2e4?s[1]=2e4:s[1]<-2e4&&(s[1]=-2e4),s[2]>2e4?s[2]=2e4:s[2]<-2e4&&(s[2]=-2e4),n.push([c,o(a*s[1]),", ",o(a*s[2])].join("")),c=u);else if(t.bezierDegree===3)for(r=0;r<h;)s=t.points[r].scrCoords,isNaN(s[1])||isNaN(s[2])?c=l:(n.push([c,o(a*s[1]),", ",o(a*s[2])].join("")),c===f&&(r+=1,s=t.points[r].scrCoords,n.push([" ",o(a*s[1]),", ",o(a*s[2])].join("")),r+=1,s=t.points[r].scrCoords,n.push([" ",o(a*s[1]),", ",o(a*s[2])].join(""))),c=f),r+=1;return n.push(" e"),n},updatePathStringBezierPrim:function(t){var r,s,n,a,o,l,u=[],f=JXG$1.evaluate(t.visProp.strokewidth),c=this.resolution,h=Math.round,d=" m ",p=" c ",v=d,y=JXG$1.evaluate(t.visProp.curvetype)!=="plot",b=Math.min(t.numberPoints,8192);if(t.numberPoints<=0)return"";for(y&&t.board.options.curve.RDPsmoothing&&(t.points=Numerics.RamerDouglasPeucker(t.points,1)),b=Math.min(b,t.points.length),s=1;s<3;s++)for(v=d,r=0;r<b;r++)a=t.points[r].scrCoords,isNaN(a[1])||isNaN(a[2])?v=d:(a[1]>2e4?a[1]=2e4:a[1]<-2e4&&(a[1]=-2e4),a[2]>2e4?a[2]=2e4:a[2]<-2e4&&(a[2]=-2e4),v===d?u.push([v,h(c*a[1])," ",h(c*a[2])].join("")):(n=2*s,u.push([v,h(c*(o+(a[1]-o)*.333+f*(n*Math.random()-s)))," ",h(c*(l+(a[2]-l)*.333+f*(n*Math.random()-s)))," ",h(c*(o+(a[1]-o)*.666+f*(n*Math.random()-s)))," ",h(c*(l+(a[2]-l)*.666+f*(n*Math.random()-s)))," ",h(c*a[1])," ",h(c*a[2])].join(""))),v=p,o=a[1],l=a[2]);return u.push(" e"),u},updatePolygonPrim:function(t,r){var s,n=r.vertices.length,a=this.resolution,o,l=[];if(this._setAttr(t,"stroked","false"),o=r.vertices[0].coords.scrCoords,!isNaN(o[1]+o[2])){for(l.push(["m ",Math.floor(a*o[1]),",",Math.floor(a*o[2])," l "].join("")),s=1;s<n-1;s++){if(r.vertices[s].isReal){if(o=r.vertices[s].coords.scrCoords,isNaN(o[1]+o[2]))return;l.push(Math.floor(a*o[1])+","+Math.floor(a*o[2]))}else{this.updatePathPrim(t,"",r.board);return}s<n-2&&l.push(", ")}l.push(" x e"),this.updatePathPrim(t,l,r.board)}},updateRectPrim:function(t,r,s,n,a){t.style.left=Math.floor(r)+"px",t.style.top=Math.floor(s)+"px",n>=0&&(t.style.width=n+"px"),a>=0&&(t.style.height=a+"px")},setPropertyPrim:function(t,r,s){var n="",a;switch(r){case"stroke":n="strokecolor";break;case"stroke-width":n="strokeweight";break;case"stroke-dasharray":n="dashstyle";break}n!==""&&(a=JXG$1.evaluate(s),this._setAttr(t,n,a))},display:function(t,r){t&&t.rendNode&&(t.visPropOld.visible=r,r?t.rendNode.style.visibility="inherit":t.rendNode.style.visibility="hidden")},show:function(t){JXG$1.deprecated("Board.renderer.show()","Board.renderer.display()"),t&&t.rendNode&&(t.rendNode.style.visibility="inherit")},hide:function(t){JXG$1.deprecated("Board.renderer.hide()","Board.renderer.display()"),t&&t.rendNode&&(t.rendNode.style.visibility="hidden")},setDashStyle:function(t,r){var s;r.dash>=0&&(s=t.rendNodeStroke,this._setAttr(s,"dashstyle",this.dashArray[r.dash]))},setGradient:function(t){var r=t.rendNodeFill,s=JXG$1.evaluate(t.visProp.gradient);s==="linear"?(this._setAttr(r,"type","gradient"),this._setAttr(r,"color2",JXG$1.evaluate(t.visProp.gradientsecondcolor)),this._setAttr(r,"opacity2",JXG$1.evaluate(t.visProp.gradientsecondopacity)),this._setAttr(r,"angle",JXG$1.evaluate(t.visProp.gradientangle))):s==="radial"?(this._setAttr(r,"type","gradientradial"),this._setAttr(r,"color2",JXG$1.evaluate(t.visProp.gradientsecondcolor)),this._setAttr(r,"opacity2",JXG$1.evaluate(t.visProp.gradientsecondopacity)),this._setAttr(r,"focusposition",JXG$1.evaluate(t.visProp.gradientpositionx)*100+"%,"+JXG$1.evaluate(t.visProp.gradientpositiony)*100+"%"),this._setAttr(r,"focussize","0,0")):this._setAttr(r,"type","solid")},setObjectFillColor:function(t,r,s){var n=JXG$1.evaluate(r),a,o,l=JXG$1.evaluate(s),u,f=t.rendNode;l=l>0?l:0,!(t.visPropOld.fillcolor===n&&t.visPropOld.fillopacity===l)&&(JXG$1.exists(n)&&n!==!1&&(n.length!==9?(a=n,u=l):(o=JXG$1.rgba2rgbo(n),a=o[0],u=l*o[1]),a==="none"||a===!1?this._setAttr(t.rendNode,"filled","false"):(this._setAttr(t.rendNode,"filled","true"),this._setAttr(t.rendNode,"fillcolor",a),JXG$1.exists(u)&&t.rendNodeFill&&this._setAttr(t.rendNodeFill,"opacity",u*100+"%")),t.type===Const.OBJECT_TYPE_IMAGE&&f.filters.length>1&&(f.filters.item(1).opacity=Math.round(u*100),f.filters.item(1).enabled=!0)),t.visPropOld.fillcolor=n,t.visPropOld.fillopacity=l)},setObjectStrokeColor:function(t,r,s){var n=JXG$1.evaluate(r),a,o,l=JXG$1.evaluate(s),u,f=t.rendNode,c;l=l>0?l:0,!(t.visPropOld.strokecolor===n&&t.visPropOld.strokeopacity===l)&&(JXG$1.exists(n)&&n!==!1&&(n.length!==9?(a=n,u=l):(o=r.rgba2rgbo(n),a=o[0],u=l*o[1]),t.elementClass===Const.OBJECT_CLASS_TEXT?(f.filters.length>1&&(f.filters.item(1).opacity=Math.round(u*100),f.filters.item(1).enabled=!0),f.style.color=a):(a!==!1&&(this._setAttr(f,"stroked","true"),this._setAttr(f,"strokecolor",a)),c=t.rendNodeStroke,JXG$1.exists(u)&&t.type!==Const.OBJECT_TYPE_IMAGE&&this._setAttr(c,"opacity",u*100+"%"))),t.visPropOld.strokecolor=n,t.visPropOld.strokeopacity=l)},setObjectStrokeWidth:function(t,r){var s=JXG$1.evaluate(r),n;isNaN(s)||t.visPropOld.strokewidth===s||(n=t.rendNode,this.setPropertyPrim(n,"stroked","true"),JXG$1.exists(s)&&(this.setPropertyPrim(n,"stroke-width",s),s===0&&JXG$1.exists(t.rendNodeStroke)&&this._setAttr(n,"stroked","false")),t.visPropOld.strokewidth=s)},setShadow:function(t){var r=t.rendNodeShadow,s=JXG$1.evaluate(t.visProp.shadow);!r||t.visPropOld.shadow===s||(s?(this._setAttr(r,"On","True"),this._setAttr(r,"Offset","3pt,3pt"),this._setAttr(r,"Opacity","60%"),this._setAttr(r,"Color","#aaaaaa")):this._setAttr(r,"On","False"),t.visPropOld.shadow=s)},suspendRedraw:function(){this.container.style.display="none"},unsuspendRedraw:function(){this.container.style.display=""}});const VMLRenderer=JXG$1.VMLRenderer;var uuidCharsStr="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",uuidChars=uuidCharsStr.split("");JXG$1.Util=JXG$1.Util||{};JXG$1.Util.genUUID=function(t){var r,s,n=[],a=0;for(t=t||"",t!==""&&t.substr(t.length-1)!=="-"&&(t=t+"-"),s=0;s<36;s++)s===8||s===13||s===18||s===23?n[s]="-":s===14?n[s]="4":(a<=2&&(a=33554432+Math.random()*16777216|0),r=a&15,a=a>>4,n[s]=uuidChars[s===19?r&3|8:r]);return t+n.join("")};const UUID=JXG$1.Util;JXG$1.CanvasRenderer=function(t,r){if(this.type="canvas",this.canvasRoot=null,this.suspendHandle=null,this.canvasId=UUID.genUUID(),this.canvasNamespace=null,JXG$1.isBrowser)this.container=t,this.container.style.MozUserSelect="none",this.container.style.userSelect="none",this.container.style.overflow="hidden",this.container.style.position===""&&(this.container.style.position="relative"),this.container.innerHTML=['<canvas id="',this.canvasId,'" width="',r.width,'px" height="',r.height,'px"></canvas>'].join(""),this.canvasRoot=this.container.ownerDocument.getElementById(this.canvasId),this.canvasRoot.style.display="block",this.context=this.canvasRoot.getContext("2d");else if(JXG$1.isNode())try{this.canvasRoot=JXG$1.createCanvas(500,500),this.context=this.canvasRoot.getContext("2d")}catch{throw new Error(`JXG.createCanvas not available.
Install the npm package \`canvas\`
and call:
    import { createCanvas } from "canvas";
    JXG.createCanvas = createCanvas;
`)}};JXG$1.CanvasRenderer.prototype=new AbstractRenderer;JXG$1.extend(JXG$1.CanvasRenderer.prototype,{_drawPolygon:function(t,r,s){var n,a=t.length,o=this.context;if(a>0){if(s&&(o.lineWidth=0),o.beginPath(),o.moveTo(t[0][0],t[0][1]),r===1)for(n=1;n<a;n++)o.lineTo(t[n][0],t[n][1]);else for(n=1;n<a;n+=3)o.bezierCurveTo(t[n][0],t[n][1],t[n+1][0],t[n+1][1],t[n+2][0],t[n+2][1]);s?(o.lineTo(t[0][0],t[0][1]),o.closePath(),o.fill("evenodd")):o.stroke()}},_fill:function(t){var r=this.context;r.save(),this._setColor(t,"fill")&&r.fill("evenodd"),r.restore()},_rotatePoint:function(t,r,s){return[r*Math.cos(t)-s*Math.sin(t),r*Math.sin(t)+s*Math.cos(t)]},_rotateShape:function(t,r){var s,n=[],a=t.length;if(a<=0)return t;for(s=0;s<a;s++)n.push(this._rotatePoint(r,t[s][0],t[s][1]));return n},updateGradientAngle:function(t,r){var s=1,n=Math.cos(-r),a=Math.sin(-r),o=t.getBoundingBox(),l,u,f,c,h,d,p,v,y,b,w,x;return Math.abs(n)>Math.abs(a)?s/=Math.abs(n):s/=Math.abs(a),n>=0?(f=0,c=n*s):(f=-n*s,c=0),a>=0?(h=0,d=a*s):(h=-a*s,d=0),l=new Coords(Const.COORDS_BY_USER,[o[0],o[1]],t.board),u=new Coords(Const.COORDS_BY_USER,[o[2],o[3]],t.board),w=u.scrCoords[1]-l.scrCoords[1],x=u.scrCoords[2]-l.scrCoords[2],p=l.scrCoords[1]+w*f,y=l.scrCoords[2]+x*h,v=l.scrCoords[1]+w*c,b=l.scrCoords[2]+x*d,this.context.createLinearGradient(p,y,v,b)},updateGradientCircle:function(t,r,s,n,a,o,l){var u=t.getBoundingBox(),f,c,h,d,p,v,y,b,w,x;return f=new Coords(Const.COORDS_BY_USER,[u[0],u[1]],t.board),c=new Coords(Const.COORDS_BY_USER,[u[2],u[3]],t.board),w=c.scrCoords[1]-f.scrCoords[1],x=f.scrCoords[2]-c.scrCoords[2],h=f.scrCoords[1]+w*r,d=c.scrCoords[2]+x*s,v=f.scrCoords[1]+w*a,y=c.scrCoords[2]+x*o,p=n*(w+x)*.5,b=l*(w+x)*.5,this.context.createRadialGradient(v,y,b,h,d,p)},updateGradient:function(t){var r,s=JXG$1.evaluate(t.visProp.gradient),n;return JXG$1.evaluate(t.visProp.fillopacity),r=JXG$1.evaluate(t.visProp.fillcolor),s==="linear"?n=this.updateGradientAngle(t,JXG$1.evaluate(t.visProp.gradientangle)):s==="radial"&&(n=this.updateGradientCircle(t,JXG$1.evaluate(t.visProp.gradientcx),JXG$1.evaluate(t.visProp.gradientcy),JXG$1.evaluate(t.visProp.gradientr),JXG$1.evaluate(t.visProp.gradientfx),JXG$1.evaluate(t.visProp.gradientfy),JXG$1.evaluate(t.visProp.gradientfr))),n.addColorStop(JXG$1.evaluate(t.visProp.gradientstartoffset),r),n.addColorStop(JXG$1.evaluate(t.visProp.gradientendoffset),JXG$1.evaluate(t.visProp.gradientsecondcolor)),n},_setColor:function(t,r,s){var n=!0,a=t.visProp,o,l,u,f,c,h,d,p;return r=r||"stroke",s=s||r,o=this._getHighlighted(t),p=JXG$1.evaluate(t.visProp.gradient),p==="linear"||p==="radial"?(this.context[s+"Style"]=this.updateGradient(t),n):(u=JXG$1.evaluate(a[o+r+"color"]),u!=="none"&&u!==!1?(h=JXG$1.evaluate(a[o+r+"opacity"]),h=h>0?h:0,u.length!==9?(c=u,d=h):(f=JXG$1.rgba2rgbo(u),c=f[0],d=h*f[1]),this.context.globalAlpha=d,this.context[s+"Style"]=c):n=!1,l=parseFloat(JXG$1.evaluate(a[o+"strokewidth"])),r==="stroke"&&!isNaN(l)&&(l===0?this.context.globalAlpha=0:this.context.lineWidth=l),r==="stroke"&&a.linecap!==void 0&&a.linecap!==""&&(this.context.lineCap=a.linecap),n)},_stroke:function(t){var r=this.context,s=JXG$1.evaluate(t.visProp.dash),n=JXG$1.evaluate(t.visProp.dashscale),a=n?.5*JXG$1.evaluate(t.visProp.strokewidth):1;r.save(),s>0?r.setLineDash&&r.setLineDash(this.dashArray[s-1].map(function(o){return o*a})):this.context.lineDashArray=[],this._setColor(t,"stroke")&&r.stroke(),r.restore()},_translateShape:function(t,r,s){var n,a=[],o=t.length;if(o<=0)return t;for(n=0;n<o;n++)a.push([t[n][0]+r,t[n][1]+s]);return a},drawPoint:function(t){var r=JXG$1.evaluate(t.visProp.face),s=JXG$1.evaluate(t.visProp.size),n=t.coords.scrCoords,a=s*Math.sqrt(3)*.5,o=s*.5,l=parseFloat(JXG$1.evaluate(t.visProp.strokewidth))/2,u=this.context;if(t.visPropCalc.visible)switch(r){case"cross":case"x":u.beginPath(),u.moveTo(n[1]-s,n[2]-s),u.lineTo(n[1]+s,n[2]+s),u.moveTo(n[1]+s,n[2]-s),u.lineTo(n[1]-s,n[2]+s),u.lineCap="round",u.lineJoin="round",u.closePath(),this._stroke(t);break;case"circle":case"o":u.beginPath(),u.arc(n[1],n[2],s+1+l,0,2*Math.PI,!1),u.closePath(),this._fill(t),this._stroke(t);break;case"square":case"[]":if(s<=0)break;u.save(),this._setColor(t,"stroke","fill")&&u.fillRect(n[1]-s-l,n[2]-s-l,s*2+3*l,s*2+3*l),u.restore(),u.save(),this._setColor(t,"fill"),u.fillRect(n[1]-s+l,n[2]-s+l,s*2-l,s*2-l),u.restore();break;case"plus":case"+":u.beginPath(),u.moveTo(n[1]-s,n[2]),u.lineTo(n[1]+s,n[2]),u.moveTo(n[1],n[2]-s),u.lineTo(n[1],n[2]+s),u.lineCap="round",u.lineJoin="round",u.closePath(),this._stroke(t);break;case"divide":case"|":u.beginPath(),u.moveTo(n[1],n[2]-s),u.lineTo(n[1],n[2]+s),u.lineCap="round",u.lineJoin="round",u.closePath(),this._stroke(t);break;case"minus":case"-":u.beginPath(),u.moveTo(n[1]-s,n[2]),u.lineTo(n[1]+s,n[2]),u.lineCap="round",u.lineJoin="round",u.closePath(),this._stroke(t);break;case"diamond":case"<>":u.beginPath(),u.moveTo(n[1]-s,n[2]),u.lineTo(n[1],n[2]+s),u.lineTo(n[1]+s,n[2]),u.lineTo(n[1],n[2]-s),u.closePath(),this._fill(t),this._stroke(t);break;case"triangleup":case"A":case"a":case"^":u.beginPath(),u.moveTo(n[1],n[2]-s),u.lineTo(n[1]-a,n[2]+o),u.lineTo(n[1]+a,n[2]+o),u.closePath(),this._fill(t),this._stroke(t);break;case"triangledown":case"v":u.beginPath(),u.moveTo(n[1],n[2]+s),u.lineTo(n[1]-a,n[2]-o),u.lineTo(n[1]+a,n[2]-o),u.closePath(),this._fill(t),this._stroke(t);break;case"triangleleft":case"<":u.beginPath(),u.moveTo(n[1]-s,n[2]),u.lineTo(n[1]+o,n[2]-a),u.lineTo(n[1]+o,n[2]+a),u.closePath(),this._fill(t),this._stroke(t);break;case"triangleright":case">":u.beginPath(),u.moveTo(n[1]+s,n[2]),u.lineTo(n[1]-o,n[2]-a),u.lineTo(n[1]-o,n[2]+a),u.closePath(),this._fill(t),this._stroke(t);break}},updatePoint:function(t){this.drawPoint(t)},drawArrows:function(t,r,s,n,a){var o,l,u,f,c,h,d,p,v=this.context,y=6,b=1,w,x,A=1,S=1,_,$,M,T,O,B,J,F,z,Z,se=a.evFirst,ie=a.evLast;if(JXG$1.evaluate(t.visProp.strokecolor)!=="none"&&(se||ie)){if(t.elementClass===Const.OBJECT_CLASS_LINE)o=r.scrCoords[1],l=r.scrCoords[2],u=s.scrCoords[1],f=s.scrCoords[2],z=Z=Math.atan2(f-l,u-o);else{if(o=t.points[0].scrCoords[1],l=t.points[0].scrCoords[2],F=t.points.length-1,F<1)return;u=t.points[t.points.length-1].scrCoords[1],f=t.points[t.points.length-1].scrCoords[2],T=t.points[1].scrCoords[1]-t.points[0].scrCoords[1],O=t.points[1].scrCoords[2]-t.points[0].scrCoords[2],B=t.points[F].scrCoords[1]-t.points[F-1].scrCoords[1],J=t.points[F].scrCoords[2]-t.points[F-1].scrCoords[2],se&&(z=Math.atan2(O,T)),ie&&(Z=Math.atan2(J,B))}if(c=JXG$1.evaluate(t.visProp[n+"strokewidth"]),se)if(y=a.sizeFirst,h=c*y,b=a.typeFirst,w=b,b===2)p=[[h,-h*.5],[0,0],[h,h*.5],[h*.5,0]];else if(b===3)p=[[h/3,-h*.5],[0,-h*.5],[0,h*.5],[h/3,h*.5]];else if(b===4)for(h/=10,A=3,p=[[10,3.31],[6.47,3.84],[2.87,4.5],[0,6.63],[.67,5.52],[1.33,4.42],[2,3.31],[1.33,2.21],[.67,1.1],[0,0],[2.87,2.13],[6.47,2.79],[10,3.31]],M=p.length,$=0;$<M;$++)p[$][0]*=-h,p[$][1]*=h,p[$][0]+=10*h,p[$][1]-=3.31*h;else if(b===5)for(h/=10,A=3,p=[[10,3.28],[6.61,4.19],[3.19,5.07],[0,6.55],[.62,5.56],[1,4.44],[1,3.28],[1,2.11],[.62,.99],[0,0],[3.19,1.49],[6.61,2.37],[10,3.28]],M=p.length,$=0;$<M;$++)p[$][0]*=-h,p[$][1]*=h,p[$][0]+=10*h,p[$][1]-=3.28*h;else if(b===6)for(h/=10,A=3,p=[[10,2.84],[6.61,3.59],[3.21,4.35],[0,5.68],[.33,4.73],[.67,3.78],[1,2.84],[.67,1.89],[.33,.95],[0,0],[3.21,1.33],[6.61,2.09],[10,2.84]],M=p.length,$=0;$<M;$++)p[$][0]*=-h,p[$][1]*=h,p[$][0]+=10*h,p[$][1]-=2.84*h;else if(b===7)for(h=c,A=3,p=[[0,10.39],[2.01,6.92],[5.96,5.2],[10,5.2],[5.96,5.2],[2.01,3.47],[0,0]],M=p.length,$=0;$<M;$++)p[$][0]*=-h,p[$][1]*=h,p[$][0]+=10*h,p[$][1]-=5.2*h;else p=[[h,-h*.5],[0,0],[h,h*.5]];if(ie)if(y=a.sizeLast,h=c*y,b=a.typeLast,x=b,b===2)d=[[-h,-h*.5],[0,0],[-h,h*.5],[-h*.5,0]];else if(b===3)d=[[-h/3,-h*.5],[0,-h*.5],[0,h*.5],[-h/3,h*.5]];else if(b===4)for(h/=10,S=3,d=[[10,3.31],[6.47,3.84],[2.87,4.5],[0,6.63],[.67,5.52],[1.33,4.42],[2,3.31],[1.33,2.21],[.67,1.1],[0,0],[2.87,2.13],[6.47,2.79],[10,3.31]],M=d.length,$=0;$<M;$++)d[$][0]*=h,d[$][1]*=h,d[$][0]-=10*h,d[$][1]-=3.31*h;else if(b===5)for(h/=10,S=3,d=[[10,3.28],[6.61,4.19],[3.19,5.07],[0,6.55],[.62,5.56],[1,4.44],[1,3.28],[1,2.11],[.62,.99],[0,0],[3.19,1.49],[6.61,2.37],[10,3.28]],M=d.length,$=0;$<M;$++)d[$][0]*=h,d[$][1]*=h,d[$][0]-=10*h,d[$][1]-=3.28*h;else if(b===6)for(h/=10,S=3,d=[[10,2.84],[6.61,3.59],[3.21,4.35],[0,5.68],[.33,4.73],[.67,3.78],[1,2.84],[.67,1.89],[.33,.95],[0,0],[3.21,1.33],[6.61,2.09],[10,2.84]],M=d.length,$=0;$<M;$++)d[$][0]*=h,d[$][1]*=h,d[$][0]-=10*h,d[$][1]-=2.84*h;else if(b===7)for(h=c,S=3,d=[[0,10.39],[2.01,6.92],[5.96,5.2],[10,5.2],[5.96,5.2],[2.01,3.47],[0,0]],M=d.length,$=0;$<M;$++)d[$][0]*=h,d[$][1]*=h,d[$][0]-=10*h,d[$][1]-=5.2*h;else d=[[-h,-h*.5],[0,0],[-h,h*.5]];v.save(),this._setColor(t,"stroke","fill")&&(this._setColor(t,"stroke"),se&&(w===7?_=!1:_=!0,this._drawPolygon(this._translateShape(this._rotateShape(p,z),o,l),A,_)),ie&&(x===7?_=!1:_=!0,this._drawPolygon(this._translateShape(this._rotateShape(d,Z),u,f),S,_))),v.restore()}},drawLine:function(t){var r,s,n=new Coords(Const.COORDS_BY_USER,t.point1.coords.usrCoords,t.board),a=new Coords(Const.COORDS_BY_USER,t.point2.coords.usrCoords,t.board),o=null,l,u,f;t.visPropCalc.visible&&(l=this._getHighlighted(t),u=JXG$1.evaluate(t.visProp[l+"strokewidth"]),f=this.getArrowHeadData(t,u,l),(f.evFirst||f.evLast)&&(o=-4),Geometry.calcStraight(t,n,a,o),this.handleTouchpoints(t,n,a,f),r=new Coords(Const.COORDS_BY_USER,n.usrCoords,t.board),s=new Coords(Const.COORDS_BY_USER,a.usrCoords,t.board),this.getPositionArrowHead(t,n,a,f),this.context.beginPath(),this.context.moveTo(n.scrCoords[1],n.scrCoords[2]),this.context.lineTo(a.scrCoords[1],a.scrCoords[2]),this._stroke(t),(f.evFirst||f.evLast)&&this.drawArrows(t,r,s,l,f))},updateLine:function(t){this.drawLine(t)},drawTicks:function(){},updateTicks:function(t){var r,s,n,a,o=t.ticks.length,l,u,f=this.context;for(f.beginPath(),r=0;r<o;r++)for(s=t.ticks[r],n=s[0],a=s[1],l=n.length,f.moveTo(n[0],a[0]),u=1;u<l;++u)f.lineTo(n[u],a[u]);f.lineCap="round",this._stroke(t)},drawCurve:function(t){var r,s,n;JXG$1.evaluate(t.visProp.handdrawing)?this.updatePathStringBezierPrim(t):this.updatePathStringPrim(t),t.numberPoints>1&&(r=this._getHighlighted(t),s=JXG$1.evaluate(t.visProp[r+"strokewidth"]),n=this.getArrowHeadData(t,s,r),(n.evFirst||n.evLast)&&this.drawArrows(t,null,null,r,n))},updateCurve:function(t){this.drawCurve(t)},drawEllipse:function(t){var r=t.center.coords.scrCoords[1],s=t.center.coords.scrCoords[2],n=t.board.unitX,a=t.board.unitY,o=2*t.Radius(),l=2*t.Radius(),u=o*n,f=l*a,c=r-u/2,h=s-f/2,d=u/2*.5522848,p=f/2*.5522848,v=c+u,y=h+f,b=c+u/2,w=h+f/2,x=this.context;o>0&&l>0&&!isNaN(r+s)&&(x.beginPath(),x.moveTo(c,w),x.bezierCurveTo(c,w-p,b-d,h,b,h),x.bezierCurveTo(b+d,h,v,w-p,v,w),x.bezierCurveTo(v,w+p,b+d,y,b,y),x.bezierCurveTo(b-d,y,c,w+p,c,w),x.closePath(),this._fill(t),this._stroke(t))},updateEllipse:function(t){return this.drawEllipse(t)},displayCopyright:function(t,r){var s=this.context;s.save(),s.font=r+"px Arial",s.fillStyle="#aaa",s.lineWidth=.5,s.fillText(t,10,2+r),s.restore()},drawInternalText:function(t){var r=JXG$1.evaluate(t.visProp.fontsize),s=JXG$1.evaluate(t.visProp.fontunit),n=t.getAnchorX(),a=t.getAnchorY(),o=this.context;return o.save(),this._setColor(t,"stroke","fill")&&!isNaN(t.coords.scrCoords[1]+t.coords.scrCoords[2])&&(o.font=(r>0?r:0)+s+" Arial",this.transformImage(t,t.transformations),n==="left"?o.textAlign="left":n==="right"?o.textAlign="right":n==="middle"&&(o.textAlign="center"),a==="bottom"?o.textBaseline="bottom":a==="top"?o.textBaseline="top":a==="middle"&&(o.textBaseline="middle"),o.fillText(t.plaintext,t.coords.scrCoords[1],t.coords.scrCoords[2])),o.restore(),null},updateInternalText:function(t){this.drawInternalText(t)},setObjectStrokeColor:function(t,r,s){var n=JXG$1.evaluate(r),a,o,l=JXG$1.evaluate(s),u,f;l=l>0?l:0,!(t.visPropOld.strokecolor===n&&t.visPropOld.strokeopacity===l)&&(JXG$1.exists(n)&&n!==!1&&(n.length!==9?(a=n,u=l):(o=JXG$1.rgba2rgbo(n),a=o[0],u=l*o[1]),f=t.rendNode,t.elementClass===Const.OBJECT_CLASS_TEXT&&JXG$1.evaluate(t.visProp.display)==="html"&&(f.style.color=a,f.style.opacity=u)),t.visPropOld.strokecolor=n,t.visPropOld.strokeopacity=l)},drawImage:function(t){t.rendNode=new Image,t._src="",this.updateImage(t)},updateImage:function(t){var r=this.context,s=JXG$1.evaluate(t.visProp.fillopacity),n=JXG$1.bind(function(){t.imgIsLoaded=!0,!(t.size[0]<=0||t.size[1]<=0)&&(r.save(),r.globalAlpha=s,this.transformImage(t,t.transformations),r.drawImage(t.rendNode,t.coords.scrCoords[1],t.coords.scrCoords[2]-t.size[1],t.size[0],t.size[1]),r.restore())},this);this.updateImageURL(t)?t.rendNode.onload=n:t.imgIsLoaded&&n()},transformImage:function(t,r){var s,n,a,o,l,u=r.length,f=this.context;if(u>0)if(s=this.joinTransforms(t,r),t.elementClass===Const.OBJECT_CLASS_TEXT&&t.visProp.display==="html"){if(n=" matrix("+[s[1][1],s[2][1],s[1][2],s[2][2],s[1][0],s[2][0]].join(",")+") ",n.indexOf("NaN")===-1){switch(l=t.rendNode,l.style.transform=n,a=-t.coords.scrCoords[1],o=-t.coords.scrCoords[2],JXG$1.evaluate(t.visProp.anchorx)){case"right":a+=t.size[0];break;case"middle":a+=t.size[0]*.5;break}switch(JXG$1.evaluate(t.visProp.anchory)){case"bottom":o+=t.size[1];break;case"middle":o+=t.size[1]*.5;break}l.style["transform-origin"]=a+"px "+o+"px"}}else Math.abs(Numerics.det(s))>=Mat.eps&&f.transform(s[1][1],s[2][1],s[1][2],s[2][2],s[1][0],s[2][0])},updateImageURL:function(t){var r;return r=JXG$1.evaluate(t.url),t._src!==r?(t.imgIsLoaded=!1,t.rendNode.src=r,t._src=r,!0):!1},remove:function(t){JXG$1.exists(t)&&JXG$1.exists(t.parentNode)&&t.parentNode.removeChild(t)},updatePathStringPrim:function(t){var r,s,n,a,o,l="M",u="L",f="C",c=l,h=5e3,d=this.context;if(!(t.numberPoints<=0)){if(o=Math.min(t.points.length,t.numberPoints),d.beginPath(),t.bezierDegree===1)for(r=0;r<o;r++)s=t.points[r].scrCoords,isNaN(s[1])||isNaN(s[2])?c=l:(s[1]>h?s[1]=h:s[1]<-h&&(s[1]=-h),s[2]>h?s[2]=h:s[2]<-h&&(s[2]=-h),c===l?d.moveTo(s[1],s[2]):d.lineTo(s[1],s[2]),c=u);else if(t.bezierDegree===3)for(r=0;r<o;)s=t.points[r].scrCoords,isNaN(s[1])||isNaN(s[2])?c=l:(c===l?d.moveTo(s[1],s[2]):(r+=1,n=t.points[r].scrCoords,r+=1,a=t.points[r].scrCoords,d.bezierCurveTo(s[1],s[2],n[1],n[2],a[1],a[2])),c=f),r+=1;d.lineCap="round",this._fill(t),this._stroke(t)}},updatePathStringBezierPrim:function(t){var r,s,n,a,o,l,u,f="M",c="C",h=f,d=5e3,p=JXG$1.evaluate(t.visProp.strokewidth),v=JXG$1.evaluate(t.visProp.curvetype)!=="plot",y=this.context;if(!(t.numberPoints<=0)){for(v&&t.board.options.curve.RDPsmoothing&&(t.points=Numerics.RamerDouglasPeucker(t.points,.5)),u=Math.min(t.points.length,t.numberPoints),y.beginPath(),s=1;s<3;s++)for(h=f,r=0;r<u;r++)a=t.points[r].scrCoords,isNaN(a[1])||isNaN(a[2])?h=f:(a[1]>d?a[1]=d:a[1]<-d&&(a[1]=-d),a[2]>d?a[2]=d:a[2]<-d&&(a[2]=-d),h===f?y.moveTo(a[1],a[2]):(n=2*s,y.bezierCurveTo(o+(a[1]-o)*.333+p*(n*Math.random()-s),l+(a[2]-l)*.333+p*(n*Math.random()-s),o+(a[1]-o)*.666+p*(n*Math.random()-s),l+(a[2]-l)*.666+p*(n*Math.random()-s),a[1],a[2])),h=c,o=a[1],l=a[2]);y.lineCap="round",this._fill(t),this._stroke(t)}},updatePolygonPrim:function(t,r){var s,n,a,o=r.vertices.length,l=this.context,u=!0;if(!(o<=0||!r.visPropCalc.visible)){for(r.elType==="polygonalchain"&&o++,l.beginPath(),n=0;!r.vertices[n].isReal&&n<o-1;)n++,u=!1;for(s=r.vertices[n].coords.scrCoords,l.moveTo(s[1],s[2]),a=n;a<o-1;a++)r.vertices[a].isReal||(u=!1),s=r.vertices[a].coords.scrCoords,l.lineTo(s[1],s[2]);l.closePath(),u&&this._fill(r)}},display:function(t,r){t&&t.rendNode&&(t.visPropOld.visible=r,r?t.rendNode.style.visibility="inherit":t.rendNode.style.visibility="hidden")},show:function(t){JXG$1.deprecated("Board.renderer.show()","Board.renderer.display()"),JXG$1.exists(t.rendNode)&&(t.rendNode.style.visibility="inherit")},hide:function(t){JXG$1.deprecated("Board.renderer.hide()","Board.renderer.display()"),JXG$1.exists(t.rendNode)&&(t.rendNode.style.visibility="hidden")},setGradient:function(t){JXG$1.evaluate(t.visProp.fillopacity)},setShadow:function(t){t.visPropOld.shadow!==t.visProp.shadow&&(t.visPropOld.shadow=t.visProp.shadow)},highlight:function(t){return t.elementClass===Const.OBJECT_CLASS_TEXT&&JXG$1.evaluate(t.visProp.display)==="html"?this.updateTextStyle(t,!0):(t.board.prepareUpdate(),t.board.renderer.suspendRedraw(t.board),t.board.updateRenderer(),t.board.renderer.unsuspendRedraw()),this},noHighlight:function(t){return t.elementClass===Const.OBJECT_CLASS_TEXT&&JXG$1.evaluate(t.visProp.display)==="html"?this.updateTextStyle(t,!1):(t.board.prepareUpdate(),t.board.renderer.suspendRedraw(t.board),t.board.updateRenderer(),t.board.renderer.unsuspendRedraw()),this},suspendRedraw:function(t){this.context.save(),this.context.clearRect(0,0,this.canvasRoot.width,this.canvasRoot.height),t&&t.attr.showcopyright&&this.displayCopyright(JXG$1.licenseText,12)},unsuspendRedraw:function(){this.context.restore()},resize:function(t,r){this.container?(this.canvasRoot.style.width=parseFloat(t)+"px",this.canvasRoot.style.height=parseFloat(r)+"px",this.canvasRoot.setAttribute("width",2*parseFloat(t)+"px"),this.canvasRoot.setAttribute("height",2*parseFloat(r)+"px")):(this.canvasRoot.width=2*parseFloat(t),this.canvasRoot.height=2*parseFloat(r)),this.context=this.canvasRoot.getContext("2d"),this.context.scale(2,2)},removeToInsertLater:function(){return function(){}}});const CanvasRenderer=JXG$1.CanvasRenderer;JXG$1.NoRenderer=function(){this.enhancedRendering=!1,this.type="no"};JXG$1.extend(JXG$1.NoRenderer.prototype,{drawPoint:function(t){},updatePoint:function(t){},changePointStyle:function(t){},drawLine:function(t){},updateLine:function(t){},drawTicks:function(t){},updateTicks:function(t){},drawCurve:function(t){},updateCurve:function(t){},drawEllipse:function(t){},updateEllipse:function(t){},drawPolygon:function(t){},updatePolygon:function(t){},displayCopyright:function(t,r){},drawInternalText:function(t){},updateInternalText:function(t){},drawText:function(t){},updateText:function(t){},updateTextStyle:function(t,r){},updateInternalTextStyle:function(t,r,s){},drawImage:function(t){},updateImage:function(t){},transformImage:function(t,r){},updateImageURL:function(t){},appendChildPrim:function(t,r){},appendNodesToElement:function(t,r){},createPrim:function(t,r){return null},remove:function(t){},makeArrows:function(t){},updateEllipsePrim:function(t,r,s,n,a){},updateLinePrim:function(t,r,s,n,a,o){},updatePathPrim:function(t,r,s){},updatePathStringPoint:function(t,r,s){},updatePathStringPrim:function(t){},updatePathStringBezierPrim:function(t){},updatePolygonPrim:function(t,r){},updateRectPrim:function(t,r,s,n,a){},setPropertyPrim:function(t,r,s){},display:function(t,r){t&&(t.visPropOld.visible=r)},show:function(t){},hide:function(t){},setBuffering:function(t,r){},setDashStyle:function(t){},setDraft:function(t){},removeDraft:function(t){},setGradient:function(t){},updateGradient:function(t){},setObjectTransition:function(t,r){},setObjectFillColor:function(t,r,s){},setObjectStrokeColor:function(t,r,s){},setObjectStrokeWidth:function(t,r){},setShadow:function(t){},highlight:function(t){},noHighlight:function(t){},suspendRedraw:function(){},unsuspendRedraw:function(){},drawNavigationBar:function(t){},getElementById:function(t){return null},resize:function(t,r){},removeToInsertLater:function(){return function(){}}});JXG$1.NoRenderer.prototype=new AbstractRenderer;const NoRenderer=JXG$1.NoRenderer;JXG$1.JSXGraph={rendererType:(function(){return Options.board.renderer="no",JXG$1.supportsVML()&&(Options.board.renderer="vml",document.onmousemove=function(){var t;return document.body&&(t=document.body.scrollLeft,t+=document.body.scrollTop),t}),JXG$1.supportsCanvas()&&(Options.board.renderer="canvas"),JXG$1.supportsSVG()&&(Options.board.renderer="svg"),JXG$1.isNode()&&JXG$1.supportsCanvas()&&(Options.board.renderer="canvas"),(JXG$1.isNode()||Options.renderer==="no")&&(Options.text.display="internal",Options.infobox.display="internal"),Options.board.renderer})(),initRenderer:function(t,r,s,n){var a,o;if((!JXG$1.exists(s)||s===!1)&&typeof document=="object"&&(s=document),typeof s=="object"&&t!==null)for(a=JXG$1.isString(t)?s.getElementById(t):t;a.firstChild;)a.removeChild(a.firstChild);else a=t;return(n===void 0||n==="auto")&&(n=this.rendererType),n==="svg"?o=new SVGRenderer(a,r):n==="vml"?o=new VMLRenderer(a):n==="canvas"?o=new CanvasRenderer(a,r):o=new NoRenderer,o},_setAttributes:function(t){var r=JXG$1.copyAttributes(t,Options,"board"),s=["drag","fullscreen","intl","keyboard","logging","navbar","pan","resize","screenshot","selection","zoom"],n=s.length,a,o;for(a=0;a<n;a++)o=s[a],r[o]=JXG$1.copyAttributes(r,Options,"board",o);return r.movetarget=t.moveTarget||t.movetarget||Options.board.moveTarget,r},_fillBoard:function(t,r,s){t.initInfobox(r.infobox),t.maxboundingbox=r.maxboundingbox,t.resizeContainer(s.width,s.height,!0,!0),t._createSelectionPolygon(r),t.renderer.drawNavigationBar(t,r.navbar),JXG$1.boards[t.id]=t},_setARIA:function(t,r){var s=r.document,n,a,o,l,u,f;if(typeof s!="object"){if(!JXG$1.isBrowser)return;s=document}a=JXG$1.isString(t)?s.getElementById(t):t,n=a.ownerDocument,l=a.parentNode,u=t+"_ARIAlabel",f=t+"_ARIAdescription",o=n.createElement("div"),o.innerHTML=r.title,o.setAttribute("id",u),o.style.display="none",l.insertBefore(o,a),o=n.createElement("div"),o.innerHTML=r.description,o.setAttribute("id",f),o.style.display="none",l.insertBefore(o,a),a.setAttribute("aria-labelledby",u),a.setAttribute("aria-describedby",f)},_removeARIANodes:function(t){var r,s,n;n=t.document||document,typeof n=="object"&&(s=t.containerObj.getAttribute("aria-labelledby"),r=n.getElementById(s),r&&r.parentNode&&r.parentNode.removeChild(r),s=t.containerObj.getAttribute("aria-describedby"),r=n.getElementById(s),r&&r.parentNode&&r.parentNode.removeChild(r))},initBoard:function(t,r){var s,n,a,o,l,u,f=0,c=0,h,d,p,v,y,b,w,x;return r=r||{},v=this._setAttributes(r),d=JXG$1.getDimensions(t,v.document),v.unitx||v.unity?(s=JXG$1.def(v.originx,150),n=JXG$1.def(v.originy,150),a=JXG$1.def(v.unitx,50),o=JXG$1.def(v.unity,50)):(p=v.boundingbox,p[0]<v.maxboundingbox[0]&&(p[0]=v.maxboundingbox[0]),p[1]>v.maxboundingbox[1]&&(p[1]=v.maxboundingbox[1]),p[2]>v.maxboundingbox[2]&&(p[2]=v.maxboundingbox[2]),p[3]<v.maxboundingbox[3]&&(p[3]=v.maxboundingbox[3]),l=Math.max(parseInt(d.width,10),Mat.eps),u=Math.max(parseInt(d.height,10),Mat.eps),JXG$1.exists(p)&&v.keepaspectratio?(a=l/(p[2]-p[0]),o=u/(p[1]-p[3]),Math.abs(a)<Math.abs(o)?(o=Math.abs(a)*o/Math.abs(o),c=(u/o-(p[1]-p[3]))*.5):(a=Math.abs(o)*a/Math.abs(a),f=(l/a-(p[2]-p[0]))*.5)):(a=l/(p[2]-p[0]),o=u/(p[1]-p[3])),s=-a*(p[0]-f),n=o*(p[1]+c)),h=this.initRenderer(t,d,v.document,v.renderer),this._setARIA(t,v),x=new Board(t,h,v.id,[s,n],v.zoomx,v.zoomy,a,o,d.width,d.height,v),x.keepaspectratio=v.keepaspectratio,this._fillBoard(x,v,d),x.suspendUpdate(),v.axis&&(y=typeof v.axis=="object"?v.axis:{},b=JXG$1.deepCopy(Options.board.defaultAxes.x,y),w=JXG$1.deepCopy(Options.board.defaultAxes.y,y),v.defaultaxes.x&&(b=JXG$1.deepCopy(b,v.defaultaxes.x)),v.defaultaxes.y&&(w=JXG$1.deepCopy(w,v.defaultaxes.y)),x.defaultAxes={},x.defaultAxes.x=x.create("axis",[[0,0],[1,0]],b),x.defaultAxes.y=x.create("axis",[[0,0],[0,1]],w)),v.grid&&x.create("grid",[],typeof v.grid=="object"?v.grid:{}),x.unsuspendUpdate(),x},loadBoardFromFile:function(t,r,s,n,a){var o,l,u,f,c;return n=n||{},o=this._setAttributes(n),f=JXG$1.getDimensions(t,o.document),l=this.initRenderer(t,f,o.document,o.renderer),this._setARIA(t,o),u=new Board(t,l,"",[150,150],1,1,50,50,f.width,f.height,o),this._fillBoard(u,o,f),c=o.encoding||"iso-8859-1",FileReader$1.parseFileContent(r,u,s,!0,c,a),u},loadBoardFromString:function(t,r,s,n,a){var o,l,u,f;return n=n||{},o=this._setAttributes(n),f=JXG$1.getDimensions(t,o.document),l=this.initRenderer(t,f,o.document,o.renderer),this._setARIA(t,o),u=new Board(t,l,"",[150,150],1,1,50,50,f.width,f.height,o),this._fillBoard(u,o,f),FileReader$1.parseString(r,u,s,!0,a),u},freeBoard:function(t){var r;typeof t=="string"&&(t=JXG$1.boards[t]),this._removeARIANodes(t),t.removeEventHandlers(),t.suspendUpdate();for(r in t.objects)t.objects.hasOwnProperty(r)&&t.objects[r].remove();for(;t.containerObj.firstChild;)t.containerObj.removeChild(t.containerObj.firstChild);for(r in t.objects)t.objects.hasOwnProperty(r)&&delete t.objects[r];delete t.renderer,t.jc.creator.clearCache(),delete t.jc,delete JXG$1.boards[t.id]},registerElement:function(t,r){JXG$1.deprecated("JXG.JSXGraph.registerElement()","JXG.registerElement()"),JXG$1.registerElement(t,r)}};JXG$1.isBrowser&&typeof window=="object"&&typeof document=="object"&&JXG$1.addEvent(window,"load",function(){var t,r,s,n,a,o,l,u,f,c,h,d,p,v,y,b,w,x,A=!1,S=document.getElementsByTagName("script"),_=function(M,T,O){var B=JXG$1.JSXGraph.initBoard(a,{boundingbox:O,keepaspectratio:!0,grid:y,axis:v,showReload:!0});if(T.toLowerCase().indexOf("script")>-1)B.construct(M);else try{B.jc.parse(M)}catch(J){JXG$1.debug(J)}return B},$=function(M,T,O,B){return function(){var J;JXG$1.JSXGraph.freeBoard(M),J=_(T,O,B),J.reload=$(J,T,O,B)}};for(r=0;r<S.length;r++)if(t=S[r].getAttribute("type",!1),JXG$1.exists(t)&&(t.toLowerCase()==="text/jessiescript"||t.toLowerCase()==="jessiescript"||t.toLowerCase()==="text/jessiecode"||t.toLowerCase()==="jessiecode")){if(d=S[r].getAttribute("class",!1)||"",u=S[r].getAttribute("width",!1)||"",f=S[r].getAttribute("height",!1)||"",c=S[r].getAttribute("maxwidth",!1)||"100%",h=S[r].getAttribute("aspectratio",!1)||"1/1",p=S[r].getAttribute("boundingbox",!1)||"-5, 5, 5, -5",a=S[r].getAttribute("container",!1),w=S[r].getAttribute("src",!1),p=p.split(","),p.length!==4)p=[-5,5,5,-5];else for(s=0;s<p.length;s++)p[s]=parseFloat(p[s]);if(v=JXG$1.str2Bool(S[r].getAttribute("axis",!1)||"false"),y=JXG$1.str2Bool(S[r].getAttribute("grid",!1)||"false"),JXG$1.exists(a))n=document.getElementById(a);else{a="jessiescript_autgen_jxg_"+r,n=document.createElement("div"),n.setAttribute("id",a),l=u!==""?"width:"+u+";":"",l+=f!==""?"height:"+f+";":"",l+=c!==""?"max-width:"+c+";":"",l+=h!==""?"aspect-ratio:"+h+";":"",n.setAttribute("style",l),n.setAttribute("class","jxgbox "+d);try{document.body.insertBefore(n,S[r])}catch{typeof jQuery=="object"&&jQuery(n).insertBefore(S[r])}}b="",JXG$1.exists(w)?(A=!0,x=new XMLHttpRequest,x.open("GET",w),x.overrideMimeType("text/plain; charset=x-user-defined"),x.addEventListener("load",function(){if(this.status<400)b=this.responseText+`
`+b,o=_(b,t,p),o.reload=$(o,b,t,p);else throw new Error(`
JSXGraph: failed to load file`,w,":",this.responseText)}),x.addEventListener("error",function(M){throw new Error(`
JSXGraph: failed to load file`,w,":",M)}),x.send()):A=!1,document.getElementById(a)?(b=S[r].innerHTML,b=b.replace(/<!\[CDATA\[/g,"").replace(/\]\]>/g,""),S[r].innerHTML=b,A||(o=_(b,t,p),o.reload=$(o,b,t,p))):JXG$1.debug("JSXGraph: Apparently the div injection failed. Can't create a board, sorry.")}},window);JXG$1.JSXGraph;JXG$1.Point=function(t,r,s){this.constructor(t,s,Const.OBJECT_TYPE_POINT,Const.OBJECT_CLASS_POINT),this.element=this.board.select(s.anchor),this.coordsConstructor(r),this.elType="point",this.id=this.board.setId(this,"P"),this.board.renderer.drawPoint(this),this.board.finalizeAdding(this),this.createGradient(),this.createLabel()};JXG$1.Point.prototype=new GeometryElement;JXG$1.copyPrototypeMethods(JXG$1.Point,CoordsElement,"coordsConstructor");JXG$1.extend(JXG$1.Point.prototype,{hasPoint:function(t,r){var s=this.coords.scrCoords,n,a,o,l=JXG$1.evaluate(this.visProp.sizeunit);return JXG$1.isObject(JXG$1.evaluate(this.visProp.precision))?(o=this.board._inputDevice,a=JXG$1.evaluate(this.visProp.precision[o])):a=this.board.options.precision.hasPoint,n=parseFloat(JXG$1.evaluate(this.visProp.size)),l==="user"&&(n*=Math.sqrt(Math.abs(this.board.unitX*this.board.unitY))),n+=parseFloat(JXG$1.evaluate(this.visProp.strokewidth))*.5,n<a&&(n=a),Math.abs(s[1]-t)<n+2&&Math.abs(s[2]-r)<n+2},update:function(t){return this.needsUpdate?(this.updateCoords(t),JXG$1.evaluate(this.visProp.trace)&&this.cloneToBackground(!0),this):this},updateTransform:function(t){var r,s;if(this.transformations.length===0||this.baseElement===null)return this;for(this===this.baseElement?(r=this.transformations[0].apply(this.baseElement,"self"),this.coords.setCoordinates(Const.COORDS_BY_USER,r)):r=this.transformations[0].apply(this.baseElement),this.coords.setCoordinates(Const.COORDS_BY_USER,r),s=1;s<this.transformations.length;s++)this.coords.setCoordinates(Const.COORDS_BY_USER,this.transformations[s].apply(this));return this},updateRenderer:function(){return this.updateRendererGeneric("updatePoint"),this},bounds:function(){return this.coords.usrCoords.slice(1).concat(this.coords.usrCoords.slice(1))},makeIntersection:function(t,r,s,n){var a;t=this.board.select(t),r=this.board.select(r),a=Geometry.intersectionFunction(this.board,t,r,s,n,this.visProp.alwaysintersect),this.addConstraint([a]);try{t.addChild(this),r.addChild(this)}catch{throw new Error("JSXGraph: Can't create 'intersection' with parent types '"+typeof t+"' and '"+typeof r+"'.")}this.type=Const.OBJECT_TYPE_INTERSECTION,this.elType="intersection",this.parents=[t.id,r.id,s,n],this.generatePolynomial=function(){var o=t.generatePolynomial(this),l=r.generatePolynomial(this);return o.length===0||l.length===0?[]:[o[0],l[0]]},this.prepareUpdate().update()},setStyle:function(t){var r=["cross","cross","cross","circle","circle","circle","circle","square","square","square","plus","plus","plus"],s=[2,3,4,1,2,3,4,2,3,4,2,3,4];return this.visProp.face=r[t],this.visProp.size=s[t],this.board.renderer.changePointStyle(this),this},normalizeFace:function(t){return JXG$1.deprecated("Point.normalizeFace()","JXG.normalizePointFace()"),Options.normalizePointFace(t)},face:function(t){JXG$1.deprecated("Point.face()","Point.setAttribute()"),this.setAttribute({face:t})},size:function(t){JXG$1.deprecated("Point.size()","Point.setAttribute()"),this.setAttribute({size:t})},isOn:function(t,r){var s,n;return r=r||Mat.eps,JXG$1.isPoint(t)?this.Dist(t)<r:t.elementClass===Const.OBJECT_CLASS_LINE?t.elType==="segment"&&!JXG$1.evaluate(this.visProp.alwaysintersect)?(s=JXG$1.Math.Geometry.projectCoordsToSegment(this.coords.usrCoords,t.point1.coords.usrCoords,t.point2.coords.usrCoords),s[1]>=0&&s[1]<=1&&Geometry.distPointLine(this.coords.usrCoords,t.stdform)<r):Geometry.distPointLine(this.coords.usrCoords,t.stdform)<r:t.elementClass===Const.OBJECT_CLASS_CIRCLE?JXG$1.evaluate(t.visProp.hasinnerpoints)?this.Dist(t.center)<t.Radius()+r:Math.abs(this.Dist(t.center)-t.Radius())<r:t.elementClass===Const.OBJECT_CLASS_CURVE?(n=Geometry.projectPointToCurve(this,t,this.board)[0],Geometry.distance(this.coords.usrCoords,n.usrCoords,3)<r):t.type===Const.OBJECT_TYPE_POLYGON?JXG$1.evaluate(t.visProp.hasinnerpoints)&&t.pnpoly(this.coords.usrCoords[1],this.coords.usrCoords[2],JXG$1.COORDS_BY_USER)?!0:(s=Geometry.projectCoordsToPolygon(this.coords.usrCoords,t),Geometry.distance(this.coords.usrCoords,s,3)<r):t.type===Const.OBJECT_TYPE_TURTLE?(n=Geometry.projectPointToTurtle(this,t,this.board),Geometry.distance(this.coords.usrCoords,n.usrCoords,3)<r):!1},cloneToBackground:function(){var t={};return t.id=this.id+"T"+this.numTraces,this.numTraces+=1,t.coords=this.coords,t.visProp=JXG$1.deepCopy(this.visProp,this.visProp.traceattributes,!0),t.visProp.layer=this.board.options.layer.trace,t.elementClass=Const.OBJECT_CLASS_POINT,t.board=this.board,JXG$1.clearVisPropOld(t),t.visPropCalc={visible:JXG$1.evaluate(t.visProp.visible)},this.board.renderer.drawPoint(t),this.traces[t.id]=t.rendNode,this}});JXG$1.createPoint=function(t,r,s){var n,a;if(a=JXG$1.copyAttributes(s,t.options,"point"),n=CoordsElement.create(JXG$1.Point,t,r,a),!n)throw new Error("JSXGraph: Can't create point with parent types '"+typeof r[0]+"' and '"+typeof r[1]+`'.
Possible parent types: [x,y], [z,x,y], [element,transformation]`);return n};JXG$1.createGlider=function(t,r,s){var n,a,o=JXG$1.copyAttributes(s,t.options,"glider");return r.length===1?a=[0,0]:a=r.slice(0,2),n=t.create("point",a,o),n.makeGlider(r[r.length-1]),n};JXG$1.createIntersectionPoint=function(t,r,s){var n,a,o,l,u,f,c=JXG$1.copyAttributes(s,t.options,"intersection");r.push(0,0),a=t.select(r[0]),o=t.select(r[1]),u=r[2]||0,f=r[3]||0,n=t.create("point",[0,0,0],c),l=Geometry.intersectionFunction(t,a,o,u,f,n.visProp.alwaysintersect),n.addConstraint([l]);try{a.addChild(n),o.addChild(n)}catch{throw new Error("JSXGraph: Can't create 'intersection' with parent types '"+typeof r[0]+"' and '"+typeof r[1]+"'.")}return n.type=Const.OBJECT_TYPE_INTERSECTION,n.elType="intersection",n.setParents([a.id,o.id]),n.intersectionNumbers=[u,f],n.getParents=function(){return this.parents.concat(this.intersectionNumbers)},n.generatePolynomial=function(){var h=a.generatePolynomial(n),d=o.generatePolynomial(n);return h.length===0||d.length===0?[]:[h[0],d[0]]},n};JXG$1.createOtherIntersectionPoint=function(t,r,s){var n,a,o,l;if(r.length!==3||!JXG$1.isPoint(r[2])||r[0].elementClass!==Const.OBJECT_CLASS_LINE&&r[0].elementClass!==Const.OBJECT_CLASS_CIRCLE||r[1].elementClass!==Const.OBJECT_CLASS_LINE&&r[1].elementClass!==Const.OBJECT_CLASS_CIRCLE)throw new Error("JSXGraph: Can't create 'other intersection point' with parent types '"+typeof r[0]+"',  '"+typeof r[1]+"'and  '"+typeof r[2]+`'.
Possible parent types: [circle|line,circle|line,point]`);return a=t.select(r[0]),o=t.select(r[1]),l=t.select(r[2]),n=t.create("point",[function(){var u=Geometry.meet(a.stdform,o.stdform,0,a.board);return Math.abs(l.X()-u.usrCoords[1])>Mat.eps||Math.abs(l.Y()-u.usrCoords[2])>Mat.eps||Math.abs(l.Z()-u.usrCoords[0])>Mat.eps?u:Geometry.meet(a.stdform,o.stdform,1,a.board)}],s),n.type=Const.OBJECT_TYPE_INTERSECTION,n.elType="otherintersection",n.setParents([a.id,o.id,l]),a.addChild(n),o.addChild(n),n.generatePolynomial=function(){var u=a.generatePolynomial(n),f=o.generatePolynomial(n);return u.length===0||f.length===0?[]:[u[0],f[0]]},n};JXG$1.createPolePoint=function(t,r,s){var n,a,o,l,u,f,c;if(r.length>1&&(l=r[0].type===Const.OBJECT_TYPE_CONIC||r[0].elementClass===Const.OBJECT_CLASS_CIRCLE,u=r[1].type===Const.OBJECT_TYPE_CONIC||r[1].elementClass===Const.OBJECT_CLASS_CIRCLE,f=r[0].elementClass===Const.OBJECT_CLASS_LINE,c=r[1].elementClass===Const.OBJECT_CLASS_LINE),r.length!==2||!(l&&c||f&&u))throw new Error("JSXGraph: Can't create 'pole point' with parent types '"+typeof r[0]+"' and '"+typeof r[1]+`'.
Possible parent type: [conic|circle,line], [line,conic|circle]`);return c?(a=t.select(r[0]),o=t.select(r[1])):(a=t.select(r[1]),o=t.select(r[0])),n=t.create("point",[function(){var h=a.quadraticform,d=o.stdform.slice(0,3);return[JXG$1.Math.Numerics.det([d,h[1],h[2]]),JXG$1.Math.Numerics.det([h[0],d,h[2]]),JXG$1.Math.Numerics.det([h[0],h[1],d])]}],s),n.elType="polepoint",n.setParents([a.id,o.id]),a.addChild(n),o.addChild(n),n};JXG$1.registerElement("point",JXG$1.createPoint);JXG$1.registerElement("glider",JXG$1.createGlider);JXG$1.registerElement("intersection",JXG$1.createIntersectionPoint);JXG$1.registerElement("otherintersection",JXG$1.createOtherIntersectionPoint);JXG$1.registerElement("polepoint",JXG$1.createPolePoint);const Point=JXG$1.Point;JXG$1.Line=function(t,r,s,n){this.constructor(t,n,Const.OBJECT_TYPE_LINE,Const.OBJECT_CLASS_LINE),this.point1=this.board.select(r),this.point2=this.board.select(s),this.ticks=[],this.defaultTicks=null,this.parentPolygon=null,this.id=this.board.setId(this,"L"),this.board.renderer.drawLine(this),this.board.finalizeAdding(this),this.elType="line",this.point1._is_new?(this.addChild(this.point1),delete this.point1._is_new):this.point1.addChild(this),this.point2._is_new?(this.addChild(this.point2),delete this.point2._is_new):this.point2.addChild(this),this.inherits.push(this.point1,this.point2),this.updateStdform(),this.createLabel(),this.methodMap=JXG$1.deepCopy(this.methodMap,{point1:"point1",point2:"point2",getSlope:"getSlope",getRise:"getRise",getYIntersect:"getRise",getAngle:"getAngle",Slope:"Slope",L:"L",length:"L"})};JXG$1.Line.prototype=new GeometryElement;JXG$1.extend(JXG$1.Line.prototype,{hasPoint:function(t,r){var s=[],n=[1,t,r],a,o,l,u,f,c,h,d,p,v=JXG$1.evaluate(this.visProp.strokewidth);return JXG$1.isObject(JXG$1.evaluate(this.visProp.precision))?(p=this.board._inputDevice,d=JXG$1.evaluate(this.visProp.precision[p])):d=this.board.options.precision.hasPoint,d+=v*.5,s[0]=this.stdform[0]-this.stdform[1]*this.board.origin.scrCoords[1]/this.board.unitX+this.stdform[2]*this.board.origin.scrCoords[2]/this.board.unitY,s[1]=this.stdform[1]/this.board.unitX,s[2]=this.stdform[2]/-this.board.unitY,a=Geometry.distPointLine(n,s),isNaN(a)||a>d?!1:JXG$1.evaluate(this.visProp.straightfirst)&&JXG$1.evaluate(this.visProp.straightlast)?!0:(l=this.point1.coords,u=this.point2.coords,o=[0,s[1],s[2]],o=Mat.crossProduct(o,n),o=Mat.crossProduct(o,s),o[1]/=o[0],o[2]/=o[0],o[0]=1,o=new Coords(Const.COORDS_BY_SCREEN,o.slice(1),this.board).usrCoords,f=l.distance(Const.COORDS_BY_USER,u),l=l.usrCoords.slice(0),u=u.usrCoords.slice(0),f<Mat.eps?c=0:(f===Number.POSITIVE_INFINITY&&(f=1/Mat.eps,Math.abs(u[0])<Mat.eps?(f/=Geometry.distance([0,0,0],u),u=[1,l[1]+u[1]*f,l[2]+u[2]*f]):(f/=Geometry.distance([0,0,0],l),l=[1,u[1]+l[1]*f,u[2]+l[2]*f])),h=1,f=u[h]-l[h],Math.abs(f)<Mat.eps&&(h=2,f=u[h]-l[h]),c=(o[h]-l[h])/f),!JXG$1.evaluate(this.visProp.straightfirst)&&c<0?!1:!(!JXG$1.evaluate(this.visProp.straightlast)&&c>1))},update:function(){var t;return this.needsUpdate?(this.constrained&&(JXG$1.isFunction(this.funps)?(t=this.funps(),t&&t.length&&t.length===2&&(this.point1=t[0],this.point2=t[1])):(JXG$1.isFunction(this.funp1)&&(t=this.funp1(),JXG$1.isPoint(t)?this.point1=t:t&&t.length&&t.length===2&&this.point1.setPositionDirectly(Const.COORDS_BY_USER,t)),JXG$1.isFunction(this.funp2)&&(t=this.funp2(),JXG$1.isPoint(t)?this.point2=t:t&&t.length&&t.length===2&&this.point2.setPositionDirectly(Const.COORDS_BY_USER,t)))),this.updateSegmentFixedLength(),this.updateStdform(),JXG$1.evaluate(this.visProp.trace)&&this.cloneToBackground(!0),this):this},updateSegmentFixedLength:function(){var t,r,s,n,a,o,l,u;return this.hasFixedLength?(t=this.point1.Dist(this.point2),r=this.fixedLength(),s=this.fixedLengthOldCoords[0].distance(Const.COORDS_BY_USER,this.point1.coords),n=this.fixedLengthOldCoords[1].distance(Const.COORDS_BY_USER,this.point2.coords),(s>Mat.eps||n>Mat.eps||t!==r)&&(a=this.point1.isDraggable&&this.point1.type!==Const.OBJECT_TYPE_GLIDER&&!JXG$1.evaluate(this.point1.visProp.fixed),o=this.point2.isDraggable&&this.point2.type!==Const.OBJECT_TYPE_GLIDER&&!JXG$1.evaluate(this.point2.visProp.fixed),t>Mat.eps?s>n&&o||s<=n&&o&&!a?(this.point2.setPositionDirectly(Const.COORDS_BY_USER,[this.point1.X()+(this.point2.X()-this.point1.X())*r/t,this.point1.Y()+(this.point2.Y()-this.point1.Y())*r/t]),this.point2.fullUpdate()):(s<=n&&a||s>n&&a&&!o)&&(this.point1.setPositionDirectly(Const.COORDS_BY_USER,[this.point2.X()+(this.point1.X()-this.point2.X())*r/t,this.point2.Y()+(this.point1.Y()-this.point2.Y())*r/t]),this.point1.fullUpdate()):(l=Math.random()-.5,u=Math.random()-.5,t=Math.sqrt(l*l+u*u),o?(this.point2.setPositionDirectly(Const.COORDS_BY_USER,[this.point1.X()+l*r/t,this.point1.Y()+u*r/t]),this.point2.fullUpdate()):a&&(this.point1.setPositionDirectly(Const.COORDS_BY_USER,[this.point2.X()+l*r/t,this.point2.Y()+u*r/t]),this.point1.fullUpdate())),this.fixedLengthOldCoords[0].setCoordinates(Const.COORDS_BY_USER,this.point1.coords.usrCoords),this.fixedLengthOldCoords[1].setCoordinates(Const.COORDS_BY_USER,this.point2.coords.usrCoords)),this):this},updateStdform:function(){var t=Mat.crossProduct(this.point1.coords.usrCoords,this.point2.coords.usrCoords);this.stdform[0]=t[0],this.stdform[1]=t[1],this.stdform[2]=t[2],this.stdform[3]=0,this.normalize()},updateRenderer:function(){return this.needsUpdate?(this.visPropCalc.visible&&(this.isReal=!isNaN(this.point1.coords.usrCoords[1]+this.point1.coords.usrCoords[2]+this.point2.coords.usrCoords[1]+this.point2.coords.usrCoords[2])&&Mat.innerProduct(this.stdform,this.stdform,3)>=Mat.eps*Mat.eps,this.isReal||this.updateVisibility(!1)),this.visPropCalc.visible&&this.board.renderer.updateLine(this),this.hasLabel&&this.visPropCalc.visible&&this.label&&this.label.visPropCalc.visible&&this.isReal&&(this.label.update(),this.board.renderer.updateText(this.label)),this.setDisplayRendNode(),this.needsUpdate=!1,this):this},generatePolynomial:function(t){var r=this.point1.symbolic.x,s=this.point1.symbolic.y,n=this.point2.symbolic.x,a=this.point2.symbolic.y,o=t.symbolic.x,l=t.symbolic.y;return[["(",s,")*(",o,")-(",s,")*(",n,")+(",l,")*(",n,")-(",r,")*(",l,")+(",r,")*(",a,")-(",o,")*(",a,")"].join("")]},getRise:function(){return Math.abs(this.stdform[2])>=Mat.eps?-this.stdform[0]/this.stdform[2]:1/0},Slope:function(){return Math.abs(this.stdform[2])>=Mat.eps?-this.stdform[1]/this.stdform[2]:1/0},getSlope:function(){return this.Slope()},getAngle:function(){return Math.atan2(-this.stdform[1],this.stdform[2])},setStraight:function(t,r){return this.visProp.straightfirst=t,this.visProp.straightlast=r,this.board.renderer.updateLine(this),this},getTextAnchor:function(){return new Coords(Const.COORDS_BY_USER,[.5*(this.point2.X()+this.point1.X()),.5*(this.point2.Y()+this.point1.Y())],this.board)},setLabelRelativeCoords:function(t){JXG$1.exists(this.label)&&(this.label.relativeCoords=new Coords(Const.COORDS_BY_SCREEN,[t[0],-t[1]],this.board))},getLabelAnchor:function(){var t,r,s=0,n=new Coords(Const.COORDS_BY_USER,this.point1.coords.usrCoords,this.board),a=new Coords(Const.COORDS_BY_USER,this.point2.coords.usrCoords,this.board),o=JXG$1.evaluate(this.visProp.straightfirst),l=JXG$1.evaluate(this.visProp.straightlast);if((o||l)&&Geometry.calcStraight(this,n,a,0),n=n.scrCoords,a=a.scrCoords,!JXG$1.exists(this.label))return new Coords(Const.COORDS_BY_SCREEN,[NaN,NaN],this.board);switch(JXG$1.evaluate(this.label.visProp.position)){case"last":t=a[1],r=a[2];break;case"first":t=n[1],r=n[2];break;case"lft":case"llft":case"ulft":n[1]<=a[1]?(t=n[1],r=n[2]):(t=a[1],r=a[2]);break;case"rt":case"lrt":case"urt":n[1]>a[1]?(t=n[1],r=n[2]):(t=a[1],r=a[2]);break;default:t=.5*(n[1]+a[1]),r=.5*(n[2]+a[2])}return(o||l)&&(JXG$1.exists(this.label)&&(s=JXG$1.evaluate(this.label.visProp.fontsize)),Math.abs(t)<Mat.eps?t=s:this.board.canvasWidth+Mat.eps>t&&t>this.board.canvasWidth-s-Mat.eps&&(t=this.board.canvasWidth-s),Mat.eps+s>r&&r>-Mat.eps?r=s:this.board.canvasHeight+Mat.eps>r&&r>this.board.canvasHeight-s-Mat.eps&&(r=this.board.canvasHeight-s)),new Coords(Const.COORDS_BY_SCREEN,[t,r],this.board)},cloneToBackground:function(){var t={},r,s,n;return t.id=this.id+"T"+this.numTraces,t.elementClass=Const.OBJECT_CLASS_LINE,this.numTraces++,t.point1=this.point1,t.point2=this.point2,t.stdform=this.stdform,t.board=this.board,t.visProp=JXG$1.deepCopy(this.visProp,this.visProp.traceattributes,!0),t.visProp.layer=this.board.options.layer.trace,JXG$1.clearVisPropOld(t),t.visPropCalc={visible:JXG$1.evaluate(t.visProp.visible)},s=this.getSlope(),r=this.getRise(),t.getSlope=function(){return s},t.getRise=function(){return r},n=this.board.renderer.enhancedRendering,this.board.renderer.enhancedRendering=!0,this.board.renderer.drawLine(t),this.board.renderer.enhancedRendering=n,this.traces[t.id]=t.rendNode,this},addTransform:function(t){var r,s=JXG$1.isArray(t)?t:[t],n=s.length;for(r=0;r<n;r++)this.point1.transformations.push(s[r]),this.point2.transformations.push(s[r]);return this},snapToGrid:function(t){var r,s,n,a,o,l,u,f,c;return JXG$1.evaluate(this.visProp.snaptogrid)?this.parents.length<3?(this.point1.handleSnapToGrid(!0,!0),this.point2.handleSnapToGrid(!0,!0)):JXG$1.exists(t)&&(f=JXG$1.evaluate(this.visProp.snapsizex),c=JXG$1.evaluate(this.visProp.snapsizey),r=new Coords(Const.COORDS_BY_SCREEN,[t.Xprev,t.Yprev],this.board),l=r.usrCoords[1],u=r.usrCoords[2],f<=0&&this.board.defaultAxes&&this.board.defaultAxes.x.defaultTicks&&(o=this.board.defaultAxes.x.defaultTicks,f=o.ticksDelta*(JXG$1.evaluate(o.visProp.minorticks)+1)),c<=0&&this.board.defaultAxes&&this.board.defaultAxes.y.defaultTicks&&(o=this.board.defaultAxes.y.defaultTicks,c=o.ticksDelta*(JXG$1.evaluate(o.visProp.minorticks)+1)),f>0&&c>0&&(s=Geometry.projectPointToLine({coords:r},this,this.board),n=Statistics.subtract([1,Math.round(l/f)*f,Math.round(u/c)*c],s.usrCoords),a=this.board.create("transform",n.slice(1),{type:"translate"}),a.applyOnce([this.point1,this.point2]))):(this.point1.handleSnapToGrid(!1,!0),this.point2.handleSnapToGrid(!1,!0)),this},snapToPoints:function(){var t=JXG$1.evaluate(this.visProp.snaptopoints);return this.parents.length<3&&(this.point1.handleSnapToPoints(t),this.point2.handleSnapToPoints(t)),this},X:function(t){var r,s=this.stdform[2];return r=Math.abs(this.point1.coords.usrCoords[0])>Mat.eps?this.point1.coords.usrCoords[1]:this.point2.coords.usrCoords[1],t=(t-.5)*2,(1-Math.abs(t))*r-t*s},Y:function(t){var r,s=this.stdform[1];return r=Math.abs(this.point1.coords.usrCoords[0])>Mat.eps?this.point1.coords.usrCoords[2]:this.point2.coords.usrCoords[2],t=(t-.5)*2,(1-Math.abs(t))*r+t*s},Z:function(t){var r=Math.abs(this.point1.coords.usrCoords[0])>Mat.eps?this.point1.coords.usrCoords[0]:this.point2.coords.usrCoords[0];return t=(t-.5)*2,(1-Math.abs(t))*r},L:function(){return this.point1.Dist(this.point2)},minX:function(){return 0},maxX:function(){return 1},bounds:function(){var t=this.point1.coords.usrCoords,r=this.point2.coords.usrCoords;return[Math.min(t[1],r[1]),Math.max(t[2],r[2]),Math.max(t[1],r[1]),Math.min(t[2],r[2])]},remove:function(){this.removeAllTicks(),GeometryElement.prototype.remove.call(this)}});JXG$1.createLine=function(t,r,s){var n,a,o,l,u,f,c=[],h=!1,d=!1,p;if(r.length===2){if(f=JXG$1.copyAttributes(s,t.options,"line","point1"),JXG$1.isArray(r[0])&&r[0].length>1)o=t.create("point",r[0],f);else if(JXG$1.isString(r[0])||JXG$1.isPoint(r[0]))o=t.select(r[0]);else if(JXG$1.isFunction(r[0])&&JXG$1.isPoint(r[0]()))o=r[0](),d=!0;else if(JXG$1.isFunction(r[0])&&r[0]().length&&r[0]().length>=2)o=JXG$1.createPoint(t,r[0](),f),d=!0;else if(JXG$1.isObject(r[0])&&JXG$1.isTransformationOrArray(r[1]))h=!0,o=t.create("point",[r[0].point1,r[1]],f);else throw new Error("JSXGraph: Can't create line with parent types '"+typeof r[0]+"' and '"+typeof r[1]+`'.
Possible parent types: [point,point], [[x1,y1],[x2,y2]], [a,b,c]`);if(f=JXG$1.copyAttributes(s,t.options,"line","point2"),h)l=t.create("point",[r[0].point2,r[1]],f);else if(JXG$1.isArray(r[1])&&r[1].length>1)l=t.create("point",r[1],f);else if(JXG$1.isString(r[1])||JXG$1.isPoint(r[1]))l=t.select(r[1]);else if(JXG$1.isFunction(r[1])&&JXG$1.isPoint(r[1]()))l=r[1](),d=!0;else if(JXG$1.isFunction(r[1])&&r[1]().length&&r[1]().length>=2)l=JXG$1.createPoint(t,r[1](),f),d=!0;else throw new Error("JSXGraph: Can't create line with parent types '"+typeof r[0]+"' and '"+typeof r[1]+`'.
Possible parent types: [point,point], [[x1,y1],[x2,y2]], [a,b,c]`);f=JXG$1.copyAttributes(s,t.options,"line"),a=new JXG$1.Line(t,o,l,f),d?(a.constrained=!0,a.funp1=r[0],a.funp2=r[1]):h||(a.isDraggable=!0),a.setParents([o.id,l.id])}else if(r.length===3){for(p=!0,u=0;u<3;u++)if(JXG$1.isNumber(r[u]))c[u]=JXG$1.createFunction(r[u]);else if(JXG$1.isFunction(r[u]))c[u]=r[u],p=!1;else throw new Error("JSXGraph: Can't create line with parent types '"+typeof r[0]+"' and '"+typeof r[1]+"' and '"+typeof r[2]+`'.
Possible parent types: [point,point], [[x1,y1],[x2,y2]], [a,b,c]`);f=JXG$1.copyAttributes(s,t.options,"line","point1"),p?o=t.create("point",[c[2]()*c[2]()+c[1]()*c[1](),c[2]()-c[1]()*c[0]()+c[2](),-c[1]()-c[2]()*c[0]()-c[1]()],f):o=t.create("point",[function(){return(c[2]()*c[2]()+c[1]()*c[1]())*.5},function(){return(c[2]()-c[1]()*c[0]()+c[2]())*.5},function(){return(-c[1]()-c[2]()*c[0]()-c[1]())*.5}],f),f=JXG$1.copyAttributes(s,t.options,"line","point2"),p?l=t.create("point",[c[2]()*c[2]()+c[1]()*c[1](),-c[1]()*c[0]()+c[2](),-c[2]()*c[0]()-c[1]()],f):l=t.create("point",[function(){return c[2]()*c[2]()+c[1]()*c[1]()},function(){return-c[1]()*c[0]()+c[2]()},function(){return-c[2]()*c[0]()-c[1]()}],f),o.prepareUpdate().update(),l.prepareUpdate().update(),f=JXG$1.copyAttributes(s,t.options,"line"),a=new JXG$1.Line(t,o,l,f),a.isDraggable=p,a.setParents([o,l])}else if(r.length===1&&JXG$1.isFunction(r[0])&&r[0]().length===2&&JXG$1.isPoint(r[0]()[0])&&JXG$1.isPoint(r[0]()[1]))n=r[0](),f=JXG$1.copyAttributes(s,t.options,"line"),a=new JXG$1.Line(t,n[0],n[1],f),a.constrained=!0,a.funps=r[0],a.setParents(n);else if(r.length===1&&JXG$1.isFunction(r[0])&&r[0]().length===3&&JXG$1.isNumber(r[0]()[0])&&JXG$1.isNumber(r[0]()[1])&&JXG$1.isNumber(r[0]()[2]))n=r[0],f=JXG$1.copyAttributes(s,t.options,"line","point1"),o=t.create("point",[function(){var v=n();return[(v[2]*v[2]+v[1]*v[1])*.5,(v[2]-v[1]*v[0]+v[2])*.5,(-v[1]-v[2]*v[0]-v[1])*.5]}],f),f=JXG$1.copyAttributes(s,t.options,"line","point2"),l=t.create("point",[function(){var v=n();return[v[2]*v[2]+v[1]*v[1],-v[1]*v[0]+v[2],-v[2]*v[0]-v[1]]}],f),f=JXG$1.copyAttributes(s,t.options,"line"),a=new JXG$1.Line(t,o,l,f),a.constrained=!0,a.funps=r[0],a.setParents([o,l]);else throw new Error("JSXGraph: Can't create line with parent types '"+typeof r[0]+"' and '"+typeof r[1]+`'.
Possible parent types: [point,point], [[x1,y1],[x2,y2]], [a,b,c]`);return a};JXG$1.registerElement("line",JXG$1.createLine);JXG$1.createSegment=function(t,r,s){var n,a;if(s.straightFirst=!1,s.straightLast=!1,a=JXG$1.copyAttributes(s,t.options,"segment"),n=t.create("line",r.slice(0,2),a),r.length===3){if(n.hasFixedLength=!0,JXG$1.isNumber(r[2]))n.fixedLength=function(){return r[2]};else if(JXG$1.isFunction(r[2]))n.fixedLength=r[2];else throw new Error("JSXGraph: Can't create segment with third parent type '"+typeof r[2]+`'.
Possible third parent types: number or function`);n.getParents=function(){return this.parents.concat(this.fixedLength())},n.fixedLengthOldCoords=[],n.fixedLengthOldCoords[0]=new Coords(Const.COORDS_BY_USER,n.point1.coords.usrCoords.slice(1,3),t),n.fixedLengthOldCoords[1]=new Coords(Const.COORDS_BY_USER,n.point2.coords.usrCoords.slice(1,3),t)}return n.elType="segment",n};JXG$1.registerElement("segment",JXG$1.createSegment);JXG$1.createArrow=function(t,r,s){var n,a;return s.straightFirst=!1,s.straightLast=!1,a=JXG$1.copyAttributes(s,t.options,"arrow"),n=t.create("line",r,a),n.type=Const.OBJECT_TYPE_VECTOR,n.elType="arrow",n};JXG$1.registerElement("arrow",JXG$1.createArrow);JXG$1.createAxis=function(t,r,s){var n,a,o,l,u;if((JXG$1.isArray(r[0])||JXG$1.isPoint(r[0]))&&(JXG$1.isArray(r[1])||JXG$1.isPoint(r[1]))){n=JXG$1.copyAttributes(s,t.options,"axis"),o=t.create("line",r,n),o.type=Const.OBJECT_TYPE_AXIS,o.isDraggable=!1,o.point1.isDraggable=!1,o.point2.isDraggable=!1;for(l in o.ancestors)o.ancestors.hasOwnProperty(l)&&(o.ancestors[l].type=Const.OBJECT_TYPE_AXISPOINT);a=JXG$1.copyAttributes(s,t.options,"axis","ticks"),JXG$1.exists(a.ticksdistance)?u=a.ticksdistance:JXG$1.isArray(a.ticks)?u=a.ticks:u=1,o.defaultTicks=t.create("ticks",[o,u],a),o.defaultTicks.dump=!1,o.elType="axis",o.subs={ticks:o.defaultTicks},o.inherits.push(o.defaultTicks)}else throw new Error("JSXGraph: Can't create axis with parent types '"+typeof r[0]+"' and '"+typeof r[1]+`'.
Possible parent types: [point,point], [[x1,y1],[x2,y2]]`);return o};JXG$1.registerElement("axis",JXG$1.createAxis);JXG$1.createTangent=function(t,r,s){var n,a,o,l,u,f;if(r.length===1)n=r[0],a=n.slideObject;else if(r.length===2)if(JXG$1.isPoint(r[0]))n=r[0],a=r[1];else if(JXG$1.isPoint(r[1]))a=r[0],n=r[1];else throw new Error("JSXGraph: Can't create tangent with parent types '"+typeof r[0]+"' and '"+typeof r[1]+`'.
Possible parent types: [glider], [point,line|curve|circle|conic]`);else throw new Error("JSXGraph: Can't create tangent with parent types '"+typeof r[0]+"' and '"+typeof r[1]+`'.
Possible parent types: [glider], [point,line|curve|circle|conic]`);if(f=JXG$1.copyAttributes(s,t.options,"tangent"),a.elementClass===Const.OBJECT_CLASS_LINE?(u=t.create("line",[a.point1,a.point2],f),u.glider=n):a.elementClass===Const.OBJECT_CLASS_CURVE&&a.type!==Const.OBJECT_TYPE_CONIC?JXG$1.evaluate(a.visProp.curvetype)!=="plot"?(u=t.create("line",[function(){var c=a.X,h=a.Y;return-n.X()*Numerics.D(h)(n.position)+n.Y()*Numerics.D(c)(n.position)},function(){return Numerics.D(a.Y)(n.position)},function(){return-Numerics.D(a.X)(n.position)}],f),n.addChild(u),u.glider=n):(u=t.create("line",[function(){var c=Math.floor(n.position),h,d,p,v,y,b,w,x,A,S;if(a.bezierDegree===1)c===a.numberPoints-1&&c--;else if(a.bezierDegree===3)c=Math.floor(n.position*(a.numberPoints-1)/3)*3,p=(n.position*(a.numberPoints-1)-c)/3,c>=a.numberPoints-1&&(c=a.numberPoints-4,p=1);else return 0;return c<0?1:(a.bezierDegree===1?(h=a.points[c].usrCoords,d=a.points[c+1].usrCoords):(v=a.points[c].usrCoords,y=a.points[c+1].usrCoords,b=a.points[c+2].usrCoords,w=a.points[c+3].usrCoords,x=(1-p)*(1-p)*(y[1]-v[1])+2*(1-p)*p*(b[1]-y[1])+p*p*(w[1]-b[1]),A=(1-p)*(1-p)*(y[2]-v[2])+2*(1-p)*p*(b[2]-y[2])+p*p*(w[2]-b[2]),S=Math.sqrt(x*x+A*A),x/=S,A/=S,h=n.coords.usrCoords,d=[1,h[1]+x,h[2]+A]),h[2]*d[1]-h[1]*d[2])},function(){var c=Math.floor(n.position),h,d,p,v,y,b,w,x,A,S;if(a.bezierDegree===1)c===a.numberPoints-1&&c--;else if(a.bezierDegree===3)c=Math.floor(n.position*(a.numberPoints-1)/3)*3,p=(n.position*(a.numberPoints-1)-c)/3,c>=a.numberPoints-1&&(c=a.numberPoints-4,p=1);else return 0;return c<0?0:(a.bezierDegree===1?(h=a.points[c].usrCoords,d=a.points[c+1].usrCoords):(v=a.points[c].usrCoords,y=a.points[c+1].usrCoords,b=a.points[c+2].usrCoords,w=a.points[c+3].usrCoords,x=(1-p)*(1-p)*(y[1]-v[1])+2*(1-p)*p*(b[1]-y[1])+p*p*(w[1]-b[1]),A=(1-p)*(1-p)*(y[2]-v[2])+2*(1-p)*p*(b[2]-y[2])+p*p*(w[2]-b[2]),S=Math.sqrt(x*x+A*A),x/=S,A/=S,h=n.coords.usrCoords,d=[1,h[1]+x,h[2]+A]),d[2]-h[2])},function(){var c=Math.floor(n.position),h,d,p,v,y,b,w,x,A,S;if(a.bezierDegree===1)c===a.numberPoints-1&&c--;else if(a.bezierDegree===3)c=Math.floor(n.position*(a.numberPoints-1)/3)*3,p=(n.position*(a.numberPoints-1)-c)/3,c>=a.numberPoints-1&&(c=a.numberPoints-4,p=1);else return 0;return c<0?0:(a.bezierDegree===1?(h=a.points[c].usrCoords,d=a.points[c+1].usrCoords):(v=a.points[c].usrCoords,y=a.points[c+1].usrCoords,b=a.points[c+2].usrCoords,w=a.points[c+3].usrCoords,x=(1-p)*(1-p)*(y[1]-v[1])+2*(1-p)*p*(b[1]-y[1])+p*p*(w[1]-b[1]),A=(1-p)*(1-p)*(y[2]-v[2])+2*(1-p)*p*(b[2]-y[2])+p*p*(w[2]-b[2]),S=Math.sqrt(x*x+A*A),x/=S,A/=S,h=n.coords.usrCoords,d=[1,h[1]+x,h[2]+A]),h[1]-d[1])}],f),n.addChild(u),u.glider=n):a.type===Const.OBJECT_TYPE_TURTLE?(u=t.create("line",[function(){var c=Math.floor(n.position);for(o=0;o<a.objects.length;o++)if(l=a.objects[o],l.type===Const.OBJECT_TYPE_CURVE){if(c<l.numberPoints)break;c-=l.numberPoints}return c===l.numberPoints-1&&c--,c<0?1:l.Y(c)*l.X(c+1)-l.X(c)*l.Y(c+1)},function(){var c=Math.floor(n.position);for(o=0;o<a.objects.length;o++)if(l=a.objects[o],l.type===Const.OBJECT_TYPE_CURVE){if(c<l.numberPoints)break;c-=l.numberPoints}return c===l.numberPoints-1&&c--,c<0?0:l.Y(c+1)-l.Y(c)},function(){var c=Math.floor(n.position);for(o=0;o<a.objects.length;o++)if(l=a.objects[o],l.type===Const.OBJECT_TYPE_CURVE){if(c<l.numberPoints)break;c-=l.numberPoints}return c===l.numberPoints-1&&c--,c<0?0:l.X(c)-l.X(c+1)}],f),n.addChild(u),u.glider=n):(a.elementClass===Const.OBJECT_CLASS_CIRCLE||a.type===Const.OBJECT_TYPE_CONIC)&&(u=t.create("line",[function(){return Mat.matVecMult(a.quadraticform,n.coords.usrCoords)[0]},function(){return Mat.matVecMult(a.quadraticform,n.coords.usrCoords)[1]},function(){return Mat.matVecMult(a.quadraticform,n.coords.usrCoords)[2]}],f),n.addChild(u),u.glider=n),!JXG$1.exists(u))throw new Error("JSXGraph: Couldn't create tangent with the given parents.");return u.elType="tangent",u.type=Const.OBJECT_TYPE_TANGENT,u.setParents(r),u};JXG$1.createRadicalAxis=function(t,r,s){var n,a,o;if(r.length!==2||r[0].elementClass!==Const.OBJECT_CLASS_CIRCLE||r[1].elementClass!==Const.OBJECT_CLASS_CIRCLE)throw new Error("JSXGraph: Can't create 'radical axis' with parent types '"+typeof r[0]+"' and '"+typeof r[1]+`'.
Possible parent type: [circle,circle]`);return a=t.select(r[0]),o=t.select(r[1]),n=t.create("line",[function(){var l=a.stdform,u=o.stdform;return Mat.matVecMult(Mat.transpose([l.slice(0,3),u.slice(0,3)]),[u[3],-l[3]])}],s),n.elType="radicalaxis",n.setParents([a.id,o.id]),a.addChild(n),o.addChild(n),n};JXG$1.createPolarLine=function(t,r,s){var n,a,o,l,u,f,c;if(r.length>1&&(l=r[0].type===Const.OBJECT_TYPE_CONIC||r[0].elementClass===Const.OBJECT_CLASS_CIRCLE,u=r[1].type===Const.OBJECT_TYPE_CONIC||r[1].elementClass===Const.OBJECT_CLASS_CIRCLE,f=JXG$1.isPoint(r[0]),c=JXG$1.isPoint(r[1])),r.length!==2||!(l&&c||f&&u))throw new Error("JSXGraph: Can't create 'polar line' with parent types '"+typeof r[0]+"' and '"+typeof r[1]+`'.
Possible parent type: [conic|circle,point], [point,conic|circle]`);return c?(a=t.select(r[0]),o=t.select(r[1])):(a=t.select(r[1]),o=t.select(r[0])),n=t.create("tangent",[a,o],s),n.elType="polarline",n};JXG$1.registerElement("tangent",JXG$1.createTangent);JXG$1.registerElement("polar",JXG$1.createTangent);JXG$1.registerElement("radicalaxis",JXG$1.createRadicalAxis);JXG$1.registerElement("polarline",JXG$1.createPolarLine);JXG$1.Line;JXG$1.Group=function(t,r,s,n,a){var o,l,u,f;for(this.board=t,this.objects={},o=this.board.numObjects,this.board.numObjects+=1,r===""||!JXG$1.exists(r)?this.id=this.board.id+"Group"+o:this.id=r,this.board.groups[this.id]=this,this.type=Const.OBJECT_TYPE_POINT,this.elementClass=Const.OBJECT_CLASS_POINT,s===""||!JXG$1.exists(s)?this.name="group_"+this.board.generateName(this):this.name=s,delete this.type,this.coords={},this.needsRegularUpdate=a.needsregularupdate,this.rotationCenter="centroid",this.scaleCenter=null,this.rotationPoints=[],this.translationPoints=[],this.scalePoints=[],this.scaleDirections={},this.parents=[],JXG$1.isArray(n)?l=n:l=Array.prototype.slice.call(arguments,3),u=0;u<l.length;u++)f=this.board.select(l[u]),!JXG$1.evaluate(f.visProp.fixed)&&JXG$1.exists(f.coords)&&this.addPoint(f);this.methodMap={ungroup:"ungroup",add:"addPoint",addPoint:"addPoint",addPoints:"addPoints",addGroup:"addGroup",remove:"removePoint",removePoint:"removePoint",setAttribute:"setAttribute",setProperty:"setAttribute"}};JXG$1.extend(JXG$1.Group.prototype,{ungroup:function(){var t,r,s;for(t in this.objects)this.objects.hasOwnProperty(t)&&(r=this.objects[t].point,JXG$1.isArray(r.groups)&&(s=JXG$1.indexOf(r.groups,this.id),s>=0&&delete r.groups[s]));return this.objects={},this},addParents:function(t){var r,s,n;for(JXG$1.isArray(t)?n=t:n=arguments,s=n.length,r=0;r<s;++r)JXG$1.isId(this.board,n[r])?this.parents.push(n[r]):JXG$1.exists(n[r].id)&&this.parents.push(n[r].id);this.parents=JXG$1.uniqueArray(this.parents)},setParents:function(t){return this.parents=[],this.addParents(t),this},getParents:function(){return JXG$1.isArray(this.parents)?this.parents:[]},_updateCoordsCache:function(t){var r;t!==""&&JXG$1.exists(this.objects[t])&&(r=this.objects[t].point,this.coords[r.id]={usrCoords:r.coords.usrCoords.slice(0)})},update:function(){var t,r,s,n,a,o,l,u,f,c,h=null;if(!this.needsUpdate)return this;if(t=this._update_find_drag_type(),t.action==="nothing")return this._updateCoordsCache(t.id),this;if(h=this.objects[t.id].point,t.action==="translation")f=[h.coords.usrCoords[1]-this.coords[t.id].usrCoords[1],h.coords.usrCoords[2]-this.coords[t.id].usrCoords[2]];else if(t.action==="rotation"||t.action==="scaling"){if(t.action==="rotation"?s="rotationCenter":s="scaleCenter",JXG$1.isPoint(this[s]))c=this[s].coords.usrCoords.slice(1);else if(this[s]==="centroid")c=this._update_centroid_center();else if(JXG$1.isArray(this[s]))c=this[s];else if(JXG$1.isFunction(this[s]))c=this[s]();else return this;if(t.action==="rotation")u=Geometry.rad(this.coords[t.id].usrCoords.slice(1),c,this.objects[t.id].point),f=this.board.create("transform",[u,c[0],c[1]],{type:"rotate"}),f.update();else if(t.action==="scaling"){if(a=Geometry.distance(this.coords[t.id].usrCoords.slice(1),c),Math.abs(a)<Mat.eps)return this;a=Geometry.distance(h.coords.usrCoords.slice(1),c)/a,o=this.scaleDirections[t.id].indexOf("x")>=0?a:1,l=this.scaleDirections[t.id].indexOf("y")>=0?a:1,f=this.board.create("transform",[1,0,0,c[0]*(1-o),o,0,c[1]*(1-l),0,l],{type:"generic"}),f.update()}else return this}this._update_apply_transformation(t,f),this.needsUpdate=!1;for(r in this.objects)if(this.objects.hasOwnProperty(r))for(n in this.objects[r].descendants)this.objects[r].descendants.hasOwnProperty(n)&&(this.objects[r].descendants.needsUpdate=this.objects[r].descendants.needsRegularUpdate||this.board.needsFullUpdate);this.board.updateElements(t);for(r in this.objects)this.objects.hasOwnProperty(r)&&this._updateCoordsCache(r);return this},_update_find_drag_type:function(){var t,r,s="nothing",n=[],a;for(t in this.objects)this.objects.hasOwnProperty(t)&&(r=this.objects[t].point,r.coords.distance(Const.COORDS_BY_USER,this.coords[t])>Mat.eps&&n.push(r.id));return n.length===0?{action:s,id:"",changed:n}:(a=n[0],r=this.objects[a].point,n.length>1?s="translation":JXG$1.isInArray(this.rotationPoints,r)&&JXG$1.exists(this.rotationCenter)?s="rotation":JXG$1.isInArray(this.scalePoints,r)&&JXG$1.exists(this.scaleCenter)?s="scaling":JXG$1.isInArray(this.translationPoints,r)&&(s="translation"),{action:s,id:a,changed:n})},_update_centroid_center:function(){var t,r,s;t=[0,0],r=0;for(s in this.coords)this.coords.hasOwnProperty(s)&&(t[0]+=this.coords[s].usrCoords[1],t[1]+=this.coords[s].usrCoords[2],++r);return r>0&&(t[0]/=r,t[1]/=r),t},_update_apply_transformation:function(t,r){var s,n;for(s in this.objects)this.objects.hasOwnProperty(s)&&(JXG$1.exists(this.board.objects[s])?(n=this.objects[s].point,n.id!==t.id?t.action==="translation"?JXG$1.isInArray(t.changed,n.id)||n.coords.setCoordinates(Const.COORDS_BY_USER,[this.coords[s].usrCoords[1]+r[0],this.coords[s].usrCoords[2]+r[1]]):(t.action==="rotation"||t.action==="scaling")&&r.applyOnce([n]):(t.action==="rotation"||t.action==="scaling")&&n.coords.setCoordinates(Const.COORDS_BY_USER,Mat.matVecMult(r.matrix,this.coords[n.id].usrCoords))):delete this.objects[s])},addPoint:function(t){return this.objects[t.id]={point:this.board.select(t)},this._updateCoordsCache(t.id),this.translationPoints.push(t),t.groups.push(this.id),t.groups=JXG$1.uniqueArray(t.groups),this},addPoints:function(t){var r;for(r=0;r<t.length;r++)this.addPoint(t[r]);return this},addGroup:function(t){var r;for(r in t.objects)t.objects.hasOwnProperty(r)&&this.addPoint(t.objects[r].point);return this},removePoint:function(t){return delete this.objects[t.id],this},setRotationCenter:function(t){return this.rotationCenter=t,this},setRotationPoints:function(t){return this._setActionPoints("rotation",t)},addRotationPoint:function(t){return this._addActionPoint("rotation",t)},removeRotationPoint:function(t){return this._removeActionPoint("rotation",t)},setTranslationPoints:function(t){return this._setActionPoints("translation",t)},addTranslationPoint:function(t){return this._addActionPoint("translation",t)},removeTranslationPoint:function(t){return this._removeActionPoint("translation",t)},setScaleCenter:function(t){return this.scaleCenter=t,this},setScalePoints:function(t,r){var s,n,a;for(JXG$1.isArray(t)?s=t:s=arguments,a=s.length,n=0;n<a;++n)this.scaleDirections[this.board.select(s[n]).id]=r||"xy";return this._setActionPoints("scale",t)},addScalePoint:function(t,r){return this._addActionPoint("scale",t),this.scaleDirections[this.board.select(t).id]=r||"xy",this},removeScalePoint:function(t){return this._removeActionPoint("scale",t)},_setActionPoints:function(t,r){var s,n,a;for(JXG$1.isArray(r)?s=r:s=arguments,a=s.length,this[t+"Points"]=[],n=0;n<a;++n)this._addActionPoint(t,s[n]);return this},_addActionPoint:function(t,r){return this[t+"Points"].push(this.board.select(r)),this},_removeActionPoint:function(t,r){var s=this[t+"Points"].indexOf(this.board.select(r));return s>-1&&this[t+"Points"].splice(s,1),this},setProperty:function(){JXG$1.deprecated("Group.setProperty","Group.setAttribute()"),this.setAttribute.apply(this,arguments)},setAttribute:function(){var t;for(t in this.objects)this.objects.hasOwnProperty(t)&&this.objects[t].point.setAttribute.apply(this.objects[t].point,arguments);return this}});JXG$1.createGroup=function(t,r,s){var n=JXG$1.copyAttributes(s,t.options,"group"),a=new JXG$1.Group(t,n.id,n.name,r,n);return a.elType="group",a.setParents(r),a};JXG$1.registerElement("group",JXG$1.createGroup);JXG$1.Group;JXG$1.Circle=function(t,r,s,n,a){this.constructor(t,a,Const.OBJECT_TYPE_CIRCLE,Const.OBJECT_CLASS_CIRCLE),this.method=r,this.midpoint=this.board.select(s),this.center=this.board.select(s),this.point2=null,this.radius=0,this.line=null,this.circle=null,this.points=[],r==="twoPoints"?(this.point2=t.select(n),this.radius=this.Radius()):r==="pointRadius"?(this.gxtterm=n,this.updateRadius=JXG$1.createFunction(n,this.board,null,!0),this.updateRadius(),this.addParentsFromJCFunctions([this.updateRadius])):r==="pointLine"?(this.line=t.select(n),this.radius=this.line.point1.coords.distance(Const.COORDS_BY_USER,this.line.point2.coords)):r==="pointCircle"&&(this.circle=t.select(n),this.radius=this.circle.Radius()),this.id=this.board.setId(this,"C"),this.board.renderer.drawEllipse(this),this.board.finalizeAdding(this),this.createGradient(),this.elType="circle",this.createLabel(),JXG$1.exists(this.center._is_new)?(this.addChild(this.center),delete this.center._is_new):this.center.addChild(this),r==="pointRadius"?this.notifyParents(n):r==="pointLine"?this.line.addChild(this):r==="pointCircle"?this.circle.addChild(this):r==="twoPoints"&&(JXG$1.exists(this.point2._is_new)?(this.addChild(this.point2),delete this.point2._is_new):this.point2.addChild(this)),this.methodMap=JXG$1.deepCopy(this.methodMap,{setRadius:"setRadius",getRadius:"getRadius",Area:"Area",area:"Area",radius:"Radius",center:"center",line:"line",point2:"point2"})};JXG$1.Circle.prototype=new GeometryElement;JXG$1.extend(JXG$1.Circle.prototype,{hasPoint:function(t,r){var s,n,a=this.center.coords.usrCoords,o=new Coords(Const.COORDS_BY_SCREEN,[t,r],this.board),l=this.Radius(),u,f,c;return JXG$1.isObject(JXG$1.evaluate(this.visProp.precision))?(n=this.board._inputDevice,s=JXG$1.evaluate(this.visProp.precision[n])):s=this.board.options.precision.hasPoint,u=a[1]-o.usrCoords[1],f=a[2]-o.usrCoords[2],c=Math.sqrt(u*u+f*f),s+=JXG$1.evaluate(this.visProp.strokewidth)*.5,s/=Math.sqrt(Math.abs(this.board.unitX*this.board.unitY)),JXG$1.evaluate(this.visProp.hasinnerpoints)?c<l+s:Math.abs(c-l)<s},generatePolynomial:function(t){var r=this.center.symbolic.x,s=this.center.symbolic.y,n=t.symbolic.x,a=t.symbolic.y,o=this.generateRadiusSquared();return o===""?[]:["(("+n+")-("+r+"))^2 + (("+a+")-("+s+"))^2 - ("+o+")"]},generateRadiusSquared:function(){var t,r,s,n,a,o,l="";return this.method==="twoPoints"?(t=this.center.symbolic.x,r=this.center.symbolic.y,s=this.point2.symbolic.x,n=this.point2.symbolic.y,l="(("+s+")-("+t+"))^2 + (("+n+")-("+r+"))^2"):this.method==="pointRadius"?JXG$1.isNumber(this.radius)&&(l=(this.radius*this.radius).toString()):this.method==="pointLine"?(s=this.line.point1.symbolic.x,n=this.line.point1.symbolic.y,a=this.line.point2.symbolic.x,o=this.line.point2.symbolic.y,l="(("+s+")-("+a+"))^2 + (("+n+")-("+o+"))^2"):this.method==="pointCircle"&&(l=this.circle.Radius()),l},update:function(){var t,r,s,n,a,o;if(this.needsUpdate)for(JXG$1.evaluate(this.visProp.trace)&&this.cloneToBackground(!0),this.method==="pointLine"?this.radius=this.line.point1.coords.distance(Const.COORDS_BY_USER,this.line.point2.coords):this.method==="pointCircle"?this.radius=this.circle.Radius():this.method==="pointRadius"&&(this.radius=this.updateRadius()),this.updateStdform(),this.updateQuadraticform(),s=this.center.coords.usrCoords[0],t=this.center.coords.usrCoords[1]/s,r=this.center.coords.usrCoords[2]/s,s/=s,n=this.Radius(),a=.551915024494,this.numberPoints=13,this.dataX=[t+n,t+n,t+n*a,t,t-n*a,t-n,t-n,t-n,t-n*a,t,t+n*a,t+n,t+n],this.dataY=[r,r+n*a,r+n,r+n,r+n,r+n*a,r,r-n*a,r-n,r-n,r-n,r-n*a,r],this.bezierDegree=3,o=0;o<this.numberPoints;o++)this.points[o]=new Coords(Const.COORDS_BY_USER,[this.dataX[o],this.dataY[o]],this.board);return this},updateQuadraticform:function(){var t=this.center,r=t.X(),s=t.Y(),n=this.Radius();this.quadraticform=[[r*r+s*s-n*n,-r,-s],[-r,1,0],[-s,0,1]]},updateStdform:function(){this.stdform[3]=.5,this.stdform[4]=this.Radius(),this.stdform[1]=-this.center.coords.usrCoords[1],this.stdform[2]=-this.center.coords.usrCoords[2],isFinite(this.stdform[4])||(this.stdform[0]=JXG$1.exists(this.point2)?-(this.stdform[1]*this.point2.coords.usrCoords[1]+this.stdform[2]*this.point2.coords.usrCoords[2]):0),this.normalize()},updateRenderer:function(){return this.needsUpdate?(this.visPropCalc.visible&&(this.isReal=!isNaN(this.center.coords.usrCoords[1]+this.center.coords.usrCoords[2]+this.Radius())&&this.center.isReal,this.isReal||this.updateVisibility(!1)),this.visPropCalc.visible&&this.board.renderer.updateEllipse(this),this.hasLabel&&this.visPropCalc.visible&&this.label&&this.label.visPropCalc.visible&&this.isReal&&(this.label.update(),this.board.renderer.updateText(this.label)),this.setDisplayRendNode(),this.needsUpdate=!1,this):this},notifyParents:function(t){JXG$1.isString(t)&&GeonextParser.findDependencies(this,t,this.board)},setRadius:function(t){return this.updateRadius=JXG$1.createFunction(t,this.board,null,!0),this.addParentsFromJCFunctions([this.updateRadius]),this.board.update(),this},Radius:function(t){return JXG$1.exists(t)?(this.setRadius(t),this.Radius()):this.method==="twoPoints"?JXG$1.cmpArrays(this.point2.coords.usrCoords,[0,0,0])||JXG$1.cmpArrays(this.center.coords.usrCoords,[0,0,0])?NaN:this.center.Dist(this.point2):this.method==="pointLine"||this.method==="pointCircle"?this.radius:this.method==="pointRadius"?this.updateRadius():NaN},getRadius:function(){return JXG$1.deprecated("Circle.getRadius()","Circle.Radius()"),this.Radius()},getTextAnchor:function(){return this.center.coords},getLabelAnchor:function(){var t,r,s=this.Radius(),n=this.center.coords.usrCoords,a=.7071067811865;switch(JXG$1.evaluate(this.visProp.label.position)){case"lft":t=n[1]-s,r=n[2];break;case"llft":t=n[1]-a*s,r=n[2]-a*s;break;case"rt":t=n[1]+s,r=n[2];break;case"lrt":t=n[1]+a*s,r=n[2]-a*s;break;case"urt":t=n[1]+a*s,r=n[2]+a*s;break;case"top":t=n[1],r=n[2]+s;break;case"bot":t=n[1],r=n[2]-s;break;default:t=n[1]-a*s,r=n[2]+a*s;break}return new Coords(Const.COORDS_BY_USER,[t,r],this.board)},cloneToBackground:function(){var t,r=this.Radius(),s={id:this.id+"T"+this.numTraces,elementClass:Const.OBJECT_CLASS_CIRCLE,center:{coords:this.center.coords},Radius:function(){return r},getRadius:function(){return r},board:this.board,visProp:JXG$1.deepCopy(this.visProp,this.visProp.traceattributes,!0)};return s.visProp.layer=this.board.options.layer.trace,this.numTraces++,JXG$1.clearVisPropOld(s),s.visPropCalc={visible:JXG$1.evaluate(s.visProp.visible)},t=this.board.renderer.enhancedRendering,this.board.renderer.enhancedRendering=!0,this.board.renderer.drawEllipse(s),this.board.renderer.enhancedRendering=t,this.traces[s.id]=s.rendNode,this},addTransform:function(t){var r,s=JXG$1.isArray(t)?t:[t],n=s.length;for(r=0;r<n;r++)this.center.transformations.push(s[r]),this.method==="twoPoints"&&this.point2.transformations.push(s[r]);return this},snapToGrid:function(){var t=JXG$1.evaluate(this.visProp.snaptogrid);return this.center.handleSnapToGrid(t,!0),this.method==="twoPoints"&&this.point2.handleSnapToGrid(t,!0),this},snapToPoints:function(){var t=JXG$1.evaluate(this.visProp.snaptopoints);return this.center.handleSnapToPoints(t),this.method==="twoPoints"&&this.point2.handleSnapToPoints(t),this},X:function(t){return this.Radius()*Math.cos(t*2*Math.PI)+this.center.coords.usrCoords[1]},Y:function(t){return this.Radius()*Math.sin(t*2*Math.PI)+this.center.coords.usrCoords[2]},Z:function(t){return 1},minX:function(){return 0},maxX:function(){return 1},Area:function(){var t=this.Radius();return t*t*Math.PI},Perimeter:function(){return 2*this.Radius()*Math.PI},bounds:function(){var t=this.center.coords.usrCoords,r=this.Radius();return[t[1]-r,t[2]+r,t[1]+r,t[2]-r]},getParents:function(){return this.parents.length===1?this.parents.concat(this.radius):this.parents}});JXG$1.createCircle=function(t,r,s){var n,a,o,l,u,f=!0,c=["center","point2"];if(a=[],u=t.select(r[0]),JXG$1.isObject(u)&&u.elementClass===Const.OBJECT_CLASS_CIRCLE&&JXG$1.isTransformationOrArray(r[1]))return l=JXG$1.copyAttributes(s,t.options,"circle"),n=JXG$1.createEllipse(t,[u.center,u.center,function(){return 2*u.Radius()}],l),n.addTransform(r[1]),n;for(o=0;o<r.length;o++)if(JXG$1.isPointType(t,r[o])){if(a=a.concat(JXG$1.providePoints(t,[r[o]],s,"circle",[c[o]])),a[a.length-1]===!1)throw new Error("JSXGraph: Can't create circle from this type. Please provide a point type.")}else a.push(r[o]);if(l=JXG$1.copyAttributes(s,t.options,"circle"),a.length===2&&JXG$1.isPoint(a[0])&&JXG$1.isPoint(a[1]))n=new JXG$1.Circle(t,"twoPoints",a[0],a[1],l);else if((JXG$1.isNumber(a[0])||JXG$1.isFunction(a[0])||JXG$1.isString(a[0]))&&JXG$1.isPoint(a[1]))n=new JXG$1.Circle(t,"pointRadius",a[1],a[0],l);else if((JXG$1.isNumber(a[1])||JXG$1.isFunction(a[1])||JXG$1.isString(a[1]))&&JXG$1.isPoint(a[0]))n=new JXG$1.Circle(t,"pointRadius",a[0],a[1],l);else if(a[0].elementClass===Const.OBJECT_CLASS_CIRCLE&&JXG$1.isPoint(a[1]))n=new JXG$1.Circle(t,"pointCircle",a[1],a[0],l);else if(a[1].elementClass===Const.OBJECT_CLASS_CIRCLE&&JXG$1.isPoint(a[0]))n=new JXG$1.Circle(t,"pointCircle",a[0],a[1],l);else if(a[0].elementClass===Const.OBJECT_CLASS_LINE&&JXG$1.isPoint(a[1]))n=new JXG$1.Circle(t,"pointLine",a[1],a[0],l);else if(a[1].elementClass===Const.OBJECT_CLASS_LINE&&JXG$1.isPoint(a[0]))n=new JXG$1.Circle(t,"pointLine",a[0],a[1],l);else if(r.length===3&&JXG$1.isPoint(a[0])&&JXG$1.isPoint(a[1])&&JXG$1.isPoint(a[2]))if(JXG$1.elements.circumcircle)n=JXG$1.elements.circumcircle(t,a,l);else throw new Error("JSXGraph: Can't create circle with three points. Please include the circumcircle element (element/composition).");else throw new Error("JSXGraph: Can't create circle with parent types '"+typeof r[0]+"' and '"+typeof r[1]+`'.
Possible parent types: [point,point], [point,number], [point,function], [point,circle], [point,point,point], [circle,transformation]`);for(n.isDraggable=f,n.setParents(a),n.elType="circle",o=0;o<a.length;o++)JXG$1.isPoint(a[o])&&n.inherits.push(a[o]);return n};JXG$1.registerElement("circle",JXG$1.createCircle);const Circle=JXG$1.Circle;JXG$1.createEllipse=function(t,r,s){var n,a,o,l,u,f,c,h=[],d=JXG$1.copyAttributes(s,t.options,"conic","foci"),p=JXG$1.copyAttributes(s,t.options,"conic","center"),v=JXG$1.copyAttributes(s,t.options,"conic");for(f=0;f<2;f++)if(r[f].length>1)h[f]=t.create("point",r[f],d);else if(JXG$1.isPoint(r[f]))h[f]=t.select(r[f]);else if(JXG$1.isFunction(r[f])&&JXG$1.isPoint(r[f]()))h[f]=r[f]();else if(JXG$1.isString(r[f]))h[f]=t.select(r[f]);else throw new Error("JSXGraph: Can't create Ellipse with parent types '"+typeof r[0]+"' and '"+typeof r[1]+`'.
Possible parent types: [point,point,point], [point,point,number|function]`);if(JXG$1.isNumber(r[2]))u=JXG$1.createFunction(r[2],t);else if(JXG$1.isFunction(r[2])&&JXG$1.isNumber(r[2]()))u=r[2];else{if(JXG$1.isPoint(r[2]))l=t.select(r[2]);else if(r[2].length>1)l=t.create("point",r[2],d);else if(JXG$1.isFunction(r[2])&&JXG$1.isPoint(r[2]()))l=r[2]();else if(JXG$1.isString(r[2]))l=t.select(r[2]);else throw new Error("JSXGraph: Can't create Ellipse with parent types '"+typeof r[0]+"' and '"+typeof r[1]+"' and '"+typeof r[2]+`'.
Possible parent types: [point,point,point], [point,point,number|function]`);u=function(){return l.Dist(h[0])+l.Dist(h[1])}}for(JXG$1.exists(r[4])||(r[4]=2*Math.PI),JXG$1.exists(r[3])||(r[3]=0),o=t.create("point",[function(){return(h[0].X()+h[1].X())*.5},function(){return(h[0].Y()+h[1].Y())*.5}],p),a=t.create("curve",[function(y){return 0},function(y){return 0},r[3],r[4]],v),a.majorAxis=u,c=a.hasPoint,n=function(y,b){var w,x,A,S,_,$,M,T,O;b||(w=u(),x=w*w,A=h[0].X(),S=h[0].Y(),_=h[1].X(),$=h[1].Y(),M=A-_,T=S-$,O=(x-A*A-S*S+_*_+$*$)/(2*w),a.quadraticform=[[O*O-_*_-$*$,O*M/w+_,O*T/w+$],[O*M/w+_,M*M/x-1,M*T/x],[O*T/w+$,M*T/x,T*T/x-1]])},a.X=function(y,b){var w=u(),x=h[1].Dist(h[0]),A=.5*(x*x-w*w)/(x*Math.cos(y)-w),S=Math.atan2(h[1].Y()-h[0].Y(),h[1].X()-h[0].X());return b||n(y,b),h[0].X()+Math.cos(S+y)*A},a.Y=function(y,b){var w=u(),x=h[1].Dist(h[0]),A=.5*(x*x-w*w)/(x*Math.cos(y)-w),S=Math.atan2(h[1].Y()-h[0].Y(),h[1].X()-h[0].X());return h[0].Y()+Math.sin(S+y)*A},a.midpoint=a.center=o,a.type=Const.OBJECT_TYPE_CONIC,a.subs={center:a.center},a.inherits.push(a.center,h[0],h[1]),JXG$1.isPoint(l)&&a.inherits.push(l),a.hasPoint=function(y,b){var w,x,A,S,_;return JXG$1.evaluate(this.visProp.hasinnerpoints)?(w=h[0].coords,x=h[1].coords,A=this.majorAxis(),S=new Coords(Const.COORDS_BY_SCREEN,[y,b],this.board),_=S.distance(Const.COORDS_BY_USER,w)+S.distance(Const.COORDS_BY_USER,x),_<=A):c.apply(this,arguments)},o.addChild(a),f=0;f<2;f++)JXG$1.isPoint(h[f])&&h[f].addChild(a);return JXG$1.isPoint(l)&&l.addChild(a),a.setParents(r),a};JXG$1.createHyperbola=function(t,r,s){var n,a,o,l,u,f,c=[],h=JXG$1.copyAttributes(s,t.options,"conic","foci"),d=JXG$1.copyAttributes(s,t.options,"conic","center"),p=JXG$1.copyAttributes(s,t.options,"conic");for(f=0;f<2;f++)if(r[f].length>1)c[f]=t.create("point",r[f],h);else if(JXG$1.isPoint(r[f]))c[f]=t.select(r[f]);else if(JXG$1.isFunction(r[f])&&JXG$1.isPoint(r[f]()))c[f]=r[f]();else if(JXG$1.isString(r[f]))c[f]=t.select(r[f]);else throw new Error("JSXGraph: Can't create Hyperbola with parent types '"+typeof r[0]+"' and '"+typeof r[1]+`'.
Possible parent types: [point,point,point], [point,point,number|function]`);if(JXG$1.isNumber(r[2]))u=JXG$1.createFunction(r[2],t);else if(JXG$1.isFunction(r[2])&&JXG$1.isNumber(r[2]()))u=r[2];else{if(JXG$1.isPoint(r[2]))l=t.select(r[2]);else if(r[2].length>1)l=t.create("point",r[2],h);else if(JXG$1.isFunction(r[2])&&JXG$1.isPoint(r[2]()))l=r[2]();else if(JXG$1.isString(r[2]))l=t.select(r[2]);else throw new Error("JSXGraph: Can't create Hyperbola with parent types '"+typeof r[0]+"' and '"+typeof r[1]+"' and '"+typeof r[2]+`'.
Possible parent types: [point,point,point], [point,point,number|function]`);u=function(){return l.Dist(c[0])-l.Dist(c[1])}}for(JXG$1.exists(r[4])||(r[4]=1.0001*Math.PI),JXG$1.exists(r[3])||(r[3]=-1.0001*Math.PI),o=t.create("point",[function(){return(c[0].X()+c[1].X())*.5},function(){return(c[0].Y()+c[1].Y())*.5}],d),a=t.create("curve",[function(v){return 0},function(v){return 0},r[3],r[4]],p),a.majorAxis=u,n=function(v,y){var b,w,x,A,S,_,$,M,T;y||(b=u(),w=b*b,x=c[0].X(),A=c[0].Y(),S=c[1].X(),_=c[1].Y(),$=x-S,M=A-_,T=(w-x*x-A*A+S*S+_*_)/(2*b),a.quadraticform=[[T*T-S*S-_*_,T*$/b+S,T*M/b+_],[T*$/b+S,$*$/w-1,$*M/w],[T*M/b+_,$*M/w,M*M/w-1]])},a.X=function(v,y){var b=u(),w=c[1].Dist(c[0]),x=.5*(w*w-b*b)/(w*Math.cos(v)+b),A=Math.atan2(c[1].Y()-c[0].Y(),c[1].X()-c[0].X());return y||n(v,y),c[0].X()+Math.cos(A+v)*x},a.Y=function(v,y){var b=u(),w=c[1].Dist(c[0]),x=.5*(w*w-b*b)/(w*Math.cos(v)+b),A=Math.atan2(c[1].Y()-c[0].Y(),c[1].X()-c[0].X());return c[0].Y()+Math.sin(A+v)*x},a.midpoint=a.center=o,a.subs={center:a.center},a.inherits.push(a.center,c[0],c[1]),JXG$1.isPoint(l)&&a.inherits.push(l),a.type=Const.OBJECT_TYPE_CONIC,o.addChild(a),f=0;f<2;f++)JXG$1.isPoint(c[f])&&c[f].addChild(a);return JXG$1.isPoint(l)&&l.addChild(a),a.setParents(r),a};JXG$1.createParabola=function(t,r,s){var n,a,o,l=r[0],u=r[1],f=JXG$1.copyAttributes(s,t.options,"conic","foci"),c=JXG$1.copyAttributes(s,t.options,"conic","center"),h=JXG$1.copyAttributes(s,t.options,"conic"),d;if(r[0].length>1)l=t.create("point",r[0],f);else if(JXG$1.isPoint(r[0]))l=t.select(r[0]);else if(JXG$1.isFunction(r[0])&&JXG$1.isPoint(r[0]()))l=r[0]();else if(JXG$1.isString(r[0]))l=t.select(r[0]);else throw new Error("JSXGraph: Can't create Parabola with parent types '"+typeof r[0]+"' and '"+typeof r[1]+`'.
Possible parent types: [point,line]`);return JXG$1.isArray(u)&&u.length===2&&(d=JXG$1.copyAttributes(s,t.options,"conic","line"),u=t.create("line",u,d)),JXG$1.exists(r[3])||(r[3]=2*Math.PI),JXG$1.exists(r[2])||(r[2]=0),o=t.create("point",[function(){return Geometry.projectPointToLine(l,u,t).usrCoords}],c),a=t.create("curve",[function(p){return 0},function(p){return 0},r[2],r[3]],h),a.midpoint=a.center=o,a.subs={center:a.center},a.inherits.push(a.center),n=function(p,v){var y,b,w,x,A,S;v||(y=u.stdform[1],b=u.stdform[2],w=u.stdform[0],x=y*y+b*b,A=l.X(),S=l.Y(),a.quadraticform=[[w*w-x*(A*A+S*S),w*y+x*A,w*b+x*S],[w*y+x*A,-b*b,y*b],[w*b+x*S,y*b,-y*y]])},a.X=function(p,v){var y,b,w=u.getAngle(),x=Geometry.distPointLine(l.coords.usrCoords,u.stdform),A=u.point1.coords.usrCoords,S=u.point2.coords.usrCoords,_=l.coords.usrCoords;return A[0]===0?A=[1,S[1]+u.stdform[2],S[2]-u.stdform[1]]:S[0]===0&&(S=[1,A[1]+u.stdform[2],A[2]-u.stdform[1]]),b=(S[1]-A[1])*(_[2]-A[2])-(S[2]-A[2])*(_[1]-A[1])>=0?1:-1,y=b*x/(1-Math.sin(p)),v||n(p,v),l.X()+Math.cos(p+w)*y},a.Y=function(p,v){var y,b,w=u.getAngle(),x=Geometry.distPointLine(l.coords.usrCoords,u.stdform),A=u.point1.coords.usrCoords,S=u.point2.coords.usrCoords,_=l.coords.usrCoords;return A[0]===0?A=[1,S[1]+u.stdform[2],S[2]-u.stdform[1]]:S[0]===0&&(S=[1,A[1]+u.stdform[2],A[2]-u.stdform[1]]),b=(S[1]-A[1])*(_[2]-A[2])-(S[2]-A[2])*(_[1]-A[1])>=0?1:-1,y=b*x/(1-Math.sin(p)),l.Y()+Math.sin(p+w)*y},a.type=Const.OBJECT_TYPE_CONIC,o.addChild(a),JXG$1.isPoint(l)&&(l.addChild(a),a.inherits.push(l)),u.addChild(a),a.setParents(r),a};JXG$1.createConic=function(t,r,s){var n,a,o,l,u,f,c,h,d,p,v,y,b,w,x=[[1,0,0],[0,1,0],[0,0,1]],A=[[1,0,0],[0,1,0],[0,0,1]],S=[],_=[],$=JXG$1.copyAttributes(s,t.options,"conic","point"),M=JXG$1.copyAttributes(s,t.options,"conic","center"),T=JXG$1.copyAttributes(s,t.options,"conic");if(r.length===5)w=!0;else if(r.length===6)w=!1;else throw new Error("JSXGraph: Can't create generic Conic with "+r.length+" parameters.");if(w)for(y=0;y<5;y++)if(r[y].length>1)S[y]=t.create("point",r[y],$);else if(JXG$1.isPoint(r[y]))S[y]=t.select(r[y]);else if(JXG$1.isFunction(r[y])&&JXG$1.isPoint(r[y]()))S[y]=r[y]();else if(JXG$1.isString(r[y]))S[y]=t.select(r[y]);else throw new Error("JSXGraph: Can't create Conic section with parent types '"+typeof r[y]+`'.
Possible parent types: [point,point,point,point,point], [a00,a11,a22,a01,a02,a12]`);else b=[[0,0,0],[0,0,0],[0,0,0]],b[0][0]=JXG$1.isFunction(r[2])?function(){return r[2]()}:function(){return r[2]},b[0][1]=JXG$1.isFunction(r[4])?function(){return r[4]()}:function(){return r[4]},b[0][2]=JXG$1.isFunction(r[5])?function(){return r[5]()}:function(){return r[5]},b[1][1]=JXG$1.isFunction(r[0])?function(){return r[0]()}:function(){return r[0]},b[1][2]=JXG$1.isFunction(r[3])?function(){return r[3]()}:function(){return r[3]},b[2][2]=JXG$1.isFunction(r[1])?function(){return r[1]()}:function(){return r[1]};if(u=function(O){var B,J;for(B=0;B<3;B++)for(J=B;J<3;J++)O[B][J]+=O[J][B];for(B=0;B<3;B++)for(J=0;J<B;J++)O[B][J]=O[J][B];return O},l=function(O,B){var J,F,z=[[0,0,0],[0,0,0],[0,0,0]];for(J=0;J<3;J++)for(F=0;F<3;F++)z[J][F]=O[J]*B[F];return u(z)},o=function(O,B,J){var F,z,Z,se,ie,U=[[0,0,0],[0,0,0],[0,0,0]];for(ie=Mat.matVecMult(B,J),Z=Mat.innerProduct(J,ie),ie=Mat.matVecMult(O,J),se=Mat.innerProduct(J,ie),F=0;F<3;F++)for(z=0;z<3;z++)U[F][z]=Z*O[F][z]-se*B[F][z];return U},a=t.create("curve",[function(O){return 0},function(O){return 0},0,2*Math.PI],T),n=function(O,B){var J,F,z,Z;if(!B){if(w){for(J=0;J<5;J++)_[J]=S[J].coords.usrCoords;p=l(Mat.crossProduct(_[0],_[1]),Mat.crossProduct(_[2],_[3])),v=l(Mat.crossProduct(_[0],_[2]),Mat.crossProduct(_[1],_[3])),A=o(p,v,_[4])}else for(J=0;J<3;J++)for(F=J;F<3;F++)A[J][F]=b[J][F](),F>J&&(A[F][J]=A[J][F]);for(a.quadraticform=A,f=Numerics.Jacobi(A),f[0][0][0]<0&&(f[0][0][0]*=-1,f[0][1][1]*=-1,f[0][2][2]*=-1),J=0;J<3;J++){for(z=0,F=0;F<3;F++)z+=f[1][F][J]*f[1][F][J];z=Math.sqrt(z)}x=f[1],d=Math.sqrt(Math.abs(f[0][0][0])),c=Math.sqrt(Math.abs(f[0][1][1])),h=Math.sqrt(Math.abs(f[0][2][2]))}return f[0][1][1]<=0&&f[0][2][2]<=0?Z=Mat.matVecMult(x,[1/d,Math.cos(O)/c,Math.sin(O)/h]):f[0][1][1]<=0&&f[0][2][2]>0?Z=Mat.matVecMult(x,[Math.cos(O)/d,1/c,Math.sin(O)/h]):f[0][2][2]<0&&(Z=Mat.matVecMult(x,[Math.sin(O)/d,Math.cos(O)/c,1/h])),JXG$1.exists(Z)?(Z[1]/=Z[0],Z[2]/=Z[0],Z[0]=1):Z=[1,NaN,NaN],Z},a.X=function(O,B){return n(O,B)[1]},a.Y=function(O,B){return n(O,B)[2]},a.midpoint=t.create("point",[function(){var O=a.quadraticform;return[O[1][1]*O[2][2]-O[1][2]*O[1][2],O[1][2]*O[0][2]-O[2][2]*O[0][1],O[0][1]*O[1][2]-O[1][1]*O[0][2]]}],M),a.type=Const.OBJECT_TYPE_CONIC,a.center=a.midpoint,a.subs={center:a.center},a.inherits.push(a.center),a.inherits=a.inherits.concat(S),w){for(y=0;y<5;y++)JXG$1.isPoint(S[y])&&S[y].addChild(a);a.setParents(r)}return a.addChild(a.center),a};JXG$1.registerElement("ellipse",JXG$1.createEllipse);JXG$1.registerElement("hyperbola",JXG$1.createHyperbola);JXG$1.registerElement("parabola",JXG$1.createParabola);JXG$1.registerElement("conic",JXG$1.createConic);JXG$1.Polygon=function(t,r,s){this.constructor(t,s,Const.OBJECT_TYPE_POLYGON,Const.OBJECT_CLASS_AREA);var n,a,o,l,u,f=JXG$1.copyAttributes(s,t.options,"polygon","borders");for(this.withLines=s.withlines,this.attr_line=f,this.vertices=[],n=0;n<r.length;n++)this.vertices[n]=this.board.select(r[n]),this.vertices[n]._is_new&&(delete this.vertices[n]._is_new,this.vertices[n]._is_new_pol=!0);if(this.vertices.length>0&&this.vertices[this.vertices.length-1].id!==this.vertices[0].id&&this.vertices.push(this.vertices[0]),this.borders=[],this.withLines)for(o=this.vertices.length-1,l=0;l<o;l++)n=(l+1)%o,f.id=f.ids&&f.ids[n],f.name=f.names&&f.names[n],f.strokecolor=JXG$1.isArray(f.colors)&&f.colors[n%f.colors.length]||f.strokecolor,f.visible=JXG$1.exists(s.borders.visible)?s.borders.visible:s.visible,f.strokecolor===!1&&(f.strokecolor="none"),a=t.create("segment",[this.vertices[n],this.vertices[n+1]],f),a.dump=!1,this.borders[n]=a,a.parentPolygon=this,this.addChild(a);for(this.inherits.push(this.vertices,this.borders),this.id=this.board.setId(this,"Py"),n=0;n<this.vertices.length-1;n++)u=this.board.select(this.vertices[n]),JXG$1.exists(u._is_new_pol)?(this.addChild(u),delete u._is_new_pol):u.addChild(this);this.board.renderer.drawPolygon(this),this.board.finalizeAdding(this),this.createGradient(),this.elType="polygon",this.createLabel(),this.methodMap=JXG$1.deepCopy(this.methodMap,{borders:"borders",vertices:"vertices",A:"Area",Area:"Area",Perimeter:"Perimeter",L:"Perimeter",Length:"Perimeter",boundingBox:"boundingBox",bounds:"bounds",addPoints:"addPoints",insertPoints:"insertPoints",removePoints:"removePoints"})};JXG$1.Polygon.prototype=new GeometryElement;JXG$1.extend(JXG$1.Polygon.prototype,{pnpoly:function(t,r,s){return Geometry.pnpoly(t,r,this.vertices,s)},hasPoint:function(t,r){var s,n;if(JXG$1.evaluate(this.visProp.hasinnerpoints)&&this.pnpoly(t,r))return!0;for(n=this.borders.length,s=0;s<n;s++)if(this.borders[s].hasPoint(t,r))return!0;return!1},updateRenderer:function(){var t,r;if(!this.needsUpdate)return this;if(this.visPropCalc.visible){for(r=this.vertices.length-(this.elType==="polygonalchain"?0:1),this.isReal=!0,t=0;t<r;++t)if(!this.vertices[t].isReal){this.isReal=!1;break}if(!this.isReal){this.updateVisibility(!1);for(t in this.childElements)this.childElements.hasOwnProperty(t)&&this.childElements[t].setDisplayRendNode(!1)}}return this.visPropCalc.visible&&this.board.renderer.updatePolygon(this),this.hasLabel&&this.visPropCalc.visible&&this.label&&this.label.visPropCalc.visible&&this.isReal&&(this.label.update(),this.board.renderer.updateText(this.label)),this.setDisplayRendNode(),this.needsUpdate=!1,this},getTextAnchor:function(){var t,r,s,n,a;if(this.vertices.length===0)return new Coords(Const.COORDS_BY_USER,[1,0,0],this.board);for(t=this.vertices[0].X(),r=this.vertices[0].Y(),s=t,n=r,a=0;a<this.vertices.length;a++)this.vertices[a].X()<t&&(t=this.vertices[a].X()),this.vertices[a].X()>s&&(s=this.vertices[a].X()),this.vertices[a].Y()>r&&(r=this.vertices[a].Y()),this.vertices[a].Y()<n&&(n=this.vertices[a].Y());return new Coords(Const.COORDS_BY_USER,[(t+s)*.5,(r+n)*.5],this.board)},getLabelAnchor:JXG$1.shortcut(JXG$1.Polygon.prototype,"getTextAnchor"),cloneToBackground:function(){var t={},r;return t.id=this.id+"T"+this.numTraces,this.numTraces++,t.vertices=this.vertices,t.visProp=JXG$1.deepCopy(this.visProp,this.visProp.traceattributes,!0),t.visProp.layer=this.board.options.layer.trace,t.board=this.board,JXG$1.clearVisPropOld(t),t.visPropCalc={visible:JXG$1.evaluate(t.visProp.visible)},r=this.board.renderer.enhancedRendering,this.board.renderer.enhancedRendering=!0,this.board.renderer.drawPolygon(t),this.board.renderer.enhancedRendering=r,this.traces[t.id]=t.rendNode,this},hideElement:function(t){var r;if(JXG$1.deprecated("Element.hideElement()","Element.setDisplayRendNode()"),this.visPropCalc.visible=!1,this.board.renderer.display(this,!1),!t)for(r=0;r<this.borders.length;r++)this.borders[r].hideElement();this.hasLabel&&JXG$1.exists(this.label)&&(this.label.hiddenByParent=!0,this.label.visPropCalc.visible&&this.label.hideElement())},showElement:function(t){var r;if(JXG$1.deprecated("Element.showElement()","Element.setDisplayRendNode()"),this.visPropCalc.visible=!0,this.board.renderer.display(this,!0),!t)for(r=0;r<this.borders.length;r++)this.borders[r].showElement().updateRenderer();return JXG$1.exists(this.label)&&this.hasLabel&&this.label.hiddenByParent&&(this.label.hiddenByParent=!1,this.label.visPropCalc.visible||this.label.showElement().updateRenderer()),this},Area:function(){return Math.abs(Geometry.signedPolygon(this.vertices,!0))},Perimeter:function(){var t,r=this.vertices.length,s=0;for(t=1;t<r;++t)s+=this.vertices[t].Dist(this.vertices[t-1]);return s},L:function(){return this.Perimeter()},boundingBox:function(){var t=[0,0,0,0],r,s,n=this.vertices.length-1;if(n===0)return t;for(t[0]=this.vertices[0].X(),t[2]=t[0],t[1]=this.vertices[0].Y(),t[3]=t[1],r=1;r<n;++r)s=this.vertices[r].X(),s<t[0]?t[0]=s:s>t[2]&&(t[2]=s),s=this.vertices[r].Y(),s>t[1]?t[1]=s:s<t[3]&&(t[3]=s);return t},bounds:function(){return this.boundingBox()},remove:function(){var t;for(t=0;t<this.borders.length;t++)this.board.removeObject(this.borders[t]);GeometryElement.prototype.remove.call(this)},findPoint:function(t){var r;if(!JXG$1.isPoint(t))return-1;for(r=0;r<this.vertices.length;r++)if(this.vertices[r].id===t.id)return r;return-1},addPoints:function(t){var r,s=Array.prototype.slice.call(arguments);return this.elType==="polygonalchain"?r=this.vertices.length-1:r=this.vertices.length-2,this.insertPoints.apply(this,[r].concat(s))},insertPoints:function(t,r){var s,n,a,o,l;if(arguments.length===0)return this;if(a=this.vertices.length-1,this.elType==="polygon"&&a--,t<-1||t>a)return this;for(n=arguments.length-1,s=1;s<n+1;s++)l=JXG$1.providePoints(this.board,[arguments[s]],{},"polygon",["vertices"])[0],l._is_new&&(this.addChild(l),delete l._is_new),this.vertices.splice(t+s,0,l);if(this.withLines)for(o=t+1,this.elType==="polygon"?t<0?(this.vertices[this.vertices.length-1]=this.vertices[0],this.borders[this.borders.length-1].point2=this.vertices[this.vertices.length-1]):this.borders[t].point2=this.vertices[o]:t>=0&&(t<this.borders.length?this.borders[t].point2=this.vertices[o]:o=t),s=o;s<o+n;s++)this.borders.splice(s,0,this.board.create("segment",[this.vertices[s],this.vertices[s+1]],this.attr_line));return this.inherits=[],this.inherits.push(this.vertices,this.borders),this.board.update(),this},removePoints:function(t){var r,s,n,a,o=[],l=[],u=[],f=[];for(this.elType==="polygon"&&(a=this.vertices.pop()),r=0;r<arguments.length;r++)n=arguments[r],JXG$1.isPoint(n)&&(n=this.findPoint(n)),JXG$1.isNumber(n)&&n>-1&&n<this.vertices.length&&JXG$1.indexOf(u,n)===-1&&u.push(n);if(u.length===0)return this.elType==="polygon"&&this.vertices.push(a),this;for(r=0;r<u.length;r++)this.vertices[u[r]].removeChild(this);for(u=u.sort(),o=this.vertices.slice(),l=this.borders.slice(),this.withLines&&f.push([u[u.length-1]]),r=u.length-1;r>-1;r--)o[u[r]]=-1,this.withLines&&u.length>1&&u[r]-1>u[r-1]&&(f[f.length-1][1]=u[r],f.push([u[r-1]]));for(this.withLines&&(f[f.length-1][1]=u[0]),this.vertices=[],r=0;r<o.length;r++)JXG$1.isPoint(o[r])&&this.vertices.push(o[r]);if(this.elType==="polygon"&&this.vertices.length>1&&this.vertices[this.vertices.length-1].id!==this.vertices[0].id&&this.vertices.push(this.vertices[0]),this.withLines){for(r=0;r<f.length;r++){for(s=f[r][1]-1;s<f[r][0]+1;s++)s<0?this.elType==="polygon"&&(this.board.removeObject(this.borders[l.length-1]),l[l.length-1]=-1):s<l.length&&(this.board.removeObject(this.borders[s]),l[s]=-1);f[r][1]!==0&&f[r][0]!==o.length-1&&(l[f[r][0]-1]=this.board.create("segment",[o[f[r][1]-1],o[f[r][0]+1]],this.attr_line))}for(this.borders=[],r=0;r<l.length;r++)l[r]!==-1&&this.borders.push(l[r]);this.elType==="polygon"&&this.vertices.length>2&&(f[0][1]===this.vertices.length-1||f[f.length-1][1]===0)&&this.borders.push(this.board.create("segment",[this.vertices[this.vertices.length-2],this.vertices[0]],this.attr_line))}return this.inherits=[],this.inherits.push(this.vertices,this.borders),this.board.update(),this},getParents:function(){return this.setParents(this.vertices),this.parents},getAttributes:function(){var t=GeometryElement.prototype.getAttributes.call(this),r;if(this.withLines)for(t.lines=t.lines||{},t.lines.ids=[],t.lines.colors=[],r=0;r<this.borders.length;r++)t.lines.ids.push(this.borders[r].id),t.lines.colors.push(this.borders[r].visProp.strokecolor);return t},snapToGrid:function(){var t,r;for(JXG$1.evaluate(this.visProp.snaptogrid)?r=!0:r=!1,t=0;t<this.vertices.length;t++)this.vertices[t].handleSnapToGrid(r,!0)},setPositionDirectly:function(t,r,s){var n,a,o,l,u=new Coords(t,r,this.board),f=new Coords(t,s,this.board);for(l=this.vertices.length-1,o=0;o<l;o++)if(!this.vertices[o].draggable())return this;return n=Statistics.subtract(u.usrCoords,f.usrCoords),a=this.board.create("transform",n.slice(1),{type:"translate"}),a.applyOnce(this.vertices.slice(0,-1)),this},sutherlandHodgman:function(t){var r=JXG$1.Math.Geometry.sortVertices(this.vertices),s=JXG$1.Math.Geometry.sortVertices(t.vertices),n=r.length-1,a=s.length-1,o,l=[],u,f,c,h,d,p,v=function(y,b,w){return(b[1]-y[1])*(w[2]-y[2])-(b[2]-y[2])*(w[1]-y[1])>=0};for(f=0;f<a;f++)l.push(s[f]);for(f=0;f<n;f++)for(u=l.slice(0),o=u.length,l=[],h=u[o-1],c=0;c<o;c++)d=u[c],v(r[f],r[f+1],d)?(v(r[f],r[f+1],h)||(p=JXG$1.Math.Geometry.meetSegmentSegment(h,d,r[f],r[f+1]),p[0][1]/=p[0][0],p[0][2]/=p[0][0],p[0][0]=1,l.push(p[0])),l.push(d)):v(r[f],r[f+1],h)&&(p=JXG$1.Math.Geometry.meetSegmentSegment(h,d,r[f],r[f+1]),p[0][1]/=p[0][0],p[0][2]/=p[0][0],p[0][0]=1,l.push(p[0])),h=d;return l},intersect:function(t){return this.sutherlandHodgman(t)}});JXG$1.createPolygon=function(t,r,s){var n,a,o,l,u=[],f,c,h=!1;if(f=JXG$1.copyAttributes(s,t.options,"polygon"),l=t.select(r[0]),l===null&&(l=r[0]),JXG$1.isObject(l)&&l.type===Const.OBJECT_TYPE_POLYGON&&JXG$1.isTransformationOrArray(r[1]))for(h=!0,o=l.vertices.length-1,c=JXG$1.copyAttributes(s,t.options,"polygon","vertices"),a=0;a<o;a++)c.withlabel&&(c.name=l.vertices[a].name===""?"":l.vertices[a].name+"'"),u.push(t.create("point",[l.vertices[a],r[1]],c));else if(u=JXG$1.providePoints(t,r,s,"polygon",["vertices"]),u===!1)throw new Error("JSXGraph: Can't create polygon / polygonalchain with parent types other than 'point' and 'coordinate arrays' or a function returning an array of coordinates. Alternatively, a polygon and a transformation can be supplied");if(f=JXG$1.copyAttributes(s,t.options,"polygon"),n=new JXG$1.Polygon(t,u,f),n.isDraggable=!0,h)for(n.prepareUpdate().update().updateVisibility().updateRenderer(),o=l.vertices.length-1,a=0;a<o;a++)u[a].prepareUpdate().update().updateVisibility().updateRenderer();return n};JXG$1.createRegularPolygon=function(t,r,s){var n,a,o,l=[],u,f,c,h;if(f=r.length,o=r[f-1],JXG$1.isNumber(o)&&(r.length!==3||o<3))throw new Error("JSXGraph: A regular polygon needs two point types and a number > 2 as input.");if(JXG$1.isNumber(t.select(o))?(f--,c=!1):(o=f,c=!0),l=JXG$1.providePoints(t,r.slice(0,f),s,"regularpolygon",["vertices"]),l===!1)throw new Error("JSXGraph: Can't create regular polygon with parent types other than 'point' and 'coordinate arrays' or a function returning an array of coordinates");for(h=JXG$1.copyAttributes(s,t.options,"regularpolygon","vertices"),a=2;a<o;a++)u=t.create("transform",[Math.PI*(2-(o-2)/o),l[a-1]],{type:"rotate"}),c?(l[a].addTransform(l[a-2],u),l[a].fullUpdate()):(JXG$1.isArray(h.ids)&&h.ids.length>=o-2&&(h.id=h.ids[a-2]),l[a]=t.create("point",[l[a-2],u],h),l[a].type=Const.OBJECT_TYPE_CAS,l[a].isDraggable=!0,l[a].visProp.fixed=!1);return h=JXG$1.copyAttributes(s,t.options,"regularpolygon"),n=t.create("polygon",l,h),n.elType="regularpolygon",n};JXG$1.createPolygonalChain=function(t,r,s){var n,a;return n=JXG$1.copyAttributes(s,t.options,"polygonalchain"),a=t.create("polygon",r,n),a.elType="polygonalchain",a.vertices.pop(),t.removeObject(a.borders[a.borders.length-1]),a.borders.pop(),a};JXG$1.registerElement("polygon",JXG$1.createPolygon);JXG$1.registerElement("regularpolygon",JXG$1.createRegularPolygon);JXG$1.registerElement("polygonalchain",JXG$1.createPolygonalChain);const Polygon=JXG$1.Polygon;JXG$1.Curve=function(t,r,s){this.constructor(t,s,Const.OBJECT_TYPE_CURVE,Const.OBJECT_CLASS_CURVE),this.points=[],this.numberPoints=JXG$1.evaluate(this.visProp.numberpointshigh),this.bezierDegree=1,this.dataX=null,this.dataY=null,this.ticks=[],this.qdt=null,JXG$1.exists(r[0])?this.varname=r[0]:this.varname="x",this.xterm=r[1],this.yterm=r[2],this.generateTerm(this.varname,this.xterm,this.yterm,r[3],r[4]),this.updateCurve(),this.id=this.board.setId(this,"G"),this.board.renderer.drawCurve(this),this.board.finalizeAdding(this),this.createGradient(),this.elType="curve",this.createLabel(),JXG$1.isString(this.xterm)&&this.notifyParents(this.xterm),JXG$1.isString(this.yterm)&&this.notifyParents(this.yterm),this.methodMap=JXG$1.deepCopy(this.methodMap,{generateTerm:"generateTerm",setTerm:"generateTerm",move:"moveTo",moveTo:"moveTo"})};JXG$1.Curve.prototype=new GeometryElement;JXG$1.extend(JXG$1.Curve.prototype,{minX:function(){var t;return JXG$1.evaluate(this.visProp.curvetype)==="polar"?0:(t=new Coords(Const.COORDS_BY_SCREEN,[-this.board.canvasWidth*.1,0],this.board,!1),t.usrCoords[1])},maxX:function(){var t;return JXG$1.evaluate(this.visProp.curvetype)==="polar"?2*Math.PI:(t=new Coords(Const.COORDS_BY_SCREEN,[this.board.canvasWidth*1.1,0],this.board,!1),t.usrCoords[1])},X:function(t){return NaN},Y:function(t){return NaN},Z:function(t){return 1},hasPoint:function(t,r,s){var n,a,o,l,u,f,c,h,d,p=[],v,y,b=JXG$1.evaluate(this.visProp.numberpointslow),w=(this.maxX()-this.minX())/b,x,A,S=1/0,_,$,M,T,O,B=!0;if(JXG$1.isObject(JXG$1.evaluate(this.visProp.precision))?(A=this.board._inputDevice,x=JXG$1.evaluate(this.visProp.precision[A])):x=this.board.options.precision.hasPoint,a=new Coords(Const.COORDS_BY_SCREEN,[t,r],this.board,!1),t=a.usrCoords[1],r=a.usrCoords[2],this.bezierDegree===1&&JXG$1.evaluate(this.visProp.hasinnerpoints)&&(d=Geometry.windingNumber([1,t,r],this.points,!0),d!==0))return!0;if(x+=JXG$1.evaluate(this.visProp.strokewidth)*.5,x*=x,_=this.board.unitX*this.board.unitX,$=this.board.unitY*this.board.unitY,T=this.minX(),O=this.maxX(),JXG$1.exists(this._visibleArea)&&(T=this._visibleArea[0],O=this._visibleArea[1],w=(O-T)/b),M=JXG$1.evaluate(this.visProp.curvetype),M==="parameter"||M==="polar")for(this.transformations.length>0&&(this.updateTransformMatrix(),l=Mat.inverse(this.transformMat),u=Mat.matVecMult(l,[1,t,r]),t=u[1],r=u[2]),f=0,n=T;f<b;f++){if(c=this.X(n,B),h=this.Y(n,B),S=(t-c)*(t-c)*_+(r-h)*(r-h)*$,S<=x)return!0;n+=w}else if(M==="plot"||M==="functiongraph"){for((!JXG$1.exists(s)||s<0)&&(s=0),JXG$1.exists(this.qdt)&&JXG$1.evaluate(this.visProp.useqdt)&&this.bezierDegree!==3?(y=this.qdt.query(new Coords(Const.COORDS_BY_USER,[t,r],this.board)),v=y.points,o=v.length):(v=this.points,o=this.numberPoints-1),f=s;f<o;f++)if(this.bezierDegree===3?p=Geometry.projectCoordsToBeziersegment([1,t,r],this,f):y?(v[f].prev&&(p=Geometry.projectCoordsToSegment([1,t,r],v[f].prev.usrCoords,v[f].usrCoords)),v[f].next&&v[f+1]!==v[f].next&&(p=Geometry.projectCoordsToSegment([1,t,r],v[f].usrCoords,v[f].next.usrCoords))):p=Geometry.projectCoordsToSegment([1,t,r],v[f].usrCoords,v[f+1].usrCoords),p[1]>=0&&p[1]<=1&&(t-p[0][1])*(t-p[0][1])*_+(r-p[0][2])*(r-p[0][2])*$<=x)return!0;return!1}return S<x},allocatePoints:function(){var t,r;if(r=this.numberPoints,this.points.length<this.numberPoints)for(t=this.points.length;t<r;t++)this.points[t]=new Coords(Const.COORDS_BY_USER,[0,0],this.board,!1)},update:function(){return this.needsUpdate&&(JXG$1.evaluate(this.visProp.trace)&&this.cloneToBackground(!0),this.updateCurve()),this},updateRenderer:function(){return this.needsUpdate?(this.visPropCalc.visible&&(this.isReal=Plot.checkReal(this.points),this.isReal||this.updateVisibility(!1)),this.visPropCalc.visible&&this.board.renderer.updateCurve(this),this.hasLabel&&this.visPropCalc.visible&&this.label&&this.label.visPropCalc.visible&&this.isReal&&(this.label.update(),this.board.renderer.updateText(this.label)),this.setDisplayRendNode(),this.needsUpdate=!1,this):this},updateDataArray:function(){},updateCurve:function(){var t,r,s,n,a,o,l=this.visProp.plotversion,u=!1;if(this.updateTransformMatrix(),this.updateDataArray(),r=this.minX(),s=this.maxX(),JXG$1.exists(this.dataX))for(this.numberPoints=this.dataX.length,t=this.numberPoints,this.allocatePoints(),o=0;o<t;o++)n=o,JXG$1.exists(this.dataY)?(a=o,this.points[o].setCoordinates(Const.COORDS_BY_USER,[this.dataX[o],this.dataY[o]],!1)):(a=this.X(n),this.points[o].setCoordinates(Const.COORDS_BY_USER,[this.dataX[o],this.Y(a,u)],!1)),this.points[o]._t=o,u=!0;else if(JXG$1.evaluate(this.visProp.doadvancedplot)?l===1||JXG$1.evaluate(this.visProp.doadvancedplotold)?Plot.updateParametricCurveOld(this,r,s):l===2?Plot.updateParametricCurve_v2(this,r,s):l===3?Plot.updateParametricCurve_v3(this,r,s):l===4?Plot.updateParametricCurve_v4(this,r,s):Plot.updateParametricCurve_v2(this,r,s):(this.board.updateQuality===this.board.BOARD_QUALITY_HIGH?this.numberPoints=JXG$1.evaluate(this.visProp.numberpointshigh):this.numberPoints=JXG$1.evaluate(this.visProp.numberpointslow),this.allocatePoints(),Plot.updateParametricCurveNaive(this,r,s,this.numberPoints)),t=this.numberPoints,JXG$1.evaluate(this.visProp.useqdt)&&this.board.updateQuality===this.board.BOARD_QUALITY_HIGH)for(this.qdt=new QDT(this.board.getBoundingBox()),o=0;o<this.points.length;o++)this.qdt.insert(this.points[o]),o>0&&(this.points[o].prev=this.points[o-1]),o<t-1&&(this.points[o].next=this.points[o+1]);for(JXG$1.evaluate(this.visProp.curvetype)!=="plot"&&JXG$1.evaluate(this.visProp.rdpsmoothing)&&(this.points=Numerics.RamerDouglasPeucker(this.points,.2),this.numberPoints=this.points.length),t=this.numberPoints,o=0;o<t;o++)this.updateTransform(this.points[o]);return this},updateTransformMatrix:function(){var t,r,s=this.transformations.length;for(this.transformMat=[[1,0,0],[0,1,0],[0,0,1]],r=0;r<s;r++)t=this.transformations[r],t.update(),this.transformMat=Mat.matMatMult(t.matrix,this.transformMat);return this},updateTransform:function(t){var r,s=this.transformations.length;return s>0&&(r=Mat.matVecMult(this.transformMat,t.usrCoords),t.setCoordinates(Const.COORDS_BY_USER,r,!1,!0)),t},addTransform:function(t){var r,s=JXG$1.isArray(t)?t:[t],n=s.length;for(r=0;r<n;r++)this.transformations.push(s[r]);return this},interpolationFunctionFromArray:function(t){var r="data"+t,s=this;return function(n,a){var o,l,u,f,c=s[r],h=c.length,d,p=[];if(isNaN(n))return NaN;if(n<0)return JXG$1.isFunction(c[0])?c[0]():c[0];if(s.bezierDegree===3){if(d=(h-1)/3,n>=d)return JXG$1.isFunction(c[c.length-1])?c[c.length-1]():c[c.length-1];for(o=Math.floor(n)*3,u=n%1,f=1-u,l=0;l<4;l++)JXG$1.isFunction(c[o+l])?p[l]=c[o+l]():p[l]=c[o+l];return f*f*(f*p[0]+3*u*p[1])+(3*f*p[2]+u*p[3])*u*u}if(n>h-2?o=h-2:o=parseInt(Math.floor(n),10),o===n)return JXG$1.isFunction(c[o])?c[o]():c[o];for(l=0;l<2;l++)JXG$1.isFunction(c[o+l])?p[l]=c[o+l]():p[l]=c[o+l];return p[0]+(p[1]-p[0])*(n-o)}},generateTerm:function(t,r,s,n,a){var o,l;JXG$1.isArray(r)?(this.dataX=r,this.numberPoints=this.dataX.length,this.X=this.interpolationFunctionFromArray.apply(this,["X"]),this.visProp.curvetype="plot",this.isDraggable=!0):(this.X=JXG$1.createFunction(r,this.board,t),JXG$1.isString(r)?this.visProp.curvetype="functiongraph":(JXG$1.isFunction(r)||JXG$1.isNumber(r))&&(this.visProp.curvetype="parameter"),this.isDraggable=!0),JXG$1.isArray(s)?(this.dataY=s,this.Y=this.interpolationFunctionFromArray.apply(this,["Y"])):this.Y=JXG$1.createFunction(s,this.board,t),JXG$1.isFunction(r)&&JXG$1.isArray(s)&&(o=JXG$1.createFunction(s[0],this.board,""),l=JXG$1.createFunction(s[1],this.board,""),this.X=function(u){return r(u)*Math.cos(u)+o()},this.X.deps=o.deps,this.Y=function(u){return r(u)*Math.sin(u)+l()},this.Y.deps=l.deps,this.visProp.curvetype="polar"),JXG$1.exists(n)&&(this.minX=JXG$1.createFunction(n,this.board,"")),JXG$1.exists(a)&&(this.maxX=JXG$1.createFunction(a,this.board,"")),this.addParentsFromJCFunctions([this.X,this.Y,this.minX,this.maxX])},notifyParents:function(t){var r,s,n=!1,a;a={xterm:1,yterm:1};for(r in a)if(a.hasOwnProperty(r)&&this.hasOwnProperty(r)&&this[r].origin){n=!0;for(s in this[r].origin.deps)this[r].origin.deps.hasOwnProperty(s)&&this[r].origin.deps[s].addChild(this)}n||GeonextParser.findDependencies(this,t,this.board)},getLabelAnchor:function(){var t,r,s,n=.05*this.board.canvasWidth,a=.05*this.board.canvasHeight,o=.95*this.board.canvasWidth,l=.95*this.board.canvasHeight;switch(JXG$1.evaluate(this.visProp.label.position)){case"ulft":r=n,s=a;break;case"llft":r=n,s=l;break;case"rt":r=o,s=.5*l;break;case"lrt":r=o,s=l;break;case"urt":r=o,s=a;break;case"top":r=.5*o,s=a;break;case"bot":r=.5*o,s=l;break;default:r=n,s=.5*l}return t=new Coords(Const.COORDS_BY_SCREEN,[r,s],this.board,!1),Geometry.projectCoordsToCurve(t.usrCoords[1],t.usrCoords[2],0,this,this.board)[0]},cloneToBackground:function(){var t,r={id:this.id+"T"+this.numTraces,elementClass:Const.OBJECT_CLASS_CURVE,points:this.points.slice(0),bezierDegree:this.bezierDegree,numberPoints:this.numberPoints,board:this.board,visProp:JXG$1.deepCopy(this.visProp,this.visProp.traceattributes,!0)};return r.visProp.layer=this.board.options.layer.trace,r.visProp.curvetype=this.visProp.curvetype,this.numTraces++,JXG$1.clearVisPropOld(r),r.visPropCalc={visible:JXG$1.evaluate(r.visProp.visible)},t=this.board.renderer.enhancedRendering,this.board.renderer.enhancedRendering=!0,this.board.renderer.drawCurve(r),this.board.renderer.enhancedRendering=t,this.traces[r.id]=r.rendNode,this},bounds:function(){var t=1/0,r=-1/0,s=1/0,n=-1/0,a=this.points.length,o,l,u;if(this.bezierDegree===3){for(o=0;o<a;o++)this.points[o].X=JXG$1.bind(function(){return this.usrCoords[1]},this.points[o]),this.points[o].Y=JXG$1.bind(function(){return this.usrCoords[2]},this.points[o]);return l=Numerics.bezier(this.points),u=l[3](),t=Numerics.fminbr(function(f){return l[0](f)},[0,u]),r=Numerics.fminbr(function(f){return-l[0](f)},[0,u]),s=Numerics.fminbr(function(f){return l[1](f)},[0,u]),n=Numerics.fminbr(function(f){return-l[1](f)},[0,u]),t=l[0](t),r=l[0](r),s=l[1](s),n=l[1](n),[t,n,r,s]}for(o=0;o<a;o++)t>this.points[o].usrCoords[1]&&(t=this.points[o].usrCoords[1]),r<this.points[o].usrCoords[1]&&(r=this.points[o].usrCoords[1]),s>this.points[o].usrCoords[2]&&(s=this.points[o].usrCoords[2]),n<this.points[o].usrCoords[2]&&(n=this.points[o].usrCoords[2]);return[t,n,r,s]},getParents:function(){var t=[this.xterm,this.yterm,this.minX(),this.maxX()];return this.parents.length!==0&&(t=this.parents),t},moveTo:function(t){var r=[],s;return this.points.length>0&&!JXG$1.evaluate(this.visProp.fixed)&&(s=this.points[0],t.length===3?r=[t[0]-s.usrCoords[0],t[1]-s.usrCoords[1],t[2]-s.usrCoords[2]]:r=[t[0]-s.usrCoords[1],t[1]-s.usrCoords[2]],this.setPosition(Const.COORDS_BY_USER,r)),this},getTransformationSource:function(){var t,r;return JXG$1.exists(this._transformationSource)&&(r=this._transformationSource,r.elementClass===Const.OBJECT_CLASS_CURVE&&(t=!0)),[t,r]},pnpoly:function(t,r,s){var n,a,o,l,u,f,c=this.points,h=!1;for(s===Const.COORDS_BY_USER?(f=new Coords(Const.COORDS_BY_USER,[t,r],this.board),l=f.scrCoords[1],u=f.scrCoords[2]):(l=t,u=r),o=this.points.length,n=0,a=o-2;n<o-1;a=n++)c[n].scrCoords[2]>u!=c[a].scrCoords[2]>u&&l<(c[a].scrCoords[1]-c[n].scrCoords[1])*(u-c[n].scrCoords[2])/(c[a].scrCoords[2]-c[n].scrCoords[2])+c[n].scrCoords[1]&&(h=!h);return h}});JXG$1.createCurve=function(t,r,s){var n,a,o=JXG$1.copyAttributes(s,t.options,"curve");return n=t.select(r[0],!0),JXG$1.isTransformationOrArray(r[1])&&JXG$1.isObject(n)&&(n.type===Const.OBJECT_TYPE_CURVE||n.type===Const.OBJECT_TYPE_ANGLE||n.type===Const.OBJECT_TYPE_ARC||n.type===Const.OBJECT_TYPE_CONIC||n.type===Const.OBJECT_TYPE_SECTOR)?(n.type===Const.OBJECT_TYPE_SECTOR?o=JXG$1.copyAttributes(s,t.options,"sector"):n.type===Const.OBJECT_TYPE_ARC?o=JXG$1.copyAttributes(s,t.options,"arc"):n.type===Const.OBJECT_TYPE_ANGLE?(JXG$1.exists(s.withLabel)||(s.withLabel=!1),o=JXG$1.copyAttributes(s,t.options,"angle")):o=JXG$1.copyAttributes(s,t.options,"curve"),o=JXG$1.copyAttributes(o,t.options,"curve"),a=new JXG$1.Curve(t,["x",[],[]],o),a.updateDataArray=function(){var l,u=n.numberPoints;for(this.bezierDegree=n.bezierDegree,this.dataX=[],this.dataY=[],l=0;l<u;l++)this.dataX.push(n.points[l].usrCoords[1]),this.dataY.push(n.points[l].usrCoords[2]);return this},a.addTransform(r[1]),n.addChild(a),a.setParents([n]),a._transformationSource=n,a):(o=JXG$1.copyAttributes(s,t.options,"curve"),new JXG$1.Curve(t,["x"].concat(r),o))};JXG$1.registerElement("curve",JXG$1.createCurve);JXG$1.createFunctiongraph=function(t,r,s){var n,a=["x","x"].concat(r);return n=JXG$1.copyAttributes(s,t.options,"curve"),n.curvetype="functiongraph",new JXG$1.Curve(t,a,n)};JXG$1.registerElement("functiongraph",JXG$1.createFunctiongraph);JXG$1.registerElement("plot",JXG$1.createFunctiongraph);JXG$1.createSpline=function(t,r,s){var n,a,o;return a=function(){var l,u=[],f=[];return[function(c,h){var d,p,v;if(!h){if(u=[],f=[],r.length===2&&JXG$1.isArray(r[0])&&JXG$1.isArray(r[1])&&r[0].length===r[1].length)for(d=0;d<r[0].length;d++)JXG$1.isFunction(r[0][d])?u.push(r[0][d]()):u.push(r[0][d]),JXG$1.isFunction(r[1][d])?f.push(r[1][d]()):f.push(r[1][d]);else for(d=0;d<r.length;d++)if(JXG$1.isPoint(r[d]))u.push(r[d].X()),f.push(r[d].Y());else if(JXG$1.isArray(r[d])&&r[d].length===2)for(p=0;p<r.length;p++)JXG$1.isFunction(r[p][0])?u.push(r[p][0]()):u.push(r[p][0]),JXG$1.isFunction(r[p][1])?f.push(r[p][1]()):f.push(r[p][1]);else JXG$1.isFunction(r[d])&&r[d]().length===2&&(v=r[d](),u.push(v[0]),f.push(v[1]));l=Numerics.splineDef(u,f)}return Numerics.splineEval(c,u,f,l)},function(){return u[0]},function(){return u[u.length-1]}]},s=JXG$1.copyAttributes(s,t.options,"curve"),s.curvetype="functiongraph",o=a(),n=new JXG$1.Curve(t,["x","x",o[0],o[1],o[2]],s),n.setParents(r),n.elType="spline",n};JXG$1.registerElement("spline",JXG$1.createSpline);JXG$1.createCardinalSpline=function(t,r,s){var n,a,o,l,u,f,c,h,d,p,v=`
Possible parent types: [points:array, tau:number|function, type:string]`;if(!JXG$1.exists(r[0])||!JXG$1.isArray(r[0]))throw new Error("JSXGraph: JXG.createCardinalSpline: argument 1 'points' has to be array of points or coordinate pairs"+v);if(!JXG$1.exists(r[1])||!JXG$1.isNumber(r[1])&&!JXG$1.isFunction(r[1]))throw new Error("JSXGraph: JXG.createCardinalSpline: argument 2 'tau' has to be number between [0,1] or function'"+v);if(!JXG$1.exists(r[2])||!JXG$1.isString(r[2]))throw new Error("JSXGraph: JXG.createCardinalSpline: argument 3 'type' has to be string 'uniform' or 'centripetal'"+v);if(s=JXG$1.copyAttributes(s,t.options,"curve"),s=JXG$1.copyAttributes(s,t.options,"cardinalspline"),s.curvetype="parameter",f=r[0],c=[],!s.isarrayofcoordinates&&f.length===2&&JXG$1.isArray(f[0])&&JXG$1.isArray(f[1])&&f[0].length===f[1].length)for(h=0;h<f[0].length;h++)c[h]=[],JXG$1.isFunction(f[0][h])?c[h].push(f[0][h]()):c[h].push(f[0][h]),JXG$1.isFunction(f[1][h])?c[h].push(f[1][h]()):c[h].push(f[1][h]);else for(h=0;h<f.length;h++)JXG$1.isString(f[h])?c.push(t.select(f[h])):JXG$1.isPoint(f[h])?c.push(f[h]):JXG$1.isArray(f[h])&&f[h].length===2?(c[h]=[],JXG$1.isFunction(f[h][0])?c[h].push(f[h][0]()):c[h].push(f[h][0]),JXG$1.isFunction(f[h][1])?c[h].push(f[h][1]()):c[h].push(f[h][1])):JXG$1.isFunction(f[h])&&f[h]().length===2&&c.push(r[h]());if(s.createpoints===!0)o=JXG$1.providePoints(t,c,s,"cardinalspline",["points"]);else for(o=[],a=function(y){return{X:function(){return c[y][0]},Y:function(){return c[y][1]},Dist:function(b){var w=this.X()-b.X(),x=this.Y()-b.Y();return Math.sqrt(w*w+x*x)}}},h=0;h<c.length;h++)JXG$1.isPoint(c[h])?o.push(c[h]):o.push(a(h));for(l=r[1],u=r[2],p=["x"].concat(Numerics.CardinalSpline(o,l,u)),n=new JXG$1.Curve(t,p,s),d=o.length,n.setParents(o),h=0;h<d;h++)f=o[h],JXG$1.isPoint(f)&&(JXG$1.exists(f._is_new)?(n.addChild(f),delete f._is_new):f.addChild(n));return n.elType="cardinalspline",n};JXG$1.registerElement("cardinalspline",JXG$1.createCardinalSpline);JXG$1.createMetapostSpline=function(t,r,s){var n,a,o,l,u,f,c,h,d=`
Possible parent types: [points:array, controls:object`;if(!JXG$1.exists(r[0])||!JXG$1.isArray(r[0]))throw new Error("JSXGraph: JXG.createMetapostSpline: argument 1 'points' has to be array of points or coordinate pairs"+d);if(!JXG$1.exists(r[1])||!JXG$1.isObject(r[1]))throw new Error("JSXGraph: JXG.createMetapostSpline: argument 2 'controls' has to be a JavaScript object'"+d);if(s=JXG$1.copyAttributes(s,t.options,"curve"),s=JXG$1.copyAttributes(s,t.options,"metapostspline"),s.curvetype="parameter",u=r[0],f=[],!s.isarrayofcoordinates&&u.length===2&&JXG$1.isArray(u[0])&&JXG$1.isArray(u[1])&&u[0].length===u[1].length)for(c=0;c<u[0].length;c++)f[c]=[],JXG$1.isFunction(u[0][c])?f[c].push(u[0][c]()):f[c].push(u[0][c]),JXG$1.isFunction(u[1][c])?f[c].push(u[1][c]()):f[c].push(u[1][c]);else for(c=0;c<u.length;c++)JXG$1.isString(u[c])?f.push(t.select(u[c])):JXG$1.isPoint(u[c])?f.push(u[c]):JXG$1.isArray(u[c])&&u[c].length===2?(f[c]=[],JXG$1.isFunction(u[c][0])?f[c].push(u[c][0]()):f[c].push(u[c][0]),JXG$1.isFunction(u[c][1])?f[c].push(u[c][1]()):f[c].push(u[c][1])):JXG$1.isFunction(u[c])&&u[c]().length===2&&f.push(r[c]());if(s.createpoints===!0)o=JXG$1.providePoints(t,f,s,"metapostspline",["points"]);else for(o=[],a=function(p){return{X:function(){return f[p][0]},Y:function(){return f[p][1]}}},c=0;c<f.length;c++)JXG$1.isPoint(f[c])?o.push(f[c]):o.push(a);for(l=r[1],n=new JXG$1.Curve(t,["t",[],[],0,u.length-1],s),n.updateDataArray=function(){var p,v,y=o.length,b=[];for(v=0;v<y;v++)b.push([o[v].X(),o[v].Y()]);p=JXG$1.Math.Metapost.curve(b,l),this.dataX=p[0],this.dataY=p[1]},n.bezierDegree=3,h=o.length,n.setParents(o),c=0;c<h;c++)JXG$1.isPoint(o[c])&&o[c].addChild(n);return n.elType="metapostspline",n};JXG$1.registerElement("metapostspline",JXG$1.createMetapostSpline);JXG$1.createRiemannsum=function(t,r,s){var n,a,o,l,u,f;if(f=JXG$1.copyAttributes(s,t.options,"riemannsum"),f.curvetype="plot",o=r[0],n=JXG$1.createFunction(r[1],t,""),!JXG$1.exists(n))throw new Error(`JSXGraph: JXG.createRiemannsum: argument '2' n has to be number or function.
Possible parent types: [function,n:number|function,type,start:number|function,end:number|function]`);if(a=JXG$1.createFunction(r[2],t,"",!1),!JXG$1.exists(a))throw new Error(`JSXGraph: JXG.createRiemannsum: argument 3 'type' has to be string or function.
Possible parent types: [function,n:number|function,type,start:number|function,end:number|function]`);return l=[[0],[0]].concat(r.slice(3)),u=t.create("curve",l,f),u.sum=0,u.Value=function(){return this.sum},u.updateDataArray=function(){var c=Numerics.riemann(o,n(),a(),this.minX(),this.maxX());this.dataX=c[0],this.dataY=c[1],this.sum=c[2]},u.addParentsFromJCFunctions([n,a]),u};JXG$1.registerElement("riemannsum",JXG$1.createRiemannsum);JXG$1.createTracecurve=function(t,r,s){var n,a,o,l;if(r.length!==2)throw new Error(`JSXGraph: Can't create trace curve with given parent'
Possible parent types: [glider, point]`);if(a=t.select(r[0]),o=t.select(r[1]),a.type!==Const.OBJECT_TYPE_GLIDER||!JXG$1.isPoint(o))throw new Error("JSXGraph: Can't create trace curve with parent types '"+typeof r[0]+"' and '"+typeof r[1]+`'.
Possible parent types: [glider, point]`);return l=JXG$1.copyAttributes(s,t.options,"tracecurve"),l.curvetype="plot",n=t.create("curve",[[0],[0]],l),n.updateDataArray=function(){var u,f,c,h,d,p,v,y,b,w=l.numberpoints,x=a.position,A=a.slideObject,S=A.minX(),_=A.maxX();for(f=(_-S)/w,this.dataX=[],this.dataY=[],A.elementClass!==Const.OBJECT_CLASS_CURVE&&w++,u=0;u<w;u++){c=S+u*f,p=A.X(c)/A.Z(c),v=A.Y(c)/A.Z(c),a.setPositionDirectly(Const.COORDS_BY_USER,[p,v]),y=!1;for(h in this.board.objects)if(this.board.objects.hasOwnProperty(h)&&(d=this.board.objects[h],d===a&&(y=!0),y&&d.needsRegularUpdate&&(b=d.visProp.trace,d.visProp.trace=!1,d.needsUpdate=!0,d.update(!0),d.visProp.trace=b,d===o)))break;this.dataX[u]=o.X(),this.dataY[u]=o.Y()}a.position=x,y=!1;for(h in this.board.objects)if(this.board.objects.hasOwnProperty(h)&&(d=this.board.objects[h],d===a&&(y=!0),y&&d.needsRegularUpdate&&(b=d.visProp.trace,d.visProp.trace=!1,d.needsUpdate=!0,d.update(!0),d.visProp.trace=b,d===o)))break},n};JXG$1.registerElement("tracecurve",JXG$1.createTracecurve);JXG$1.createStepfunction=function(t,r,s){var n,a;if(r.length!==2)throw new Error(`JSXGraph: Can't create step function with given parent'
Possible parent types: [array, array|function]`);return a=JXG$1.copyAttributes(s,t.options,"stepfunction"),n=t.create("curve",r,a),n.updateDataArray=function(){var o,l=0,u=this.xterm.length;if(this.dataX=[],this.dataY=[],u!==0)for(this.dataX[l]=this.xterm[0],this.dataY[l]=this.yterm[0],++l,o=1;o<u;++o)this.dataX[l]=this.xterm[o],this.dataY[l]=this.dataY[l-1],++l,this.dataX[l]=this.xterm[o],this.dataY[l]=this.yterm[o],++l},n};JXG$1.registerElement("stepfunction",JXG$1.createStepfunction);JXG$1.createDerivative=function(t,r,s){var n,a,o,l,u;if(r.length!==1&&r[0].class!==Const.OBJECT_CLASS_CURVE)throw new Error(`JSXGraph: Can't create derivative curve with given parent'
Possible parent types: [curve]`);return u=JXG$1.copyAttributes(s,t.options,"curve"),a=r[0],o=Numerics.D(a.X),l=Numerics.D(a.Y),n=t.create("curve",[function(f){return a.X(f)},function(f){return l(f)/o(f)},a.minX(),a.maxX()],u),n.setParents(a),n};JXG$1.registerElement("derivative",JXG$1.createDerivative);JXG$1.createCurveIntersection=function(t,r,s){var n;if(r.length!==2)throw new Error(`JSXGraph: Can't create curve intersection with given parent'
Possible parent types: [array, array|function]`);return n=t.create("curve",[[],[]],s),n.updateDataArray=function(){var a=JXG$1.Math.Clip.intersection(r[0],r[1],this.board);this.dataX=a[0],this.dataY=a[1]},n};JXG$1.createCurveUnion=function(t,r,s){var n;if(r.length!==2)throw new Error(`JSXGraph: Can't create curve union with given parent'
Possible parent types: [array, array|function]`);return n=t.create("curve",[[],[]],s),n.updateDataArray=function(){var a=JXG$1.Math.Clip.union(r[0],r[1],this.board);this.dataX=a[0],this.dataY=a[1]},n};JXG$1.createCurveDifference=function(t,r,s){var n;if(r.length!==2)throw new Error(`JSXGraph: Can't create curve difference with given parent'
Possible parent types: [array, array|function]`);return n=t.create("curve",[[],[]],s),n.updateDataArray=function(){var a=JXG$1.Math.Clip.difference(r[0],r[1],this.board);this.dataX=a[0],this.dataY=a[1]},n};JXG$1.registerElement("curvedifference",JXG$1.createCurveDifference);JXG$1.registerElement("curveintersection",JXG$1.createCurveIntersection);JXG$1.registerElement("curveunion",JXG$1.createCurveUnion);JXG$1.createBoxPlot=function(t,r,s){var n,a,o,l=JXG$1.copyAttributes(s,t.options,"boxplot");if(r.length!==3)throw new Error(`JSXGraph: Can't create box plot with given parent'
Possible parent types: [array, number|function, number|function] containing quantiles, axis, width`);if(r[0].length<5)throw new Error(`JSXGraph: Can't create box plot with given parent[0]'
parent[0] has to conatin at least 5 quantiles.`);for(n=t.create("curve",[[],[]],l),o=r[0].length,n.Q=[],a=0;a<o;a++)n.Q[a]=JXG$1.createFunction(r[0][a],t,null,!0);return n.x=JXG$1.createFunction(r[1],t,null,!0),n.w=JXG$1.createFunction(r[2],t,null,!0),n.updateDataArray=function(){var u,f,c,h,d,p,v,y,b;v=JXG$1.evaluate(this.visProp.smallwidth),y=JXG$1.evaluate(this.visProp.dir),b=this.x(),c=b-this.w()*.5,h=b-this.w()*.5*v,d=b+this.w()*.5,p=b+this.w()*.5*v,u=[b,h,p,b,b,c,c,d,d,b,NaN,c,d,NaN,b,b,h,p,b],f=[this.Q[0](),this.Q[0](),this.Q[0](),this.Q[0](),this.Q[1](),this.Q[1](),this.Q[3](),this.Q[3](),this.Q[1](),this.Q[1](),NaN,this.Q[2](),this.Q[2](),NaN,this.Q[3](),this.Q[4](),this.Q[4](),this.Q[4](),this.Q[4]()],y==="vertical"?(this.dataX=u,this.dataY=f):(this.dataX=f,this.dataY=u)},n.addParentsFromJCFunctions([n.Q,n.x,n.w]),n};JXG$1.registerElement("boxplot",JXG$1.createBoxPlot);JXG$1.Curve;JXG$1.createArc=function(t,r,s){var n,a,o;if(o=JXG$1.providePoints(t,r,s,"arc",["center","radiusPoint","anglePoint"]),o===!1||o.length<3)throw new Error("JSXGraph: Can't create Arc with parent types '"+typeof r[0]+"' and '"+typeof r[1]+"' and '"+typeof r[2]+`'.
Possible parent types: [point,point,point], [arc, transformation]`);return a=JXG$1.copyAttributes(s,t.options,"arc"),n=t.create("curve",[[0],[0]],a),n.elType="arc",n.setParents(o),n.type=Const.OBJECT_TYPE_ARC,n.center=o[0],n.radiuspoint=o[1],n.point2=n.radiuspoint,n.anglepoint=o[2],n.point3=n.anglepoint,JXG$1.exists(n.center._is_new)?(n.addChild(n.center),delete n.center._is_new):n.center.addChild(n),JXG$1.exists(n.radiuspoint._is_new)?(n.addChild(n.radiuspoint),delete n.radiuspoint._is_new):n.radiuspoint.addChild(n),JXG$1.exists(n.anglepoint._is_new)?(n.addChild(n.anglepoint),delete n.anglepoint._is_new):n.anglepoint.addChild(n),n.useDirection=a.usedirection,n.updateDataArray=function(){var l,u,f,c,h,d,p=1,v=this.radiuspoint,y=this.center,b=this.anglepoint,w=JXG$1.evaluate(this.visProp.selection);u=Geometry.rad(v,y,b),(w==="minor"&&u>Math.PI||w==="major"&&u<Math.PI)&&(p=-1),this.useDirection&&(c=o[1].coords.usrCoords,h=o[3].coords.usrCoords,d=o[2].coords.usrCoords,f=(c[1]-d[1])*(c[2]-h[2])-(c[2]-d[2])*(c[1]-h[1]),f<0?(this.radiuspoint=o[1],this.anglepoint=o[2]):(this.radiuspoint=o[2],this.anglepoint=o[1])),v=v.coords.usrCoords,y=y.coords.usrCoords,b=b.coords.usrCoords,l=Geometry.bezierArc(v,y,b,!1,p),this.dataX=l[0],this.dataY=l[1],this.bezierDegree=3,this.updateStdform(),this.updateQuadraticform()},n.Radius=function(){return this.radiuspoint.Dist(this.center)},n.getRadius=function(){return JXG$1.deprecated("Arc.getRadius()","Arc.Radius()"),this.Radius()},n.Value=function(){return this.Radius()*Geometry.rad(this.radiuspoint,this.center,this.anglepoint)},n.hasPoint=function(l,u){var f,c,h,d,p,v,y,b=this.Radius();return JXG$1.evaluate(this.visProp.hasinnerpoints)?this.hasPointSector(l,u):(JXG$1.isObject(JXG$1.evaluate(this.visProp.precision))?(y=this.board._inputDevice,v=JXG$1.evaluate(this.visProp.precision[y])):v=this.board.options.precision.hasPoint,v/=Math.min(Math.abs(this.board.unitX),Math.abs(this.board.unitY)),c=new Coords(Const.COORDS_BY_SCREEN,[l,u],this.board),this.transformations.length>0&&(this.updateTransformMatrix(),d=Mat.inverse(this.transformMat),p=Mat.matVecMult(d,c.usrCoords),c=new Coords(Const.COORDS_BY_USER,p,this.board)),f=this.center.coords.distance(Const.COORDS_BY_USER,c),h=Math.abs(f-b)<v,h&&(h=Geometry.coordsOnArc(this,c)),h)},n.hasPointSector=function(l,u){var f=new Coords(Const.COORDS_BY_SCREEN,[l,u],this.board),c=this.Radius(),h=this.center.coords.distance(Const.COORDS_BY_USER,f),d=h<c;return d&&(d=Geometry.coordsOnArc(this,f)),d},n.getTextAnchor=function(){return this.center.coords},n.getLabelAnchor=function(){var l,u,f,c,h,d=Geometry.rad(this.radiuspoint,this.center,this.anglepoint),p=10/this.board.unitX,v=10/this.board.unitY,y=this.point2.coords.usrCoords,b=this.center.coords.usrCoords,w=y[1]-b[1],x=y[2]-b[2],A=JXG$1.evaluate(this.visProp.selection),S=this.label?this.label.visProp:this.visProp.label;return(A==="minor"&&d>Math.PI||A==="major"&&d<Math.PI)&&(d=-(2*Math.PI-d)),l=new Coords(Const.COORDS_BY_USER,[b[1]+Math.cos(d*.5)*w-Math.sin(d*.5)*x,b[2]+Math.sin(d*.5)*w+Math.cos(d*.5)*x],this.board),f=l.usrCoords[1]-b[1],c=l.usrCoords[2]-b[2],h=Math.sqrt(f*f+c*c),f=f*(h+p)/h,c=c*(h+v)/h,u=[b[1]+f,b[2]+c],S.position=Geometry.calcLabelQuadrant(Geometry.rad([1,0],[0,0],u)),new Coords(Const.COORDS_BY_USER,u,this.board)},n.updateQuadraticform=Circle.prototype.updateQuadraticform,n.updateStdform=Circle.prototype.updateStdform,n.methodMap=JXG$1.deepCopy(n.methodMap,{getRadius:"getRadius",radius:"Radius",center:"center",radiuspoint:"radiuspoint",anglepoint:"anglepoint",Value:"Value"}),n.prepareUpdate().update(),n};JXG$1.registerElement("arc",JXG$1.createArc);JXG$1.createSemicircle=function(t,r,s){var n,a,o,l;if(l=JXG$1.providePoints(t,r,s,"point"),l===!1||l.length!==2)throw new Error("JSXGraph: Can't create Semicircle with parent types '"+typeof r[0]+"' and '"+typeof r[1]+`'.
Possible parent types: [point,point]`);return o=JXG$1.copyAttributes(s,t.options,"semicircle","center"),a=t.create("midpoint",l,o),a.dump=!1,o=JXG$1.copyAttributes(s,t.options,"semicircle"),n=t.create("arc",[a,l[1],l[0]],o),n.elType="semicircle",n.setParents([l[0].id,l[1].id]),n.subs={midpoint:a},n.inherits.push(a),n.midpoint=n.center=a,n};JXG$1.registerElement("semicircle",JXG$1.createSemicircle);JXG$1.createCircumcircleArc=function(t,r,s){var n,a,o,l;if(l=JXG$1.providePoints(t,r,s,"point"),l===!1||l.length!==3)throw new Error("JSXGraph: create Circumcircle Arc with parent types '"+typeof r[0]+"' and '"+typeof r[1]+"' and '"+typeof r[2]+`'.
Possible parent types: [point,point,point]`);return o=JXG$1.copyAttributes(s,t.options,"circumcirclearc","center"),a=t.create("circumcenter",l,o),a.dump=!1,o=JXG$1.copyAttributes(s,t.options,"circumcirclearc"),o.usedirection=!0,n=t.create("arc",[a,l[0],l[2],l[1]],o),n.elType="circumcirclearc",n.setParents([l[0].id,l[1].id,l[2].id]),n.subs={center:a},n.inherits.push(a),n.center=a,n};JXG$1.registerElement("circumcirclearc",JXG$1.createCircumcircleArc);JXG$1.createMinorArc=function(t,r,s){return s.selection="minor",JXG$1.createArc(t,r,s)};JXG$1.registerElement("minorarc",JXG$1.createMinorArc);JXG$1.createMajorArc=function(t,r,s){return s.selection="major",JXG$1.createArc(t,r,s)};JXG$1.registerElement("majorarc",JXG$1.createMajorArc);JXG$1.createSector=function(t,r,s){var n,a,o,l="invalid",u,f,c=["center","radiusPoint","anglePoint"],h;if(r[0].elementClass===Const.OBJECT_CLASS_LINE&&r[1].elementClass===Const.OBJECT_CLASS_LINE&&(JXG$1.isArray(r[2])||JXG$1.isNumber(r[2]))&&(JXG$1.isArray(r[3])||JXG$1.isNumber(r[3]))&&(JXG$1.isNumber(r[4])||JXG$1.isFunction(r[4])||JXG$1.isString(r[4])))l="2lines";else{if(h=JXG$1.providePoints(t,r,s,"sector",c),h===!1)throw new Error("JSXGraph: Can't create Sector with parent types '"+typeof r[0]+"' and '"+typeof r[1]+"' and '"+typeof r[2]+"'.");l="3points"}if(a=JXG$1.copyAttributes(s,t.options,"sector"),n=t.create("curve",[[0],[0]],a),n.type=Const.OBJECT_TYPE_SECTOR,n.elType="sector",n.autoRadius=function(){var d=20/n.board.unitX,p=1/0,v=50/n.board.unitX;return JXG$1.isPoint(n.center)&&(p=n.center.Dist(n.point2)*.3333),Math.max(d,Math.min(p,v))},l==="2lines")n.Radius=function(){var d=JXG$1.evaluate(r[4]);return d==="auto"?this.autoRadius():d},n.line1=t.select(r[0]),n.line2=t.select(r[1]),n.line1.addChild(n),n.line2.addChild(n),n.setParents(r),n.point1={visProp:{}},n.point2={visProp:{}},n.point3={visProp:{}},u=Geometry.meetLineLine(n.line1.stdform,n.line2.stdform,0,t),JXG$1.isArray(r[2])?(r[2].length===2&&(r[2]=[1].concat(r[2])),f=Geometry.projectPointToLine({coords:{usrCoords:r[2]}},n.line1,t),f=Statistics.subtract(f.usrCoords,u.usrCoords),n.direction1=Mat.innerProduct(f,[0,n.line1.stdform[2],-n.line1.stdform[1]],3)>=0?1:-1):n.direction1=r[2]>=0?1:-1,JXG$1.isArray(r[3])?(r[3].length===2&&(r[3]=[1].concat(r[3])),f=Geometry.projectPointToLine({coords:{usrCoords:r[3]}},n.line2,t),f=Statistics.subtract(f.usrCoords,u.usrCoords),n.direction2=Mat.innerProduct(f,[0,n.line2.stdform[2],-n.line2.stdform[1]],3)>=0?1:-1):n.direction2=r[3]>=0?1:-1,n.updateDataArray=function(){var d,p,v,y=[0,0,0],b=[0,0,0],w=[0,0,0],x;if(p=this.line1,v=this.line2,b=Mat.crossProduct(p.stdform,v.stdform),Math.abs(b[0])>Mat.eps*Mat.eps&&(b[1]/=b[0],b[2]/=b[0],b[0]/=b[0]),d=this.direction1*this.Radius(),y=Statistics.add(b,[0,d*p.stdform[2],-d*p.stdform[1]]),d=this.direction2*this.Radius(),w=Statistics.add(b,[0,d*v.stdform[2],-d*v.stdform[1]]),this.point2.coords=new Coords(Const.COORDS_BY_USER,y,n.board),this.point1.coords=new Coords(Const.COORDS_BY_USER,b,n.board),this.point3.coords=new Coords(Const.COORDS_BY_USER,w,n.board),Math.abs(y[0])<Mat.eps||Math.abs(b[0])<Mat.eps||Math.abs(w[0])<Mat.eps){this.dataX=[NaN],this.dataY=[NaN];return}x=Geometry.bezierArc(y,b,w,!0,1),this.dataX=x[0],this.dataY=x[1],this.bezierDegree=3},n.methodMap=JXG$1.deepCopy(n.methodMap,{radius:"Radius",getRadius:"Radius",setRadius:"setRadius"});else if(l==="3points"){for(n.point1=h[0],n.point2=h[1],n.point3=h[2],o=0;o<3;o++)JXG$1.exists(h[o]._is_new)?(n.addChild(h[o]),delete h[o]._is_new):h[o].addChild(n);n.useDirection=s.usedirection,n.setParents(h),JXG$1.exists(h[3])&&(n.point4=h[3],n.point4.addChild(n)),n.methodMap=JXG$1.deepCopy(n.methodMap,{arc:"arc",center:"center",radiuspoint:"radiuspoint",anglepoint:"anglepoint",radius:"Radius",getRadius:"Radius",setRadius:"setRadius"}),n.updateDataArray=function(){var d,p,v,y,b,w=this.point2,x=this.point1,A=this.point3,S,_=1,$=JXG$1.evaluate(this.visProp.selection);if(!w.isReal||!x.isReal||!A.isReal){this.dataX=[NaN],this.dataY=[NaN];return}S=Geometry.rad(w,x,A),($==="minor"&&S>Math.PI||$==="major"&&S<Math.PI)&&(_=-1),this.useDirection&&JXG$1.exists(this.point4)&&(v=this.point2.coords.usrCoords,y=this.point4.coords.usrCoords,b=this.point3.coords.usrCoords,p=(v[1]-b[1])*(v[2]-y[2])-(v[2]-b[2])*(v[1]-y[1]),p>=0&&(A=this.point2,w=this.point3)),w=w.coords.usrCoords,x=x.coords.usrCoords,A=A.coords.usrCoords,d=Geometry.bezierArc(w,x,A,!0,_),this.dataX=d[0],this.dataY=d[1],this.bezierDegree=3},n.Radius=function(){return this.point2.Dist(this.point1)},a=JXG$1.copyAttributes(s,t.options,"sector","arc"),a.withLabel=!1,a.name+="_arc",n.arc=t.create("arc",[n.point1,n.point2,n.point3],a),n.addChild(n.arc)}return n.center=n.point1,n.radiuspoint=n.point2,n.anglepoint=n.point3,n.hasPointCurve=function(d,p){var v,y,b,w,x,A=new Coords(Const.COORDS_BY_SCREEN,[d,p],this.board),S=this.Radius(),_=this.center.coords.distance(Const.COORDS_BY_USER,A),$,M=JXG$1.evaluate(this.visProp.selection);return JXG$1.isObject(JXG$1.evaluate(this.visProp.precision))?(x=this.board._inputDevice,w=JXG$1.evaluate(this.visProp.precision[x])):w=this.board.options.precision.hasPoint,w/=Math.min(Math.abs(this.board.unitX),Math.abs(this.board.unitY)),$=Math.abs(_-S)<w,$&&(v=Geometry.rad(this.point2,this.center,A.usrCoords.slice(1)),y=0,b=Geometry.rad(this.point2,this.center,this.point3),(M==="minor"&&b>Math.PI||M==="major"&&b<Math.PI)&&(y=b,b=2*Math.PI),(v<y||v>b)&&($=!1)),$},n.hasPointSector=function(d,p){var v,y=new Coords(Const.COORDS_BY_SCREEN,[d,p],this.board),b=this.Radius(),w=this.point1.coords.distance(Const.COORDS_BY_USER,y),x,A,S=w<b,_=JXG$1.evaluate(this.visProp.selection);return S&&(v=Geometry.rad(this.radiuspoint,this.center,y.usrCoords.slice(1)),x=0,A=Geometry.rad(this.radiuspoint,this.center,this.anglepoint),(_==="minor"&&A>Math.PI||_==="major"&&A<Math.PI)&&(x=A,A=2*Math.PI),(v<x||v>A)&&(S=!1)),S},n.hasPoint=function(d,p){return JXG$1.evaluate(this.visProp.highlightonsector)||JXG$1.evaluate(this.visProp.hasinnerpoints)?this.hasPointSector(d,p):this.hasPointCurve(d,p)},n.getTextAnchor=function(){return this.point1.coords},n.getLabelAnchor=function(){var d,p,v,y,b,w=Geometry.rad(this.point2,this.point1,this.point3),x=13/this.board.unitX,A=13/this.board.unitY,S=this.point2.coords.usrCoords,_=this.point1.coords.usrCoords,$=S[1]-_[1],M=S[2]-_[2],T=JXG$1.evaluate(this.visProp.selection),O=this.label?this.label.visProp:this.visProp.label;return(T==="minor"&&w>Math.PI||T==="major"&&w<Math.PI)&&(w=-(2*Math.PI-w)),d=new Coords(Const.COORDS_BY_USER,[_[1]+Math.cos(w*.5)*$-Math.sin(w*.5)*M,_[2]+Math.sin(w*.5)*$+Math.cos(w*.5)*M],this.board),v=d.usrCoords[1]-_[1],y=d.usrCoords[2]-_[2],b=Math.sqrt(v*v+y*y),v=v*(b+x)/b,y=y*(b+A)/b,p=[_[1]+v,_[2]+y],O.position=Geometry.calcLabelQuadrant(Geometry.rad([1,0],[0,0],p)),new Coords(Const.COORDS_BY_USER,p,this.board)},n.setRadius=function(d){var p,v=JXG$1.evaluate(d);d==="auto"||v==="auto"?p="auto":JXG$1.isNumber(d)?p="number":JXG$1.isFunction(d)&&!JXG$1.isString(v)?p="function":p="undefined",p!=="undefined"&&(this.visProp.radius=d),n.Radius=function(){var y=JXG$1.evaluate(d);return y==="auto"?this.autoRadius():y}},n.getRadius=function(){return JXG$1.deprecated("Sector.getRadius()","Sector.Radius()"),this.Radius()},l==="3points"&&(n.setPositionDirectly=function(d,p,v){var y,b,w=new Coords(d,p,this.board),x=new Coords(d,v,this.board);return!n.point1.draggable()||!n.point2.draggable()||!n.point3.draggable()?this:(y=Statistics.subtract(w.usrCoords,x.usrCoords),b=this.board.create("transform",y.slice(1),{type:"translate"}),b.applyOnce([n.point1,n.point2,n.point3]),this)}),n.prepareUpdate().update(),n};JXG$1.registerElement("sector",JXG$1.createSector);JXG$1.createCircumcircleSector=function(t,r,s){var n,a,o,l;if(l=JXG$1.providePoints(t,r,s,"point"),l===!1)throw new Error("JSXGraph: Can't create circumcircle sector with parent types '"+typeof r[0]+"' and '"+typeof r[1]+"' and '"+typeof r[2]+"'.");return a=t.create("circumcenter",l.slice(0,3),o),a.dump=!1,o=JXG$1.copyAttributes(s,t.options,"circumcirclesector"),n=t.create("sector",[a,l[0],l[2],l[1]],o),n.elType="circumcirclesector",n.setParents(l),n.center=a,n.subs={center:a},n};JXG$1.registerElement("circumcirclesector",JXG$1.createCircumcircleSector);JXG$1.createMinorSector=function(t,r,s){return s.selection="minor",JXG$1.createSector(t,r,s)};JXG$1.registerElement("minorsector",JXG$1.createMinorSector);JXG$1.createMajorSector=function(t,r,s){return s.selection="major",JXG$1.createSector(t,r,s)};JXG$1.registerElement("majorsector",JXG$1.createMajorSector);JXG$1.createAngle=function(t,r,s){var n,a,o,l,u,f,c="invalid";if(r[0].elementClass===Const.OBJECT_CLASS_LINE&&r[1].elementClass===Const.OBJECT_CLASS_LINE&&(JXG$1.isArray(r[2])||JXG$1.isNumber(r[2]))&&(JXG$1.isArray(r[3])||JXG$1.isNumber(r[3])))c="2lines";else{if(o={name:""},f=JXG$1.providePoints(t,r,o,"point"),f===!1)throw new Error("JSXGraph: Can't create angle with parent types '"+typeof r[0]+"' and '"+typeof r[1]+"' and '"+typeof r[2]+"'.");c="3points"}if(o=JXG$1.copyAttributes(s,t.options,"angle"),(!JXG$1.exists(o.name)||o.name==="")&&(o.name=t.generateName({type:Const.OBJECT_TYPE_ANGLE})),JXG$1.exists(o.radius)?a=o.radius:a=0,c==="2lines"?(r.push(a),n=t.create("sector",r,o),n.updateDataArraySector=n.updateDataArray,n.setAngle=function(h){},n.free=function(h){}):(n=t.create("sector",[f[1],f[0],f[2]],o),n.arc.visProp.priv=!0,n.point=n.point2=n.radiuspoint=f[0],n.pointsquare=n.point3=n.anglepoint=f[2],n.Radius=function(){var h=JXG$1.evaluate(a);return h==="auto"?n.autoRadius():h},n.updateDataArraySector=function(){var h=this.point2,d=this.point1,p=this.point3,v=this.Radius(),y=d.Dist(h),b,w,x=1,A=JXG$1.evaluate(this.visProp.selection);w=Geometry.rad(h,d,p),(A==="minor"&&w>Math.PI||A==="major"&&w<Math.PI)&&(x=-1),h=h.coords.usrCoords,d=d.coords.usrCoords,p=p.coords.usrCoords,h=[1,d[1]+(h[1]-d[1])*v/y,d[2]+(h[2]-d[2])*v/y],p=[1,d[1]+(p[1]-d[1])*v/y,d[2]+(p[2]-d[2])*v/y],b=Geometry.bezierArc(h,d,p,!0,x),this.dataX=b[0],this.dataY=b[1],this.bezierDegree=3},n.setAngle=function(h){var d,p,v,y=this.anglepoint,b=this.radiuspoint;return y.draggable()&&(d=this.board.create("transform",[h,this.center],{type:"rotate"}),y.addTransform(b,d),d.update(),y.moveTo(Mat.matVecMult(d.matrix,b.coords.usrCoords)),JXG$1.isFunction(h)?v=function(){return Math.PI*2-h()}:v=function(){return Math.PI*2-h},p=this.board.create("transform",[v,this.center],{type:"rotate"}),y.coords.on("update",function(){p.update(),b.moveTo(Mat.matVecMult(p.matrix,y.coords.usrCoords))}),y.setParents(b)),this},n.free=function(){var h=this.anglepoint;return h.transformations.length>0&&(h.transformations.pop(),h.isDraggable=!0,h.parents=[],h.coords.off("update")),this},n.setParents(f)),JXG$1.exists(n.visProp.text)&&n.label.setText(JXG$1.evaluate(n.visProp.text)),n.elType="angle",n.type=Const.OBJECT_TYPE_ANGLE,n.subs={},n.updateDataArraySquare=function(){var h,d,p,v,y,b,w,x,A=this.Radius();c==="2lines"&&this.updateDataArraySector(),h=this.point2,d=this.point1,p=this.point3,h=h.coords.usrCoords,d=d.coords.usrCoords,p=p.coords.usrCoords,v=Geometry.distance(h,d,3),y=Geometry.distance(p,d,3),h=[1,d[1]+(h[1]-d[1])*A/v,d[2]+(h[2]-d[2])*A/v],p=[1,d[1]+(p[1]-d[1])*A/y,d[2]+(p[2]-d[2])*A/y],b=Mat.crossProduct(p,d),w=[-h[1]*b[1]-h[2]*b[2],h[0]*b[1],h[0]*b[2]],b=Mat.crossProduct(h,d),x=[-p[1]*b[1]-p[2]*b[2],p[0]*b[1],p[0]*b[2]],b=Mat.crossProduct(w,x),b[1]/=b[0],b[2]/=b[0],this.dataX=[d[1],h[1],b[1],p[1],d[1]],this.dataY=[d[2],h[2],b[2],p[2],d[2]],this.bezierDegree=1},n.updateDataArrayNone=function(){this.dataX=[NaN],this.dataY=[NaN],this.bezierDegree=1},n.updateDataArray=function(){var h=JXG$1.evaluate(this.visProp.type),d=Geometry.trueAngle(this.point2,this.point1,this.point3),p=JXG$1.evaluate(this.visProp.selection);(p==="minor"&&d>180||p==="major"&&d<180)&&(d=360-d),Math.abs(d-90)<JXG$1.evaluate(this.visProp.orthosensitivity)+Mat.eps&&(h=JXG$1.evaluate(this.visProp.orthotype)),h==="none"?this.updateDataArrayNone():h==="square"?this.updateDataArraySquare():h==="sector"?this.updateDataArraySector():h==="sectordot"&&(this.updateDataArraySector(),this.dot.visProp.visible||this.dot.setAttribute({visible:!0})),(!this.visProp.visible||h!=="sectordot"&&this.dot.visProp.visible)&&this.dot.setAttribute({visible:!1})},l=JXG$1.copyAttributes(s,t.options,"angle","dot"),n.dot=t.create("point",[function(){var h,d,p,v,y,b,w,x,A;return JXG$1.exists(n.dot)&&!n.dot.visProp.visible?[0,0]:(h=n.point2.coords.usrCoords,d=n.point1.coords.usrCoords,p=n.Radius(),v=Geometry.distance(h,d,3),y=Geometry.rad(n.point2,n.point1,n.point3),A=JXG$1.evaluate(n.visProp.selection),(A==="minor"&&y>Math.PI||A==="major"&&y<Math.PI)&&(y=-(2*Math.PI-y)),y*=.5,b=Math.cos(y),w=Math.sin(y),h=[1,d[1]+(h[1]-d[1])*p/v,d[2]+(h[2]-d[2])*p/v],x=[[1,0,0],[d[1]-.5*d[1]*b+.5*d[2]*w,b*.5,-w*.5],[d[2]-.5*d[1]*w-.5*d[2]*b,w*.5,b*.5]],Mat.matVecMult(x,h))}],l),n.dot.dump=!1,n.subs.dot=n.dot,c==="2lines")for(u=0;u<2;u++)t.select(r[u]).addChild(n.dot);else for(u=0;u<3;u++)t.select(f[u]).addChild(n.dot);return n.getLabelAnchor=function(){var h,d=12,p,v,y,b,w,x,A,S,_=JXG$1.evaluate(n.visProp.selection),$=this.label?this.label.visProp:this.visProp.label;return JXG$1.exists(this.label)&&JXG$1.exists(this.label.visProp.fontsize)&&(d=JXG$1.evaluate(this.label.visProp.fontsize)),d/=this.board.unitX,p=n.point2.coords.usrCoords,v=n.point1.coords.usrCoords,y=n.Radius(),b=Geometry.distance(p,v,3),w=Geometry.rad(n.point2,n.point1,n.point3),(_==="minor"&&w>Math.PI||_==="major"&&w<Math.PI)&&(w=-(2*Math.PI-w)),w*=.5,x=Math.cos(w),A=Math.sin(w),p=[1,v[1]+(p[1]-v[1])*y/b,v[2]+(p[2]-v[2])*y/b],S=[[1,0,0],[v[1]-.5*v[1]*x+.5*v[2]*A,x*.5,-A*.5],[v[2]-.5*v[1]*A-.5*v[2]*x,A*.5,x*.5]],h=Mat.matVecMult(S,p),h[1]/=h[0],h[2]/=h[0],h[0]/=h[0],b=Geometry.distance(h,v,3),h=[h[0],v[1]+(h[1]-v[1])*(y+d)/b,v[2]+(h[2]-v[2])*(y+d)/b],$.position=Geometry.calcLabelQuadrant(Geometry.rad([1,0],[0,0],h)),new Coords(Const.COORDS_BY_USER,h,this.board)},n.Value=function(){return Geometry.rad(this.point2,this.point1,this.point3)},n.methodMap=JXG$1.deepCopy(n.methodMap,{Value:"Value",setAngle:"setAngle",free:"free"}),n};JXG$1.registerElement("angle",JXG$1.createAngle);JXG$1.createNonreflexAngle=function(t,r,s){var n;return s.selection="minor",s=JXG$1.copyAttributes(s,t.options,"nonreflexangle"),n=JXG$1.createAngle(t,r,s),n.Value=function(){var a=Geometry.rad(this.point2,this.point1,this.point3);return a<Math.PI?a:2*Math.PI-a},n};JXG$1.registerElement("nonreflexangle",JXG$1.createNonreflexAngle);JXG$1.createReflexAngle=function(t,r,s){var n;return s.selection="major",s=JXG$1.copyAttributes(s,t.options,"reflexangle"),n=JXG$1.createAngle(t,r,s),n.Value=function(){var a=Geometry.rad(this.point2,this.point1,this.point3);return a>=Math.PI?a:2*Math.PI-a},n};JXG$1.registerElement("reflexangle",JXG$1.createReflexAngle);JXG$1.createOrthogonalProjection=function(t,r,s){var n,a,o,l;if(r[0]=t.select(r[0]),r[1]=t.select(r[1]),JXG$1.isPointType(t,r[0])&&r[1].elementClass===Const.OBJECT_CLASS_LINE)a=JXG$1.providePoints(t,[r[0]],s,"point")[0],n=r[1];else if(JXG$1.isPointType(t,r[1])&&r[0].elementClass===Const.OBJECT_CLASS_LINE)a=JXG$1.providePoints(t,[r[1]],s,"point")[0],n=r[0];else throw new Error("JSXGraph: Can't create perpendicular point with parent types '"+typeof r[0]+"' and '"+typeof r[1]+`'.
Possible parent types: [point,line]`);return l=JXG$1.copyAttributes(s,t.options,"orthogonalprojection"),o=t.create("point",[function(){return Geometry.projectPointToLine(a,n,t)}],l),JXG$1.exists(a._is_new)?(o.addChild(a),delete a._is_new):a.addChild(o),n.addChild(o),o.elType="orthogonalprojection",o.setParents([a.id,o.id]),o.update(),o.generatePolynomial=function(){var u=n.point1.symbolic.x,f=n.point1.symbolic.y,c=n.point2.symbolic.x,h=n.point2.symbolic.y,d=a.symbolic.x,p=a.symbolic.y,v=o.symbolic.x,y=o.symbolic.y,b="("+f+")*("+v+")-("+f+")*("+c+")+("+y+")*("+c+")-("+u+")*("+y+")+("+u+")*("+h+")-("+v+")*("+h+")",w="("+p+")*("+f+")-("+p+")*("+h+")-("+y+")*("+f+")+("+y+")*("+h+")+("+d+")*("+u+")-("+d+")*("+c+")-("+v+")*("+u+")+("+v+")*("+c+")";return[b,w]},o};JXG$1.createPerpendicular=function(t,r,s){var n,a,o,l;if(r[0]=t.select(r[0]),r[1]=t.select(r[1]),JXG$1.isPointType(t,r[0])&&r[1].elementClass===Const.OBJECT_CLASS_LINE)a=r[1],n=JXG$1.providePoints(t,[r[0]],s,"point")[0];else if(JXG$1.isPointType(t,r[1])&&r[0].elementClass===Const.OBJECT_CLASS_LINE)a=r[0],n=JXG$1.providePoints(t,[r[1]],s,"point")[0];else throw new Error("JSXGraph: Can't create perpendicular with parent types '"+typeof r[0]+"' and '"+typeof r[1]+`'.
Possible parent types: [line,point]`);return l=JXG$1.copyAttributes(s,t.options,"perpendicular"),o=JXG$1.createLine(t,[function(){return a.stdform[2]*n.X()-a.stdform[1]*n.Y()},function(){return-a.stdform[2]*n.Z()},function(){return a.stdform[1]*n.Z()}],l),o.elType="perpendicular",o.setParents([a.id,n.id]),JXG$1.exists(n._is_new)?(o.addChild(n),delete n._is_new):n.addChild(o),a.addChild(o),o};JXG$1.createPerpendicularPoint=function(t,r,s){var n,a,o;if(r[0]=t.select(r[0]),r[1]=t.select(r[1]),JXG$1.isPointType(t,r[0])&&r[1].elementClass===Const.OBJECT_CLASS_LINE)a=JXG$1.providePoints(t,[r[0]],s,"point")[0],n=r[1];else if(JXG$1.isPointType(t,r[1])&&r[0].elementClass===Const.OBJECT_CLASS_LINE)a=JXG$1.providePoints(t,[r[1]],s,"point")[0],n=r[0];else throw new Error("JSXGraph: Can't create perpendicular point with parent types '"+typeof r[0]+"' and '"+typeof r[1]+`'.
Possible parent types: [point,line]`);return o=t.create("point",[function(){return Geometry.perpendicular(n,a,t)[0]}],s),JXG$1.exists(a._is_new)?(o.addChild(a),delete a._is_new):a.addChild(o),n.addChild(o),o.elType="perpendicularpoint",o.setParents([a.id,n.id]),o.update(),o.generatePolynomial=function(){var l=n.point1.symbolic.x,u=n.point1.symbolic.y,f=n.point2.symbolic.x,c=n.point2.symbolic.y,h=a.symbolic.x,d=a.symbolic.y,p=o.symbolic.x,v=o.symbolic.y,y="("+u+")*("+p+")-("+u+")*("+f+")+("+v+")*("+f+")-("+l+")*("+v+")+("+l+")*("+c+")-("+p+")*("+c+")",b="("+d+")*("+u+")-("+d+")*("+c+")-("+v+")*("+u+")+("+v+")*("+c+")+("+h+")*("+l+")-("+h+")*("+f+")-("+p+")*("+l+")+("+p+")*("+f+")";return[y,b]},o};JXG$1.createPerpendicularSegment=function(t,r,s){var n,a,o,l,u;if(r[0]=t.select(r[0]),r[1]=t.select(r[1]),JXG$1.isPointType(t,r[0])&&r[1].elementClass===Const.OBJECT_CLASS_LINE)a=r[1],n=JXG$1.providePoints(t,[r[0]],s,"point")[0];else if(JXG$1.isPointType(t,r[1])&&r[0].elementClass===Const.OBJECT_CLASS_LINE)a=r[0],n=JXG$1.providePoints(t,[r[1]],s,"point")[0];else throw new Error("JSXGraph: Can't create perpendicular with parent types '"+typeof r[0]+"' and '"+typeof r[1]+`'.
Possible parent types: [line,point]`);return u=JXG$1.copyAttributes(s,t.options,"perpendicularsegment","point"),l=JXG$1.createPerpendicularPoint(t,[a,n],u),l.dump=!1,JXG$1.exists(s.layer)||(s.layer=t.options.layer.line),u=JXG$1.copyAttributes(s,t.options,"perpendicularsegment"),o=JXG$1.createLine(t,[function(){return Geometry.perpendicular(a,n,t)[1]?[l,n]:[n,l]}],u),o.point=l,JXG$1.exists(n._is_new)?(o.addChild(n),delete n._is_new):n.addChild(o),a.addChild(o),o.elType="perpendicularsegment",o.setParents([n.id,a.id]),o.subs={point:l},o.inherits.push(l),o};JXG$1.createMidpoint=function(t,r,s){var n,a,o,l,u;for(l=0;l<r.length;++l)r[l]=t.select(r[l]);if(r.length===2&&JXG$1.isPointType(t,r[0])&&JXG$1.isPointType(t,r[1]))r=JXG$1.providePoints(t,r,s,"point"),n=r[0],a=r[1];else if(r.length===1&&r[0].elementClass===Const.OBJECT_CLASS_LINE)n=r[0].point1,a=r[0].point2;else throw new Error(`JSXGraph: Can't create midpoint.
Possible parent types: [point,point], [line]`);return u=JXG$1.copyAttributes(s,t.options,"midpoint"),o=t.create("point",[function(){var f=n.coords.usrCoords[1]+a.coords.usrCoords[1];return isNaN(f)||Math.abs(n.coords.usrCoords[0])<Mat.eps||Math.abs(a.coords.usrCoords[0])<Mat.eps?NaN:f*.5},function(){var f=n.coords.usrCoords[2]+a.coords.usrCoords[2];return isNaN(f)||Math.abs(n.coords.usrCoords[0])<Mat.eps||Math.abs(a.coords.usrCoords[0])<Mat.eps?NaN:f*.5}],u),JXG$1.exists(n._is_new)?(o.addChild(n),delete n._is_new):n.addChild(o),JXG$1.exists(a._is_new)?(o.addChild(a),delete a._is_new):a.addChild(o),o.elType="midpoint",o.setParents([n.id,a.id]),o.prepareUpdate().update(),o.generatePolynomial=function(){var f=n.symbolic.x,c=n.symbolic.y,h=a.symbolic.x,d=a.symbolic.y,p=o.symbolic.x,v=o.symbolic.y,y="("+c+")*("+p+")-("+c+")*("+h+")+("+v+")*("+h+")-("+f+")*("+v+")+("+f+")*("+d+")-("+p+")*("+d+")",b="("+f+")^2 - 2*("+f+")*("+p+")+("+c+")^2-2*("+c+")*("+v+")-("+h+")^2+2*("+h+")*("+p+")-("+d+")^2+2*("+d+")*("+v+")";return[y,b]},o};JXG$1.createParallelPoint=function(t,r,s){var n,a,o,l,u,f;for(u=0;u<r.length;++u)r[u]=t.select(r[u]);if(r.length===3&&JXG$1.isPointType(t,r[0])&&JXG$1.isPointType(t,r[1])&&JXG$1.isPointType(t,r[2]))r=JXG$1.providePoints(t,r,s,"point"),n=r[0],a=r[1],o=r[2];else if(JXG$1.isPointType(t,r[0])&&r[1].elementClass===Const.OBJECT_CLASS_LINE)o=JXG$1.providePoints(t,[r[0]],s,"point")[0],n=r[1].point1,a=r[1].point2;else if(JXG$1.isPointType(t,r[1])&&r[0].elementClass===Const.OBJECT_CLASS_LINE)o=JXG$1.providePoints(t,[r[1]],s,"point")[0],n=r[0].point1,a=r[0].point2;else throw new Error("JSXGraph: Can't create parallel point with parent types '"+typeof r[0]+"', '"+typeof r[1]+"' and '"+typeof r[2]+`'.
Possible parent types: [line,point], [point,point,point]`);return f=JXG$1.copyAttributes(s,t.options,"parallelpoint"),l=t.create("point",[function(){return o.coords.usrCoords[1]+a.coords.usrCoords[1]-n.coords.usrCoords[1]},function(){return o.coords.usrCoords[2]+a.coords.usrCoords[2]-n.coords.usrCoords[2]}],f),JXG$1.exists(n._is_new)?(l.addChild(n),delete n._is_new):n.addChild(l),JXG$1.exists(a._is_new)?(l.addChild(a),delete a._is_new):a.addChild(l),JXG$1.exists(o._is_new)?(l.addChild(o),delete o._is_new):o.addChild(l),l.elType="parallelpoint",l.setParents([n.id,a.id,o.id]),l.prepareUpdate().update(),l.generatePolynomial=function(){var c=n.symbolic.x,h=n.symbolic.y,d=a.symbolic.x,p=a.symbolic.y,v=o.symbolic.x,y=o.symbolic.y,b=l.symbolic.x,w=l.symbolic.y,x="("+p+")*("+b+")-("+p+")*("+v+")-("+h+")*("+b+")+("+h+")*("+v+")-("+w+")*("+d+")+("+w+")*("+c+")+("+y+")*("+d+")-("+y+")*("+c+")",A="("+w+")*("+c+")-("+w+")*("+v+")-("+p+")*("+c+")+("+p+")*("+v+")-("+b+")*("+h+")+("+b+")*("+y+")+("+d+")*("+h+")-("+d+")*("+y+")";return[x,A]},l};JXG$1.createParallel=function(t,r,s){var n,a,o,l,u,f,c=1;for(u=0;u<r.length;++u)r[u]=t.select(r[u]);return n=null,r.length===3?(r=JXG$1.providePoints(t,r,s,"point"),n=r[2],c=0):JXG$1.isPointType(t,r[0])?(n=JXG$1.providePoints(t,[r[0]],s,"point")[0],l=function(){return r[1].stdform}):JXG$1.isPointType(t,r[1])&&(n=JXG$1.providePoints(t,[r[1]],s,"point")[0],l=function(){return r[0].stdform}),JXG$1.exists(s.layer)||(s.layer=t.options.layer.line),f=JXG$1.copyAttributes(s,t.options,"parallel","point"),c===1?a=t.create("point",[function(){return Mat.crossProduct([1,0,0],l())}],f):a=t.create("parallelpoint",r,f),a.isDraggable=!0,f=JXG$1.copyAttributes(s,t.options,"parallel"),o=t.create("line",[n,a],f),o.elType="parallel",o.subs={point:a},o.inherits.push(a),o.setParents([r[0].id,r[1].id]),r.length===3&&o.addParents(r[2].id),o.point=a,o};JXG$1.createArrowParallel=function(t,r,s){var n,a;try{return a=JXG$1.copyAttributes(s,t.options,"arrowparallel"),a.firstArrow=!1,a.lastArrow=!0,n=JXG$1.createParallel(t,r,a).setAttribute({straightFirst:!1,straightLast:!1}),n.elType="arrowparallel",n}catch{throw new Error("JSXGraph: Can't create arrowparallel with parent types '"+typeof r[0]+"' and '"+typeof r[1]+`'.
Possible parent types: [line,point], [point,point,point]`)}};JXG$1.createNormal=function(t,r,s){var n,a,o,l,u,f,c,h,d;for(l=0;l<r.length;++l)r[l]=t.select(r[l]);if(r.length===1)n=r[0],a=n.slideObject;else if(r.length===2)if(JXG$1.isPointType(t,r[0]))n=JXG$1.providePoints(t,[r[0]],s,"point")[0],a=r[1];else if(JXG$1.isPointType(t,r[1]))a=r[0],n=JXG$1.providePoints(t,[r[1]],s,"point")[0];else throw new Error("JSXGraph: Can't create normal with parent types '"+typeof r[0]+"' and '"+typeof r[1]+`'.
Possible parent types: [point,line], [point,circle], [glider]`);else throw new Error("JSXGraph: Can't create normal with parent types '"+typeof r[0]+"' and '"+typeof r[1]+`'.
Possible parent types: [point,line], [point,circle], [glider]`);if(c=JXG$1.copyAttributes(s,t.options,"normal"),a.elementClass===Const.OBJECT_CLASS_LINE)d=JXG$1.copyAttributes(s,t.options,"normal","point"),h=t.create("point",[function(){var p=Mat.crossProduct([1,0,0],a.stdform);return[p[0],-p[2],p[1]]}],d),h.isDraggable=!0,o=t.create("line",[n,h],c),o.point=h,o.subs={point:h},o.inherits.push(h);else if(a.elementClass===Const.OBJECT_CLASS_CIRCLE)o=t.create("line",[a.midpoint,n],c);else if(a.elementClass===Const.OBJECT_CLASS_CURVE)JXG$1.evaluate(a.visProp.curvetype)!=="plot"?(u=a.X,f=a.Y,o=t.create("line",[function(){return-n.X()*Numerics.D(u)(n.position)-n.Y()*Numerics.D(f)(n.position)},function(){return Numerics.D(u)(n.position)},function(){return Numerics.D(f)(n.position)}],c)):o=t.create("line",[function(){var p=Math.floor(n.position),v=n.position-p,y,b,w,x,A,S,_,$,M,T;if(a.bezierdegree===1)p===a.numberPoints-1&&(p-=1,v=1);else if(a.bezierDegree===3)p=Math.floor(n.position*(a.numberPoints-1)/3)*3,w=(n.position*(a.numberPoints-1)-p)/3,p>=a.numberPoints-1&&(p=a.numberPoints-4,w=1);else return 0;return p<0?1:a.bezierDegree===1?(a.Y(p)+v*(a.Y(p+1)-a.Y(p)))*(a.Y(p)-a.Y(p+1))-(a.X(p)+v*(a.X(p+1)-a.X(p)))*(a.X(p+1)-a.X(p)):(x=a.points[p].usrCoords,A=a.points[p+1].usrCoords,S=a.points[p+2].usrCoords,_=a.points[p+3].usrCoords,$=(1-w)*(1-w)*(A[1]-x[1])+2*(1-w)*w*(S[1]-A[1])+w*w*(_[1]-S[1]),M=(1-w)*(1-w)*(A[2]-x[2])+2*(1-w)*w*(S[2]-A[2])+w*w*(_[2]-S[2]),T=Math.sqrt($*$+M*M),$/=T,M/=T,y=n.coords.usrCoords,b=[1,y[1]-M,y[2]+$],y[2]*b[1]-y[1]*b[2])},function(){var p=Math.floor(n.position),v,y,b,w,x,A,S,_,$,M;if(a.bezierdegree===1)p===a.numberPoints-1&&(p-=1);else if(a.bezierDegree===3)p=Math.floor(n.position*(a.numberPoints-1)/3)*3,b=(n.position*(a.numberPoints-1)-p)/3,p>=a.numberPoints-1&&(p=a.numberPoints-4,b=1);else return 0;return p<0?0:a.bezierDegree===1?a.X(p+1)-a.X(p):(w=a.points[p].usrCoords,x=a.points[p+1].usrCoords,A=a.points[p+2].usrCoords,S=a.points[p+3].usrCoords,_=(1-b)*(1-b)*(x[1]-w[1])+2*(1-b)*b*(A[1]-x[1])+b*b*(S[1]-A[1]),$=(1-b)*(1-b)*(x[2]-w[2])+2*(1-b)*b*(A[2]-x[2])+b*b*(S[2]-A[2]),M=Math.sqrt(_*_+$*$),_/=M,$/=M,v=n.coords.usrCoords,y=[1,v[1]-$,v[2]+_],y[2]-v[2])},function(){var p=Math.floor(n.position),v,y,b,w,x,A,S,_,$,M;if(a.bezierdegree===1)p===a.numberPoints-1&&(p-=1);else if(a.bezierDegree===3)p=Math.floor(n.position*(a.numberPoints-1)/3)*3,b=(n.position*(a.numberPoints-1)-p)/3,p>=a.numberPoints-1&&(p=a.numberPoints-4,b=1);else return 0;return p<0?0:a.bezierDegree===1?a.Y(p+1)-a.Y(p):(w=a.points[p].usrCoords,x=a.points[p+1].usrCoords,A=a.points[p+2].usrCoords,S=a.points[p+3].usrCoords,_=(1-b)*(1-b)*(x[1]-w[1])+2*(1-b)*b*(A[1]-x[1])+b*b*(S[1]-A[1]),$=(1-b)*(1-b)*(x[2]-w[2])+2*(1-b)*b*(A[2]-x[2])+b*b*(S[2]-A[2]),M=Math.sqrt(_*_+$*$),_/=M,$/=M,v=n.coords.usrCoords,y=[1,v[1]-$,v[2]+_],v[1]-y[1])}],c);else if(a.type===Const.OBJECT_TYPE_TURTLE)o=t.create("line",[function(){var p,v,y=Math.floor(n.position),b=n.position-y;for(v=0;v<a.objects.length;v++)if(p=a.objects[v],p.type===Const.OBJECT_TYPE_CURVE){if(y<p.numberPoints)break;y-=p.numberPoints}return y===p.numberPoints-1&&(y-=1,b=1),y<0?1:(p.Y(y)+b*(p.Y(y+1)-p.Y(y)))*(p.Y(y)-p.Y(y+1))-(p.X(y)+b*(p.X(y+1)-p.X(y)))*(p.X(y+1)-p.X(y))},function(){var p,v,y=Math.floor(n.position);for(v=0;v<a.objects.length;v++)if(p=a.objects[v],p.type===Const.OBJECT_TYPE_CURVE){if(y<p.numberPoints)break;y-=p.numberPoints}return y===p.numberPoints-1&&(y-=1),y<0?0:p.X(y+1)-p.X(y)},function(){var p,v,y=Math.floor(n.position);for(v=0;v<a.objects.length;v++)if(p=a.objects[v],p.type===Const.OBJECT_TYPE_CURVE){if(y<p.numberPoints)break;y-=p.numberPoints}return y===p.numberPoints-1&&(y-=1),y<0?0:p.Y(y+1)-p.Y(y)}],c);else throw new Error("JSXGraph: Can't create normal with parent types '"+typeof r[0]+"' and '"+typeof r[1]+`'.
Possible parent types: [point,line], [point,circle], [glider]`);return o.elType="normal",o.setParents(r),JXG$1.exists(n._is_new)?(o.addChild(n),delete n._is_new):n.addChild(o),a.addChild(o),o};JXG$1.createBisector=function(t,r,s){var n,a,o,l;if(r=JXG$1.providePoints(t,r,s,"point"),JXG$1.isPoint(r[0])&&JXG$1.isPoint(r[1])&&JXG$1.isPoint(r[2])){for(l=JXG$1.copyAttributes(s,t.options,"bisector","point"),l.snapToGrid=!1,n=t.create("point",[function(){return Geometry.angleBisector(r[0],r[1],r[2],t)}],l),n.dump=!1,o=0;o<3;o++)JXG$1.exists(r[o]._is_new)?(n.addChild(r[o]),delete r[o]._is_new):r[o].addChild(n);return JXG$1.exists(s.layer)||(s.layer=t.options.layer.line),l=JXG$1.copyAttributes(s,t.options,"bisector"),a=JXG$1.createLine(t,[r[1],n],l),a.point=n,a.elType="bisector",a.setParents(r),a.subs={point:n},a.inherits.push(n),a}throw new Error("JSXGraph: Can't create angle bisector with parent types '"+typeof r[0]+"' and '"+typeof r[1]+`'.
Possible parent types: [point,point,point]`)};JXG$1.createAngularBisectorsOfTwoLines=function(t,r,s){var n,a,o,l,u=t.select(r[0]),f=t.select(r[1]);if(u.elementClass!==Const.OBJECT_CLASS_LINE||f.elementClass!==Const.OBJECT_CLASS_LINE)throw new Error("JSXGraph: Can't create angle bisectors of two lines with parent types '"+typeof r[0]+"' and '"+typeof r[1]+`'.
Possible parent types: [line,line]`);return JXG$1.exists(s.layer)||(s.layer=t.options.layer.line),o=JXG$1.copyAttributes(s,t.options,"bisectorlines","line1"),n=t.create("line",[function(){var c=Math.sqrt(u.stdform[1]*u.stdform[1]+u.stdform[2]*u.stdform[2]),h=Math.sqrt(f.stdform[1]*f.stdform[1]+f.stdform[2]*f.stdform[2]);return u.stdform[0]/c-f.stdform[0]/h},function(){var c=Math.sqrt(u.stdform[1]*u.stdform[1]+u.stdform[2]*u.stdform[2]),h=Math.sqrt(f.stdform[1]*f.stdform[1]+f.stdform[2]*f.stdform[2]);return u.stdform[1]/c-f.stdform[1]/h},function(){var c=Math.sqrt(u.stdform[1]*u.stdform[1]+u.stdform[2]*u.stdform[2]),h=Math.sqrt(f.stdform[1]*f.stdform[1]+f.stdform[2]*f.stdform[2]);return u.stdform[2]/c-f.stdform[2]/h}],o),JXG$1.exists(s.layer)||(s.layer=t.options.layer.line),o=JXG$1.copyAttributes(s,t.options,"bisectorlines","line2"),a=t.create("line",[function(){var c=Math.sqrt(u.stdform[1]*u.stdform[1]+u.stdform[2]*u.stdform[2]),h=Math.sqrt(f.stdform[1]*f.stdform[1]+f.stdform[2]*f.stdform[2]);return u.stdform[0]/c+f.stdform[0]/h},function(){var c=Math.sqrt(u.stdform[1]*u.stdform[1]+u.stdform[2]*u.stdform[2]),h=Math.sqrt(f.stdform[1]*f.stdform[1]+f.stdform[2]*f.stdform[2]);return u.stdform[1]/c+f.stdform[1]/h},function(){var c=Math.sqrt(u.stdform[1]*u.stdform[1]+u.stdform[2]*u.stdform[2]),h=Math.sqrt(f.stdform[1]*f.stdform[1]+f.stdform[2]*f.stdform[2]);return u.stdform[2]/c+f.stdform[2]/h}],o),l=new Composition({line1:n,line2:a}),n.dump=!1,a.dump=!1,l.elType="bisectorlines",l.setParents([u.id,f.id]),l.subs={line1:n,line2:a},l};JXG$1.createCircumcenter=function(t,r,s){var n,a,o,l,u;if(r=JXG$1.providePoints(t,r,s,"point"),JXG$1.isPoint(r[0])&&JXG$1.isPoint(r[1])&&JXG$1.isPoint(r[2])){for(o=r[0],l=r[1],u=r[2],n=JXG$1.createPoint(t,[function(){return Geometry.circumcenter(o,l,u,t)}],s),a=0;a<3;a++)JXG$1.exists(r[a]._is_new)?(n.addChild(r[a]),delete r[a]._is_new):r[a].addChild(n);return n.elType="circumcenter",n.setParents(r),n.generatePolynomial=function(){var f=o.symbolic.x,c=o.symbolic.y,h=l.symbolic.x,d=l.symbolic.y,p=u.symbolic.x,v=u.symbolic.y,y=n.symbolic.x,b=n.symbolic.y,w=["((",y,")-(",f,"))^2+((",b,")-(",c,"))^2-((",y,")-(",h,"))^2-((",b,")-(",d,"))^2"].join(""),x=["((",y,")-(",f,"))^2+((",b,")-(",c,"))^2-((",y,")-(",p,"))^2-((",b,")-(",v,"))^2"].join("");return[w,x]},n}throw new Error("JSXGraph: Can't create circumcircle midpoint with parent types '"+typeof r[0]+"', '"+typeof r[1]+"' and '"+typeof r[2]+`'.
Possible parent types: [point,point,point]`)};JXG$1.createIncenter=function(t,r,s){var n,a,o,l,u;if(r=JXG$1.providePoints(t,r,s,"point"),r.length>=3&&JXG$1.isPoint(r[0])&&JXG$1.isPoint(r[1])&&JXG$1.isPoint(r[2])){for(a=r[0],o=r[1],l=r[2],n=t.create("point",[function(){var f,c,h;return f=Math.sqrt((o.X()-l.X())*(o.X()-l.X())+(o.Y()-l.Y())*(o.Y()-l.Y())),c=Math.sqrt((a.X()-l.X())*(a.X()-l.X())+(a.Y()-l.Y())*(a.Y()-l.Y())),h=Math.sqrt((o.X()-a.X())*(o.X()-a.X())+(o.Y()-a.Y())*(o.Y()-a.Y())),new Coords(Const.COORDS_BY_USER,[(f*a.X()+c*o.X()+h*l.X())/(f+c+h),(f*a.Y()+c*o.Y()+h*l.Y())/(f+c+h)],t)}],s),u=0;u<3;u++)JXG$1.exists(r[u]._is_new)?(n.addChild(r[u]),delete r[u]._is_new):r[u].addChild(n);n.elType="incenter",n.setParents(r)}else throw new Error("JSXGraph: Can't create incenter with parent types '"+typeof r[0]+"', '"+typeof r[1]+"' and '"+typeof r[2]+`'.
Possible parent types: [point,point,point]`);return n};JXG$1.createCircumcircle=function(t,r,s){var n,a,o,l;if(r=JXG$1.providePoints(t,r,s,"point"),r===!1)throw new Error("JSXGraph: Can't create circumcircle with parent types '"+typeof r[0]+"', '"+typeof r[1]+"' and '"+typeof r[2]+`'.
Possible parent types: [point,point,point]`);try{for(o=JXG$1.copyAttributes(s,t.options,"circumcircle","center"),n=JXG$1.createCircumcenter(t,r,o),n.dump=!1,JXG$1.exists(s.layer)||(s.layer=t.options.layer.circle),o=JXG$1.copyAttributes(s,t.options,"circumcircle"),a=JXG$1.createCircle(t,[n,r[0]],o),a.elType="circumcircle",a.setParents(r),a.subs={center:n},a.inherits.push(a),l=0;l<3;l++)JXG$1.exists(r[l]._is_new)?(a.addChild(r[l]),delete r[l]._is_new):r[l].addChild(a)}catch{throw new Error("JSXGraph: Can't create circumcircle with parent types '"+typeof r[0]+"', '"+typeof r[1]+"' and '"+typeof r[2]+`'.
Possible parent types: [point,point,point]`)}return a};JXG$1.createIncircle=function(t,r,s){var n,a,o,l;if(r=JXG$1.providePoints(t,r,s,"point"),r===!1)throw new Error("JSXGraph: Can't create circumcircle with parent types '"+typeof r[0]+"', '"+typeof r[1]+"' and '"+typeof r[2]+`'.
Possible parent types: [point,point,point]`);try{for(l=JXG$1.copyAttributes(s,t.options,"incircle","center"),a=JXG$1.createIncenter(t,r,l),a.dump=!1,JXG$1.exists(s.layer)||(s.layer=t.options.layer.circle),l=JXG$1.copyAttributes(s,t.options,"incircle"),o=JXG$1.createCircle(t,[a,function(){var u=Math.sqrt((r[1].X()-r[2].X())*(r[1].X()-r[2].X())+(r[1].Y()-r[2].Y())*(r[1].Y()-r[2].Y())),f=Math.sqrt((r[0].X()-r[2].X())*(r[0].X()-r[2].X())+(r[0].Y()-r[2].Y())*(r[0].Y()-r[2].Y())),c=Math.sqrt((r[1].X()-r[0].X())*(r[1].X()-r[0].X())+(r[1].Y()-r[0].Y())*(r[1].Y()-r[0].Y())),h=(u+f+c)/2;return Math.sqrt((h-u)*(h-f)*(h-c)/h)}],l),o.elType="incircle",o.setParents(r),n=0;n<3;n++)JXG$1.exists(r[n]._is_new)?(o.addChild(r[n]),delete r[n]._is_new):r[n].addChild(o);o.center=a,o.subs={center:o.center},o.inherits.push(a)}catch{throw new Error("JSXGraph: Can't create circumcircle with parent types '"+typeof r[0]+"', '"+typeof r[1]+"' and '"+typeof r[2]+`'.
Possible parent types: [point,point,point]`)}return o};JXG$1.createReflection=function(t,r,s){var n,a,o,l,u,f,c,h,d=`
Possible parent types: [point|line|curve|polygon|circle|arc|sector, line]`;for(f=0;f<r.length;++f)r[f]=t.select(r[f]);if(c=JXG$1.copyAttributes(s,t.options,"reflection"),JXG$1.isPoint(r[0]))a=JXG$1.providePoints(t,[r[0]],h)[0];else if(r[0].elementClass===Const.OBJECT_CLASS_CURVE||r[0].elementClass===Const.OBJECT_CLASS_LINE||r[0].type===Const.OBJECT_TYPE_POLYGON||r[0].elementClass===Const.OBJECT_CLASS_CIRCLE)a=r[0];else throw new Error("JSXGraph: Can't create reflection element with parent types '"+typeof r[0]+"' and '"+typeof r[1]+"'."+d);if(r[1].elementClass===Const.OBJECT_CLASS_LINE)n=r[1];else throw new Error("JSXGraph: Can't create reflected element with parent types '"+typeof r[0]+"' and '"+typeof r[1]+"'."+d);if(u=JXG$1.createTransform(t,[n],{type:"reflect"}),JXG$1.isPoint(a))o=JXG$1.createPoint(t,[a,u],c);else if(a.elementClass===Const.OBJECT_CLASS_CURVE)o=JXG$1.createCurve(t,[a,u],c);else if(a.elementClass===Const.OBJECT_CLASS_LINE)o=JXG$1.createLine(t,[a,u],c);else if(a.type===Const.OBJECT_TYPE_POLYGON)o=JXG$1.createPolygon(t,[a,u],c);else if(a.elementClass===Const.OBJECT_CLASS_CIRCLE)c.type.toLowerCase()==="euclidean"?(h=JXG$1.copyAttributes(s,t.options,"reflection","center"),l=JXG$1.createPoint(t,[a.center,u],h),l.prepareUpdate().update().updateVisibility(JXG$1.evaluate(l.visProp.visible)).updateRenderer(),o=JXG$1.createCircle(t,[l,function(){return a.Radius()}],c)):o=JXG$1.createCircle(t,[a,u],c);else throw new Error("JSXGraph: Can't create reflected element with parent types '"+typeof r[0]+"' and '"+typeof r[1]+"'."+d);return JXG$1.exists(a._is_new)&&(o.addChild(a),delete a._is_new),n.addChild(o),o.elType="reflection",o.addParents(n),o.prepareUpdate().update(),JXG$1.isPoint(o)&&(o.generatePolynomial=function(){var p=n.point1.symbolic.x,v=n.point1.symbolic.y,y=n.point2.symbolic.x,b=n.point2.symbolic.y,w=a.symbolic.x,x=a.symbolic.y,A=o.symbolic.x,S=o.symbolic.y,_=["((",S,")-(",x,"))*((",v,")-(",b,"))+((",p,")-(",y,"))*((",A,")-(",w,"))"].join(""),$=["((",A,")-(",p,"))^2+((",S,")-(",v,"))^2-((",w,")-(",p,"))^2-((",x,")-(",v,"))^2"].join("");return[_,$]}),o};JXG$1.createMirrorElement=function(t,r,s){var n,a,o,l,u,f,c,h,d=`
Possible parent types: [point|line|curve|polygon|circle|arc|sector, point]`;for(a=0;a<r.length;++a)r[a]=t.select(r[a]);if(c=JXG$1.copyAttributes(s,t.options,"mirrorelement"),JXG$1.isPoint(r[0]))n=JXG$1.providePoints(t,[r[0]],c)[0];else if(r[0].elementClass===Const.OBJECT_CLASS_CURVE||r[0].elementClass===Const.OBJECT_CLASS_LINE||r[0].type===Const.OBJECT_TYPE_POLYGON||r[0].elementClass===Const.OBJECT_CLASS_CIRCLE)n=r[0];else throw new Error("JSXGraph: Can't create mirror element with parent types '"+typeof r[0]+"' and '"+typeof r[1]+"'."+d);if(JXG$1.isPoint(r[1]))h=JXG$1.copyAttributes(s,t.options,"mirrorelement","point"),o=JXG$1.providePoints(t,[r[1]],h)[0];else throw new Error("JSXGraph: Can't create mirror element with parent types '"+typeof r[0]+"' and '"+typeof r[1]+"'."+d);if(f=JXG$1.createTransform(t,[Math.PI,o],{type:"rotate"}),JXG$1.isPoint(n))l=JXG$1.createPoint(t,[n,f],c);else if(n.elementClass===Const.OBJECT_CLASS_CURVE)l=JXG$1.createCurve(t,[n,f],c);else if(n.elementClass===Const.OBJECT_CLASS_LINE)l=JXG$1.createLine(t,[n,f],c);else if(n.type===Const.OBJECT_TYPE_POLYGON)l=JXG$1.createPolygon(t,[n,f],c);else if(n.elementClass===Const.OBJECT_CLASS_CIRCLE)c.type.toLowerCase()==="euclidean"?(h=JXG$1.copyAttributes(s,t.options,"mirrorelement","center"),u=JXG$1.createPoint(t,[n.center,f],h),u.prepareUpdate().update().updateVisibility(JXG$1.evaluate(u.visProp.visible)).updateRenderer(),l=JXG$1.createCircle(t,[u,function(){return n.Radius()}],c)):l=JXG$1.createCircle(t,[n,f],c);else throw new Error("JSXGraph: Can't create mirror element with parent types '"+typeof r[0]+"' and '"+typeof r[1]+"'."+d);return JXG$1.exists(n._is_new)&&(l.addChild(n),delete n._is_new),o.addChild(l),l.elType="mirrorelement",l.addParents(o),l.prepareUpdate().update(),l};JXG$1.createMirrorPoint=function(t,r,s){var n=JXG$1.createMirrorElement(t,r,s);return n.elType="mirrorpoint",n};JXG$1.createIntegral=function(t,r,s){var n,a,o,l,u,f,c,h,d,p,v,y,b,w,x=null,A;if(JXG$1.isArray(r[0])&&r[1].elementClass===Const.OBJECT_CLASS_CURVE)n=r[0],a=r[1];else if(JXG$1.isArray(r[1])&&r[0].elementClass===Const.OBJECT_CLASS_CURVE)n=r[1],a=r[0];else throw new Error("JSXGraph: Can't create integral with parent types '"+typeof r[0]+"' and '"+typeof r[1]+`'.
Possible parent types: [[number|function,number|function],curve]`);return o=JXG$1.copyAttributes(s,t.options,"integral"),o.withLabel=!1,A=t.create("curve",[[0],[0]],o),l=n[0],u=n[1],JXG$1.isFunction(l)?(f=l,c=function(){return a.Y(f())},l=f()):(f=l,c=a.Y(l)),JXG$1.isFunction(u)?(h=u,d=function(){return a.Y(h())},u=h()):(h=u,d=a.Y(u)),o=JXG$1.copyAttributes(s,t.options,"integral","curveLeft"),p=t.create("glider",[f,c,a],o),JXG$1.isFunction(f)&&p.hideElement(),o=JXG$1.copyAttributes(s,t.options,"integral","baseLeft"),v=t.create("point",[function(){return JXG$1.evaluate(A.visProp.axis)==="y"?0:p.X()},function(){return JXG$1.evaluate(A.visProp.axis)==="y"?p.Y():0}],o),o=JXG$1.copyAttributes(s,t.options,"integral","curveRight"),y=t.create("glider",[h,d,a],o),JXG$1.isFunction(h)&&y.hideElement(),o=JXG$1.copyAttributes(s,t.options,"integral","baseRight"),b=t.create("point",[function(){return JXG$1.evaluate(A.visProp.axis)==="y"?0:y.X()},function(){return JXG$1.evaluate(A.visProp.axis)==="y"?y.Y():0}],o),o=JXG$1.copyAttributes(s,t.options,"integral"),o.withlabel!==!1&&o.axis!=="y"&&(o=JXG$1.copyAttributes(s,t.options,"integral","label"),o=JXG$1.copyAttributes(o,t.options,"label"),x=t.create("text",[function(){var S=new Coords(Const.COORDS_BY_SCREEN,[JXG$1.evaluate(this.visProp.offset[0])+this.board.origin.scrCoords[1],0],this.board,!1),_=this.board.getBoundingBox(),$=(_[2]-_[0])*.1,M=y.X();return M<_[0]?M=_[0]+$:M>_[2]&&(M=_[2]-$),M+S.usrCoords[1]},function(){var S=new Coords(Const.COORDS_BY_SCREEN,[0,JXG$1.evaluate(this.visProp.offset[1])+this.board.origin.scrCoords[2]],this.board,!1),_=this.board.getBoundingBox(),$=(_[1]-_[3])*.1,M=y.Y();return M>_[1]?M=_[1]-$:M<_[3]&&(M=_[3]+$),M+S.usrCoords[2]},""],o),w=function(){var S=Numerics.NewtonCotes([v.X(),b.X()],a.Y),_=JXG$1.evaluate(x.visProp.digits),$;return x.useLocale()?$=x.formatNumberLocale(S,_):$=JXG$1.toFixed(S,_),"&int; = "+$},x.setText(w),x.dump=!1,p.addChild(x),y.addChild(x)),p.dump=!1,v.dump=!1,y.dump=!1,b.dump=!1,A.elType="integral",A.setParents([a.id,n]),A.subs={curveLeft:p,baseLeft:v,curveRight:y,baseRight:b},A.inherits.push(p,v,y,b),o.withLabel&&(A.subs.label=x,A.inherits.push(x)),A.Value=function(){return Numerics.I([v.X(),b.X()],a.Y)},A.updateDataArray=function(){var S,_,$,M,T,O,B,J,F;if(JXG$1.evaluate(this.visProp.axis)==="y"){for(p.Y()<y.Y()?(O=p.X(),J=p.Y(),B=y.X(),F=y.Y()):(O=y.X(),J=y.Y(),B=p.X(),F=p.Y()),M=Math.min(O,B),T=Math.max(O,B),S=[0,O],_=[J,J],$=0;$<a.numberPoints;$++)J<=a.points[$].usrCoords[2]&&M<=a.points[$].usrCoords[1]&&a.points[$].usrCoords[2]<=F&&a.points[$].usrCoords[1]<=T&&(S.push(a.points[$].usrCoords[1]),_.push(a.points[$].usrCoords[2]));S.push(B),_.push(F),S.push(0),_.push(F),S.push(0),_.push(J)}else{for(v.X()<b.X()?(M=v.X(),T=b.X()):(M=b.X(),T=v.X()),S=[M,M],_=[0,a.Y(M)],$=0;$<a.numberPoints;$++)M<=a.points[$].usrCoords[1]&&a.points[$].usrCoords[1]<=T&&(S.push(a.points[$].usrCoords[1]),_.push(a.points[$].usrCoords[2]));S.push(T),_.push(a.Y(T)),S.push(T),_.push(0),S.push(M),_.push(0)}this.dataX=S,this.dataY=_},p.addChild(A),y.addChild(A),v.addChild(A),b.addChild(A),A.baseLeft=v,A.baseRight=b,A.curveLeft=p,A.curveRight=y,A.methodMap=JXG$1.deepCopy(A.methodMap,{curveLeft:"curveLeft",baseLeft:"baseLeft",curveRight:"curveRight",baseRight:"baseRight",Value:"Value"}),A.label=x,A};JXG$1.createGrid=function(t,r,s){var n,a;return a=JXG$1.copyAttributes(s,t.options,"grid"),n=t.create("curve",[[null],[null]],a),n.elType="grid",n.type=Const.OBJECT_TYPE_GRID,n.updateDataArray=function(){var o,l,u,f=5e3,c,h,d,p=JXG$1.evaluate(this.visProp.gridx),v=JXG$1.evaluate(this.visProp.gridy);for(JXG$1.isArray(this.visProp.topleft)?h=new Coords(JXG$1.evaluate(this.visProp.tltype)||Const.COORDS_BY_USER,this.visProp.topleft,t):h=new Coords(Const.COORDS_BY_SCREEN,[0,0],t),JXG$1.isArray(this.visProp.bottomright)?d=new Coords(JXG$1.evaluate(this.visProp.brtype)||Const.COORDS_BY_USER,this.visProp.bottomright,t):d=new Coords(Const.COORDS_BY_SCREEN,[t.canvasWidth,t.canvasHeight],t),t.options.grid.hasGrid=!0,n.dataX=[],n.dataY=[],o=Math.floor(h.usrCoords[2]/v)*v,l=Math.ceil(d.usrCoords[2]/v)*v,h.usrCoords[2]<d.usrCoords[2]&&(o=Math.ceil(d.usrCoords[2]/v)*v,l=Math.floor(h.usrCoords[2]/v)*v),c=!(!isFinite(o)||!isFinite(l)||Math.abs(l)>Math.abs(v*f)),u=o;c&&u>l-v;u-=v)n.dataX.push(h.usrCoords[1],d.usrCoords[1],NaN),n.dataY.push(u,u,NaN);for(o=Math.ceil(h.usrCoords[1]/p)*p,l=Math.floor(d.usrCoords[1]/p)*p,h.usrCoords[1]>d.usrCoords[1]&&(o=Math.floor(d.usrCoords[1]/p)*p,l=Math.ceil(h.usrCoords[1]/p)*p),c=!(!isFinite(o)||!isFinite(l)||Math.abs(l)>Math.abs(p*f)),u=o;c&&u<l+p;u+=p)n.dataX.push(u,u,NaN),n.dataY.push(h.usrCoords[2],d.usrCoords[2],NaN)},n.hasPoint=function(){return!1},t.grids.push(n),n};JXG$1.createInequality=function(t,r,s){var n,a,o;if(o=JXG$1.copyAttributes(s,t.options,"inequality"),r[0].elementClass===Const.OBJECT_CLASS_LINE)a=t.create("curve",[[],[]],o),a.hasPoint=function(){return!1},a.updateDataArray=function(){var l,u,f,c=t.getBoundingBox(),h=o.inverse?-1:1,d=1.5,p=d*Math.max(c[2]-c[0],c[1]-c[3]),v={coords:{usrCoords:[1,(c[0]+c[2])/2,o.inverse?c[1]:c[3]]}},y=r[0].stdform.slice(1),b=y;f=d*Math.max(Geometry.perpendicular(r[0],v,t)[0].distance(Const.COORDS_BY_USER,v.coords),p),f*=h,v={coords:{usrCoords:[1,(c[0]+c[2])/2,(c[1]+c[3])/2]}},Math.abs(Mat.innerProduct(v.coords.usrCoords,r[0].stdform,3))>=Mat.eps?v=Geometry.perpendicular(r[0],v,t)[0].usrCoords:v=v.coords.usrCoords,l=[1,v[1]+y[1]*p,v[2]-y[0]*p],u=[1,v[1]-b[1]*p,v[2]+b[0]*p],this.dataX=[l[1],l[1]+y[0]*f,u[1]+b[0]*f,u[1],l[1]],this.dataY=[l[2],l[2]+y[1]*f,u[2]+b[1]*f,u[2],l[2]]};else if(r[0].elementClass===Const.OBJECT_CLASS_CURVE&&r[0].visProp.curvetype==="functiongraph")a=t.create("curve",[[],[]],o),a.updateDataArray=function(){var l=this.board.getBoundingBox(),u=[],f,c,h,d,p,v=r[0].minX(),y=r[0].maxX(),b,w,x,A,S=(l[1]-l[3])*.3,_=JXG$1.evaluate(this.visProp.inverse);if(f=_?1:3,this.dataX=[],this.dataY=[],d=r[0].points.length,d!==0)for(l[1]+=S,l[3]-=S,h=-1;h<d-1;){for(p=h+1,c=d;p<d;p++)if(r[0].points[p].isReal()){c=p;break}if(c>=d)break;for(p=c,h=d-1;p<d-1;p++)if(!r[0].points[p+1].isReal()){h=p;break}for(x=r[0].points[c].usrCoords[1],A=r[0].points[h].usrCoords[1],b=l[0]<v?v:l[0],w=l[2]>y?y:l[2],b=c===0?b:Math.max(b,x),w=h===d-1?w:Math.min(w,A),b=c===0?v:x,w=h===d-1?y:A,u=[],u.push([1,b,l[f]]),u.push([1,b,r[0].points[c].usrCoords[2]]),p=c;p<=h;p++)u.push(r[0].points[p].usrCoords);for(u.push([1,w,r[0].points[h].usrCoords[2]]),u.push([1,w,l[f]]),u.push(u[0]),p=0;p<u.length;p++)this.dataX.push(u[p][1]),this.dataY.push(u[p][2]);h<d-1&&(this.dataX.push(NaN),this.dataY.push(NaN))}},a.hasPoint=function(){return!1};else if(n=JXG$1.createFunction(r[0]),a.addParentsFromJCFunctions([n]),!JXG$1.exists(n))throw new Error(`JSXGraph: Can't create area with the given parents.
Possible parent types: [line], [function]`);return a.addParents(r[0]),a};JXG$1.registerElement("arrowparallel",JXG$1.createArrowParallel);JXG$1.registerElement("bisector",JXG$1.createBisector);JXG$1.registerElement("bisectorlines",JXG$1.createAngularBisectorsOfTwoLines);JXG$1.registerElement("msector",JXG$1.createMsector);JXG$1.registerElement("circumcircle",JXG$1.createCircumcircle);JXG$1.registerElement("circumcirclemidpoint",JXG$1.createCircumcenter);JXG$1.registerElement("circumcenter",JXG$1.createCircumcenter);JXG$1.registerElement("incenter",JXG$1.createIncenter);JXG$1.registerElement("incircle",JXG$1.createIncircle);JXG$1.registerElement("integral",JXG$1.createIntegral);JXG$1.registerElement("midpoint",JXG$1.createMidpoint);JXG$1.registerElement("mirrorelement",JXG$1.createMirrorElement);JXG$1.registerElement("mirrorpoint",JXG$1.createMirrorPoint);JXG$1.registerElement("normal",JXG$1.createNormal);JXG$1.registerElement("orthogonalprojection",JXG$1.createOrthogonalProjection);JXG$1.registerElement("parallel",JXG$1.createParallel);JXG$1.registerElement("parallelpoint",JXG$1.createParallelPoint);JXG$1.registerElement("perpendicular",JXG$1.createPerpendicular);JXG$1.registerElement("perpendicularpoint",JXG$1.createPerpendicularPoint);JXG$1.registerElement("perpendicularsegment",JXG$1.createPerpendicularSegment);JXG$1.registerElement("reflection",JXG$1.createReflection);JXG$1.registerElement("grid",JXG$1.createGrid);JXG$1.registerElement("inequality",JXG$1.createInequality);JXG$1.createLocus=function(t,r,s){var n,a;if(JXG$1.isArray(r)&&r.length===1&&JXG$1.isPoint(r[0]))a=r[0];else throw new Error(`JSXGraph: Can't create locus with parent of type other than point.
Possible parent types: [point]`);return n=t.create("curve",[[null],[null]],s),n.dontCallServer=!1,n.elType="locus",n.setParents([a.id]),n.updateDataArray=function(){var o,l,u;n.board.mode>0||(o=Symbolic.generatePolynomials(t,a,!0).join("|"),o!==n.spe&&(n.spe=o,l=function(f,c,h,d){n.dataX=f,n.dataY=c,n.eq=h,n.ctime=d,n.generatePolynomial=(function(p){return function(v){var y,b="("+v.symbolic.x+")",w="("+v.symbolic.y+")",x=[];for(y=0;y<p.length;y++)x[y]=p[y].replace(/\*\*/g,"^").replace(/x/g,b).replace(/y/g,w);return x}})(h)},u=Symbolic.geometricLocusByGroebnerBase(t,a,l),l(u.datax,u.datay,u.polynomial,u.exectime)))},n};JXG$1.registerElement("locus",JXG$1.createLocus);JXG$1.Image=function(t,r,s,n,a){this.constructor(t,s,Const.OBJECT_TYPE_IMAGE,Const.OBJECT_CLASS_OTHER),this.element=this.board.select(s.anchor),this.coordsConstructor(r),this.W=JXG$1.createFunction(a[0],this.board,""),this.H=JXG$1.createFunction(a[1],this.board,""),this.addParentsFromJCFunctions([this.W,this.H]),this.usrSize=[this.W(),this.H()],this.size=[Math.abs(this.usrSize[0]*t.unitX),Math.abs(this.usrSize[1]*t.unitY)],this.url=n,this.elType="image",this.span=[this.coords.usrCoords.slice(0),[this.coords.usrCoords[0],this.W(),0],[this.coords.usrCoords[0],0,this.H()]],this.id=this.board.setId(this,"Im"),this.board.renderer.drawImage(this),this.board.finalizeAdding(this),this.methodMap=JXG$1.deepCopy(this.methodMap,{addTransformation:"addTransform",trans:"addTransform"})};JXG$1.Image.prototype=new GeometryElement;JXG$1.copyPrototypeMethods(JXG$1.Image,CoordsElement,"coordsConstructor");JXG$1.extend(JXG$1.Image.prototype,{hasPoint:function(t,r){var s,n,a,o,l,u,f,c,h,d=this.transformations.length;return JXG$1.isObject(JXG$1.evaluate(this.visProp.precision))?(o=this.board._inputDevice,l=JXG$1.evaluate(this.visProp.precision[o])):l=this.board.options.precision.hasPoint,d===0?(s=t-this.coords.scrCoords[1],n=this.coords.scrCoords[2]-r,a=l,s>=-a&&s-this.size[0]<=a&&n>=-a&&n-this.size[1]<=a):(u=new Coords(Const.COORDS_BY_SCREEN,[t,r],this.board),u=u.usrCoords,f=[u[0]-this.span[0][0],u[1]-this.span[0][1],u[2]-this.span[0][2]],h=Mat.innerProduct,c=h(f,this.span[1]),0<=c&&c<=h(this.span[1],this.span[1])&&(c=h(f,this.span[2]),0<=c&&c<=h(this.span[2],this.span[2])))},update:function(t){return this.needsUpdate?(this.updateCoords(t),this.updateSize(),this.updateSpan(),this):this},updateRenderer:function(){return this.updateRendererGeneric("updateImage")},updateSize:function(){return this.usrSize=[this.W(),this.H()],this.size=[Math.abs(this.usrSize[0]*this.board.unitX),Math.abs(this.usrSize[1]*this.board.unitY)],this},updateSpan:function(){var t,r,s=this.transformations.length,n=[];if(s===0)this.span=[[this.Z(),this.X(),this.Y()],[this.Z(),this.W(),0],[this.Z(),0,this.H()]];else{for(n[0]=[this.Z(),this.X(),this.Y()],n[1]=[this.Z(),this.X()+this.W(),this.Y()],n[2]=[this.Z(),this.X(),this.Y()+this.H()],t=0;t<s;t++)for(r=0;r<3;r++)n[r]=Mat.matVecMult(this.transformations[t].matrix,n[r]);for(r=0;r<3;r++)n[r][1]/=n[r][0],n[r][2]/=n[r][0],n[r][0]/=n[r][0];for(r=1;r<3;r++)n[r][0]-=n[0][0],n[r][1]-=n[0][1],n[r][2]-=n[0][2];this.span=n}return this},addTransform:function(t){var r;if(JXG$1.isArray(t))for(r=0;r<t.length;r++)this.transformations.push(t[r]);else this.transformations.push(t);return this},getParents:function(){var t=[this.url,[this.Z(),this.X(),this.Y()],this.usrSize];return this.parents.length!==0&&(t=this.parents),t},setSize:function(t,r){return this.W=JXG$1.createFunction(t,this.board,""),this.H=JXG$1.createFunction(r,this.board,""),this.addParentsFromJCFunctions([this.W,this.H]),this},W:function(){},H:function(){}});JXG$1.createImage=function(t,r,s){var n,a,o=r[0],l=r[1],u=r[2];if(n=JXG$1.copyAttributes(s,t.options,"image"),a=CoordsElement.create(JXG$1.Image,t,l,n,o,u),!a)throw new Error("JSXGraph: Can't create image with parent types '"+typeof r[0]+"' and '"+typeof r[1]+`'.
Possible parent types: [x,y], [z,x,y], [element,transformation]`);return n.rotate!==0&&a.addRotation(n.rotate),a};JXG$1.registerElement("image",JXG$1.createImage);JXG$1.Image;JXG$1.createSlider=function(t,r,s){var n,a,o,l,u,f,c,h,d,p,v,y,b,w,x,A,S,_,$,M,T,O,B,J;return J=JXG$1.copyAttributes(s,t.options,"slider"),_=J.withticks,S=J.withlabel,T=J.snapwidth,$=J.snapvalues,M=J.snapvaluedistance,J=JXG$1.copyAttributes(s,t.options,"slider","point1"),c=t.create("point",r[0],J),J=JXG$1.copyAttributes(s,t.options,"slider","point2"),h=t.create("point",r[1],J),J=JXG$1.copyAttributes(s,t.options,"slider","baseline"),p=t.create("segment",[c,h],J),p.updateStdform(),n=c.coords.usrCoords.slice(1),a=h.coords.usrCoords.slice(1),o=r[2][0],l=r[2][1],u=r[2][2],f=u-o,O=JXG$1.evaluate(T),B=O===-1?l:Math.round(l/O)*O,x=n[0]+(a[0]-n[0])*(B-o)/(u-o),A=n[1]+(a[1]-n[1])*(B-o)/(u-o),J=JXG$1.copyAttributes(s,t.options,"slider"),J.withLabel=!1,d=t.create("glider",[x,A,p],J),d.setAttribute({snapwidth:T,snapvalues:$,snapvaluedistance:M}),J=JXG$1.copyAttributes(s,t.options,"slider","highline"),v=t.create("segment",[c,d],J),d.Value=function(){var F=this._smax-this._smin,z=JXG$1.evaluate(this.visProp.snapwidth),Z,se,ie;if(Z=JXG$1.evaluate(this.visProp.snapvalues),JXG$1.isArray(Z)){for(se=0;se<Z.length;se++)if(ie=(Z[se]-this._smin)/(this._smax-this._smin),this.position===ie)return Z[se]}return z===-1?this.position*F+this._smin:Math.round((this.position*F+this._smin)/z)*z},d.methodMap=JXG$1.deepCopy(d.methodMap,{Value:"Value",setValue:"setValue",smax:"_smax",smin:"_smin",setMax:"setMax",setMin:"setMin"}),d._smax=u,d._smin=o,d.setMax=function(F){return this._smax=F,this},d.setValue=function(F){var z=this._smax-this._smin;return Math.abs(z)>Mat.eps?this.position=(F-this._smin)/z:this.position=0,this.position=Math.max(0,Math.min(1,this.position)),this},d.setMin=function(F){return this._smin=F,this},S&&(J=JXG$1.copyAttributes(s,t.options,"slider","label"),w=t.create("text",[function(){return(h.X()-c.X())*.05+h.X()},function(){return(h.Y()-c.Y())*.05+h.Y()},function(){var F,z=JXG$1.evaluate(d.visProp.digits),Z=JXG$1.evaluate(d.visProp.suffixlabel),se=JXG$1.evaluate(d.visProp.unitlabel),ie=JXG$1.evaluate(d.visProp.postlabel);return z===2&&JXG$1.evaluate(d.visProp.precision)!==2&&(z=JXG$1.evaluate(d.visProp.precision)),Z!==null?F=Z:d.name&&d.name!==""?F=d.name+" = ":F="",d.useLocale()?F+=d.formatNumberLocale(d.Value(),z):F+=JXG$1.toFixed(d.Value(),z),se!==null&&(F+=se),ie!==null&&(F+=ie),F}],J),d.label=w,d.visProp.withlabel=!0,d.hasLabel=!0),d.point1=c,d.point2=h,d.baseline=p,d.highline=v,_&&(J=JXG$1.copyAttributes(s,t.options,"slider","ticks"),JXG$1.exists(J.generatelabeltext)||(J.generateLabelText=function(F,z,Z){var se,ie=d.point1.Dist(d.point2),U=d._smin,H=d._smax,ue=this.getDistanceFromZero(z,F)*(H-U)/ie+U;return ie<Mat.eps||Math.abs(ue)<Mat.eps?se="0":se=this.formatLabelText(ue),se}),y=2,b=t.create("ticks",[d.baseline,d.point1.Dist(c)/y,function(F){var z=d.point1.Dist(d.point2),Z=d.point1.coords.distance(Const.COORDS_BY_USER,F);return z<Mat.eps?0:Z/z*f+o}],J),d.ticks=b),d.remove=function(){S&&t.removeObject(w),t.removeObject(v),t.removeObject(p),t.removeObject(h),t.removeObject(c),Point.prototype.remove.call(d)},c.dump=!1,h.dump=!1,p.dump=!1,v.dump=!1,S&&(w.dump=!1),d.elType="slider",d.parents=r,d.subs={point1:c,point2:h,baseLine:p,highLine:v},d.inherits.push(c,h,p,v),_&&(b.dump=!1,d.subs.ticks=b,d.inherits.push(b)),d.getParents=function(){return[this.point1.coords.usrCoords.slice(1),this.point2.coords.usrCoords.slice(1),[this._smin,this.position*(this._smax-this._smin)+this._smin,this._smax]]},d.baseline.on("up",function(F){var z,Z;JXG$1.evaluate(d.visProp.moveonup)&&!JXG$1.evaluate(d.visProp.fixed)&&(z=p.board.getMousePosition(F,0),Z=new Coords(Const.COORDS_BY_SCREEN,z,this.board),d.moveTo([Z.usrCoords[1],Z.usrCoords[2]]),d.triggerEventHandlers(["drag"],[F]))}),d.prepareUpdate().update(),t.isSuspendedUpdate||(d.updateVisibility().updateRenderer(),d.baseline.updateVisibility().updateRenderer(),d.highline.updateVisibility().updateRenderer(),_&&d.ticks.updateVisibility().updateRenderer()),d};JXG$1.registerElement("slider",JXG$1.createSlider);JXG$1.createTapemeasure=function(t,r,s){var n,a,o,l,u,f,c,h,d,p,v;return n=r[0],a=r[1],o=JXG$1.copyAttributes(s,t.options,"tapemeasure","point1"),h=t.create("point",n,o),o=JXG$1.copyAttributes(s,t.options,"tapemeasure","point2"),d=t.create("point",a,o),h.setAttribute({ignoredSnapToPoints:[d]}),d.setAttribute({ignoredSnapToPoints:[h]}),o=JXG$1.copyAttributes(s,t.options,"tapemeasure"),l=o.withticks,u=o.withlabel,f=o.digits,f===2&&o.precision!==2&&(f=o.precision),u&&(o.withlabel=!0),c=t.create("segment",[h,d],o),u&&(s.name&&s.name!==""?p=s.name+" = ":p="",c.label.setText(function(){var y=JXG$1.evaluate(c.label.visProp.digits);return c.label.useLocale()?p+c.label.formatNumberLocale(h.Dist(d),y):p+JXG$1.toFixed(h.Dist(d),y)})),l&&(o=JXG$1.copyAttributes(s,t.options,"tapemeasure","ticks"),v=t.create("ticks",[c,.1],o),c.inherits.push(v)),c.remove=function(){l&&c.removeTicks(v),t.removeObject(d),t.removeObject(h),GeometryElement.prototype.remove.call(this)},c.Value=function(){return h.Dist(d)},h.dump=!1,d.dump=!1,c.elType="tapemeasure",c.getParents=function(){return[[h.X(),h.Y()],[d.X(),d.Y()]]},c.subs={point1:h,point2:d},l&&(v.dump=!1),c.methodMap=JXG$1.deepCopy(c.methodMap,{Value:"Value"}),c.prepareUpdate().update(),t.isSuspendedUpdate||(c.updateVisibility().updateRenderer(),c.point1.updateVisibility().updateRenderer(),c.point2.updateVisibility().updateRenderer()),c};JXG$1.registerElement("tapemeasure",JXG$1.createTapemeasure);JXG$1.DataSource=function(){return this.data=[],this.columnHeaders=[],this.rowHeaders=[],this};JXG$1.extend(JXG$1.DataSource.prototype,{loadFromArray:function(t,r,s){var n,a,o;if(JXG$1.isArray(r)&&(this.columnHeaders=r,r=!1),JXG$1.isArray(s)&&(this.rowHeaders=s,s=!1),this.data=[],r&&(this.columnHeaders=[]),s&&(this.rowHeaders=[]),JXG$1.exists(t)){for(this.data=[],n=0;n<t.length;n++)for(this.data[n]=[],a=0;a<t[n].length;a++)o=t[n][a],parseFloat(o).toString()===o?this.data[n][a]=parseFloat(o):o!=="-"?this.data[n][a]=o:this.data[n][a]=NaN;if(r&&(this.columnHeaders=this.data[0].slice(1),this.data=this.data.slice(1)),s)for(this.rowHeaders=[],n=0;n<this.data.length;n++)this.rowHeaders.push(this.data[n][0]),this.data[n]=this.data[n].slice(1)}return this},loadFromTable:function(t,r,s){var n,a,o,l,u;if(JXG$1.isArray(r)&&(this.columnHeaders=r,r=!1),JXG$1.isArray(s)&&(this.rowHeaders=s,s=!1),this.data=[],r&&(this.columnHeaders=[]),s&&(this.rowHeaders=[]),t=document.getElementById(t),JXG$1.exists(t)){for(n=t.getElementsByTagName("tr"),this.data=[],a=0;a<n.length;a++)for(l=n[a].getElementsByTagName("td"),this.data[a]=[],o=0;o<l.length;o++)u=l[o].innerHTML,parseFloat(u).toString()===u?this.data[a][o]=parseFloat(u):u!=="-"?this.data[a][o]=u:this.data[a][o]=NaN;if(r&&(this.columnHeaders=this.data[0].slice(1),this.data=this.data.slice(1)),s)for(this.rowHeaders=[],a=0;a<this.data.length;a++)this.rowHeaders.push(this.data[a][0]),this.data[a]=this.data[a].slice(1)}return this},addColumn:function(t,r,s){throw new Error("not implemented")},addRow:function(t,r,s){throw new Error("not implemented")},getColumn:function(t){var r,s=[];if(JXG$1.isString(t)){for(r=0;r<this.columnHeaders.length;r++)if(t===this.columnHeaders[r]){t=r;break}}for(r=0;r<this.data.length;r++)this.data[r].length>t&&(s[r]=parseFloat(this.data[r][t]));return s},getRow:function(t){var r,s;if(JXG$1.isString(t)){for(s=0;s<this.rowHeaders.length;s++)if(t===this.rowHeaders[s]){t=s;break}}for(r=[],s=0;s<this.data[t].length;s++)r[s]=this.data[t][s];return r}});const DataSource=JXG$1.DataSource;JXG$1.Chart=function(t,r,s){this.constructor(t,s);var n,a,o,l,u,f;if(!JXG$1.isArray(r)||r.length===0)throw new Error("JSXGraph: Can't create a chart without data");if(this.elements=[],JXG$1.isNumber(r[0]))for(a=r,n=[],o=0;o<a.length;o++)n[o]=o+1;else if(r.length===1&&JXG$1.isArray(r[0]))for(a=r[0],n=[],f=JXG$1.evaluate(a).length,o=0;o<f;o++)n[o]=o+1;else r.length===2&&(f=Math.min(r[0].length,r[1].length),n=r[0].slice(0,f),a=r[1].slice(0,f));if(JXG$1.isArray(a)&&a.length===0)throw new Error("JSXGraph: Can't create charts without data.");for(u=s.chartstyle.replace(/ /g,"").split(","),o=0;o<u.length;o++){switch(u[o]){case"bar":l=this.drawBar(t,n,a,s);break;case"line":l=this.drawLine(t,n,a,s);break;case"fit":l=this.drawFit(t,n,a,s);break;case"spline":l=this.drawSpline(t,n,a,s);break;case"pie":l=this.drawPie(t,a,s);break;case"point":l=this.drawPoints(t,n,a,s);break;case"radar":l=this.drawRadar(t,r,s);break}this.elements.push(l)}return this.id=this.board.setId(this,"Chart"),this.elements};JXG$1.Chart.prototype=new GeometryElement;JXG$1.extend(JXG$1.Chart.prototype,{drawLine:function(t,r,s,n){return n.fillcolor="none",n.highlightfillcolor="none",t.create("curve",[r,s],n)},drawSpline:function(t,r,s,n){return n.fillColor="none",n.highlightfillcolor="none",t.create("spline",[r,s],n)},drawFit:function(t,r,s,n){var a=n.degree;return a=Math.max(parseInt(a,10),1)||1,n.fillcolor="none",n.highlightfillcolor="none",t.create("functiongraph",[Numerics.regressionPolynomial(a,r,s)],n)},drawBar:function(t,r,s,n){var a,o,l,u,f,c,h,d,p=[],v=[],y,b,w=function(A,S){return function(){return r[A]()-S*l}},x={fixed:!0,withLabel:!1,visible:!1,name:""};if(y=JXG$1.copyAttributes(n,t.options,"chart"),y&&y.width)l=y.width;else{if(r.length<=1)l=1;else for(l=r[1]-r[0],a=1;a<r.length-1;a++)l=r[a+1]-r[a]<l?r[a+1]-r[a]:l;l*=.8}for(b=JXG$1.copyAttributes(n,t.options,"chart","label"),a=0;a<r.length;a++)JXG$1.isFunction(r[a])?(u=w(a,-.5),f=w(a,0),c=w(a,.5)):(u=r[a]-l*.5,f=r[a],c=r[a]+l*.5),JXG$1.isFunction(s[a])?h=s[a]():h=s[a],h=s[a],y.dir==="horizontal"?(v[0]=t.create("point",[0,u],x),v[1]=t.create("point",[h,u],x),v[2]=t.create("point",[h,c],x),v[3]=t.create("point",[0,c],x),JXG$1.exists(y.labels)&&JXG$1.exists(y.labels[a])&&(b.anchorY="middle",o=t.create("text",[h,f,y.labels[a]],b),o.visProp.anchorx=(function(A){return function(){return A.X()>=0?"left":"right"}})(o))):(v[0]=t.create("point",[u,0],x),v[1]=t.create("point",[u,h],x),v[2]=t.create("point",[c,h],x),v[3]=t.create("point",[c,0],x),JXG$1.exists(y.labels)&&JXG$1.exists(y.labels[a])&&(b.anchorX="middle",o=t.create("text",[f,h,y.labels[a]],b),o.visProp.anchory=(function(A){return function(){return A.Y()>=0?"bottom":"top"}})(o))),JXG$1.isArray(y.colors)&&(d=y.colors,y.fillcolor=d[a%d.length]),p[a]=t.create("polygon",v,y),JXG$1.exists(y.labels)&&JXG$1.exists(y.labels[a])&&(p[a].text=o);return p},drawPoints:function(t,r,s,n){var a,o=[],l=n.infoboxarray;for(n.fixed=!0,n.name="",a=0;a<r.length;a++)n.infoboxtext=l?l[a%l.length]:!1,o[a]=t.create("point",[r[a],s[a]],n);return o},drawPie:function(t,r,s){var n,a,o=[],l=[];Statistics.sum(r);var u=s.colors,f=s.highlightcolors,c=s.labels,h=s.radius||4,d=h,p=s.center||[0,0],v=p[0],y=p[1],b=function(_,$,M){return function(){var T,O,B,J=0;for(O=0;O<=_;O++)J+=parseFloat(JXG$1.evaluate(r[O]));for(T=J,O=_+1;O<r.length;O++)T+=parseFloat(JXG$1.evaluate(r[O]));return B=T!==0?2*Math.PI*J/T:0,d()*Math[$](B)+M}},w=function(_,$){var M=-this.point1.coords.usrCoords[1]+this.point2.coords.usrCoords[1],T=-this.point1.coords.usrCoords[2]+this.point2.coords.usrCoords[2];JXG$1.exists(this.label)&&(this.label.rendNode.style.fontSize=$*JXG$1.evaluate(this.label.visProp.fontsize)+"px",this.label.fullUpdate()),this.point2.coords=new Coords(Const.COORDS_BY_USER,[this.point1.coords.usrCoords[1]+M*_,this.point1.coords.usrCoords[2]+T*_],this.board),this.fullUpdate()},x=function(){this.highlighted||(this.highlighted=!0,this.board.highlightedObjects[this.id]=this,this.board.renderer.highlight(this),w.call(this,1.1,2))},A=function(){this.highlighted&&(this.highlighted=!1,this.board.renderer.noHighlight(this),w.call(this,.9090909,1))},S={fixed:!0,withLabel:!1,visible:!1,name:""};if(!JXG$1.isArray(c))for(c=[],n=0;n<r.length;n++)c[n]="";for(JXG$1.isFunction(h)||(d=function(){return h}),s.highlightonsector=s.highlightonsector||!1,s.straightfirst=!1,s.straightlast=!1,a=t.create("point",[v,y],S),o[0]=t.create("point",[function(){return d()+v},function(){return y}],S),n=0;n<r.length;n++)o[n+1]=t.create("point",[b(n,"cos",v),b(n,"sin",y)],S),s.name=c[n],s.withlabel=s.name!=="",s.fillcolor=u&&u[n%u.length],s.labelcolor=u&&u[n%u.length],s.highlightfillcolor=f&&f[n%f.length],l[n]=t.create("sector",[a,o[n],o[n+1]],s),s.highlightonsector&&(l[n].hasPoint=l[n].hasPointSector),s.highlightbysize&&(l[n].highlight=x,l[n].noHighlight=A);return{sectors:l,points:o,midpoint:a}},drawRadar:function(t,r,s){var n,a,o,l,u,f,c,h,d,p,v,y,b,w,x,A,S,_,$,M,T,O,B,J,F,z,Z,se,ie,U,H,ue,Y,K,te,ae,ee,de,ce,xe,Me,Ae,Xe,Be,Ze=r.length,nt=function(){var it,me,be,Re,ye=JXG$1.evaluate(this.visProp.label.offset).slice(0);return it=this.point1.X(),me=this.point2.X(),be=this.point1.Y(),Re=this.point2.Y(),me<it&&(ye[0]=-ye[0]),Re<be&&(ye[1]=-ye[1]),this.setLabelRelativeCoords(ye),new Coords(Const.COORDS_BY_USER,[this.point2.X(),this.point2.Y()],this.board)},rt=function(it,me){var be,Re,ye;return be=t.create("transform",[-(x[me]-b[me]),0],{type:"translate"}),Re=t.create("transform",[$/(A[me]+w[me]-(x[me]-b[me])),1],{type:"scale"}),be.melt(Re),ye=t.create("transform",[it],{type:"rotate"}),be.melt(ye),be};if(Ze<=0)throw new Error("JSXGraph radar chart: no data");if(o=s.paramarray,!JXG$1.exists(o))throw new Error("JSXGraph radar chart: need paramArray attribute");if(l=o.length,l<=1)throw new Error("JSXGraph radar chart: need more than one param in paramArray");for(n=0;n<Ze;n++)if(l!==r[n].length)throw new Error("JSXGraph radar chart: use data length equal to number of params ("+r[n].length+" != "+l+")");for(u=[],f=[],a=0;a<l;a++)u[a]=r[0][a],f[a]=u[a];for(n=1;n<Ze;n++)for(a=0;a<l;a++)r[n][a]>u[a]&&(u[a]=r[n][a]),r[n][a]<f[a]&&(f[a]=r[n][a]);for(c=[],h=[],n=0;n<Ze;n++)c[n]="",h[n]=[];for(d=[],p=[],v=s.startshiftratio||0,y=s.endshiftratio||0,n=0;n<l;n++)d[n]=(u[n]-f[n])*v,p[n]=(u[n]-f[n])*y;if(b=s.startshiftarray||d,w=s.endshiftarray||p,x=s.startarray||f,JXG$1.exists(s.start))for(n=0;n<l;n++)x[n]=s.start;if(A=s.endarray||u,JXG$1.exists(s.end))for(n=0;n<l;n++)A[n]=s.end;if(b.length!==l)throw new Error("JSXGraph radar chart: start shifts length is not equal to number of parameters");if(w.length!==l)throw new Error("JSXGraph radar chart: end shifts length is not equal to number of parameters");if(x.length!==l)throw new Error("JSXGraph radar chart: starts length is not equal to number of parameters");if(A.length!==l)throw new Error("JSXGraph radar chart: snds length is not equal to number of parameters");for(S=s.labelarray||c,_=s.colors,s.highlightcolors,$=s.radius||10,Xe=s.strokewidth||1,JXG$1.exists(s.highlightonsector)||(s.highlightonsector=!1),M={name:s.name,id:s.id,strokewidth:Xe,polystrokewidth:s.polystrokewidth||Xe,strokecolor:s.strokecolor||"black",straightfirst:!1,straightlast:!1,fillcolor:s.fillColor||"#FFFF88",fillopacity:s.fillOpacity||.4,highlightfillcolor:s.highlightFillColor||"#FF7400",highlightstrokecolor:s.highlightStrokeColor||"black",gradient:s.gradient||"none"},T=s.center||[0,0],O=T[0],B=T[1],J=t.create("point",[O,B],{name:"",fixed:!0,withlabel:!1,visible:!1}),F=Math.PI/2-Math.PI/l,F=s.startangle||0,z=F,Z=[],se=[],n=0;n<l;n++)for(z+=2*Math.PI/l,U=$*Math.cos(z)+O,H=$*Math.sin(z)+B,Z[n]=t.create("point",[U,H],{name:"",fixed:!0,withlabel:!1,visible:!1}),se[n]=t.create("line",[J,Z[n]],{name:o[n],strokeColor:M.strokecolor,strokeWidth:M.strokewidth,strokeOpacity:1,straightFirst:!1,straightLast:!1,withLabel:!0,highlightStrokeColor:M.highlightstrokecolor}),se[n].getLabelAnchor=nt,ie=rt(z,n),a=0;a<r.length;a++)Be=r[a][n],h[a][n]=t.create("point",[Be,0],{name:"",fixed:!0,withlabel:!1,visible:!1}),h[a][n].addTransform(h[a][n],ie);for(ue=[],n=0;n<Ze;n++)for(M.labelcolor=_&&_[n%_.length],M.strokecolor=_&&_[n%_.length],M.fillcolor=_&&_[n%_.length],ue[n]=t.create("polygon",h[n],{withLines:!0,withLabel:!1,fillColor:M.fillcolor,fillOpacity:M.fillopacity,highlightFillColor:M.highlightfillcolor}),a=0;a<l;a++)ue[n].borders[a].setAttribute("strokecolor:"+_[n%_.length]),ue[n].borders[a].setAttribute("strokewidth:"+M.polystrokewidth);switch(Y=s.legendposition||"none",Y){case"right":te=s.legendleftoffset||2,ae=s.legendtopoffset||1,this.legend=t.create("legend",[O+$+te,B+$-ae],{labels:S,colors:_});break;case"none":break;default:JXG$1.debug("Unknown legend position")}if(K=[],s.showcircles){for(ee=[],n=0;n<6;n++)ee[n]=20*n;if(ee[0]="0",de=s.circlelabelarray||ee,ce=de.length,ce<2)throw new Error("JSXGraph radar chart: too less circles in circleLabelArray");for(xe=[],Me=F+Math.PI/l,ie=rt(Me,0),M.fillcolor="none",M.highlightfillcolor="none",M.strokecolor=s.strokecolor||"black",M.strokewidth=s.circlestrokewidth||.5,M.layer=0,Ae=(A[0]-x[0])/(ce-1),n=0;n<ce;n++)xe[n]=t.create("point",[x[0]+n*Ae,0],{name:de[n],size:0,fixed:!0,withLabel:!0,visible:!0}),xe[n].addTransform(xe[n],ie),K[n]=t.create("circle",[J,xe[n]],M)}return this.rendNode=ue[0].rendNode,{circles:K,lines:se,points:h,midpoint:J,polygons:ue}},updateRenderer:function(){return this},update:function(){return this.needsUpdate&&this.updateDataArray(),this},updateDataArray:function(){return this}});JXG$1.createChart=function(t,r,s){var n,a,o,l,u,f=[],c,h,d,p,v,y,b,w,x,A,S,_=JXG$1.isBrowser?t.document.getElementById(r[0]):null;if(r.length===1&&JXG$1.isString(r[0])){if(JXG$1.exists(_)){if(p=JXG$1.copyAttributes(s,t.options,"chart"),_=new DataSource().loadFromTable(r[0],p.withheaders,p.withheaders),n=_.data,u=_.columnHeaders,a=_.rowHeaders,v=p.width,y=p.name,b=p.strokecolor,w=p.fillcolor,x=p.highlightstrokecolor,A=p.highlightfillcolor,t.suspendUpdate(),S=n.length,d=[],p.rows&&JXG$1.isArray(p.rows)){for(o=0;o<S;o++)for(l=0;l<p.rows.length;l++)if(p.rows[l]===o||p.withheaders&&p.rows[l]===a[o]){d.push(n[o]);break}}else d=n;for(S=d.length,o=0;o<S;o++){if(h=[],p.chartstyle&&p.chartstyle.indexOf("bar")!==-1){for(v?c=v:c=.8,h.push(1-c/2+(o+.5)*c/S),l=1;l<d[o].length;l++)h.push(h[l-1]+1);p.width=c/S}y&&y.length===S?p.name=y[o]:p.withheaders&&(p.name=u[o]),b&&b.length===S?p.strokecolor=b[o]:p.strokecolor=JXG$1.hsv2rgb((o+1)/S*360,.9,.6),w&&w.length===S?p.fillcolor=w[o]:p.fillcolor=JXG$1.hsv2rgb((o+1)/S*360,.9,1),x&&x.length===S?p.highlightstrokecolor=x[o]:p.highlightstrokecolor=JXG$1.hsv2rgb((o+1)/S*360,.9,1),A&&A.length===S?p.highlightfillcolor=A[o]:p.highlightfillcolor=JXG$1.hsv2rgb((o+1)/S*360,.9,.6),p.chartstyle&&p.chartstyle.indexOf("bar")!==-1?f.push(new JXG$1.Chart(t,[h,d[o]],p)):f.push(new JXG$1.Chart(t,[d[o]],p))}t.unsuspendUpdate()}return f}return p=JXG$1.copyAttributes(s,t.options,"chart"),new JXG$1.Chart(t,r,p)};JXG$1.registerElement("chart",JXG$1.createChart);JXG$1.Legend=function(t,r,s){var n;if(this.constructor(),n=JXG$1.copyAttributes(s,t.options,"legend"),this.board=t,this.coords=new Coords(Const.COORDS_BY_USER,r,this.board),this.myAtts={},this.label_array=n.labelarray||n.labels,this.color_array=n.colorarray||n.colors,this.lines=[],this.myAtts.strokewidth=n.strokewidth||5,this.myAtts.straightfirst=!1,this.myAtts.straightlast=!1,this.myAtts.withlabel=!0,this.myAtts.fixed=!0,this.style=n.legendstyle||n.style,this.style==="vertical")this.drawVerticalLegend(t,n);else throw new Error("JSXGraph: Unknown legend style: "+this.style)};JXG$1.Legend.prototype=new GeometryElement;JXG$1.Legend.prototype.drawVerticalLegend=function(t,r){var s,n=r.linelength||1,a=(r.rowheight||20)/this.board.unitY,o=function(){return this.setLabelRelativeCoords(this.visProp.label.offset),new Coords(Const.COORDS_BY_USER,[this.point2.X(),this.point2.Y()],this.board)};for(s=0;s<this.label_array.length;s++)this.myAtts.name=this.label_array[s],this.myAtts.strokecolor=this.color_array[s%this.color_array.length],this.myAtts.highlightstrokecolor=this.color_array[s%this.color_array.length],this.myAtts.label={offset:[10,0],strokeColor:this.color_array[s%this.color_array.length],strokeWidth:this.myAtts.strokewidth},this.lines[s]=t.create("line",[[this.coords.usrCoords[1],this.coords.usrCoords[2]-s*a],[this.coords.usrCoords[1]+n,this.coords.usrCoords[2]-s*a]],this.myAtts),this.lines[s].getLabelAnchor=o,this.lines[s].prepareUpdate().update().updateVisibility(JXG$1.evaluate(this.lines[s].visProp.visible)).updateRenderer()};JXG$1.createLegend=function(t,r,s){var n=[0,0];if(JXG$1.exists(r)&&r.length===2)n=r;else throw new Error("JSXGraph: Legend element needs two numbers as parameters");return new JXG$1.Legend(t,n,s)};JXG$1.registerElement("legend",JXG$1.createLegend);JXG$1.Chart,JXG$1.Legend;JXG$1.Transformation=function(t,r,s){this.elementClass=Const.OBJECT_CLASS_OTHER,this.type=Const.OBJECT_TYPE_TRANSFORMATION,this.matrix=[[1,0,0],[0,1,0],[0,0,1]],this.board=t,this.isNumericMatrix=!1,this.setMatrix(t,r,s),this.methodMap={apply:"apply",applyOnce:"applyOnce",bindTo:"bindTo",bind:"bindTo",melt:"melt"}};JXG$1.Transformation.prototype={};JXG$1.extend(JXG$1.Transformation.prototype,{update:function(){return this},setMatrix:function(t,r,s){var n;for(this.isNumericMatrix=!0,n=0;n<s.length;n++)if(typeof s[n]!="number"){this.isNumericMatrix=!1;break}if(r==="translate"){if(s.length!==2)throw new Error("JSXGraph: translate transformation needs 2 parameters.");this.evalParam=JXG$1.createEvalFunction(t,s,2),this.update=function(){this.matrix[1][0]=this.evalParam(0),this.matrix[2][0]=this.evalParam(1)}}else if(r==="scale"){if(s.length!==2)throw new Error("JSXGraph: scale transformation needs 2 parameters.");this.evalParam=JXG$1.createEvalFunction(t,s,2),this.update=function(){this.matrix[1][1]=this.evalParam(0),this.matrix[2][2]=this.evalParam(1)}}else if(r==="reflect")s.length<4&&(s[0]=t.select(s[0])),s.length===2&&(s[1]=t.select(s[1])),s.length===4&&(this.evalParam=JXG$1.createEvalFunction(t,s,4)),this.update=function(){var a,o,l,u,f,c,h,d;s.length===1?h=s[0].stdform:s.length===2?h=Mat.crossProduct(s[1].coords.usrCoords,s[0].coords.usrCoords):s.length===4&&(h=Mat.crossProduct([1,this.evalParam(2),this.evalParam(3)],[1,this.evalParam(0),this.evalParam(1)])),a=h[1],o=h[2],l=h[0],d=[-l*a,-l*o,a*a+o*o],c=d[2],u=d[0]/d[2],f=d[1]/d[2],a=-h[2],o=h[1],this.matrix[1][1]=(a*a-o*o)/c,this.matrix[1][2]=2*a*o/c,this.matrix[2][1]=this.matrix[1][2],this.matrix[2][2]=-this.matrix[1][1],this.matrix[1][0]=u*(1-this.matrix[1][1])-f*this.matrix[1][2],this.matrix[2][0]=f*(1-this.matrix[2][2])-u*this.matrix[2][1]};else if(r==="rotate")s.length===3?this.evalParam=JXG$1.createEvalFunction(t,s,3):s.length>0&&s.length<=2&&(this.evalParam=JXG$1.createEvalFunction(t,s,1),s.length===2&&!JXG$1.isArray(s[1])&&(s[1]=t.select(s[1]))),this.update=function(){var a,o,l=this.evalParam(0),u=Math.cos(l),f=Math.sin(l);this.matrix[1][1]=u,this.matrix[1][2]=-f,this.matrix[2][1]=f,this.matrix[2][2]=u,s.length>1&&(s.length===3?(a=this.evalParam(1),o=this.evalParam(2)):JXG$1.isArray(s[1])?(a=s[1][0],o=s[1][1]):(a=s[1].X(),o=s[1].Y()),this.matrix[1][0]=a*(1-u)+o*f,this.matrix[2][0]=o*(1-u)-a*f)};else if(r==="shear"){if(s.length!==2)throw new Error("JSXGraph: shear transformation needs 2 parameters.");this.evalParam=JXG$1.createEvalFunction(t,s,2),this.update=function(){this.matrix[1][2]=this.evalParam(0),this.matrix[2][1]=this.evalParam(1)}}else if(r==="generic"){if(s.length!==9)throw new Error("JSXGraph: generic transformation needs 9 parameters.");this.evalParam=JXG$1.createEvalFunction(t,s,9),this.update=function(){this.matrix[0][0]=this.evalParam(0),this.matrix[0][1]=this.evalParam(1),this.matrix[0][2]=this.evalParam(2),this.matrix[1][0]=this.evalParam(3),this.matrix[1][1]=this.evalParam(4),this.matrix[1][2]=this.evalParam(5),this.matrix[2][0]=this.evalParam(6),this.matrix[2][1]=this.evalParam(7),this.matrix[2][2]=this.evalParam(8)}}},apply:function(t,r){return this.update(),JXG$1.exists(r)?Mat.matVecMult(this.matrix,t.initialCoords.usrCoords):Mat.matVecMult(this.matrix,t.coords.usrCoords)},applyOnce:function(t){var r,s,n;for(JXG$1.isArray(t)||(t=[t]),s=t.length,n=0;n<s;n++)this.update(),r=Mat.matVecMult(this.matrix,t[n].coords.usrCoords),t[n].coords.setCoordinates(Const.COORDS_BY_USER,r)},bindTo:function(t){var r,s;if(JXG$1.isArray(t))for(s=t.length,r=0;r<s;r++)t[r].transformations.push(this);else t.transformations.push(this)},setProperty:function(t){JXG$1.deprecated("Transformation.setProperty()","Transformation.setAttribute()")},setAttribute:function(t){},melt:function(t){var r=[],s,n,a,o,l,u;for(n=t.matrix.length,a=this.matrix[0].length,s=0;s<n;s++)r[s]=[];for(this.update(),t.update(),s=0;s<n;s++)for(u=0;u<a;u++){for(l=0,o=0;o<n;o++)l+=t.matrix[s][o]*this.matrix[o][u];r[s][u]=l}return this.update=function(){var f=this.matrix.length,c=this.matrix[0].length;for(s=0;s<f;s++)for(u=0;u<c;u++)this.matrix[s][u]=r[s][u]},this},getParents:function(){var t=[[].concat.apply([],this.matrix)];return this.parents.length!==0&&(t=this.parents),t}});JXG$1.createTransform=function(t,r,s){return new JXG$1.Transformation(t,s.type,r)};JXG$1.registerElement("transform",JXG$1.createTransform);JXG$1.Transformation;JXG$1.Turtle=function(t,r,s){var n,a,o;return this.constructor(t,s,Const.OBJECT_TYPE_TURTLE,Const.OBJECT_CLASS_OTHER),this.turtleIsHidden=!1,this.board=t,this.visProp.curveType="plot",this._attributes=JXG$1.copyAttributes(this.visProp,t.options,"turtle"),delete this._attributes.id,n=0,a=0,o=90,r.length!==0&&(r.length===3?(n=r[0],a=r[1],o=r[2]):r.length===2?JXG$1.isArray(r[0])?(n=r[0][0],a=r[0][1],o=r[1]):(n=r[0],a=r[1]):(n=r[0][0],a=r[0][1])),this.init(n,a,o),this.methodMap=JXG$1.deepCopy(this.methodMap,{forward:"forward",fd:"forward",back:"back",bk:"back",right:"right",rt:"right",left:"left",lt:"left",penUp:"penUp",pu:"penUp",penDown:"penDown",pd:"penDown",clearScreen:"clearScreen",cs:"clearScreen",clean:"clean",setPos:"setPos",home:"home",hideTurtle:"hideTurtle",ht:"hideTurtle",showTurtle:"showTurtle",st:"showTurtle",penSize:"setPenSize",penColor:"setPenColor",getPenColor:"getPenColor",getHighlightPenColor:"getHighlightPenColor",getPenSize:"getPenSize",pushTurtle:"pushTurtle",push:"pushTurtle",popTurtle:"popTurtle",pop:"popTurtle",lookTo:"lookTo",pos:"pos",moveTo:"moveTo",X:"X",Y:"Y"}),this};JXG$1.Turtle.prototype=new GeometryElement;JXG$1.extend(JXG$1.Turtle.prototype,{init:function(t,r,s){var n={fixed:!0,name:"",visible:!1,withLabel:!1};this.arrowLen=20/Math.sqrt(this.board.unitX*this.board.unitX+this.board.unitY*this.board.unitY),this.pos=[t,r],this.isPenDown=!0,this.dir=90,this.stack=[],this.objects=[],this.curve=this.board.create("curve",[[this.pos[0]],[this.pos[1]]],this._attributes),this.objects.push(this.curve),this.turtle=this.board.create("point",this.pos,n),this.objects.push(this.turtle),this.turtle2=this.board.create("point",[this.pos[0],this.pos[1]+this.arrowLen],n),this.objects.push(this.turtle2),this.visProp.arrow.lastArrow=!0,this.visProp.arrow.straightFirst=!1,this.visProp.arrow.straightLast=!1,this.arrow=this.board.create("line",[this.turtle,this.turtle2],this.visProp.arrow),this.objects.push(this.arrow),this.subs={arrow:this.arrow},this.inherits.push(this.arrow),this.right(90-s),this.board.update()},forward:function(t){if(t===0)return this;var r,s=t*Math.cos(this.dir*Math.PI/180),n=t*Math.sin(this.dir*Math.PI/180);return this.turtleIsHidden||(r=this.board.create("transform",[s,n],{type:"translate"}),r.applyOnce(this.turtle),r.applyOnce(this.turtle2)),this.isPenDown&&this.curve.dataX.length>=8192&&(this.curve=this.board.create("curve",[[this.pos[0]],[this.pos[1]]],this._attributes),this.objects.push(this.curve)),this.pos[0]+=s,this.pos[1]+=n,this.isPenDown&&(this.curve.dataX.push(this.pos[0]),this.curve.dataY.push(this.pos[1])),this.board.update(),this},back:function(t){return this.forward(-t)},right:function(t){if(this.dir-=t,this.dir%=360,!this.turtleIsHidden){var r=this.board.create("transform",[-t*Math.PI/180,this.turtle],{type:"rotate"});r.applyOnce(this.turtle2)}return this.board.update(),this},left:function(t){return this.right(-t)},penUp:function(){return this.isPenDown=!1,this},penDown:function(){return this.isPenDown=!0,this.curve=this.board.create("curve",[[this.pos[0]],[this.pos[1]]],this._attributes),this.objects.push(this.curve),this},clean:function(){var t,r;for(t=0;t<this.objects.length;t++)r=this.objects[t],r.type===Const.OBJECT_TYPE_CURVE&&(this.board.removeObject(r),this.objects.splice(t,1));return this.curve=this.board.create("curve",[[this.pos[0]],[this.pos[1]]],this._attributes),this.objects.push(this.curve),this.board.update(),this},clearScreen:function(){var t,r,s=this.objects.length;for(t=0;t<s;t++)r=this.objects[t],this.board.removeObject(r);return this.init(0,0,90),this},setPos:function(t,r){var s;return JXG$1.isArray(t)?this.pos=t:this.pos=[t,r],this.turtleIsHidden||(this.turtle.setPositionDirectly(Const.COORDS_BY_USER,[t,r]),this.turtle2.setPositionDirectly(Const.COORDS_BY_USER,[t,r+this.arrowLen]),s=this.board.create("transform",[-(this.dir-90)*Math.PI/180,this.turtle],{type:"rotate"}),s.applyOnce(this.turtle2)),this.curve=this.board.create("curve",[[this.pos[0]],[this.pos[1]]],this._attributes),this.objects.push(this.curve),this.board.update(),this},setPenSize:function(t){return this.curve=this.board.create("curve",[[this.pos[0]],[this.pos[1]]],this.copyAttr("strokeWidth",t)),this.objects.push(this.curve),this},setPenColor:function(t){return this.curve=this.board.create("curve",[[this.pos[0]],[this.pos[1]]],this.copyAttr("strokeColor",t)),this.objects.push(this.curve),this},getPenAttribute:function(t){var r,s=this.objects.length;return s===4?r=0:r=s-1,JXG$1.evaluate(this.objects[r].visProp[t])},getPenSize:function(){return this.getPenAttribute("strokewidth")},getPenColor:function(){return this.getPenAttribute("strokecolor")},getHighlightPenColor:function(){return this.getPenAttribute("highlightstrokecolor")},setHighlightPenColor:function(t){return this.curve=this.board.create("curve",[[this.pos[0]],[this.pos[1]]],this.copyAttr("highlightStrokeColor",t)),this.objects.push(this.curve),this},setAttribute:function(t){var r,s,n,a=this.objects.length;for(r=0;r<a;r++)s=this.objects[r],s.type===Const.OBJECT_TYPE_CURVE&&s.setAttribute(t);return n=this.visProp.id,this.visProp=JXG$1.deepCopy(this.curve.visProp),this.visProp.id=n,this._attributes=JXG$1.deepCopy(this.visProp),delete this._attributes.id,this},copyAttr:function(t,r){return this._attributes[t.toLowerCase()]=r,this._attributes},showTurtle:function(){return this.turtleIsHidden=!1,this.arrow.setAttribute({visible:!0}),this.visProp.arrow.visible=!1,this.setPos(this.pos[0],this.pos[1]),this.board.update(),this},hideTurtle:function(){return this.turtleIsHidden=!0,this.arrow.setAttribute({visible:!1}),this.visProp.arrow.visible=!1,this.board.update(),this},home:function(){return this.pos=[0,0],this.setPos(this.pos[0],this.pos[1]),this},pushTurtle:function(){return this.stack.push([this.pos[0],this.pos[1],this.dir]),this},popTurtle:function(){var t=this.stack.pop();return this.pos[0]=t[0],this.pos[1]=t[1],this.dir=t[2],this.setPos(this.pos[0],this.pos[1]),this},lookTo:function(t){var r,s,n,a,o;return JXG$1.isArray(t)?(r=this.pos[0],s=this.pos[1],n=t[0],a=t[1],o=Math.atan2(a-s,n-r),this.right(this.dir-o*180/Math.PI)):JXG$1.isNumber(t)&&this.right(this.dir-t),this},moveTo:function(t){var r,s,n;return JXG$1.isArray(t)&&(r=t[0]-this.pos[0],s=t[1]-this.pos[1],this.turtleIsHidden||(n=this.board.create("transform",[r,s],{type:"translate"}),n.applyOnce(this.turtle),n.applyOnce(this.turtle2)),this.isPenDown&&this.curve.dataX.length>=8192&&(this.curve=this.board.create("curve",[[this.pos[0]],[this.pos[1]]],this._attributes),this.objects.push(this.curve)),this.pos[0]=t[0],this.pos[1]=t[1],this.isPenDown&&(this.curve.dataX.push(this.pos[0]),this.curve.dataY.push(this.pos[1])),this.board.update()),this},fd:function(t){return this.forward(t)},bk:function(t){return this.back(t)},lt:function(t){return this.left(t)},rt:function(t){return this.right(t)},pu:function(){return this.penUp()},pd:function(){return this.penDown()},ht:function(){return this.hideTurtle()},st:function(){return this.showTurtle()},cs:function(){return this.clearScreen()},push:function(){return this.pushTurtle()},pop:function(){return this.popTurtle()},evalAt:function(t,r){var s,n,a,o,l=this.objects.length;for(s=0,n=0;s<l;s++)if(a=this.objects[s],a.elementClass===Const.OBJECT_CLASS_CURVE){if(n<=t&&t<n+a.numberPoints)return o=t-n,a[r](o);n+=a.numberPoints}return this[r]()},X:function(t){return JXG$1.exists(t)?this.evalAt(t,"X"):this.pos[0]},Y:function(t){return JXG$1.exists(t)?this.evalAt(t,"Y"):this.pos[1]},Z:function(t){return 1},minX:function(){return 0},maxX:function(){var t,r,s=this.objects.length,n=0;for(t=0;t<s;t++)r=this.objects[t],r.elementClass===Const.OBJECT_CLASS_CURVE&&(n+=this.objects[t].numberPoints);return n},hasPoint:function(t,r){var s,n;for(s=0;s<this.objects.length;s++)if(n=this.objects[s],n.type===Const.OBJECT_TYPE_CURVE&&n.hasPoint(t,r))return!0;return!1}});JXG$1.createTurtle=function(t,r,s){var n;return r=r||[],n=JXG$1.copyAttributes(s,t.options,"turtle"),new JXG$1.Turtle(t,r,n)};JXG$1.registerElement("turtle",JXG$1.createTurtle);JXG$1.Turtle;JXG$1.Ticks=function(t,r,s){if(this.constructor(t.board,s,Const.OBJECT_TYPE_TICKS,Const.OBJECT_CLASS_OTHER),this.line=t,this.board=this.line.board,this.fixedTicks=null,this.equidistant=!1,this.labelsData=[],JXG$1.isFunction(r))throw this.ticksFunction=r,new Error("Function arguments are no longer supported.");JXG$1.isArray(r)?this.fixedTicks=r:this.equidistant=!0,this.ticks=[],this.labels=[],this.labelCounter=0,this.id=this.line.addTicks(this),this.elType="ticks",this.inherits.push(this.labels),this.board.setId(this,"Ti")};JXG$1.Ticks.prototype=new GeometryElement;JXG$1.extend(JXG$1.Ticks.prototype,{hasPoint:function(t,r){var s,n,a=this.ticks&&this.ticks.length||0,o,l;if(JXG$1.isObject(JXG$1.evaluate(this.visProp.precision))?(l=this.board._inputDevice,o=JXG$1.evaluate(this.visProp.precision[l])):o=this.board.options.precision.hasPoint,o+=JXG$1.evaluate(this.visProp.strokewidth)*.5,!JXG$1.evaluate(this.line.visProp.scalable)||this.line.elementClass===Const.OBJECT_CLASS_CURVE||this.line.stdform[1]!==0&&this.line.stdform[2]!==0&&this.line.type!==Const.OBJECT_TYPE_AXIS)return!1;for(s=0;s<a;s++)if(n=this.ticks[s],n[2]&&!(this.line.stdform[1]===0&&Math.abs(n[0][0]-this.line.point1.coords.scrCoords[1])<Mat.eps||this.line.stdform[2]===0&&Math.abs(n[1][0]-this.line.point1.coords.scrCoords[2])<Mat.eps)&&(Math.abs(n[0][0]-n[0][1])>=1||Math.abs(n[1][0]-n[1][1])>=1)){if(this.line.stdform[1]===0){if(Math.abs(r-(n[1][0]+n[1][1])*.5)<2*o&&n[0][0]-o<t&&t<n[0][1]+o)return!0}else if(this.line.stdform[2]===0&&Math.abs(t-(n[0][0]+n[0][1])*.5)<2*o&&n[1][0]-o<r&&r<n[1][1]+o)return!0}return!1},setPositionDirectly:function(t,r,s){var n,a,o=new Coords(t,r,this.board),l=new Coords(t,s,this.board),u=this.board.getBoundingBox();return this.line.type!==Const.OBJECT_TYPE_AXIS||!JXG$1.evaluate(this.line.visProp.scalable)?this:(Math.abs(this.line.stdform[1])<Mat.eps&&Math.abs(o.usrCoords[1]*l.usrCoords[1])>Mat.eps?(n=l.usrCoords[1]/o.usrCoords[1],u[0]*=n,u[2]*=n,this.board.setBoundingBox(u,this.board.keepaspectratio,"update")):Math.abs(this.line.stdform[2])<Mat.eps&&Math.abs(o.usrCoords[2]*l.usrCoords[2])>Mat.eps&&(a=l.usrCoords[2]/o.usrCoords[2],u[3]*=a,u[1]*=a,this.board.setBoundingBox(u,this.board.keepaspectratio,"update")),this)},calculateTicksCoordinates:function(){var t,r,s,n;if(!(this.line.elementClass===Const.OBJECT_CLASS_LINE&&(this.setTicksSizeVariables(),Math.abs(this.dx)<Mat.eps&&Math.abs(this.dy)<Mat.eps)))return t=this.getZeroCoordinates(),this.line.elementClass===Const.OBJECT_CLASS_LINE?r=this.getLowerAndUpperBounds(t,"ticksdistance"):r={lower:this.line.minX(),upper:this.line.maxX(),a1:0,a2:0,m1:0,m2:0},JXG$1.evaluate(this.visProp.type)==="polar"&&(n=this.board.getBoundingBox(),s=Math.max(Math.sqrt(n[0]*n[0]+n[1]*n[1]),Math.sqrt(n[2]*n[2]+n[3]*n[3])),r.upper=s),this.ticks=[],this.labelsData=[],this.equidistant?this.generateEquidistantTicks(t,r):this.generateFixedTicks(t,r),this},setTicksSizeVariables:function(t){var r,s,n,a,o=JXG$1.evaluate(this.visProp.majorheight)*.5,l=JXG$1.evaluate(this.visProp.minorheight)*.5;JXG$1.exists(t)?(s=this.line.minX(),n=this.line.maxX(),a=this.line.points.length,a<2?(this.dxMaj=0,this.dyMaj=0):Mat.relDif(t,s)<Mat.eps?(this.dxMaj=this.line.points[0].usrCoords[2]-this.line.points[1].usrCoords[2],this.dyMaj=this.line.points[1].usrCoords[1]-this.line.points[0].usrCoords[1]):Mat.relDif(t,n)<Mat.eps?(this.dxMaj=this.line.points[a-2].usrCoords[2]-this.line.points[a-1].usrCoords[2],this.dyMaj=this.line.points[a-1].usrCoords[1]-this.line.points[a-2].usrCoords[1]):(this.dxMaj=-Numerics.D(this.line.Y)(t),this.dyMaj=Numerics.D(this.line.X)(t))):(this.dxMaj=this.line.stdform[1],this.dyMaj=this.line.stdform[2]),this.dxMin=this.dxMaj,this.dyMin=this.dyMaj,this.dx=this.dxMaj,this.dy=this.dyMaj,r=Math.sqrt(this.dxMaj*this.dxMaj*this.board.unitX*this.board.unitX+this.dyMaj*this.dyMaj*this.board.unitY*this.board.unitY),this.dxMaj*=o/r*this.board.unitX,this.dyMaj*=o/r*this.board.unitY,this.dxMin*=l/r*this.board.unitX,this.dyMin*=l/r*this.board.unitY,this.minStyle=JXG$1.evaluate(this.visProp.minorheight)<0?"infinite":"finite",this.majStyle=JXG$1.evaluate(this.visProp.majorheight)<0?"infinite":"finite"},getZeroCoordinates:function(){var t,r,s,n,a,o,l,u,f,c=JXG$1.evaluate(this.visProp.anchor);return this.line.elementClass===Const.OBJECT_CLASS_LINE?this.line.type===Const.OBJECT_TYPE_AXIS?Geometry.projectPointToLine({coords:{usrCoords:[1,0,0]}},this.line,this.board):(s=this.line.point1.coords.usrCoords[0],t=this.line.point1.coords.usrCoords[1],r=this.line.point1.coords.usrCoords[2],o=this.line.point2.coords.usrCoords[0],n=this.line.point2.coords.usrCoords[1],a=this.line.point2.coords.usrCoords[2],c==="right"?this.line.point2.coords:c==="middle"?new Coords(Const.COORDS_BY_USER,[(s+o)*.5,(t+n)*.5,(r+a)*.5],this.board):JXG$1.isNumber(c)?new Coords(Const.COORDS_BY_USER,[s+(o-s)*c,t+(n-t)*c,r+(a-r)*c],this.board):this.line.point1.coords):(u=this.line.minX(),f=this.line.maxX(),c==="right"?l=f:c==="middle"?l=(u+f)*.5:JXG$1.isNumber(c)?l=u*(1-c)+f*c:l=u,l)},getLowerAndUpperBounds:function(t,r){var s,n,a,o,l,u,f,c,h,d,p,v,y,b,w,x=Mat.eps*10,A=JXG$1.evaluate(this.line.visProp.straightfirst),S=JXG$1.evaluate(this.line.visProp.straightlast),_=JXG$1.evaluate(this.visProp.includeboundaries);return this.line.elementClass===Const.OBJECT_CLASS_CURVE?{lower:this.line.minX(),upper:this.line.maxX()}:(l=new Coords(Const.COORDS_BY_USER,this.line.point1.coords.usrCoords,this.board),u=new Coords(Const.COORDS_BY_USER,this.line.point2.coords.usrCoords,this.board),f=Math.abs(l.usrCoords[0])>=Mat.eps&&l.scrCoords[1]>=0&&l.scrCoords[1]<=this.board.canvasWidth&&l.scrCoords[2]>=0&&l.scrCoords[2]<=this.board.canvasHeight,c=Math.abs(u.usrCoords[0])>=Mat.eps&&u.scrCoords[1]>=0&&u.scrCoords[1]<=this.board.canvasWidth&&u.scrCoords[2]>=0&&u.scrCoords[2]<=this.board.canvasHeight,JXG$1.exists(r)&&r==="ticksdistance"?(Geometry.calcStraight(this.line,l,u,0),b=this.getDistanceFromZero(t,l),w=this.getDistanceFromZero(t,u),Geometry.calcStraight(this.line,l,u,JXG$1.evaluate(this.line.visProp.margin)),b=this.getDistanceFromZero(t,l)-b,w=this.getDistanceFromZero(t,u).m2):Geometry.calcLineDelimitingPoints(this.line,l,u),a=JXG$1.evaluate(this.line.visProp.firstarrow),o=JXG$1.evaluate(this.line.visProp.lastarrow),v=this.getDistanceFromZero(t,l),y=this.getDistanceFromZero(t,u),(a||o)&&(p=this.board.renderer.getArrowHeadData(this.line,JXG$1.evaluate(this.line.visProp.strokewidth),""),this.board.renderer.getPositionArrowHead(this.line,l,u,p)),h=this.getDistanceFromZero(t,l),d=this.getDistanceFromZero(t,u),v=h-v,y=h-y,h<d?(s=h,n=d,!A&&f&&!_&&(s+=x),!S&&c&&!_&&(n-=x)):d<h?(s=d,n=h,!S&&c&&!_&&(s+=x),!A&&f&&!_&&(n-=x)):(s=0,n=0),{lower:s,upper:n,a1:v,a2:y,m1:b,m2:w})},getDistanceFromZero:function(t,r){var s,n,a,o,l;return s=this.line.point1.coords,n=this.line.point2.coords,l=t.distance(Const.COORDS_BY_USER,r),a=[n.usrCoords[0]-s.usrCoords[0],n.usrCoords[1]-s.usrCoords[1],n.usrCoords[2]-s.usrCoords[2]],o=[r.usrCoords[0]-t.usrCoords[0],r.usrCoords[1]-t.usrCoords[1],r.usrCoords[2]-t.usrCoords[2]],Mat.innerProduct(a,o,3)<0&&(l*=-1),l},generateEquidistantTicks:function(t,r){var s,n=Mat.eps,a,o;JXG$1.evaluate(this.visProp.minorticksinarrow),JXG$1.evaluate(this.visProp.minorticksinarrow),JXG$1.evaluate(this.visProp.minorticksinarrow);var l=JXG$1.evaluate(this.visProp.minorticks);if(o=this.getDistanceMajorTicks(),this.line.elementClass===Const.OBJECT_CLASS_LINE&&(a=this.getXandYdeltas()),o*=JXG$1.evaluate(this.visProp.scale),o/=l+1,this.ticksDelta=o,!(o<Mat.eps)){for(s=0,JXG$1.evaluate(this.visProp.drawzero)||(s=o);s<=r.upper+n&&(s>=r.lower-n&&this.processTickPosition(t,s,o,a),s+=o,!(r.upper-s>o*1e4)););for(s=-o;s>=r.lower-n&&(s<=r.upper+n&&this.processTickPosition(t,s,o,a),s-=o,!(s-r.lower>o*1e4)););}},getDistanceMajorTicks:function(){var t,r,s,n,a,o,l=5,u,f,c;return JXG$1.evaluate(this.visProp.insertticks)?(s=this.getLowerAndUpperBounds(this.getZeroCoordinates(),""),a=s.upper-s.lower,o=JXG$1.evaluate(this.visProp.scale),u=a/(l+1)/o,f=JXG$1.evaluate(this.visProp.minticksdistance)/o,c=JXG$1.evaluate(this.visProp.minorticks),n=this.getXandYdeltas(),n.x*=this.board.unitX,n.y*=this.board.unitY,f/=Math.sqrt(n.x*n.x+n.y*n.y),f*=c+1,t=Math.pow(10,Math.floor(Math.log(f)/Math.LN10)),2*t>=f?t*=2:5*t>=f&&(t*=5),r=Math.pow(10,Math.floor(Math.log(u)/Math.LN10)),5*r<u?r*=5:2*r<u&&(r*=2),t=Math.max(t,r),t):JXG$1.evaluate(this.visProp.ticksdistance)},processTickPosition:function(t,r,s,n){var a,o,l,u,f,c=JXG$1.evaluate(this.visProp.ticksperlabel),h=null;this.line.elementClass===Const.OBJECT_CLASS_LINE?(a=t.usrCoords[1]+r*n.x,o=t.usrCoords[2]+r*n.y):(a=this.line.X(t+r),o=this.line.Y(t+r)),l=new Coords(Const.COORDS_BY_USER,[a,o],this.board),this.line.elementClass===Const.OBJECT_CLASS_CURVE&&(h=t+r,this.setTicksSizeVariables(h)),l.major=Math.round(r/s)%(JXG$1.evaluate(this.visProp.minorticks)+1)===0,c||(c=JXG$1.evaluate(this.visProp.minorticks)+1),f=Math.round(r/s)%c===0,u=this.createTickPath(l,l.major),u.length===3&&(this.ticks.push(u),f&&JXG$1.evaluate(this.visProp.drawlabels)?this.labelsData.push(this.generateLabelData(this.generateLabelText(l,t,h),l,this.ticks.length)):this.labelsData.push(null))},generateFixedTicks:function(t,r){var s,n,a,o,l,u,f=Mat.eps,c,h=JXG$1.isArray(this.visProp.labels),d,p=JXG$1.evaluate(this.visProp.drawlabels);for(this.line.elementClass===Const.OBJECT_CLASS_LINE&&(d=this.getXandYdeltas()),a=0;a<this.fixedTicks.length;a++)this.line.elementClass===Const.OBJECT_CLASS_LINE?(c=this.fixedTicks[a],l=t.usrCoords[1]+c*d.x,u=t.usrCoords[2]+c*d.y):(c=t+this.fixedTicks[a],l=this.line.X(c),u=this.line.Y(c)),s=new Coords(Const.COORDS_BY_USER,[l,u],this.board),this.line.elementClass===Const.OBJECT_CLASS_CURVE&&this.setTicksSizeVariables(c),o=this.createTickPath(s,!0),o.length===3&&c>=r.lower-f&&c<=r.upper+f&&(this.ticks.push(o),p&&(h||JXG$1.exists(this.visProp.labels[a]))?(n=h?JXG$1.evaluate(this.visProp.labels[a]):c,this.labelsData.push(this.generateLabelData(this.generateLabelText(s,t,n),s,a))):this.labelsData.push(null))},getXandYdeltas:function(){var t,r,s=this.line.point1.Dist(this.line.point2);return this.line.type===Const.OBJECT_TYPE_AXIS?(t=this.line.point1.coords.usrCoords,r=this.line.point2.coords.usrCoords,(t[1]>r[1]||Math.abs(t[1]-r[1])<Mat.eps&&t[2]>r[2])&&(t=this.line.point2.coords.usrCoords,r=this.line.point1.coords.usrCoords)):(t=this.line.point1.coords.usrCoords,r=this.line.point2.coords.usrCoords),{x:(r[1]-t[1])/s,y:(r[2]-t[2])/s}},_isInsideCanvas:function(t,r,s){var n=this.board.canvasWidth,a=this.board.canvasHeight;return s===void 0&&(s=0),t[0]>=s&&t[0]<=n-s&&r[0]>=s&&r[0]<=a-s||t[1]>=s&&t[1]<=n-s&&r[1]>=s&&r[1]<=a-s},createTickPath:function(t,r){var s,n,a,o,l,u,f,c,h,d=[-2e6,-2e6],p=[-2e6,-2e6],v,y,b,w,x,A,S,_,$;if(s=t.scrCoords,r?(o=this.dxMaj,l=this.dyMaj,h=this.majStyle,S=JXG$1.evaluate(this.visProp.majortickendings[0])>0,_=JXG$1.evaluate(this.visProp.majortickendings[1])>0):(o=this.dxMin,l=this.dyMin,h=this.minStyle,S=JXG$1.evaluate(this.visProp.tickendings[0])>0,_=JXG$1.evaluate(this.visProp.tickendings[1])>0),n=[-l*s[1]-o*s[2],l,o],r&&JXG$1.evaluate(this.visProp.type)==="polar"){if(w=this.board.getBoundingBox(),x=2*Math.PI,A=x/180,s=t.usrCoords,y=Math.sqrt(s[1]*s[1]+s[2]*s[2]),b=Math.max(Math.sqrt(w[0]*w[0]+w[1]*w[1]),Math.sqrt(w[2]*w[2]+w[3]*w[3])),y<b){for(d=[],p=[],v=0;v<=x;v+=A)d.push(this.board.origin.scrCoords[1]+y*Math.cos(v)*this.board.unitX),p.push(this.board.origin.scrCoords[2]+y*Math.sin(v)*this.board.unitY);return[d,p,r]}}else{if(h==="infinite"){if(JXG$1.evaluate(this.visProp.ignoreinfinitetickendings)&&(S=_=!0),a=Geometry.meetLineBoard(n,this.board),S&&_)d[0]=a[0].scrCoords[1],d[1]=a[1].scrCoords[1],p[0]=a[0].scrCoords[2],p[1]=a[1].scrCoords[2];else if($=[Mat.innerProduct(a[0].usrCoords.slice(1,3),this.line.stdform.slice(1,3))+this.line.stdform[0],Mat.innerProduct(a[1].usrCoords.slice(1,3),this.line.stdform.slice(1,3))+this.line.stdform[0]],$[0]<$[1]&&(a.reverse(),$.reverse()),S){if($[0]<0)return[];$[1]<0?(d[0]=a[0].scrCoords[1],p[0]=a[0].scrCoords[2],d[1]=s[1],p[1]=s[2]):(d[0]=a[0].scrCoords[1],p[0]=a[0].scrCoords[2],d[1]=a[1].scrCoords[1],p[1]=a[1].scrCoords[2])}else if(_){if($[1]>0)return[];$[0]>0?(d[0]=s[1],p[0]=s[2],d[1]=a[1].scrCoords[1],p[1]=a[1].scrCoords[2]):(d[0]=a[0].scrCoords[1],p[0]=a[0].scrCoords[2],d[1]=a[1].scrCoords[1],p[1]=a[1].scrCoords[2])}}else JXG$1.evaluate(this.visProp.face)===">"?c=Math.PI/4:JXG$1.evaluate(this.visProp.face)==="<"?c=-Math.PI/4:c=0,u=Math.cos(c)*o-Math.sin(c)*l,f=Math.sin(c)*o+Math.cos(c)*l,d[0]=s[1]+u*S,p[0]=s[2]-f*S,d[1]=s[1],p[1]=s[2],c=-c,u=Math.cos(c)*o-Math.sin(c)*l,f=Math.sin(c)*o+Math.cos(c)*l,d[2]=s[1]-u*_,p[2]=s[2]+f*_;if(this._isInsideCanvas(d,p))return[d,p,r]}return[]},formatLabelText:function(t){var r,s,n=JXG$1.evaluate(this.visProp.scalesymbol);return JXG$1.isNumber(t)?(s=JXG$1.evaluate(this.visProp.digits),this.useLocale()?r=this.formatNumberLocale(t,s):(r=(Math.round(t*1e11)/1e11).toString(),(r.length>JXG$1.evaluate(this.visProp.maxlabellength)||r.indexOf("e")!==-1)&&(JXG$1.evaluate(this.visProp.precision)!==3&&s===3&&(s=JXG$1.evaluate(this.visProp.precision)),r=t.toExponential(s).toString())),JXG$1.evaluate(this.visProp.beautifulscientificticklabels)&&(r=this.beautifyScientificNotationLabel(r)),r.indexOf(".")>-1&&r.indexOf("e")===-1&&(r=r.replace(/0+$/,""),r=r.replace(/\.$/,""))):r=t.toString(),n.length>0&&(r==="1"?r=n:r==="-1"?r="-"+n:r!=="0"&&(r=r+n)),JXG$1.evaluate(this.visProp.useunicodeminus)&&(r=r.replace(/-/g,"")),r},beautifyScientificNotationLabel:function(t){var r;return t.indexOf("e")===-1?t:(r=parseFloat(t.substring(0,t.indexOf("e")))+t.substring(t.indexOf("e")),r=r.replace(/e(.*)$/g,function(s,n){var a="10";return a+=n.replace(/-/g,"").replace(/\+/g,"").replace(/0/g,"").replace(/1/g,"").replace(/2/g,"").replace(/3/g,"").replace(/4/g,"").replace(/5/g,"").replace(/6/g,"").replace(/7/g,"").replace(/8/g,"").replace(/9/g,""),a}),r)},generateLabelText:function(t,r,s){var n,a;if(!JXG$1.exists(s)){if(a=this.getDistanceFromZero(r,t),Math.abs(a)<Mat.eps)return"0";s=a/JXG$1.evaluate(this.visProp.scale)}return n=this.formatLabelText(s),n},generateLabelData:function(t,r,s){var n,a,o,l;return l=JXG$1.evaluate(this.visProp.label.fontsize),n=[r.scrCoords[1],r.scrCoords[1]],a=[r.scrCoords[2],r.scrCoords[2]],o=l===void 0?12:l,o*=.5,this._isInsideCanvas(n,a,o)?(n=JXG$1.evaluate(this.visProp.label.offset[0]),a=JXG$1.evaluate(this.visProp.label.offset[1]),{x:r.usrCoords[1]+n/this.board.unitX,y:r.usrCoords[2]+a/this.board.unitY,t,i:s}):null},update:function(){return this.needsUpdate&&this.board.canvasWidth!==0&&this.board.canvasHeight!==0&&this.calculateTicksCoordinates(),this},updateRenderer:function(){return this.needsUpdate?(this.visPropCalc.visible&&this.board.renderer.updateTicks(this),this.updateRendererLabels(),this.setDisplayRendNode(),this.needsUpdate=!1,this):this},updateRendererLabels:function(){var t,r,s,n,a,o,l,u;for(s=this.labelsData.length,n=this.labels.length,t=0,r=0;t<s;t++)this.labelsData[t]!==null&&(l=this.labelsData[t],r<n?(o=this.labels[r],o.setText(l.t),o.setCoords(l.x,l.y),r++):(this.labelCounter+=1,a={isLabel:!0,layer:this.board.options.layer.line,highlightStrokeColor:this.board.options.text.strokeColor,highlightStrokeWidth:this.board.options.text.strokeWidth,highlightStrokeOpacity:this.board.options.text.strokeOpacity,priv:this.visProp.priv},a=JXG$1.deepCopy(a,this.visProp.label),a.id=this.id+l.i+"Label"+this.labelCounter,o=JXG$1.createText(this.board,[l.x,l.y,l.t],a),this.addChild(o),o.setParents(this),o.isDraggable=!1,o.dump=!1,this.labels.push(o)),u=JXG$1.evaluate(this.visProp.label.visible),u==="inherit"&&(u=this.visPropCalc.visible),o.prepareUpdate().updateVisibility(u).updateRenderer(),o.distanceX=JXG$1.evaluate(this.visProp.label.offset[0]),o.distanceY=JXG$1.evaluate(this.visProp.label.offset[1]));for(s=r,r=s;r<n;r++)this.board.renderer.display(this.labels[r],!1),this.labels[r].visProp.visible=this.labels[r].visPropCalc.visible=!1;return this},hideElement:function(){var t;for(JXG$1.deprecated("Element.hideElement()","Element.setDisplayRendNode()"),this.visPropCalc.visible=!1,this.board.renderer.display(this,!1),t=0;t<this.labels.length;t++)JXG$1.exists(this.labels[t])&&this.labels[t].hideElement();return this},showElement:function(){var t;for(JXG$1.deprecated("Element.showElement()","Element.setDisplayRendNode()"),this.visPropCalc.visible=!0,this.board.renderer.display(this,!1),t=0;t<this.labels.length;t++)JXG$1.exists(this.labels[t])&&this.labels[t].showElement();return this}});JXG$1.createTicks=function(t,r,s){var n,a,o=JXG$1.copyAttributes(s,t.options,"ticks");if(r.length<2?a=o.ticksdistance:a=r[1],r[0].elementClass===Const.OBJECT_CLASS_LINE||r[0].elementClass===Const.OBJECT_CLASS_CURVE)n=new JXG$1.Ticks(r[0],a,o);else throw new Error("JSXGraph: Can't create Ticks with parent types '"+typeof r[0]+"'.");return JXG$1.isFunction(o.generatelabelvalue)&&(n.generateLabelText=o.generatelabelvalue),JXG$1.isFunction(o.generatelabeltext)&&(n.generateLabelText=o.generatelabeltext),n.setParents(r[0]),n.isDraggable=!0,n.fullUpdate(r[0].visPropCalc.visible),n};JXG$1.createHatchmark=function(t,r,s){var n,a,o,l,u,f,c=[],h=JXG$1.copyAttributes(s,t.options,"hatch");if(r[0].elementClass!==Const.OBJECT_CLASS_LINE&&r[0].elementClass!==Const.OBJECT_CLASS_CURVE||typeof r[1]!="number")throw new Error("JSXGraph: Can't create Hatch mark with parent types '"+typeof r[0]+"' and '"+typeof r[1]+" and ''"+typeof r[2]+"'.");for(n=r[1],l=h.ticksdistance,u=(n-1)*l,o=-u*.5,a=0;a<n;a++)c[a]=o+a*l;return f=t.create("ticks",[r[0],c],h),f.elType="hatch",r[0].inherits.push(f),f};JXG$1.registerElement("ticks",JXG$1.createTicks);JXG$1.registerElement("hash",JXG$1.createHatchmark);JXG$1.registerElement("hatch",JXG$1.createHatchmark);JXG$1.Ticks;JXG$1.CA=function(t,r,s){this.node=t,this.createNode=r,this.parser=s};JXG$1.extend(JXG$1.CA.prototype,{findMapNode:function(t,r){var s,n,a;if(r.value==="op_assign"&&r.children[0].value===t)return r.children[1];if(r.children){for(n=r.children.length,s=0;s<n;++s)if(a=this.findMapNode(t,r.children[s]),a!==null)return a}return null},setMath:function(t){var r,s;if((t.type=="node_op"&&(t.value=="op_add"||t.value=="op_sub"||t.value=="op_mul"||t.value=="op_div"||t.value=="op_neg"||t.value=="op_execfun"||t.value=="op_exp")||t.type=="node_var"||t.type=="node_const")&&(t.isMath=!0),t.children)for(s=t.children.length,r=0;r<s;++r)this.setMath(t.children[r])},deriveElementary:function(t,r){var s=t.children[0].value,n=t.children[1],a;switch(s){case"abs":a=this.createNode("node_op","op_div",n[0],this.createNode("node_op","op_execfun",this.createNode("node_var","sqrt"),[this.createNode("node_op","op_mul",JXG$1.deepCopy(n[0]),JXG$1.deepCopy(n[0]))]));break;case"sqrt":a=this.createNode("node_op","op_div",this.createNode("node_const",1),this.createNode("node_op","op_mul",this.createNode("node_const",2),this.createNode(t.type,t.value,JXG$1.deepCopy(t.children[0]),JXG$1.deepCopy(t.children[1]))));break;case"sin":a=this.createNode("node_op","op_execfun",this.createNode("node_var","cos"),JXG$1.deepCopy(n));break;case"cos":a=this.createNode("node_op","op_neg",this.createNode("node_op","op_execfun",this.createNode("node_var","sin"),JXG$1.deepCopy(n)));break;case"tan":a=this.createNode("node_op","op_div",this.createNode("node_const",1),this.createNode("node_op","op_exp",this.createNode("node_op","op_execfun",this.createNode("node_var","cos"),JXG$1.deepCopy(n)),this.createNode("node_const",2)));break;case"cot":a=this.createNode("node_op","op_neg",this.createNode("node_op","op_div",this.createNode("node_const",1),this.createNode("node_op","op_exp",this.createNode("node_op","op_execfun",this.createNode("node_var","sin"),JXG$1.deepCopy(n)),this.createNode("node_const",2))));break;case"exp":a=this.createNode(t.type,t.value,JXG$1.deepCopy(t.children[0]),JXG$1.deepCopy(t.children[1]));break;case"pow":a=this.createNode("node_op","op_mul",this.createNode("node_op","op_execfun",JXG$1.deepCopy(t.children[0]),JXG$1.deepCopy(t.children[1])),this.createNode("node_op","op_add",this.createNode("node_op","op_mul",this.derivative(t.children[1][0],r),this.createNode("node_op","op_div",JXG$1.deepCopy(t.children[1][1]),JXG$1.deepCopy(t.children[1][0]))),this.createNode("node_op","op_mul",this.derivative(t.children[1][1],r),this.createNode("node_op","op_execfun",this.createNode("node_var","log"),[JXG$1.deepCopy(t.children[1][0])]))));break;case"log":case"ln":a=this.createNode("node_op","op_div",this.createNode("node_const",1),JXG$1.deepCopy(n[0]));break;case"log2":case"lb":case"ld":a=this.createNode("node_op","op_mul",this.createNode("node_op","op_div",this.createNode("node_const",1),JXG$1.deepCopy(n[0])),this.createNode("node_const",1.4426950408889634));break;case"log10":case"lg":a=this.createNode("node_op","op_mul",this.createNode("node_op","op_div",this.createNode("node_const",1),JXG$1.deepCopy(n[0])),this.createNode("node_const",.43429448190325176));break;case"asin":a=this.createNode("node_op","op_div",this.createNode("node_const",1),this.createNode("node_op","op_execfun",this.createNode("node_var","sqrt"),[this.createNode("node_op","op_sub",this.createNode("node_const",1),this.createNode("node_op","op_mul",JXG$1.deepCopy(n[0]),JXG$1.deepCopy(n[0])))]));break;case"acos":a=this.createNode("node_op","op_neg",this.createNode("node_op","op_div",this.createNode("node_const",1),this.createNode("node_op","op_execfun",this.createNode("node_var","sqrt"),[this.createNode("node_op","op_sub",this.createNode("node_const",1),this.createNode("node_op","op_mul",JXG$1.deepCopy(n[0]),JXG$1.deepCopy(n[0])))])));break;case"atan":a=this.createNode("node_op","op_div",this.createNode("node_const",1),this.createNode("node_op","op_add",this.createNode("node_const",1),this.createNode("node_op","op_mul",JXG$1.deepCopy(n[0]),JXG$1.deepCopy(n[0]))));break;case"acot":a=this.createNode("node_op","op_neg",this.createNode("node_op","op_div",this.createNode("node_const",1),this.createNode("node_op","op_add",this.createNode("node_const",1),this.createNode("node_op","op_mul",JXG$1.deepCopy(n[0]),JXG$1.deepCopy(n[0])))));break;case"sinh":a=this.createNode("node_op","op_execfun",this.createNode("node_var","cosh"),[JXG$1.deepCopy(n[0])]);break;case"cosh":a=this.createNode("node_op","op_execfun",this.createNode("node_var","sinh"),[JXG$1.deepCopy(n[0])]);break;case"tanh":a=this.createNode("node_op","op_sub",this.createNode("node_const",1),this.createNode("node_op","op_exp",this.createNode("node_op","op_execfun",this.createNode("node_var","tanh"),[JXG$1.deepCopy(n[0])]),this.createNode("node_const",2)));break;case"asinh":a=this.createNode("node_op","op_div",this.createNode("node_const",1),this.createNode("node_op","op_execfun",this.createNode("node_var","sqrt"),[this.createNode("node_op","op_add",this.createNode("node_op","op_mul",JXG$1.deepCopy(n[0]),JXG$1.deepCopy(n[0])),this.createNode("node_const",1))]));break;case"acosh":a=this.createNode("node_op","op_div",this.createNode("node_const",1),this.createNode("node_op","op_execfun",this.createNode("node_var","sqrt"),[this.createNode("node_op","op_sub",this.createNode("node_op","op_mul",JXG$1.deepCopy(n[0]),JXG$1.deepCopy(n[0])),this.createNode("node_const",1))]));break;case"atanh":a=this.createNode("node_op","op_div",this.createNode("node_const",1),this.createNode("node_op","op_sub",this.createNode("node_const",1),this.createNode("node_op","op_mul",JXG$1.deepCopy(n[0]),JXG$1.deepCopy(n[0]))));break;default:throw a=this.createNode("node_const",0),console.log('Derivative of "'+s+'" not yet implemented'),new Error("Error("+this.line+"): ")}return a},derivative:function(t,r){var s;switch(t.type){case"node_op":switch(t.value){case"op_execfun":t.children[0].value=="pow"?s=this.deriveElementary(t,r):t.children[1].length===0?s=this.createNode("node_const",0):s=this.createNode("node_op","op_mul",this.deriveElementary(t,r),this.derivative(t.children[1][0],r));break;case"op_div":s=this.createNode("node_op","op_div",this.createNode("node_op","op_sub",this.createNode("node_op","op_mul",this.derivative(t.children[0],r),JXG$1.deepCopy(t.children[1])),this.createNode("node_op","op_mul",JXG$1.deepCopy(t.children[0]),this.derivative(t.children[1],r))),this.createNode("node_op","op_mul",JXG$1.deepCopy(t.children[1]),JXG$1.deepCopy(t.children[1])));break;case"op_mul":s=this.createNode("node_op","op_add",this.createNode("node_op","op_mul",JXG$1.deepCopy(t.children[0]),this.derivative(t.children[1],r)),this.createNode("node_op","op_mul",this.derivative(t.children[0],r),JXG$1.deepCopy(t.children[1])));break;case"op_neg":s=this.createNode("node_op","op_neg",this.derivative(t.children[0],r));break;case"op_add":case"op_sub":s=this.createNode("node_op",t.value,this.derivative(t.children[0],r),this.derivative(t.children[1],r));break;case"op_exp":s=this.createNode("node_op","op_mul",JXG$1.deepCopy(t),this.createNode("node_op","op_add",this.createNode("node_op","op_mul",this.derivative(t.children[0],r),this.createNode("node_op","op_div",JXG$1.deepCopy(t.children[1]),JXG$1.deepCopy(t.children[0]))),this.createNode("node_op","op_mul",this.derivative(t.children[1],r),this.createNode("node_op","op_execfun",this.createNode("node_var","log"),[JXG$1.deepCopy(t.children[0])]))));break}break;case"node_var":t.value===r?s=this.createNode("node_const",1):s=this.createNode("node_const",0);break;case"node_const":s=this.createNode("node_const",0);break}return s},expandDerivatives:function(t,r,s){var n,a,o,l,u,f,c,h,d,p,v,y;if(f=0,!t)return f;for(this.line=t.line,this.col=t.col,n=t.children.length,a=0;a<n;++a)if(t.children[a]&&t.children[a].type)t.children[a]=this.expandDerivatives(t.children[a],t,s);else if(JXG$1.isArray(t.children[a]))for(o=0;o<t.children[a].length;++o)t.children[a][o]&&t.children[a][o].type&&(t.children[a][o]=this.expandDerivatives(t.children[a][o],t,s));switch(t.type){case"node_op":switch(t.value){case"op_execfun":if(t.children[0]&&t.children[0].value==="D"){if(t.children[1][0].type=="node_var"?(d=t.children[1][0].value,l=this.findMapNode(d,s),v=l.children[0],t.children[1].length>=2?p=t.children[1][1].value:p=l.children[0][0],u=l.children[1]):(u=t.children[1][0],v=["x"],t.children[1].length>=2?p=t.children[1][1].value:p="x"),t.children[1].length>=3?y=t.children[1][2].value:y=1,h=u,y>=1)for(;y>=1;)h=this.derivative(h,p),h=this.removeTrivialNodes(h),y--;r.type=="node_op"&&r.value=="op_assign"?c=this.createNode("node_op","op_map",v,h):c=h,this.setMath(c),t.type=c.type,t.value=c.value,c.children.length>0&&(t.children[0]=c.children[0]),c.children.length>1&&(t.children[1]=c.children[1])}}break}return t},removeTrivialNodes:function(t){var r,s,n,a,o;if(JXG$1.isArray(t))for(s=t.length,r=0;r<s;++r)t[r]=this.removeTrivialNodes(t[r]);if(t.type!="node_op"||!t.children)return t;for(s=t.children.length,r=0;r<s;++r){this.mayNotBeSimplified=!1;do t.children[r]=this.removeTrivialNodes(t.children[r]);while(this.mayNotBeSimplified)}switch(t.value){case"op_map":if(n=t.children[0],a=t.children[1],a.type=="node_var"){for(r=0;r<n.length;++r)if(n[r]==a.value){a.isMath=!0;break}}break;case"op_add":if(n=t.children[0],a=t.children[1],n.type=="node_const"&&n.value===0)return a;if(a.type=="node_const"&&a.value===0)return n;if(n.type=="node_const"&&a.type=="node_const")return n.value+=a.value,n;break;case"op_mul":if(n=t.children[0],a=t.children[1],n.type=="node_const"&&n.value==1)return a;if(a.type=="node_const"&&a.value==1||n.type=="node_const"&&n.value===0)return n;if(a.type=="node_const"&&a.value===0||a.type=="node_const"&&a.value===0)return a;if(n.type=="node_op"&&n.value=="op_neg"&&a.type=="node_op"&&a.value=="op_neg")return t.children=[n.children[0],a.children[0]],this.mayNotBeSimplified=!0,t;if(n.value=="op_neg"&&a.value!="op_neg")return t.type="node_op",t.value="op_neg",t.children=[this.createNode("node_op","op_mul",n.children[0],a)],this.mayNotBeSimplified=!0,t;if(n.value!="op_neg"&&a.value=="op_neg")return t.type="node_op",t.value="op_neg",t.children=[this.createNode("node_op","op_mul",n,a.children[0])],this.mayNotBeSimplified=!0,t;if(n.value=="op_div"&&n.children[0].type=="node_const"&&n.children[0].value==1)return t.type="node_op",t.value="op_div",t.children=[a,n.children[1]],this.mayNotBeSimplified=!0,t;if(a.value=="op_div"&&a.children[0].type=="node_const"&&a.children[0].value==1)return t.type="node_op",t.value="op_div",t.children=[n,a.children[1]],this.mayNotBeSimplified=!0,t;if(n.type!="node_const"&&a.type=="node_const")return t.children=[a,n],this.mayNotBeSimplified=!0,t;if(n.type!="node_const"&&a.type=="node_op"&&a.value=="op_neg"&&a.children[0].type=="node_const")return t.children=[a,n],this.mayNotBeSimplified=!0,t;if(n.type=="node_op"&&n.value!="op_execfun"&&(a.type=="node_var"||a.type=="node_op"&&a.value=="op_execfun"))return t.children=[a,n],this.mayNotBeSimplified=!0,t;if(n.type!="node_op"&&a.type=="node_op"&&a.value=="op_neg"&&a.children[0].type=="node_var")return t.children=[a,n],this.mayNotBeSimplified=!0,t;if(n.type!="node_const"&&a.type=="node_op"&&(a.value=="op_mul"||a.value=="op_div")&&a.children[0].type=="node_const")return o=a.children[0],a.children[0]=n,t.children=[o,a],this.mayNotBeSimplified=!0,t;if(a.type!="node_const"&&n.type=="node_op"&&n.value=="op_mul"&&n.children[0].type=="node_const")return t.children=[n.children[0],this.createNode("node_op","op_mul",n.children[1],a)],this.mayNotBeSimplified=!0,t;if(n.type=="node_const"&&a.type=="node_const")return n.value*=a.value,n;if(n.type=="node_const"&&a.type=="node_op"&&(a.value=="op_mul"||a.value=="op_div")&&a.children[0].type=="node_const")return a.children[0].value*=n.value,a;if(n.hash=this.parser.compile(n),a.hash=this.parser.compile(a),n.hash===a.hash)return t.value="op_exp",t.children[1]=this.createNode("node_const",2),t;if(n.type=="node_const"&&a.type=="node_op"&&(a.value=="op_mul"||a.value=="op_div")&&a.children[0].type=="node_const")return a.children[0].value*=n.value,a;if(a.type=="node_op"&&a.value=="op_exp"&&(n.hash||(n.hash=this.parser.compile(n)),a.children[0].hash||(a.children[0].hash=this.parser.compile(a.children[0])),n.hash===a.children[0].hash))return a.children[1]=this.createNode("node_op","op_add",a.children[1],this.createNode("node_const",1)),this.mayNotBeSimplified=!0,a;if(n.type=="node_op"&&n.value=="op_exp"&&a.type=="node_op"&&a.value=="op_exp"&&(n.children[0].hash=this.parser.compile(n.children[0]),a.children[0].hash=this.parser.compile(a.children[0]),n.children[0].hash===a.children[0].hash))return n.children[1]=this.createNode("node_op","op_add",n.children[1],a.children[1]),this.mayNotBeSimplified=!0,n;break;case"op_sub":if(n=t.children[0],a=t.children[1],n.type=="node_const"&&n.value===0)return t.value="op_neg",t.children[0]=a,t;if(a.type=="node_const"&&a.value===0)return n;if(n.type=="node_const"&&a.type=="node_const"&&n.value==a.value)return this.createNode("node_const",0);if(n.type=="node_var"&&a.type=="node_var"&&n.value==a.value)return this.createNode("node_const",0);if(n.type=="node_const"&&a.type=="node_const")return n.value-=a.value,n;if(n.type=="node_op"&&n.value=="op_mul"&&a.type=="node_op"&&a.value=="op_mul"&&(n.children[1].hash=this.parser.compile(n.children[1]),a.children[1].hash=this.parser.compile(a.children[1]),n.children[1].hash===a.children[1].hash))return t.value="op_mul",t.children=[this.createNode("node_op","op_sub",n.children[0],a.children[0]),n.children[1]],this.mayNotBeSimplified=!0,t;if(n.type=="node_op"&&n.value=="op_mul"&&(n.children[1].hash=this.parser.compile(n.children[1]),a.hash=this.parser.compile(a),n.children[1].hash===a.hash))return t.value="op_mul",t.children=[this.createNode("node_op","op_sub",n.children[0],this.createNode("node_const",1)),a],this.mayNotBeSimplified=!0,t;if(a.type=="node_op"&&a.value=="op_mul"&&(a.children[1].hash=this.parser.compile(a.children[1]),n.hash=this.parser.compile(n),a.children[1].hash===n.hash))return t.value="op_mul",t.children=[this.createNode("node_op","op_sub",this.createNode("node_const",1),a.children[0]),n],this.mayNotBeSimplified=!0,t;break;case"op_neg":if(n=t.children[0],n.type=="node_const"&&n.value===0)return n;if(n.type=="node_op"&&n.value=="op_neg")return n.children[0];break;case"op_div":if(n=t.children[0],a=t.children[1],n.type=="node_const"&&a.type=="node_const"&&n.value==a.value&&n.value!==0)return n.value=1,n;if(n.type=="node_const"&&n.value===0&&a.type=="node_const"&&a.value!==0)return n.value=0,n;if(n.type=="node_const"&&n.value===0&&(a.type=="node_op"||a.type=="node_var"))return t.type="node_const",t.value=0,t;if(n.type=="node_var"&&a.type=="node_var"&&n.value==a.value)return this.createNode("node_const",1);if(n.type=="node_const"&&n.value!==0&&a.type=="node_const"&&a.value===0)return n.value>0?n.value=1/0:n.value=-1/0,n;if(n.type=="node_op"&&n.value=="op_neg"&&a.type=="node_op"&&a.value=="op_neg")return t.children=[n.children[0],a.children[0]],this.mayNotBeSimplified=!0,t;if(n.value=="op_neg"&&a.value!="op_neg")return t.type="node_op",t.value="op_neg",t.children=[this.createNode("node_op","op_div",n.children[0],a)],this.mayNotBeSimplified=!0,t;if(n.value!="op_neg"&&a.value=="op_neg")return t.type="node_op",t.value="op_neg",t.children=[this.createNode("node_op","op_div",n,a.children[0])],this.mayNotBeSimplified=!0,t;if(n.type=="node_op"&&n.value=="op_exp"&&(a.hash||(a.hash=this.parser.compile(a)),n.children[0].hash||(n.children[0].hash=this.parser.compile(n.children[0])),a.hash===n.children[0].hash))return n.children[1]=this.createNode("node_op","op_sub",n.children[1],this.createNode("node_const",1)),this.mayNotBeSimplified=!0,n;if(a.type!="node_const"&&n.type=="node_op"&&n.value=="op_mul"&&n.children[0].type=="node_const")return t.value="op_mul",t.children=[n.children[0],this.createNode("node_op","op_div",n.children[1],a)],this.mayNotBeSimplified=!0,t;if(n.type=="node_op"&&n.value=="op_exp"&&a.type=="node_op"&&a.value=="op_exp"&&(n.children[0].hash=this.parser.compile(n.children[0]),a.children[0].hash=this.parser.compile(a.children[0]),n.children[0].hash===a.children[0].hash))return n.children[1]=this.createNode("node_op","op_sub",n.children[1],a.children[1]),this.mayNotBeSimplified=!0,n;break;case"op_exp":if(n=t.children[0],a=t.children[1],a.type=="node_const"&&a.value===0)return a.value=1,a;if(a.type=="node_const"&&a.value==1||n.type=="node_const"&&n.value==1||n.type=="node_const"&&n.value===0&&a.type=="node_const"&&a.value!==0)return n;if(n.type=="node_op"&&n.value=="op_exp")return t.children=[n.children[0],this.createNode("node_op","op_mul",n.children[1],a)],t;break}switch(t.value){case"op_add":if(n=t.children[0],a=t.children[1],n.type=="node_const"&&a.type=="node_const"&&n.value==a.value)return n.value+=a.value,n;if(n.type=="node_var"&&a.type=="node_var"&&n.value==a.value)return t.children[0]=this.createNode("node_const",2),t.value="op_mul",t;if(n.type=="node_op"&&n.value=="op_neg")return t.value="op_sub",t.children[0]=a,t.children[1]=n.children[0],this.mayNotBeSimplified=!0,t;if(a.type=="node_op"&&a.value=="op_neg")return t.value="op_sub",t.children[1]=a.children[0],this.mayNotBeSimplified=!0,t;if(n.type=="node_op"&&n.value=="op_mul"&&a.type=="node_op"&&a.value=="op_mul"&&(n.children[1].hash=this.parser.compile(n.children[1]),a.children[1].hash=this.parser.compile(a.children[1]),n.children[1].hash===a.children[1].hash))return t.value="op_mul",t.children=[this.createNode("node_op","op_add",n.children[0],a.children[0]),n.children[1]],this.mayNotBeSimplified=!0,t;if(n.type=="node_op"&&n.value=="op_mul"&&(n.children[1].hash=this.parser.compile(n.children[1]),a.hash=this.parser.compile(a),n.children[1].hash===a.hash))return t.value="op_mul",t.children=[this.createNode("node_op","op_add",n.children[0],this.createNode("node_const",1)),a],this.mayNotBeSimplified=!0,t;if(a.type=="node_op"&&a.value=="op_mul"&&(a.children[1].hash=this.parser.compile(a.children[1]),n.hash=this.parser.compile(n),a.children[1].hash===n.hash))return t.value="op_mul",t.children=[this.createNode("node_op","op_add",this.createNode("node_const",1),a.children[0]),n],this.mayNotBeSimplified=!0,t;break;case"op_sub":if(n=t.children[0],a=t.children[1],a.type=="node_op"&&a.value=="op_neg")return t.value="op_add",t.children[1]=a.children[0],this.mayNotBeSimplified=!0,t;break;case"op_execfun":return this.simplifyElementary(t)}return t},simplifyElementary:function(t){var r=t.children[0].value,s=t.children[1];if(s.length==0)return t;switch(r){case"sin":case"tan":if(s[0].type=="node_const"&&s[0].value===0||s[0].type=="node_var"&&s[0].value=="PI"||s[0].type=="node_op"&&s[0].value=="op_mul"&&s[0].children[0].type=="node_const"&&s[0].children[0].value%1===0&&s[0].children[1].type=="node_var"&&s[0].children[1].value=="PI")return t.type="node_const",t.value=0,t;break;case"cos":if(s[0].type=="node_const"&&s[0].value===0)return t.type="node_const",t.value=1,t;if(s[0].type=="node_var"&&s[0].value=="PI")return t.type="node_op",t.value="op_neg",t.children=[this.createNode("node_const",1)],t;break;case"exp":if(s[0].type=="node_const"&&s[0].value===0)return t.type="node_const",t.value=1,t;break;case"pow":if(s[1].type=="node_const"&&s[1].value===0)return t.type="node_const",t.value=1,t;break}return t}});JXG$1.CA;JXG$1.Dump={addMarkers:function(t,r,s){var n,a,o;JXG$1.isArray(r)||(r=[r]),JXG$1.isArray(s)||(s=[s]),a=Math.min(r.length,s.length),r.length=a,s.length=a;for(n in t.objects)if(t.objects.hasOwnProperty(n))for(o=0;o<a;o++)t.objects[n][r[o]]=s[o]},deleteMarkers:function(t,r){var s,n,a;JXG$1.isArray(r)||(r=[r]),n=r.length,r.length=n;for(s in t.objects)if(t.objects.hasOwnProperty(s))for(a=0;a<n;a++)delete t.objects[s][r[a]]},str:function(t){return typeof t=="string"&&t.substr(0,7)!=="function"&&(t='"'+t+'"'),t},minimizeObject:function(t,r){var s,n,a,o={},l=JXG$1.deepCopy(t),u=[];for(a=1;a<arguments.length;a++)u.push(arguments[a]);for(o=JXG$1.deepCopy(o,JXG$1.Options.elements,!0),a=u.length;a>0;a--)o=JXG$1.deepCopy(o,u[a-1],!0);for(s in o)o.hasOwnProperty(s)&&(n=s.toLowerCase(),typeof o[s]!="object"&&o[s]===l[n]&&delete l[n]);return l},prepareAttributes:function(t,r){var s,n;s=this.minimizeObject(r.getAttributes(),JXG$1.Options[r.elType]);for(n in r.subs)r.subs.hasOwnProperty(n)&&(s[n]=this.minimizeObject(r.subs[n].getAttributes(),JXG$1.Options[r.elType][n],JXG$1.Options[r.subs[n].elType]),s[n].id=r.subs[n].id,s[n].name=r.subs[n].name);return s.id=r.id,s.name=r.name,s},setBoundingBox:function(t,r,s){return t.push({obj:s,method:"setBoundingBox",params:[r.getBoundingBox(),r.keepaspectratio]}),t},dump:function(t){var r,s,n,a,o=[],l=[],u=[],f=t.objectsList.length;for(this.addMarkers(t,"dumped",!1),r=0;r<f;r++)if(s=t.objectsList[r],n={},!s.dumped&&s.dump){for(n.type=s.getType(),n.parents=s.getParents().slice(),n.type==="point"&&n.parents[0]===1&&(n.parents=n.parents.slice(1)),a=0;a<n.parents.length;a++)JXG$1.isString(n.parents[a])&&n.parents[a][0]!=="'"&&n.parents[a][0]!=='"'?n.parents[a]='"'+n.parents[a]+'"':JXG$1.isArray(n.parents[a])&&(n.parents[a]="["+n.parents[a].toString()+"]");n.attributes=this.prepareAttributes(t,s),n.type==="glider"&&s.onPolygon&&o.push({obj:s.id,prop:"onPolygon",val:!0}),u.push(n)}return this.deleteMarkers(t,"dumped"),{elements:u,props:o,methods:l}},arrayToParamStr:function(t,r){var s,n=[];for(s=0;s<t.length;s++)n.push(r.call(this,t[s]));return n.join(", ")},toJCAN:function(t){var r,s,n;switch(typeof t){case"object":if(t){if(s=[],JXG$1.isArray(t)){for(r=0;r<t.length;r++)s.push(this.toJCAN(t[r]));return"["+s.join(",")+"]"}for(n in t)t.hasOwnProperty(n)&&s.push(n+": "+this.toJCAN(t[n]));return"<<"+s.join(", ")+">> "}return"null";case"string":return"'"+t.replace(/\\/g,"\\\\").replace(/(["'])/g,"\\$1")+"'";case"number":case"boolean":return t.toString();case"null":return"null"}},toJessie:function(t){var r,s,n,a=this.dump(t),o=[];for(a.methods=this.setBoundingBox(a.methods,t,"$board"),s=a.elements,r=0;r<s.length;r++)s[r].attributes.name.length>0&&o.push("// "+s[r].attributes.name),o.push("s"+r+" = "+s[r].type+"("+s[r].parents.join(", ")+") "+this.toJCAN(s[r].attributes).replace(/\n/,"\\n")+";"),s[r].type==="axis"&&(n=s[r].attributes.id,t.objects[n].defaultTicks===null&&o.push("s"+r+".removeAllTicks();")),o.push("");for(r=0;r<a.methods.length;r++)o.push(a.methods[r].obj+"."+a.methods[r].method+"("+this.arrayToParamStr(a.methods[r].params,this.toJCAN)+");"),o.push("");for(r=0;r<a.props.length;r++)o.push(a.props[r].obj+"."+a.props[r].prop+" = "+this.toJCAN(a.props[r].val)+";"),o.push("");return o.join(`
`)},toJavaScript:function(t){var r,s,n,a=this.dump(t),o=[];for(a.methods=this.setBoundingBox(a.methods,t,"board"),s=a.elements,r=0;r<s.length;r++)o.push('board.create("'+s[r].type+'", ['+s[r].parents.join(", ")+"], "+JXG$1.toJSON(s[r].attributes)+");"),s[r].type==="axis"&&(n=s[r].attributes.id,t.objects[n].defaultTicks===null&&o.push('board.objects["'+n+'"].removeTicks(board.objects["'+n+'"].defaultTicks);'));for(r=0;r<a.methods.length;r++)o.push(a.methods[r].obj+"."+a.methods[r].method+"("+this.arrayToParamStr(a.methods[r].params,JXG$1.toJSON)+");"),o.push("");for(r=0;r<a.props.length;r++)o.push(a.props[r].obj+"."+a.props[r].prop+" = "+JXG$1.toJSON(a.props[r].val)+";"),o.push("");return o.join(`
`)}};JXG$1.Dump;JXG$1.createComb=function(t,r,s){var n,a,o,l,u;if(r.length===2){if(JXG$1.isArray(r[0])&&r[0].length>1)l=JXG$1.copyAttributes(s,t.options,"comb","point1"),n=t.create("point",r[0],l);else if(JXG$1.isString(r[0])||JXG$1.isPoint(r[0]))n=t.select(r[0]);else if(JXG$1.isFunction(r[0])&&JXG$1.isPoint(r[0]()))n=r[0]();else if(JXG$1.isFunction(r[0])&&r[0]().length&&r[0]().length>=2)l=JXG$1.copyAttributes(s,t.options,"comb","point1"),n=JXG$1.createPoint(t,r[0](),l);else throw new Error("JSXGraph: Can't create comb with parent types '"+typeof r[0]+"' and '"+typeof r[1]+`'.
Possible parent types: [point,point], [[x1,y1],[x2,y2]]`);if(JXG$1.isArray(r[1])&&r[1].length>1)l=JXG$1.copyAttributes(s,t.options,"comb","point2"),a=t.create("point",r[1],l);else if(JXG$1.isString(r[1])||JXG$1.isPoint(r[1]))a=t.select(r[1]);else if(JXG$1.isFunction(r[1])&&JXG$1.isPoint(r[1]()))a=r[1]();else if(JXG$1.isFunction(r[1])&&r[1]().length&&r[1]().length>=2)l=JXG$1.copyAttributes(s,t.options,"comb","point2"),a=JXG$1.createPoint(t,r[1](),l);else throw new Error("JSXGraph: Can't create comb with parent types '"+typeof r[0]+"' and '"+typeof r[1]+`'.
Possible parent types: [point,point], [[x1,y1],[x2,y2]]`)}else throw u=r.map(function(f){return"'"+typeof f+"'"}),new Error("JSXGraph: Can't create comb with parent types "+u.join(", ")+`.
Possible parent types: [point,point], [[x1,y1],[x2,y2]]`);return l=JXG$1.copyAttributes(s,t.options,"comb"),o=t.create("curve",[[0],[0]],l),o.updateDataArray=function(){var f=0,c=n.Dist(a),h,d,p,v,y,b,w,x=n,A=a,S,_,$;for(S=JXG$1.evaluate(o.visProp.frequency),_=-JXG$1.evaluate(o.visProp.angle),$=JXG$1.evaluate(o.visProp.width),JXG$1.evaluate(o.visProp.reverse)&&(x=a,A=n,_=-_),h=Math.cos(_),d=Math.sin(_),p=(A.X()-x.X())/c,v=(A.Y()-x.Y())/c,h*=$/Math.abs(d),d*=$/Math.abs(d),this.dataX=[],this.dataY=[];f<c;)y=x.X()+p*f,b=x.Y()+v*f,w=Math.min(h,c-f)/Math.abs(h),d*=w,h*=w,this.dataX.push(y),this.dataY.push(b),this.dataX.push(y+p*h+v*d),this.dataY.push(b-p*d+v*h),this.dataX.push(NaN),this.dataY.push(NaN),f+=S},o};JXG$1.registerElement("comb",JXG$1.createComb);var priv$3={removeSlopeTriangle:function(){Polygon.prototype.remove.call(this),this.board.removeObject(this.toppoint),this.board.removeObject(this.glider),this.board.removeObject(this.baseline),this.board.removeObject(this.basepoint),this.board.removeObject(this.label),this._isPrivateTangent&&this.board.removeObject(this.tangent)},Value:function(){return this.tangent.getSlope()}};JXG$1.createSlopeTriangle=function(t,r,s){var n,a,o,l,u,f,c,h,d,p=!1;if(r.length===1&&r[0].type===Const.OBJECT_TYPE_TANGENT)a=r[0],o=a.glider;else if(r.length===1&&r[0].type===Const.OBJECT_TYPE_GLIDER)o=r[0],d=JXG$1.copyAttributes(s,t.options,"slopetriangle","tangent"),a=t.create("tangent",[o],d),p=!0;else if(r.length===2&&r[0].elementClass===Const.OBJECT_CLASS_LINE&&JXG$1.isPoint(r[1]))a=r[0],o=r[1];else throw new Error("JSXGraph: Can't create slope triangle with parent types '"+typeof r[0]+"'.");return d=JXG$1.copyAttributes(s,t.options,"slopetriangle","basepoint"),c=t.create("point",[function(){return[o.X()+1,o.Y()]}],d),d=JXG$1.copyAttributes(s,t.options,"slopetriangle","baseline"),f=t.create("line",[o,c],d),d=JXG$1.copyAttributes(s,t.options,"slopetriangle","glider"),l=t.create("glider",[o.X()+1,o.Y(),f],d),d=JXG$1.copyAttributes(s,t.options,"slopetriangle","toppoint"),u=t.create("point",[function(){return[l.X(),l.Y()+(l.X()-o.X())*a.getSlope()]}],d),d=JXG$1.copyAttributes(s,t.options,"slopetriangle"),d.borders=JXG$1.copyAttributes(d.borders,t.options,"slopetriangle","borders"),n=t.create("polygon",[o,l,u],d),n.Value=priv$3.Value,n.tangent=a,n._isPrivateTangent=p,n.borders[2].setArrow(!1,!1),d=JXG$1.copyAttributes(s,t.options,"slopetriangle","label"),h=t.create("text",[function(){return l.X()+.1},function(){return(l.Y()+u.Y())*.5},function(){return""}],d),h._setText(function(){var v=JXG$1.evaluate(h.visProp.digits);return h.useLocale()?h.formatNumberLocale(n.Value(),v):JXG$1.toFixed(n.Value(),v)}),h.fullUpdate(),n.glider=l,n.basepoint=c,n.baseline=f,n.toppoint=u,n.label=h,n.subs={glider:l,basePoint:c,baseLine:f,topPoint:u,label:h},n.inherits.push(l,c,f,u,h),n.methodMap=JXG$1.deepCopy(n.methodMap,{tangent:"tangent",glider:"glider",basepoint:"basepoint",baseline:"baseline",toppoint:"toppoint",label:"label",Value:"Value",V:"Value"}),n.remove=priv$3.removeSlopeTriangle,n};JXG$1.registerElement("slopetriangle",JXG$1.createSlopeTriangle);var priv$2={CheckboxChangeEventHandler:function(){this._value=this.rendNodeCheckbox.checked,this.board.update()}};JXG$1.createCheckbox=function(t,r,s){var n,a,o=JXG$1.copyAttributes(s,t.options,"checkbox");return a=[r[0],r[1],'<span style="display:inline"><input type="checkbox" /><label for=""></label></span>'],n=t.create("text",a,o),n.type=JXG$1.OBJECT_TYPE_CHECKBOX,n.rendNodeCheckbox=n.rendNode.childNodes[0].childNodes[0],n.rendNodeLabel=n.rendNode.childNodes[0].childNodes[1],n.rendNodeTag=n.rendNodeCheckbox,n.rendNodeTag.disabled=!!o.disabled,n.rendNodeCheckbox.id=n.rendNode.id+"_checkbox",n.rendNodeLabel.id=n.rendNode.id+"_label",n.rendNodeLabel.setAttribute("for",n.rendNodeCheckbox.id),n.setText(r[2]),n.visPropOld.fontsize="0px",t.renderer.updateTextStyle(n,!1),n.rendNodeCheckbox.checked=o.checked,n._value=o.checked,n.Value=function(){return this._value},n.update=function(){return this.needsUpdate&&(JXG$1.Text.prototype.update.call(this),this._value=this.rendNodeCheckbox.checked),this},JXG$1.addEvent(n.rendNodeCheckbox,"change",priv$2.CheckboxChangeEventHandler,n),n};JXG$1.registerElement("checkbox",JXG$1.createCheckbox);var priv$1={InputInputEventHandler:function(t){this._value=this.rendNodeInput.value,this.board.update()}};JXG$1.createInput=function(t,r,s){var n,a,o=JXG$1.copyAttributes(s,t.options,"input");return a=[r[0],r[1],'<span style="display:inline; white-space:nowrap; padding:0px;"><span></span><input type="text" maxlength="'+o.maxlength+'" style="width:100%"/></span>'],n=t.create("text",a,o),n.type=JXG$1.OBJECT_TYPE_INPUT,n.rendNodeLabel=n.rendNode.childNodes[0].childNodes[0],n.rendNodeInput=n.rendNode.childNodes[0].childNodes[1],n.rendNodeInput.value=r[2],n.rendNodeTag=n.rendNodeInput,n.rendNodeTag.disabled=!!o.disabled,n.rendNodeLabel.id=n.rendNode.id+"_label",n.rendNodeInput.id=n.rendNode.id+"_input",n.setText(r[3]),n._value=r[2],n.update=function(){return this.needsUpdate&&(JXG$1.Text.prototype.update.call(this),this._value=this.rendNodeInput.value),this},n.Value=function(){return this._value},n.set=function(l){return this._value=l,this.rendNodeInput.value=l,this},JXG$1.addEvent(n.rendNodeInput,"input",priv$1.InputInputEventHandler,n),JXG$1.addEvent(n.rendNodeInput,"mousedown",function(l){JXG$1.exists(l.stopPropagation)&&l.stopPropagation()},n),JXG$1.addEvent(n.rendNodeInput,"touchstart",function(l){JXG$1.exists(l.stopPropagation)&&l.stopPropagation()},n),JXG$1.addEvent(n.rendNodeInput,"pointerdown",function(l){JXG$1.exists(l.stopPropagation)&&l.stopPropagation()},n),n.visPropOld.fontsize="0px",t.renderer.updateTextStyle(n,!1),n};JXG$1.registerElement("input",JXG$1.createInput);var priv={ButtonClickEventHandler:function(){this._handler&&this._handler(),this.board.update()}};JXG$1.createButton=function(t,r,s){var n,a,o=JXG$1.copyAttributes(s,t.options,"button");return a=[r[0],r[1],'<button type="button" style="width:100%;"></button>'],n=t.create("text",a,o),n.type=JXG$1.OBJECT_TYPE_BUTTON,n.rendNodeButton=n.rendNode.childNodes[0],n.rendNodeButton.id=n.rendNode.id+"_button",n.rendNodeTag=n.rendNodeButton,n.rendNodeTag.disabled=!!o.disabled,n.setText(r[2]),n.visPropOld.fontsize="0px",t.renderer.updateTextStyle(n,!1),r[3]&&(JXG$1.isString(r[3])?(n._jc=new JXG$1.JessieCode,n._jc.use(t),n._handler=function(){n._jc.parse(r[3])}):n._handler=r[3]),JXG$1.addEvent(n.rendNodeButton,"click",priv.ButtonClickEventHandler,n),JXG$1.addEvent(n.rendNodeButton,"mousedown",function(l){JXG$1.exists(l.stopPropagation)&&l.stopPropagation()},n),JXG$1.addEvent(n.rendNodeButton,"touchstart",function(l){JXG$1.exists(l.stopPropagation)&&l.stopPropagation()},n),JXG$1.addEvent(n.rendNodeButton,"pointerdown",function(l){JXG$1.exists(l.stopPropagation)&&l.stopPropagation()},n),n};JXG$1.registerElement("button",JXG$1.createButton);JXG$1.createVectorField=function(t,r,s){var n,a;if(!(r.length>=3&&(JXG$1.isArray(r[0])||JXG$1.isFunction(r[0])||JXG$1.isString(r[0]))&&JXG$1.isArray(r[1])&&r[1].length===3&&JXG$1.isArray(r[2])&&r[2].length===3))throw new Error("JSXGraph: Can't create vector field with parent types '"+typeof r[0]+"', '"+typeof r[1]+"', '"+typeof r[2]+"'.");return a=JXG$1.copyAttributes(s,t.options,"vectorfield"),n=t.create("curve",[[],[]],a),n.elType="vectorfield",n.setF=function(o,l){var u,f;return JXG$1.isArray(o)?(u=JXG$1.createFunction(o[0],this.board,l),f=JXG$1.createFunction(o[1],this.board,l),this.F=function(c,h){return[u(c,h),f(c,h)]}):this.F=JXG$1.createFunction(o,n.board,l),this},n.setF(r[0],"x, y"),n.xData=r[1],n.yData=r[2],n.updateDataArray=function(){var o,l,u,f,c=JXG$1.evaluate(this.visProp.scale),h=JXG$1.evaluate(this.xData[0]),d=JXG$1.evaluate(this.xData[1]),p=JXG$1.evaluate(this.xData[2]),v=(p-h)/d,y=JXG$1.evaluate(this.yData[0]),b=JXG$1.evaluate(this.yData[1]),w=JXG$1.evaluate(this.yData[2]),x=(w-y)/b,A,S,_,$,M,T=JXG$1.evaluate(this.visProp.arrowhead.enabled),O,B,J,F;for(T&&(O=JXG$1.evaluate(this.visProp.arrowhead.size),B=O/t.unitX,J=O/t.unitY,F=JXG$1.evaluate(this.visProp.arrowhead.angle)),this.dataX=[],this.dataY=[],u=0,o=h;u<=d;o+=v,u++)for(f=0,l=y;f<=b;l+=x,f++)_=this.F(o,l),A=_[0]*c,S=_[1]*c,this.dataX.push(o),this.dataY.push(l),this.dataX.push(o+A),this.dataY.push(l+S),T&&Math.abs(A)+Math.abs(S)>0&&($=Math.atan2(S,A),M=$+F,this.dataX.push(o+A-Math.cos(M)*B),this.dataY.push(l+S-Math.sin(M)*J),this.dataX.push(o+A),this.dataY.push(l+S),M=$-F,this.dataX.push(o+A-Math.cos(M)*B),this.dataY.push(l+S-Math.sin(M)*J)),this.dataX.push(NaN),this.dataY.push(NaN)},n.methodMap=JXG$1.deepCopy(n.methodMap,{setF:"setF"}),n};JXG$1.registerElement("vectorfield",JXG$1.createVectorField);JXG$1.createSlopeField=function(t,r,s){var n,a,o;if(!(r.length>=3&&(JXG$1.isFunction(r[0])||JXG$1.isString(r[0]))&&JXG$1.isArray(r[1])&&r[1].length===3&&JXG$1.isArray(r[2])&&r[2].length===3))throw new Error("JSXGraph: Can't create slope field with parent types '"+typeof r[0]+"', '"+typeof r[1]+"', '"+typeof r[2]+"'.");return a=JXG$1.createFunction(r[0],t,"x, y"),r[0]=function(l,u){var f=a(l,u),c=Math.sqrt(1+f*f);return[1/c,f/c]},o=JXG$1.copyAttributes(s,t.options,"slopefield"),n=t.create("vectorfield",r,o),n.elType="slopefield",n.setF=function(l,u){var f=JXG$1.createFunction(l,n.board,u);this.F=function(c,h){var d=f(c,h),p=Math.sqrt(1+d*d);return[1/p,d/p]}},n.methodMap=JXG$1.deepCopy(n.methodMap,{setF:"setF"}),n};JXG$1.registerElement("slopefield",JXG$1.createSlopeField);JXG$1.createSmartLabel=function(t,r,s){var n,a,o,l,u,f;if(r.length===0||[Const.OBJECT_CLASS_POINT,Const.OBJECT_CLASS_LINE,Const.OBJECT_CLASS_CIRCLE].indexOf(r[0].elementClass)<0&&[Const.OBJECT_TYPE_POLYGON,Const.OBJECT_TYPE_ANGLE].indexOf(r[0].type)<0)throw new Error("JSXGraph: Can't create smartlabel with parent types '"+typeof r[0]+"', '"+typeof r[1]+"'.");return o=r[0],l=r[1]||"",o.elementClass===Const.OBJECT_CLASS_POINT?a=JXG$1.copyAttributes(s,t.options,"smartlabelpoint"):o.elementClass===Const.OBJECT_CLASS_LINE?(a=JXG$1.copyAttributes(s,t.options,"smartlabelline"),a.rotate=function(){return Math.atan(o.getSlope())*180/Math.PI},a.visible=function(){return!(o.L()<1.5)}):o.elementClass===Const.OBJECT_CLASS_CIRCLE?(a=JXG$1.copyAttributes(s,t.options,"smartlabelcircle"),a.visible=function(){return!(o.Radius()<1.5)}):o.type===Const.OBJECT_TYPE_POLYGON?a=JXG$1.copyAttributes(s,t.options,"smartlabelpolygon"):o.type===Const.OBJECT_TYPE_ANGLE&&(a=JXG$1.copyAttributes(s,t.options,"smartlabelangle"),a.rotate=function(){var c=o.center.coords.usrCoords,h=o.getLabelAnchor().usrCoords,d=Math.atan2(h[2]-c[2],h[1]-c[1])*180/Math.PI;return d>90&&d<270?d+180:d},a.anchorX=function(){var c=o.center.coords.usrCoords,h=o.getLabelAnchor().usrCoords,d=Math.atan2(h[2]-c[2],h[1]-c[1])*180/Math.PI;return d>90&&d<270?"right":"left"}),u=function(c,h,d,p){var v;switch(p){case"length":v=function(){return h.L()};break;case"slope":v=function(){return h.Slope()};break;case"area":v=function(){return h.Area()};break;case"radius":v=function(){return h.Radius()};break;case"perimeter":v=function(){return h.Perimeter()};break;case"rad":v=function(){return h.Value()};break;case"deg":v=function(){return h.Value()*180/Math.PI};break;default:v=function(){return 0}}return function(){var y="",b,w=JXG$1.evaluate(l),x=JXG$1.evaluate(c.visProp.digits),A=JXG$1.evaluate(c.visProp.unit),S=JXG$1.evaluate(c.visProp.prefix),_=JXG$1.evaluate(c.visProp.suffix),$=JXG$1.evaluate(c.visProp.usemathjax)||JXG$1.evaluate(c.visProp.usekatex);return w===""?(c.useLocale()?b=c.formatNumberLocale(v(),x):b=JXG$1.toFixed(v(),x),$?y=["\\(",S,b,"\\,",A,_,"\\)"].join(""):y=[S,b,A,_].join("")):y=w,y}},o.elementClass===Const.OBJECT_CLASS_POINT?(n=t.create("text",[function(){return o.X()},function(){return o.Y()},""],a),f=function(){var c="",h=JXG$1.evaluate(l),d=JXG$1.evaluate(n.visProp.digits),p=JXG$1.evaluate(n.visProp.unit),v=JXG$1.evaluate(n.visProp.prefix),y=JXG$1.evaluate(n.visProp.suffix),b=JXG$1.evaluate(n.visProp.dir),w=JXG$1.evaluate(n.visProp.usemathjax)||JXG$1.evaluate(n.visProp.usekatex),x,A;return n.useLocale()?(x=n.formatNumberLocale(o.X(),d),A=n.formatNumberLocale(o.Y(),d)):(x=JXG$1.toFixed(o.X(),d),A=JXG$1.toFixed(o.Y(),d)),h===""?b==="row"?w?c=["\\(",v,x,"\\,",p," / ",A,"\\,",p,y,"\\)"].join(""):c=[v,x," ",p," / ",A," ",p,y].join(""):b.indexOf("col")===0&&(w?c=["\\(",v,"\\left(\\array{",x,"\\,",p,"\\\\ ",A,"\\,",p,"}\\right)",y,"\\)"].join(""):c=[v,x," ",p,"<br/>",A," ",p,y].join("")):c=h,c}):o.elementClass===Const.OBJECT_CLASS_LINE?a.measure==="length"?(n=t.create("text",[function(){return(o.point1.X()+o.point2.X())*.5},function(){return(o.point1.Y()+o.point2.Y())*.5},""],a),f=u(n,o,"line","length")):a.measure==="slope"&&(n=t.create("text",[function(){return o.point1.X()*.25+o.point2.X()*.75},function(){return o.point1.Y()*.25+o.point2.Y()*.75},""],a),f=u(n,o,"line","slope")):o.elementClass===Const.OBJECT_CLASS_CIRCLE?a.measure==="radius"?(n=t.create("text",[function(){return o.center.X()+o.Radius()*.5},function(){return o.center.Y()},""],a),f=u(n,o,"circle","radius")):a.measure==="area"?(n=t.create("text",[function(){return o.center.X()},function(){return o.center.Y()+o.Radius()*.5},""],a),f=u(n,o,"circle","area")):(a.measure==="circumference"||a.measure==="perimeter")&&(n=t.create("text",[function(){return o.getLabelAnchor()},""],a),f=u(n,o,"circle","perimeter")):o.type===Const.OBJECT_TYPE_POLYGON?a.measure==="area"?(n=t.create("text",[function(){return o.getTextAnchor()},""],a),f=u(n,o,"polygon","area")):a.measure==="perimeter"&&(n=t.create("text",[function(){var c=o.borders.length-1;return c>=0?[(o.borders[c].point1.X()+o.borders[c].point2.X())*.5,(o.borders[c].point1.Y()+o.borders[c].point2.Y())*.5]:o.getTextAnchor()},""],a),f=u(n,o,"polygon","perimeter")):o.type===Const.OBJECT_TYPE_ANGLE&&(n=t.create("text",[function(){return o.getLabelAnchor()},""],a),f=u(n,o,"angle",a.measure)),JXG$1.exists(n)&&(n.setText(f),o.addChild(n),n.setParents([o])),n};JXG$1.registerElement("smartlabel",JXG$1.createSmartLabel);JXG$1.ForeignObject=function(t,r,s,n,a){this.constructor(t,s,Const.OBJECT_TYPE_FOREIGNOBJECT,Const.OBJECT_CLASS_OTHER),this.element=this.board.select(s.anchor),this.coordsConstructor(r),this._useUserSize=!1,this.size=[1,1],JXG$1.exists(a)&&a.length>0&&(this._useUserSize=!0,this.W=JXG$1.createFunction(a[0],this.board,""),this.H=JXG$1.createFunction(a[1],this.board,""),this.addParentsFromJCFunctions([this.W,this.H]),this.usrSize=[this.W(),this.H()]),this.content=n,this.elType="foreignobject",this.id=this.board.setId(this,"Im"),this.board.renderer.drawForeignObject(this),this.board.finalizeAdding(this),this.methodMap=JXG$1.deepCopy(this.methodMap,{addTransformation:"addTransform",trans:"addTransform"})};JXG$1.ForeignObject.prototype=new GeometryElement;JXG$1.copyPrototypeMethods(JXG$1.ForeignObject,CoordsElement,"coordsConstructor");JXG$1.extend(JXG$1.ForeignObject.prototype,{hasPoint:function(t,r){var s,n,a,o,l,u,f,c,h,d=this.transformations.length;return JXG$1.isObject(JXG$1.evaluate(this.visProp.precision))?(o=this.board._inputDevice,l=JXG$1.evaluate(this.visProp.precision[o])):l=this.board.options.precision.hasPoint,d===0?(s=t-this.coords.scrCoords[1],n=this.coords.scrCoords[2]-r,a=l,s>=-a&&s-this.size[0]<=a&&n>=-a&&n-this.size[1]<=a):(u=new Coords(Const.COORDS_BY_SCREEN,[t,r],this.board),u=u.usrCoords,f=[u[0]-this.span[0][0],u[1]-this.span[0][1],u[2]-this.span[0][2]],h=Mat.innerProduct,c=h(f,this.span[1]),0<=c&&c<=h(this.span[1],this.span[1])&&(c=h(f,this.span[2]),0<=c&&c<=h(this.span[2],this.span[2])))},update:function(t){return this.needsUpdate?(this.updateCoords(t),this.updateSize(),this):this},updateRenderer:function(){return this.updateRendererGeneric("updateForeignObject")},updateSize:function(){var t=[0,0];return this._useUserSize?(this.usrSize=[this.W(),this.H()],this.size=[Math.abs(this.usrSize[0]*this.board.unitX),Math.abs(this.usrSize[1]*this.board.unitY)]):this.rendNode.hasChildNodes()&&(t=this.rendNode.childNodes[0].getBoundingClientRect(),this.size=[t.width,t.height]),this},updateSpan:function(){var t,r,s=this.transformations.length,n=[];if(s===0)this.span=[[this.Z(),this.X(),this.Y()],[this.Z(),this.W(),0],[this.Z(),0,this.H()]];else{for(n[0]=[this.Z(),this.X(),this.Y()],n[1]=[this.Z(),this.X()+this.W(),this.Y()],n[2]=[this.Z(),this.X(),this.Y()+this.H()],t=0;t<s;t++)for(r=0;r<3;r++)n[r]=Mat.matVecMult(this.transformations[t].matrix,n[r]);for(r=0;r<3;r++)n[r][1]/=n[r][0],n[r][2]/=n[r][0],n[r][0]/=n[r][0];for(r=1;r<3;r++)n[r][0]-=n[0][0],n[r][1]-=n[0][1],n[r][2]-=n[0][2];this.span=n}return this},addTransform:function(t){var r;if(JXG$1.isArray(t))for(r=0;r<t.length;r++)this.transformations.push(t[r]);else this.transformations.push(t);return this},getParents:function(){var t=[this.url,[this.Z(),this.X(),this.Y()],this.usrSize];return this.parents.length!==0&&(t=this.parents),t},setSize:function(t,r){return this.W=JXG$1.createFunction(t,this.board,""),this.H=JXG$1.createFunction(r,this.board,""),this._useUserSize=!0,this.addParentsFromJCFunctions([this.W,this.H]),this},W:function(){},H:function(){}});JXG$1.createForeignObject=function(t,r,s){var n,a,o=r[0],l=r[1],u=[];if(r.length>=2&&(u=r[2]),n=JXG$1.copyAttributes(s,t.options,"foreignobject"),a=CoordsElement.create(JXG$1.ForeignObject,t,l,n,o,u),!a)throw new Error("JSXGraph: Can't create foreignObject with parent types '"+typeof r[0]+"' and '"+typeof r[1]+`'.
Possible parent types: [string, [x, y], [w, h]], [string, [x, y]], [element,transformation]`);return a};JXG$1.registerElement("foreignobject",JXG$1.createForeignObject);JXG$1.registerElement("fo",JXG$1.createForeignObject);JXG$1.ForeignObject;JXG$1.extend(Options,{axes3d:{axesPosition:"center",xAxis:{visible:!0,point2:{name:"x"}},yAxis:{visible:!0,point2:{name:"y"}},zAxis:{visible:!0,point2:{name:"z"}},xPlaneRear:{visible:!0,layer:0,mesh3d:{layer:1}},yPlaneRear:{visible:!0,layer:0,mesh3d:{layer:1}},zPlaneRear:{visible:!0,layer:0,mesh3d:{layer:1}},xPlaneFront:{visible:!1,layer:0,mesh3d:{layer:1}},yPlaneFront:{visible:!1,layer:0,mesh3d:{layer:1}},zPlaneFront:{visible:!1,layer:0,mesh3d:{layer:1}},xPlaneRearYAxis:{visible:"inherit",strokeColor:"#888888",strokeWidth:1},xPlaneRearZAxis:{visible:"inherit",strokeColor:"#888888",strokeWidth:1},xPlaneFrontYAxis:{visible:"inherit",strokeColor:"#888888",strokeWidth:1},xPlaneFrontZAxis:{visible:"inherit",strokeColor:"#888888",strokeWidth:1},yPlaneRearXAxis:{visible:"inherit",strokeColor:"#888888",strokeWidth:1},yPlaneRearZAxis:{visible:"inherit",strokeColor:"#888888",strokeWidth:1},yPlaneFrontXAxis:{visible:"inherit",strokeColor:"#888888",strokeWidth:1},yPlaneFrontZAxis:{visible:"inherit",strokeColor:"#888888",strokeWidth:1},zPlaneRearXAxis:{visible:"inherit",strokeColor:"#888888",strokeWidth:1},zPlaneRearYAxis:{visible:"inherit",strokeColor:"#888888",strokeWidth:1},zPlaneFrontXAxis:{visible:"inherit",strokeColor:"#888888",strokeWidth:1},zPlaneFrontYAxis:{visible:"inherit",strokeColor:"#888888",strokeWidth:1}},axis3d:{highlight:!1,strokecolor:"black",strokeWidth:1,tabindex:null,point1:{visible:!1,name:""},point2:{visible:!1,name:"",label:{visible:!0}}},curve3d:{highlight:!1,tabindex:-1,strokeWidth:1,numberPointsHigh:200},mesh3d:{strokeWidth:1,strokeColor:"#9a9a9a",strokeOpacity:.6,highlight:!1,fillColor:"#9a9a9a",fillOpacity:.1,tabindex:null,visible:"inherit"},line3d:{strokeWidth:1,strokeColor:"black",fixed:!0,tabindex:null,gradient:"linear",gradientSecondColor:"#ffffff",point:{visible:!1,name:""},point1:{visible:!1,name:""},point2:{visible:!1,name:""}},plane3d:{strokeWidth:0,strokeColor:"black",strokeOpacity:1,highlight:!1,tabindex:null,gradient:"linear",gradientSecondColor:"#ffffff",gradientAngle:Math.PI,fillColor:"#a7a7a7",fillOpacity:.6,point:{visible:!1,name:"",fixed:!0}},point3d:{infoboxDigits:"auto",strokeWidth:0,gradient:"radial",gradientSecondColor:"#555555",fillColor:"yellow",highlightStrokeColor:"#555555"},surface3d:{highlight:!1,tabindex:-1,strokeWidth:1,stepsU:30,stepsV:30},view3d:{needsRegularUpdate:!0,verticalDrag:{enabled:!0,key:"shift"}}});JXG$1.Options;JXG$1.View3D=function(t,r,s){this.constructor(t,s,Const.OBJECT_TYPE_VIEW3D,Const.OBJECT_CLASS_3D),this.objects={},this.elementsByName={},this.defaultAxes=null,this.matrix3D=[[1,0,0,0],[0,1,0,0],[0,0,1,0]],this.llftCorner=r[0],this.size=r[1],this.bbox3D=r[2],this.r=-1,this.timeoutAzimuth=null,this.id=this.board.setId(this,"V"),this.board.finalizeAdding(this),this.elType="view3d",this.methodMap=JXG$1.deepCopy(this.methodMap,{})};JXG$1.View3D.prototype=new GeometryElement;JXG$1.extend(JXG$1.View3D.prototype,{create:function(t,r,s){var n=[],a;return t.indexOf("3d")>0&&n.push(this),a=this.board.create(t,n.concat(r),s),a},select:function(t,r){var s,n,a,o,l=t;if(l===null)return l;if(JXG$1.isString(l)&&l!=="")JXG$1.exists(this.objects[l])?l=this.objects[l]:JXG$1.exists(this.elementsByName[l])&&(l=this.elementsByName[l]);else if(!r&&(JXG$1.isFunction(l)||JXG$1.isObject(l)&&!JXG$1.isFunction(l.setAttribute))){for(s=JXG$1.filterElements(this.objectsList,l),n={},o=s.length,a=0;a<o;a++)n[s[a].id]=s[a];l=new Composition(n)}else JXG$1.isObject(l)&&JXG$1.exists(l.id)&&!JXG$1.exists(this.objects[l.id])&&(l=null);return l},update:function(){var t,r,s,n,a,o;return!JXG$1.exists(this.el_slide)||!JXG$1.exists(this.az_slide)||!this.needsUpdate?this:(t=this.el_slide.Value(),r=this.r,s=this.az_slide.Value(),n=r*Math.sin(t),a=[[1,0,0],[0,1,0],[0,0,1]],o=[[1,0,0,0],[-.5*(this.bbox3D[0][0]+this.bbox3D[0][1]),1,0,0],[-.5*(this.bbox3D[1][0]+this.bbox3D[1][1]),0,1,0],[-.5*(this.bbox3D[2][0]+this.bbox3D[2][1]),0,0,1]],this.matrix3D=[[1,0,0,0],[0,1,0,0],[0,0,1,0]],this.matrix3D[1][1]=r*Math.cos(s),this.matrix3D[1][2]=-r*Math.sin(s),this.matrix3D[2][1]=n*Math.sin(s),this.matrix3D[2][2]=n*Math.cos(s),this.matrix3D[2][3]=Math.cos(t),a[1][1]=this.size[0]/(this.bbox3D[0][1]-this.bbox3D[0][0]),a[2][2]=this.size[1]/(this.bbox3D[1][1]-this.bbox3D[1][0]),a[1][0]=this.llftCorner[0]+a[1][1]*.5*(this.bbox3D[0][1]-this.bbox3D[0][0]),a[2][0]=this.llftCorner[1]+a[2][2]*.5*(this.bbox3D[1][1]-this.bbox3D[1][0]),this.matrix3D=Mat.matMatMult(a,Mat.matMatMult(this.matrix3D,o)),this)},updateRenderer:function(){return this.needsUpdate=!1,this},removeObject:function(t,r){var s;if(JXG$1.isArray(t)){for(s=0;s<t.length;s++)this.removeObject(t[s]);return this}if(t=this.select(t),!JXG$1.exists(t)||JXG$1.isString(t))return this;try{delete this.objects[t.id]}catch(n){JXG$1.debug("View3D "+t.id+": Could not be removed: "+n)}return this.board.removeObject(t,r),this},project3DTo2D:function(t,r,s){var n;return arguments.length===3?n=[1,t,r,s]:t.length===3?n=[1].concat(t):n=t,Mat.matVecMult(this.matrix3D,n)},project2DTo3DPlane:function(t,r,s){var n,a,o,l,u=r.slice(1),f=[1,0,0,0];s=s||[1,0,0,0],l=Mat.norm(u,3),o=Mat.innerProduct(s.slice(1),u,3)/l,n=this.matrix3D.slice(0,3),n.push([0].concat(u)),a=t.coords.usrCoords.concat([o]);try{n[2][3]===1&&(n[2][1]=n[2][2]=Mat.eps*.001),f=Mat.Numerics.Gauss(n,a)}catch{f=[0,NaN,NaN,NaN]}return f},project2DTo3DVertical:function(t,r){var s=this.matrix3D[2],n=s[3],a=t.coords.usrCoords[2];return a-=s[0]*s[0]+s[1]*r[1]+s[2]*r[2],Math.abs(n)<Mat.eps?r:r.slice(0,3).concat([a/n])},project3DToCube:function(t){var r=this.bbox3D;return t[1]<r[0][0]&&(t[1]=r[0][0]),t[1]>r[0][1]&&(t[1]=r[0][1]),t[2]<r[1][0]&&(t[2]=r[1][0]),t[2]>r[1][1]&&(t[2]=r[1][1]),t[3]<r[2][0]&&(t[3]=r[2][0]),t[3]>r[2][1]&&(t[3]=r[2][1]),t},intersectionLineCube:function(t,r,s){var n,a,o,l;for(n=s,a=0;a<3;a++)r[a]!==0&&(o=(this.bbox3D[a][0]-t[a])/r[a],l=(this.bbox3D[a][1]-t[a])/r[a],s<0?n=Math.max(n,Math.min(o,l)):n=Math.min(n,Math.max(o,l)));return n},isInCube:function(t){return t[0]>this.bbox3D[0][0]-Mat.eps&&t[0]<this.bbox3D[0][1]+Mat.eps&&t[1]>this.bbox3D[1][0]-Mat.eps&&t[1]<this.bbox3D[1][1]+Mat.eps&&t[2]>this.bbox3D[2][0]-Mat.eps&&t[2]<this.bbox3D[2][1]+Mat.eps},intersectionPlanePlane:function(t,r,s){var n=[[],[]],a,o,l,u;return s=s||r.d,a=Mat.Geometry.meet3Planes(t.normal,t.d,r.normal,s,Mat.crossProduct(t.normal,r.normal),0),o=Mat.Geometry.meetPlanePlane(t.vec1,t.vec2,r.vec1,r.vec2),l=this.intersectionLineCube(a,o,1/0),u=Mat.axpy(l,o,a),this.isInCube(u)&&(n[0]=u),l=this.intersectionLineCube(a,o,-1/0),u=Mat.axpy(l,o,a),this.isInCube(u)&&(n[1]=u),n},getMesh:function(t,r,s){var n,a,o,l,u,f,c,h=[0,0,0],d=r[2],p=s[2],v=[],y=[];for(f=(JXG$1.evaluate(r[1])-JXG$1.evaluate(r[0]))/d,c=(JXG$1.evaluate(s[1])-JXG$1.evaluate(s[0]))/p,n=0;n<=d;n++){for(o=r[0]+f*n,a=0;a<=p;a++)l=s[0]+c*a,JXG$1.isFunction(t)?h=t(o,l):h=[t[0](o,l),t[1](o,l),t[2](o,l)],u=this.project3DTo2D(h),v.push(u[1]),y.push(u[2]);v.push(NaN),y.push(NaN)}for(a=0;a<=p;a++){for(l=s[0]+c*a,n=0;n<=d;n++)o=r[0]+f*n,JXG$1.isFunction(t)?h=t(o,l):h=[t[0](o,l),t[1](o,l),t[2](o,l)],u=this.project3DTo2D(h),v.push(u[1]),y.push(u[2]);v.push(NaN),y.push(NaN)}return[v,y]},animateAzimuth:function(){var t=this.az_slide._smin,r=this.az_slide._smax,s=r-t,n=this.az_slide.Value()+.1;this.az_slide.position=(n-t)/s,this.az_slide.position>1&&(this.az_slide.position=0),this.board.update(),this.timeoutAzimuth=setTimeout((function(){this.animateAzimuth()}).bind(this),200)},stopAzimuth:function(){clearTimeout(this.timeoutAzimuth),this.timeoutAzimuth=null},isVerticalDrag:function(){var t=this.board,r;return JXG$1.evaluate(this.visProp.verticaldrag.enabled)?(r="_"+JXG$1.evaluate(this.visProp.verticaldrag.key)+"Key",t[r]):!1}});JXG$1.createView3D=function(t,r,s){var n,a,o,l,u,f,c=r[0],h=r[1];return a=JXG$1.copyAttributes(s,t.options,"view3d"),n=new JXG$1.View3D(t,r,a),n.defaultAxes=n.create("axes3d",r,s),o=c[0],l=c[1],u=h[0],f=h[1],n.az_slide=t.create("slider",[[o-1,l-2],[o+u+1,l-2],[0,1,2*Math.PI]],{style:6,name:"az",point1:{frozen:!0},point2:{frozen:!0}}),n.el_slide=t.create("slider",[[o-1,l],[o-1,l+f],[0,.3,Math.PI/2]],{style:6,name:"el",point1:{frozen:!0},point2:{frozen:!0}}),n.board.highlightInfobox=function(d,p,v){var y,b,w,x,A='<span style="color:black; font-size:200%"> &nbsp;</span>',S=v.board,_,$,M=null;for(n.isVerticalDrag()&&(A='<span style="color:black; font-size:200%"> &nbsp;</span>'),b=0;b<v.parents.length&&(M=S.objects[v.parents[b]],!M.is3D);b++);if(M){if(x=[1,0,0,M.coords[3]],w=n.project2DTo3DPlane(M.element2D,[1,0,0,1],x),!n.isInCube(w)){n.board.highlightCustomInfobox("",M);return}y=JXG$1.evaluate(M.visProp.infoboxdigits),$=n.board.infobox,y==="auto"?$.useLocale()?_=[A,"(",$.formatNumberLocale(M.X())," | ",$.formatNumberLocale(M.Y())," | ",$.formatNumberLocale(M.Z()),")"]:_=[A,"(",JXG$1.autoDigits(M.X())," | ",JXG$1.autoDigits(M.Y())," | ",JXG$1.autoDigits(M.Z()),")"]:$.useLocale()?_=[A,"(",$.formatNumberLocale(M.X(),y)," | ",$.formatNumberLocale(M.Y(),y)," | ",$.formatNumberLocale(M.Z(),y),")"]:_=[A,"(",JXG$1.toFixed(M.X(),y)," | ",JXG$1.toFixed(M.Y(),y)," | ",JXG$1.toFixed(M.Z(),y),")"],n.board.highlightCustomInfobox(_.join(""),M)}else n.board.highlightCustomInfobox("("+d+", "+p+")",v)},n.board.update(),n};JXG$1.registerElement("view3d",JXG$1.createView3D);JXG$1.View3D;JXG$1.GeometryElement3D=function(t,r){this.elType=r,this.id=this.board.setId(this,r),this.view=t,this.element2D=null,this.is3D=!0,this.view.objects[this.id]=this,this.name!==""&&(this.view.elementsByName[this.name]=this)};JXG$1.extend(JXG$1.GeometryElement3D.prototype,{setAttr2D:function(t){var r=t;return r.name=this.name,r},setAttribute:function(t){var r,s,n,a,o,l={};for(r=0;r<arguments.length;r++)a=arguments[r],JXG$1.isString(a)?(o=a.split(":"),l[JXG$1.trim(o[0])]=JXG$1.trim(o[1])):JXG$1.isArray(a)?l[a[0]]=a[1]:JXG$1.extend(l,a);for(r in l)if(l.hasOwnProperty(r))switch(s=r.replace(/\s+/g,"").toLowerCase(),n=l[r],s){case"numberpointshigh":case"stepsu":case"stepsv":JXG$1.exists(this.visProp[s])&&(!JXG$1.Validator[s]||JXG$1.Validator[s]&&JXG$1.Validator[s](n)||JXG$1.Validator[s]&&JXG$1.isFunction(n)&&JXG$1.Validator[s](n()))&&(n=n.toLowerCase&&n.toLowerCase()==="false"?!1:n,this._set(s,n));break;default:JXG$1.exists(this.element2D)&&this.element2D.setAttribute(l)}},getAttribute:function(t){var r;switch(t=t.toLowerCase(),t){case"numberpointshigh":case"stepsu":case"stepsv":r=this.visProp[t];break;default:JXG$1.exists(this.element2D)&&(r=this.element2D.getAttribute(t));break}return r},getAttributes:function(){var t={},r,s,n=["numberpointshigh","stepsu","stepsv"],a=n.length;for(JXG$1.exists(this.element2D)&&(t=JXG$1.merge(this.element2D.getAttributes())),r=0;r<a;r++)s=n[r],JXG$1.exists(this.visProp[s])&&(t[s]=this.visProp[s]);return t}});JXG$1.GeometryElement3D;JXG$1.createAxes3D=function(t,r,s){var n=r[0],a=["x","y","z"],o="Axis",l=["Rear","Front"],u=[0,0,0],f=[0,0,0],c,h,d,p,v,y,b,w,x,A,S,_,$,M,T,O,B,J,F={};if(JXG$1.exists(n.bbox3D))for(c=0;c<a.length;c++)u[c]=n.bbox3D[c][0],f[c]=n.bbox3D[c][1];else for(c=0;c<a.length;c++)u[c]=r[1][c],f[c]=r[2][1];for(y=JXG$1.copyAttributes(s,t.options,"axes3d"),b=y.axesposition,c=0;c<a.length;c++)w=a[c],O=w+o,b==="center"?(A=[0,0,0],S=[0,0,0],S[c]=f[c],F[O]=n.create("axis3d",[A,S],y[O.toLowerCase()])):(O+="Border",A=u.slice(),S=f.slice(),c===2?(A[1]=f[1],S[0]=u[0]):(A[c]=f[c],S[2]=u[2]),S[c]=f[c],y[O.toLowerCase()].lastArrow=!1,F[O]=n.create("axis3d",[A,S],y[O.toLowerCase()]),J={visible:!0,minorTicks:0,tickEndings:[0,1],drawLabels:!1},c===2&&(J.tickEndings=[1,0]),F[O+"Ticks"]=n.create("ticks",[F[O],1],J));for(F.O=n.create("intersection",[F[a[0]+o],F[a[1]+o]],{name:"",visible:!1,withLabel:!1}),c=0;c<a.length;c++)for(p=(c+1)%3,v=(c+2)%3,w=a[c],h=0;h<l.length;h++)A=[0,0,0],A[c]=h===0?u[c]:f[c],_=[0,0,0],$=[0,0,0],_[p]=1,$[v]=1,M=[u[p],f[p]],T=[u[v],f[v]],O=w+"Plane"+l[h],y=JXG$1.copyAttributes(s,t.options,"axes3d",O),F[O]=n.create("plane3d",[A,_,$,M,T],y),F[O].elType="axisplane3d";for(c=0;c<a.length;c++)for(w=a[c],h=0;h<l.length;h++)for(d=1;d<=2;d++)p=(c+d)%3,x=a[p],O=w+"Plane"+l[h]+x.toUpperCase()+"Axis",B=w+"Plane"+l[h],A=[0,0,0],S=[0,0,0],A[c]=S[c]=h===0?u[c]:f[c],A[p]=u[p],S[p]=f[p],y=JXG$1.copyAttributes(s,t.options,"axes3d",O),F[O]=n.create("axis3d",[A,S],y),F[B].addChild(F[O]),F[B].element2D.inherits.push(F[O]);return F};JXG$1.registerElement("axes3d",JXG$1.createAxes3D);JXG$1.createAxis3D=function(t,r,s){var n=r[0],a,o=r[1],l=r[2],u,f,c;return a=JXG$1.copyAttributes(s.point1,t.options,"axis3d","point1"),u=n.create("point",[(function(h,d,p){return function(){return n.project3DTo2D(h,d,p)[1]}})(o[0],o[1],o[2]),(function(h,d,p){return function(){return n.project3DTo2D(h,d,p)[2]}})(o[0],o[1],o[2])],a),a=JXG$1.copyAttributes(s.point2,t.options,"axis3d","point2"),f=n.create("point",[(function(h,d,p){return function(){return n.project3DTo2D(h,d,p)[1]}})(l[0],l[1],l[2]),(function(h,d,p){return function(){return n.project3DTo2D(h,d,p)[2]}})(l[0],l[1],l[2])],a),a=JXG$1.copyAttributes(s,t.options,"axis3d"),c=n.create("arrow",[u,f],a),c};JXG$1.registerElement("axis3d",JXG$1.createAxis3D);JXG$1.createMesh3D=function(t,r,s){var n=r[0],a=r[1],o=r[2],l=r[3],u=r[4],f=r[5],c;return c=n.create("curve",[[],[]],s),c.updateDataArray=function(){var h=l[0],d=l[1],p=f[0],v=f[1],y,b,w,x,A=[0,0,0],S=[0,0,0],_=1,$=[0,0,0];if(this.dataX=[],this.dataY=[],JXG$1.isFunction(a))$=a().slice(1);else for(x=0;x<3;x++)$[x]=JXG$1.evaluate(a[x]);for(x=0;x<3;x++)A[x]=JXG$1.evaluate(o[x]),S[x]=JXG$1.evaluate(u[x]);for(y=JXG$1.Math.norm(A,3),b=JXG$1.Math.norm(S,3),x=0;x<3;x++)A[x]/=y,S[x]/=b;w=n.getMesh([function(M,T){return $[0]+M*A[0]+T*S[0]},function(M,T){return $[1]+M*A[1]+T*S[1]},function(M,T){return $[2]+M*A[2]+T*S[2]}],[Math.ceil(h),Math.floor(d),(Math.ceil(d)-Math.floor(h))/_],[Math.ceil(p),Math.floor(v),(Math.ceil(v)-Math.floor(p))/_]),this.dataX=w[0],this.dataY=w[1]},c};JXG$1.registerElement("mesh3d",JXG$1.createMesh3D);JXG$1.Point3D=function(t,r,s,n){this.constructor(t.board,n,Const.OBJECT_TYPE_POINT3D,Const.OBJECT_CLASS_3D),this.constructor3D(t,"point3d"),this.board.finalizeAdding(this),this.coords=[0,0,0,0],this.F=r,this.slide=s,this.X=function(){return this.coords[1]},this.Y=function(){return this.coords[2]},this.Z=function(){return this.coords[3]},this._params=null,this._c2d=null,this.methodMap=JXG$1.deepCopy(this.methodMap,{})};JXG$1.Point3D.prototype=new JXG$1.GeometryElement;JXG$1.copyPrototypeMethods(JXG$1.Point3D,JXG$1.GeometryElement3D,"constructor3D");JXG$1.extend(JXG$1.Point3D.prototype,{updateCoords:function(){var t;if(JXG$1.isFunction(this.F))this.coords=[1].concat(JXG$1.evaluate(this.F));else for(this.coords[0]=1,t=0;t<3;t++)JXG$1.isFunction(this.F[t])&&(this.coords[t+1]=JXG$1.evaluate(this.F[t]));return this},initCoords:function(){var t;if(JXG$1.isFunction(this.F))this.coords=[1].concat(JXG$1.evaluate(this.F));else for(this.coords[0]=1,t=0;t<3;t++)this.coords[t+1]=JXG$1.evaluate(this.F[t]);return this},normalizeCoords:function(){return Math.abs(this.coords[0])>Mat.eps&&(this.coords[1]/=this.coords[0],this.coords[2]/=this.coords[0],this.coords[3]/=this.coords[0],this.coords[0]=1),this},setPosition:function(t,r){var s=this.coords;return this.coords.slice(),t.length===3?(s[0]=1,s[1]=t[0],s[2]=t[1],s[3]=t[2]):(s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=t[2],this.normalizeCoords()),this},update:function(t){var r,s;return this.element2D.draggable()&&Geometry.distance(this._c2d,this.element2D.coords.usrCoords)!==0?this.slide?this.projectCoords2Surface():(this.view.isVerticalDrag()?r=this.view.project2DTo3DVertical(this.element2D,this.coords):(s=[1,0,0,this.coords[3]],r=this.view.project2DTo3DPlane(this.element2D,[1,0,0,1],s)),r[0]!==0&&(this.coords=this.view.project3DToCube(r))):(this.updateCoords(),this.element2D.coords.setCoordinates(Const.COORDS_BY_USER,this.view.project3DTo2D([1,this.X(),this.Y(),this.Z()]))),this._c2d=this.element2D.coords.usrCoords.slice(),this},updateRenderer:function(){return this.needsUpdate=!1,this},projectCoords2Surface:function(){var t=2,r=2,s=[0,0],n=5,a=1e-6,o=0,l=200,u=this.slide,f=this,c,h,d;u!==null&&(d=function(p,v,y,b){var w=[1,u.X(y[0],y[1]),u.Y(y[0],y[1]),u.Z(y[0],y[1])],x=f.view.project3DTo2D(w);return b[0]=f.element2D.X()-x[1],b[1]=f.element2D.Y()-x[2],b[0]*b[0]+b[1]*b[1]},JXG$1.exists(this._params)&&(s=this._params.slice()),Mat.Nlp.FindMinimum(d,t,r,s,n,a,o,l),c=[1,u.X(s[0],s[1]),u.Y(s[0],s[1]),u.Z(s[0],s[1])],h=this.view.project3DTo2D(c),this._params=s,this.coords=c,this.element2D.coords.setCoordinates(Const.COORDS_BY_USER,h),this._c2d=h)},__evt__update3D:function(t){}});JXG$1.createPoint3D=function(t,r,s){var n=r[0],a,o,l,u,f;if(r.length>2&&JXG$1.exists(r[r.length-1].is3D)?l=r.pop():l=null,r.length===2)o=r[1];else if(r.length===4)o=r.slice(1);else throw new Error("JSXGraph: Can't create point3d with parent types '"+typeof r[0]+"' and '"+typeof r[1]+`'.
Possible parent types: [[x,y,z]], [x,y,z]`);return a=JXG$1.copyAttributes(s,t.options,"point3d"),f=new JXG$1.Point3D(n,o,l,a),f.initCoords(),u=n.project3DTo2D(f.coords),a=f.setAttr2D(a),f.element2D=n.create("point",u,a),f.addChild(f.element2D),f.inherits.push(f.element2D),f.element2D.setParents(f),f._c2d=f.element2D.coords.usrCoords.slice(),f};JXG$1.registerElement("point3d",JXG$1.createPoint3D);JXG$1.Curve3D=function(t,r,s,n,a,o,l){this.constructor(t.board,l,Const.OBJECT_TYPE_CURVE3D,Const.OBJECT_CLASS_3D),this.constructor3D(t,"curve3d"),this.board.finalizeAdding(this),this.F=r,this.X=s,this.Y=n,this.Z=a,this.F!==null&&(this.X=function(u){return this.F(u)[0]},this.Y=function(u){return this.F(u)[1]},this.Z=function(u){return this.F(u)[2]}),this.range=o,this.methodMap=JXG$1.deepCopy(this.methodMap,{})};JXG$1.Curve3D.prototype=new JXG$1.GeometryElement;JXG$1.copyPrototypeMethods(JXG$1.Curve3D,JXG$1.GeometryElement3D,"constructor3D");JXG$1.extend(JXG$1.Curve3D.prototype,{updateDataArray:function(){var t=JXG$1.evaluate(this.visProp.numberpointshigh),r,s,n,a,o,l,u,f,c,h=[0,0,0];if(u=[],f=[],JXG$1.isArray(this.X))for(t=this.X.length,l=0;l<t;l++)h=[this.X[l],this.Y[l],this.Z[l]],o=this.view.project3DTo2D(h),u.push(o[1]),f.push(o[2]);else for(r=JXG$1.evaluate(this.range),s=JXG$1.evaluate(r[0]),n=JXG$1.evaluate(r[1]),a=(n-s)/(t-1),c=0,l=s;c<t&&l<=n;c++,l+=a)this.F!==null?h=this.F(l):h=[this.X(l),this.Y(l),this.Z(l)],o=this.view.project3DTo2D(h),u.push(o[1]),f.push(o[2]);return{X:u,Y:f}},update:function(){return this},updateRenderer:function(){return this.needsUpdate=!1,this}});JXG$1.createCurve3D=function(t,r,s){var n=r[0],a,o,l,u,f,c,h;return r.length===3?(a=r[1],f=r[2],o=null,l=null,u=null):(o=r[1],l=r[2],u=r[3],f=r[4],a=null),c=JXG$1.copyAttributes(s,t.options,"curve3d"),h=new JXG$1.Curve3D(n,a,o,l,u,f,c),c=h.setAttr2D(c),h.element2D=n.create("curve",[[],[]],c),h.element2D.updateDataArray=function(){var d=h.updateDataArray();this.dataX=d.X,this.dataY=d.Y},h.addChild(h.element2D),h.inherits.push(h.element2D),h.element2D.setParents(h),h.element2D.prepareUpdate().update(),t.isSuspendedUpdate||h.element2D.updateVisibility().updateRenderer(),h};JXG$1.registerElement("curve3d",JXG$1.createCurve3D);JXG$1.Line3D=function(t,r,s,n,a){this.constructor(t.board,a,Const.OBJECT_TYPE_LINE3D,Const.OBJECT_CLASS_3D),this.constructor3D(t,"line3d"),this.board.finalizeAdding(this),this.point=r,this.direction=s,this.range=n||[-1/0,1/0],this.point1=null,this.point2=null,this.methodMap=JXG$1.deepCopy(this.methodMap,{})};JXG$1.Line3D.prototype=new JXG$1.GeometryElement;JXG$1.copyPrototypeMethods(JXG$1.Line3D,JXG$1.GeometryElement3D,"constructor3D");JXG$1.extend(JXG$1.Line3D.prototype,{getPointCoords:function(t){var r=[],s=[],n,a;if(r=[this.point.X(),this.point.Y(),this.point.Z()],JXG$1.isFunction(this.direction))s=this.direction();else for(n=1;n<4;n++)s.push(JXG$1.evaluate(this.direction[n]));return a=JXG$1.evaluate(t),Math.abs(a)===1/0&&(t=this.view.intersectionLineCube(r,s,a)),[r[0]+s[0]*a,r[1]+s[1]*a,r[2]+s[2]*a]},update:function(){return this},updateRenderer:function(){return this.needsUpdate=!1,this}});JXG$1.createLine3D=function(t,r,s){var n=r[0],a,o,l,u,f,c,h,d;return a=JXG$1.copyAttributes(s,t.options,"line3d"),JXG$1.isPoint3D(r[2])||r.length===3&&(JXG$1.isArray(r[2])||JXG$1.isFunction(r[2]))?(c=JXG$1.providePoints3D(n,[r[1]],s,"line3d",["point1"])[0],h=JXG$1.providePoints3D(n,[r[2]],s,"line3d",["point2"])[0],u=function(){return[h.X()-c.X(),h.Y()-c.Y(),h.Z()-c.Z()]},f=[0,1],d=new JXG$1.Line3D(n,c,u,f,a)):(l=JXG$1.providePoints3D(n,[r[1]],s,"line3d",["point"])[0],JXG$1.isFunction(r[2])?u=r[2]:r[2].length===3?u=[1].concat(r[2]):r[2].length===4&&(u=r[2]),f=r[3],o=JXG$1.providePoints3D(n,[[0,0,0],[0,0,0]],s,"line3d",["point1","point2"]),d=new JXG$1.Line3D(n,l,u,f,a),o[0].F=function(){return d.getPointCoords(JXG$1.evaluate(d.range[0]))},o[0].prepareUpdate().update(),c=o[0],o[1].F=function(){return d.getPointCoords(JXG$1.evaluate(d.range[1]))},o[1].prepareUpdate().update(),h=o[1]),a=d.setAttr2D(a),d.element2D=n.create("segment",[c.element2D,h.element2D],a),d.addChild(d.element2D),d.inherits.push(d.element2D),d.element2D.setParents(d),c.addChild(d),h.addChild(d),d.point1=c,d.point2=h,d.update(),d.element2D.prepareUpdate().update().updateRenderer(),d};JXG$1.registerElement("line3d",JXG$1.createLine3D);JXG$1.Plane3D=function(t,r,s,n,a,o,l){this.constructor(t.board,l,Const.OBJECT_TYPE_PLANE3D,Const.OBJECT_CLASS_3D),this.constructor3D(t,"plane3d"),this.board.finalizeAdding(this),this.point=r,this.direction1=s,this.direction2=a,this.range1=n||[-1/0,1/0],this.range2=o||[-1/0,1/0],this.vec1=[0,0,0],this.vec2=[0,0,0],this.grid=null,this.normal=[0,0,0],this.d=0,this.updateNormal(),this.methodMap=JXG$1.deepCopy(this.methodMap,{})};JXG$1.Plane3D.prototype=new JXG$1.GeometryElement;JXG$1.copyPrototypeMethods(JXG$1.Plane3D,JXG$1.GeometryElement3D,"constructor3D");JXG$1.extend(JXG$1.Plane3D.prototype,{updateNormal:function(){var t,r;for(t=0;t<3;t++)this.vec1[t]=JXG$1.evaluate(this.direction1[t]),this.vec2[t]=JXG$1.evaluate(this.direction2[t]);if(this.normal=Mat.crossProduct(this.vec1,this.vec2),r=Mat.norm(this.normal),Math.abs(r)>Mat.eps)for(t=0;t<3;t++)this.normal[t]/=r;return this.d=Mat.innerProduct(this.point.coords.slice(1),this.normal,3),this},updateDataArray:function(){var t,r,s,n,a,o,l,u=["xPlaneRear","yPlaneRear","zPlaneRear"],f=[],c=[0,0,0],h=[0,0,0],d=[0,0,0],p=[0,0,0],v,y,b,w,x,A,S,_,$=this.view;if(this.dataX=[],this.dataY=[],this.updateNormal(),this.elType!=="axisplane3d"&&$.defaultAxes&&JXG$1.evaluate(this.range1[0])===-1/0&&JXG$1.evaluate(this.range1[1])===1/0&&JXG$1.evaluate(this.range2[0])===-1/0&&JXG$1.evaluate(this.range2[1])===1/0){for(b=0;b<u.length;b++){if(p=$.intersectionPlanePlane(this,$.defaultAxes[u[b]]),p[0].length===3&&p[1].length===3){for(y=0;y<f.length&&!(Geometry.distance(p[0],f[y][0],3)<Mat.eps&&Geometry.distance(p[1],f[y][1],3)<Mat.eps||Geometry.distance(p[0],f[y][1],3)<Mat.eps&&Geometry.distance(p[1],f[y][0],3)<Mat.eps);y++);y===f.length&&f.push(p.slice())}if(p=[0,0,0],p[b]=$.bbox3D[b][1],v=Mat.innerProduct(p,$.defaultAxes[u[b]].normal,3),p=$.intersectionPlanePlane(this,$.defaultAxes[u[b]],v),p[0].length===3&&p[1].length===3){for(y=0;y<f.length&&!(Geometry.distance(p[0],f[y][0],3)<Mat.eps&&Geometry.distance(p[1],f[y][1],3)<Mat.eps||Geometry.distance(p[0],f[y][1],3)<Mat.eps&&Geometry.distance(p[1],f[y][0],3)<Mat.eps);y++);y===f.length&&f.push(p.slice())}}A=0,S=A,y=0;do{for(p=f[S][y],p.length===3&&(a=$.project3DTo2D(p),this.dataX.push(a[1]),this.dataY.push(a[2])),y=(y+1)%2,p=f[S][y],_=S,b=0;b<f.length;b++){if(b!==S&&Geometry.distance(p,f[b][0])<Mat.eps){S=b,y=0;break}if(b!==S&&Geometry.distance(p,f[b][1])<Mat.eps){S=b,y=1;break}}if(S===_){console.log("Error: update plane3d: did not find next",S);break}}while(S!==A);a=$.project3DTo2D(f[A][0]),this.dataX.push(a[1]),this.dataY.push(a[2])}else{for(t=JXG$1.evaluate(this.range1[0]),r=JXG$1.evaluate(this.range1[1]),s=JXG$1.evaluate(this.range2[0]),n=JXG$1.evaluate(this.range2[1]),d=this.point.coords.slice(1),c=this.vec1.slice(),h=this.vec2.slice(),o=Mat.norm(c,3),l=Mat.norm(h,3),y=0;y<3;y++)c[y]/=o,h[y]/=l;for(b=0;b<4;b++){switch(b){case 0:w=t,x=s;break;case 1:w=r,x=s;break;case 2:w=r,x=n;break;case 3:w=t,x=n}for(y=0;y<3;y++)p[y]=d[y]+w*c[y]+x*h[y];a=$.project3DTo2D(p),this.dataX.push(a[1]),this.dataY.push(a[2])}this.dataX.push(this.dataX[0]),this.dataY.push(this.dataY[0])}return{X:this.dataX,Y:this.dataY}},update:function(){return this},updateRenderer:function(){return this.needsUpdate=!1,this}});JXG$1.createPlane3D=function(t,r,s){var n=r[0],a,o,l=r[2],u=r[3],f=r[4]||[-1/0,1/0],c=r[5]||[-1/0,1/0],h,d;return o=JXG$1.providePoints3D(n,[r[1]],s,"plane3d",["point"])[0],a=JXG$1.copyAttributes(s,t.options,"plane3d"),h=new JXG$1.Plane3D(n,o,l,f,u,c,a),o.addChild(h),a=h.setAttr2D(a),h.element2D=n.create("curve",[[],[]],a),h.element2D.updateDataArray=function(){var p=h.updateDataArray();this.dataX=p.X,this.dataY=p.Y},h.addChild(h.element2D),h.inherits.push(h.element2D),h.element2D.setParents(h),a=JXG$1.copyAttributes(s.mesh3d,t.options,"mesh3d"),Math.abs(h.range1[0])!==1/0&&Math.abs(h.range1[1])!==1/0&&Math.abs(h.range2[0])!==1/0&&Math.abs(h.range2[1])!==1/0&&(d=n.create("mesh3d",[function(){return o.coords},l,f,u,c],a),h.grid=d,h.addChild(d),h.inherits.push(d),d.setParents(h)),h.element2D.prepareUpdate().update(),t.isSuspendedUpdate||h.element2D.updateVisibility().updateRenderer(),h};JXG$1.registerElement("plane3d",JXG$1.createPlane3D);JXG$1.Surface3D=function(t,r,s,n,a,o,l,u){this.constructor(t.board,u,Const.OBJECT_TYPE_SURFACE3D,Const.OBJECT_CLASS_3D),this.constructor3D(t,"surface3d"),this.board.finalizeAdding(this),this.F=r,this.X=s,this.Y=n,this.Z=a,this.F!==null&&(this.X=function(f,c){return this.F(f,c)[0]},this.Y=function(f,c){return this.F(f,c)[1]},this.Z=function(f,c){return this.F(f,c)[2]}),this.range_u=o,this.range_v=l,this.methodMap=JXG$1.deepCopy(this.methodMap,{})};JXG$1.Surface3D.prototype=new JXG$1.GeometryElement;JXG$1.copyPrototypeMethods(JXG$1.Surface3D,JXG$1.GeometryElement3D,"constructor3D");JXG$1.extend(JXG$1.Surface3D.prototype,{updateDataArray:function(){var t=JXG$1.evaluate(this.visProp.stepsu),r=JXG$1.evaluate(this.visProp.stepsv),s=JXG$1.evaluate(this.range_u),n=JXG$1.evaluate(this.range_v),a,o;return this.F!==null?a=this.F:a=[this.X,this.Y,this.Z],o=this.view.getMesh(a,s.concat([t]),n.concat([r])),{X:o[0],Y:o[1]}},update:function(){return this},updateRenderer:function(){return this.needsUpdate=!1,this}});JXG$1.createParametricSurface3D=function(t,r,s){var n=r[0],a,o,l,u,f,c,h,d;return r.length===4?(a=r[1],f=r[2],c=r[3],o=null,l=null,u=null):(o=r[1],l=r[2],u=r[3],f=r[4],c=r[5],a=null),h=JXG$1.copyAttributes(s,t.options,"surface3d"),d=new JXG$1.Surface3D(n,a,o,l,u,f,c,h),h=d.setAttr2D(h),d.element2D=n.create("curve",[[],[]],h),d.element2D.updateDataArray=function(){var p=d.updateDataArray();this.dataX=p.X,this.dataY=p.Y},d.addChild(d.element2D),d.inherits.push(d.element2D),d.element2D.setParents(d),d.element2D.prepareUpdate().update(),t.isSuspendedUpdate||d.element2D.updateVisibility().updateRenderer(),d};JXG$1.registerElement("parametricsurface3d",JXG$1.createParametricSurface3D);JXG$1.createFunctiongraph3D=function(t,r,s){var n=r[0],a=function(c,h){return c},o=function(c,h){return h},l=r[1],u=r[2],f=r[3];return n.create("parametricsurface3d",[a,o,l,u,f],s)};JXG$1.registerElement("functiongraph3d",JXG$1.createFunctiongraph3D);JXG$1.COORDS_BY_SCREEN;JXG$1.COORDS_BY_USER;JXG$1.Dump;JXG$1.JSXGraph;JXG$1.Math;JXG$1.Options;JXG$1.boards;JXG$1.elements;JXG$1.palette;JXG$1.paletteWong;JXG$1.Board;JXG$1.Chart;JXG$1.Circle;JXG$1.Complex;JXG$1.Composition;JXG$1.Coords;JXG$1.CoordsElement;JXG$1.Curve;JXG$1.GeometryElement;JXG$1.Group;JXG$1.Image;JXG$1.JessieCode;JXG$1.Line;JXG$1.Point;JXG$1.Polygon;JXG$1.Text;JXG$1.Ticks;JXG$1.Transformation;JXG$1.Turtle;JXG$1.View3D;JXG$1.LMS2rgb;JXG$1.addEvent;JXG$1.autoDigits;JXG$1.autoHighlight;JXG$1.bind;JXG$1.capitalize;JXG$1.clearVisPropOld;JXG$1.clone;JXG$1.cloneAndCopy;JXG$1.cmpArrays;JXG$1.coordsArrayToMatrix;JXG$1.copyAttributes;JXG$1.createEvalFunction;JXG$1.createFunction;JXG$1.createHTMLSlider;JXG$1.debug;JXG$1.debugInt;JXG$1.debugLine;JXG$1.debugWST;JXG$1.deepCopy;JXG$1.def;JXG$1.deprecated;JXG$1.eliminateDuplicates;JXG$1.escapeHTML;JXG$1.evalSlider;JXG$1.evaluate;JXG$1.filterElements;JXG$1.getBoardByContainerId;JXG$1.getCSSTransformMatrix;JXG$1.getCSSTransform;JXG$1.getDimensions;JXG$1.getOffset;JXG$1.getPosition;JXG$1.getProp;JXG$1.hex2rgb;JXG$1.hsv2rgb;JXG$1.isAndroid;JXG$1.isApple;JXG$1.isArray;JXG$1.isInArray;JXG$1.isInObject;JXG$1.isMetroApp;JXG$1.isMozilla;JXG$1.isBoard;JXG$1.isName;JXG$1.isNode;JXG$1.isNumber;JXG$1.isObject;JXG$1.isPointType;JXG$1.isString;JXG$1.isTouchDevice;JXG$1.isTransformationOrArray;JXG$1.isWebWorker;JXG$1.isWebkitAndroid;JXG$1.isWebkitApple;JXG$1.keys;JXG$1.merge;JXG$1.normalizePointFace;JXG$1.providePoints;JXG$1.registerElement;JXG$1.registerReader;JXG$1.removeAllEvents;JXG$1.removeElementFromArray;JXG$1.removeEvent;JXG$1.rgb2LMS;JXG$1.rgb2bw;JXG$1.rgb2cb;JXG$1.rgb2css;JXG$1.rgb2hex;JXG$1.rgb2hsv;JXG$1.rgbParser;JXG$1.rgba2rgbo;JXG$1.rgbo2rgba;JXG$1.sanitizeHTML;JXG$1.shortcut;JXG$1.str2Bool;JXG$1.supportsCanvas;JXG$1.supportsPointerEvents;JXG$1.supportsSVG;JXG$1.supportsVML;JXG$1.swap;JXG$1.timedChunk;JXG$1.toFixed;JXG$1.toFullscreen;JXG$1.toJSON;JXG$1.trim;JXG$1.trimNumber;JXG$1.truncate;JXG$1.unescapeHTML;JXG$1.uniqueArray;JXG$1.useBlackWhiteOptions;JXG$1.useStandardOptions;JXG$1.warn;JXG$1.isBrowser?window.JXG=JXG$1:JXG$1.isWebWorker()&&(self.JXG=JXG$1);const GraphVisualizer=({expression1:t,expression2:r,title:s})=>{const[n]=reactExports.useState(()=>`jxgbox-${Math.random().toString(36).substr(2,9)}`),a=reactExports.useRef(null),o=reactExports.useRef(!0);return reactExports.useEffect(()=>()=>{o.current=!1},[]),reactExports.useEffect(()=>{const l=setTimeout(()=>{if(!(!o.current||!document.getElementById(n))){a.current&&JXG$1.JSXGraph.freeBoard(a.current);try{a.current=JXG$1.JSXGraph.initBoard(n,{boundingbox:[-10,10,10,-10],axis:!0,showCopyright:!1,showNavigation:!0,pan:{enabled:!0},zoom:{enabled:!0,wheel:!0}});const f=h=>evaluateExpression(t,h)||0;a.current.create("functiongraph",[f],{strokeColor:"#3b82f6",strokeWidth:3,dash:2});const c=h=>evaluateExpression(r,h)||0;a.current.create("functiongraph",[c],{strokeColor:"#ef4444",strokeWidth:2})}catch(f){console.error("Graph init error:",f)}}},100);return()=>{clearTimeout(l),a.current&&(JXG$1.JSXGraph.freeBoard(a.current),a.current=null)}},[t,n]),reactExports.useEffect(()=>{a.current},[r]),reactExports.useEffect(()=>{const l=setTimeout(()=>{if(!(!o.current||!document.getElementById(n))){a.current&&JXG$1.JSXGraph.freeBoard(a.current);try{a.current=JXG$1.JSXGraph.initBoard(n,{boundingbox:[-10,10,10,-10],axis:!0,showCopyright:!1,showNavigation:!0,pan:{enabled:!0},zoom:{enabled:!0}});const f=c=>evaluateExpression(t,c)||0;if(a.current.create("functiongraph",[f],{strokeColor:"#3b82f6",strokeWidth:3,dash:2}),r){const c=h=>evaluateExpression(r,h)||0;a.current.create("functiongraph",[c],{strokeColor:"#ef4444",strokeWidth:2})}}catch(f){console.error(f)}}},50);return()=>{clearTimeout(l),a.current&&(JXG$1.JSXGraph.freeBoard(a.current),a.current=null)}},[t,r,n]),jsxRuntimeExports.jsxs("div",{className:"w-full h-full flex flex-col",children:[s&&jsxRuntimeExports.jsx("h3",{className:"text-sm font-semibold text-gray-500 mb-2",children:s}),jsxRuntimeExports.jsx("div",{id:n,className:"w-full h-64 md:h-full min-h-[300px] border border-slate-200 rounded-lg shadow-inner bg-white relative z-0",style:{width:"100%",height:"100%"}}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4 justify-center mt-2 text-xs",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx("div",{className:"w-4 h-1 bg-blue-500 border-dashed border-white"}),jsxRuntimeExports.jsx("span",{children:"Problme original"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx("div",{className:"w-4 h-1 bg-red-500"}),jsxRuntimeExports.jsx("span",{children:"Ta rponse"})]})]})]})};function __$styleInject(t,r){r===void 0&&(r={});var s=r.insertAt;if(!(typeof document>"u")){var n=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",s==="top"&&n.firstChild?n.insertBefore(a,n.firstChild):n.appendChild(a),a.styleSheet?a.styleSheet.cssText=t:a.appendChild(document.createTextNode(t))}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var extendStatics=function(t,r){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,n){s.__proto__=n}||function(s,n){for(var a in n)n.hasOwnProperty(a)&&(s[a]=n[a])},extendStatics(t,r)};function __extends(t,r){extendStatics(t,r);function s(){this.constructor=t}t.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}var commonjsGlobal=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function createCommonjsModule(t,r){return r={exports:{}},t(r,r.exports),r.exports}var katex$1=createCommonjsModule(function(t,r){(function(n,a){t.exports=a()})(typeof self<"u"?self:commonjsGlobal,function(){return(function(){var s={};(function(){s.d=function(V,C){for(var E in C)s.o(C,E)&&!s.o(V,E)&&Object.defineProperty(V,E,{enumerable:!0,get:C[E]})}})(),(function(){s.o=function(V,C){return Object.prototype.hasOwnProperty.call(V,C)}})();var n={};s.d(n,{default:function(){return Rs}});var a=function V(C,E){this.position=void 0;var D="KaTeX parse error: "+C,G,I=E&&E.loc;if(I&&I.start<=I.end){var W=I.lexer.input;G=I.start;var ne=I.end;G===W.length?D+=" at end of input: ":D+=" at position "+(G+1)+": ";var fe=W.slice(G,ne).replace(/[^]/g,"$&"),ge;G>15?ge=""+W.slice(G-15,G):ge=W.slice(0,G);var Ee;ne+15<W.length?Ee=W.slice(ne,ne+15)+"":Ee=W.slice(ne),D+=ge+fe+Ee}var ke=new Error(D);return ke.name="ParseError",ke.__proto__=V.prototype,ke.position=G,ke};a.prototype.__proto__=Error.prototype;var o=a,l=function(C,E){return C.indexOf(E)!==-1},u=function(C,E){return C===void 0?E:C},f=/([A-Z])/g,c=function(C){return C.replace(f,"-$1").toLowerCase()},h={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},d=/[&><"']/g;function p(V){return String(V).replace(d,function(C){return h[C]})}var v=function V(C){return C.type==="ordgroup"||C.type==="color"?C.body.length===1?V(C.body[0]):C:C.type==="font"?V(C.body):C},y=function(C){var E=v(C);return E.type==="mathord"||E.type==="textord"||E.type==="atom"},b=function(C){if(!C)throw new Error("Expected non-null, but got "+String(C));return C},w=function(C){var E=/^\s*([^\\/#]*?)(?::|&#0*58|&#x0*3a)/i.exec(C);return E!=null?E[1]:"_relative"},x={contains:l,deflt:u,escape:p,hyphenate:c,getBaseElem:v,isCharacterBox:y,protocolFromUrl:w},A=(function(){function V(E){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,E=E||{},this.displayMode=x.deflt(E.displayMode,!1),this.output=x.deflt(E.output,"htmlAndMathml"),this.leqno=x.deflt(E.leqno,!1),this.fleqn=x.deflt(E.fleqn,!1),this.throwOnError=x.deflt(E.throwOnError,!0),this.errorColor=x.deflt(E.errorColor,"#cc0000"),this.macros=E.macros||{},this.minRuleThickness=Math.max(0,x.deflt(E.minRuleThickness,0)),this.colorIsTextColor=x.deflt(E.colorIsTextColor,!1),this.strict=x.deflt(E.strict,"warn"),this.trust=x.deflt(E.trust,!1),this.maxSize=Math.max(0,x.deflt(E.maxSize,1/0)),this.maxExpand=Math.max(0,x.deflt(E.maxExpand,1e3)),this.globalGroup=x.deflt(E.globalGroup,!1)}var C=V.prototype;return C.reportNonstrict=function(D,G,I){var W=this.strict;if(typeof W=="function"&&(W=W(D,G,I)),!(!W||W==="ignore")){if(W===!0||W==="error")throw new o("LaTeX-incompatible input and strict mode is set to 'error': "+(G+" ["+D+"]"),I);W==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(G+" ["+D+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+W+"': "+G+" ["+D+"]"))}},C.useStrictBehavior=function(D,G,I){var W=this.strict;if(typeof W=="function")try{W=W(D,G,I)}catch{W="error"}return!W||W==="ignore"?!1:W===!0||W==="error"?!0:W==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(G+" ["+D+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+W+"': "+G+" ["+D+"]")),!1)},C.isTrusted=function(D){D.url&&!D.protocol&&(D.protocol=x.protocolFromUrl(D.url));var G=typeof this.trust=="function"?this.trust(D):this.trust;return!!G},V})(),S=(function(){function V(E,D,G){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=E,this.size=D,this.cramped=G}var C=V.prototype;return C.sup=function(){return z[Z[this.id]]},C.sub=function(){return z[se[this.id]]},C.fracNum=function(){return z[ie[this.id]]},C.fracDen=function(){return z[U[this.id]]},C.cramp=function(){return z[H[this.id]]},C.text=function(){return z[ue[this.id]]},C.isTight=function(){return this.size>=2},V})(),_=0,$=1,M=2,T=3,O=4,B=5,J=6,F=7,z=[new S(_,0,!1),new S($,0,!0),new S(M,1,!1),new S(T,1,!0),new S(O,2,!1),new S(B,2,!0),new S(J,3,!1),new S(F,3,!0)],Z=[O,B,O,B,J,F,J,F],se=[B,B,B,B,F,F,F,F],ie=[M,T,O,B,J,F,J,F],U=[T,T,B,B,F,F,F,F],H=[$,$,T,T,B,B,F,F],ue=[_,$,M,T,M,T,M,T],Y={DISPLAY:z[_],TEXT:z[M],SCRIPT:z[O],SCRIPTSCRIPT:z[J]},K=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function te(V){for(var C=0;C<K.length;C++)for(var E=K[C],D=0;D<E.blocks.length;D++){var G=E.blocks[D];if(V>=G[0]&&V<=G[1])return E.name}return null}var ae=[];K.forEach(function(V){return V.blocks.forEach(function(C){return ae.push.apply(ae,C)})});function ee(V){for(var C=0;C<ae.length;C+=2)if(V>=ae[C]&&V<=ae[C+1])return!0;return!1}var de=80,ce=function(C,E){return"M95,"+(622+C+E)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+C/2.075+" -"+C+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+C)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+C)+" "+E+"h400000v"+(40+C)+"h-400000z"},xe=function(C,E){return"M263,"+(601+C+E)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+C/2.084+" -"+C+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+C)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+C)+" "+E+"h400000v"+(40+C)+"h-400000z"},Me=function(C,E){return"M983 "+(10+C+E)+`
l`+C/3.13+" -"+C+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+C)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+C)+" "+E+"h400000v"+(40+C)+"h-400000z"},Ae=function(C,E){return"M424,"+(2398+C+E)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+C/4.223+" -"+C+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+C)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+C)+" "+E+`
h400000v`+(40+C)+"h-400000z"},Xe=function(C,E){return"M473,"+(2713+C+E)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+C/5.298+" -"+C+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+C)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+C)+" "+E+"h400000v"+(40+C)+"H1017.7z"},Be=function(C){var E=C/2;return"M400000 "+C+" H0 L"+E+" 0 l65 45 L145 "+(C-80)+" H400000z"},Ze=function(C,E,D){var G=D-54-E-C;return"M702 "+(C+E)+"H400000"+(40+C)+`
H742v`+G+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+E+"H400000v"+(40+C)+"H742z"},nt=function(C,E,D){E=1e3*E;var G="";switch(C){case"sqrtMain":G=ce(E,de);break;case"sqrtSize1":G=xe(E,de);break;case"sqrtSize2":G=Me(E,de);break;case"sqrtSize3":G=Ae(E,de);break;case"sqrtSize4":G=Xe(E,de);break;case"sqrtTall":G=Ze(E,de,D)}return G},rt=function(C,E){switch(C){case"":return"M291 0 H417 V"+E+" H291z M291 0 H417 V"+E+" H291z";case"":return"M145 0 H188 V"+E+" H145z M145 0 H188 V"+E+" H145z";case"":return"M145 0 H188 V"+E+" H145z M145 0 H188 V"+E+" H145z"+("M367 0 H410 V"+E+" H367z M367 0 H410 V"+E+" H367z");case"":return"M457 0 H583 V"+E+" H457z M457 0 H583 V"+E+" H457z";case"":return"M319 0 H403 V"+E+" H319z M319 0 H403 V"+E+" H319z";case"":return"M263 0 H347 V"+E+" H263z M263 0 H347 V"+E+" H263z";case"":return"M384 0 H504 V"+E+" H384z M384 0 H504 V"+E+" H384z";case"":return"M312 0 H355 V"+E+" H312z M312 0 H355 V"+E+" H312z";case"":return"M257 0 H300 V"+E+" H257z M257 0 H300 V"+E+" H257z"+("M478 0 H521 V"+E+" H478z M478 0 H521 V"+E+" H478z");default:return""}},it={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},me=(function(){function V(E){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=E,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}var C=V.prototype;return C.hasClass=function(D){return x.contains(this.classes,D)},C.toNode=function(){for(var D=document.createDocumentFragment(),G=0;G<this.children.length;G++)D.appendChild(this.children[G].toNode());return D},C.toMarkup=function(){for(var D="",G=0;G<this.children.length;G++)D+=this.children[G].toMarkup();return D},C.toText=function(){var D=function(I){return I.toText()};return this.children.map(D).join("")},V})(),be=function(C){return C.filter(function(E){return E}).join(" ")},Re=function(C,E,D){if(this.classes=C||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=D||{},E){E.style.isTight()&&this.classes.push("mtight");var G=E.getColor();G&&(this.style.color=G)}},ye=function(C){var E=document.createElement(C);E.className=be(this.classes);for(var D in this.style)this.style.hasOwnProperty(D)&&(E.style[D]=this.style[D]);for(var G in this.attributes)this.attributes.hasOwnProperty(G)&&E.setAttribute(G,this.attributes[G]);for(var I=0;I<this.children.length;I++)E.appendChild(this.children[I].toNode());return E},$e=function(C){var E="<"+C;this.classes.length&&(E+=' class="'+x.escape(be(this.classes))+'"');var D="";for(var G in this.style)this.style.hasOwnProperty(G)&&(D+=x.hyphenate(G)+":"+this.style[G]+";");D&&(E+=' style="'+x.escape(D)+'"');for(var I in this.attributes)this.attributes.hasOwnProperty(I)&&(E+=" "+I+'="'+x.escape(this.attributes[I])+'"');E+=">";for(var W=0;W<this.children.length;W++)E+=this.children[W].toMarkup();return E+="</"+C+">",E},Te=(function(){function V(E,D,G,I){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,Re.call(this,E,G,I),this.children=D||[]}var C=V.prototype;return C.setAttribute=function(D,G){this.attributes[D]=G},C.hasClass=function(D){return x.contains(this.classes,D)},C.toNode=function(){return ye.call(this,"span")},C.toMarkup=function(){return $e.call(this,"span")},V})(),et=(function(){function V(E,D,G,I){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,Re.call(this,D,I),this.children=G||[],this.setAttribute("href",E)}var C=V.prototype;return C.setAttribute=function(D,G){this.attributes[D]=G},C.hasClass=function(D){return x.contains(this.classes,D)},C.toNode=function(){return ye.call(this,"a")},C.toMarkup=function(){return $e.call(this,"a")},V})(),Ke=(function(){function V(E,D,G){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=D,this.src=E,this.classes=["mord"],this.style=G}var C=V.prototype;return C.hasClass=function(D){return x.contains(this.classes,D)},C.toNode=function(){var D=document.createElement("img");D.src=this.src,D.alt=this.alt,D.className="mord";for(var G in this.style)this.style.hasOwnProperty(G)&&(D.style[G]=this.style[G]);return D},C.toMarkup=function(){var D="<img  src='"+this.src+" 'alt='"+this.alt+"' ",G="";for(var I in this.style)this.style.hasOwnProperty(I)&&(G+=x.hyphenate(I)+":"+this.style[I]+";");return G&&(D+=' style="'+x.escape(G)+'"'),D+="'/>",D},V})(),pe={:"",:"",:"",:""},ve=(function(){function V(E,D,G,I,W,ne,fe,ge){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=E,this.height=D||0,this.depth=G||0,this.italic=I||0,this.skew=W||0,this.width=ne||0,this.classes=fe||[],this.style=ge||{},this.maxFontSize=0;var Ee=te(this.text.charCodeAt(0));Ee&&this.classes.push(Ee+"_fallback"),/[]/.test(this.text)&&(this.text=pe[this.text])}var C=V.prototype;return C.hasClass=function(D){return x.contains(this.classes,D)},C.toNode=function(){var D=document.createTextNode(this.text),G=null;this.italic>0&&(G=document.createElement("span"),G.style.marginRight=this.italic+"em"),this.classes.length>0&&(G=G||document.createElement("span"),G.className=be(this.classes));for(var I in this.style)this.style.hasOwnProperty(I)&&(G=G||document.createElement("span"),G.style[I]=this.style[I]);return G?(G.appendChild(D),G):D},C.toMarkup=function(){var D=!1,G="<span";this.classes.length&&(D=!0,G+=' class="',G+=x.escape(be(this.classes)),G+='"');var I="";this.italic>0&&(I+="margin-right:"+this.italic+"em;");for(var W in this.style)this.style.hasOwnProperty(W)&&(I+=x.hyphenate(W)+":"+this.style[W]+";");I&&(D=!0,G+=' style="'+x.escape(I)+'"');var ne=x.escape(this.text);return D?(G+=">",G+=ne,G+="</span>",G):ne},V})(),De=(function(){function V(E,D){this.children=void 0,this.attributes=void 0,this.children=E||[],this.attributes=D||{}}var C=V.prototype;return C.toNode=function(){var D="http://www.w3.org/2000/svg",G=document.createElementNS(D,"svg");for(var I in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,I)&&G.setAttribute(I,this.attributes[I]);for(var W=0;W<this.children.length;W++)G.appendChild(this.children[W].toNode());return G},C.toMarkup=function(){var D="<svg";for(var G in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,G)&&(D+=" "+G+"='"+this.attributes[G]+"'");D+=">";for(var I=0;I<this.children.length;I++)D+=this.children[I].toMarkup();return D+="</svg>",D},V})(),_e=(function(){function V(E,D){this.pathName=void 0,this.alternate=void 0,this.pathName=E,this.alternate=D}var C=V.prototype;return C.toNode=function(){var D="http://www.w3.org/2000/svg",G=document.createElementNS(D,"path");return this.alternate?G.setAttribute("d",this.alternate):G.setAttribute("d",it[this.pathName]),G},C.toMarkup=function(){return this.alternate?"<path d='"+this.alternate+"'/>":"<path d='"+it[this.pathName]+"'/>"},V})(),Oe=(function(){function V(E){this.attributes=void 0,this.attributes=E||{}}var C=V.prototype;return C.toNode=function(){var D="http://www.w3.org/2000/svg",G=document.createElementNS(D,"line");for(var I in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,I)&&G.setAttribute(I,this.attributes[I]);return G},C.toMarkup=function(){var D="<line";for(var G in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,G)&&(D+=" "+G+"='"+this.attributes[G]+"'");return D+="/>",D},V})();function Ye(V){if(V instanceof ve)return V;throw new Error("Expected symbolNode but got "+String(V)+".")}function tt(V){if(V instanceof Te)return V;throw new Error("Expected span<HtmlDomNode> but got "+String(V)+".")}var Ve={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.12,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,1],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.67,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.9,0,0,.278],8943:[-.19,.31,0,0,1.172],8945:[-.1,.82,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.744,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.744,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},qe={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},Fe={:"A",:"C",:"D",:"o",:"a",:"c",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function at(V,C){Ve[V]=C}function vt(V,C,E){if(!Ve[C])throw new Error("Font metrics not found for font: "+C+".");var D=V.charCodeAt(0),G=Ve[C][D];if(!G&&V[0]in Fe&&(D=Fe[V[0]].charCodeAt(0),G=Ve[C][D]),!G&&E==="text"&&ee(D)&&(G=Ve[C][77]),G)return{depth:G[0],height:G[1],italic:G[2],skew:G[3],width:G[4]}}var pt={};function He(V){var C;if(V>=5?C=0:V>=3?C=1:C=2,!pt[C]){var E=pt[C]={cssEmPerMu:qe.quad[C]/18};for(var D in qe)qe.hasOwnProperty(D)&&(E[D]=qe[D][C])}return pt[C]}var ht={bin:1,close:1,inner:1,open:1,punct:1,rel:1},L={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},we={math:{},text:{}},Ie=we;function k(V,C,E,D,G,I){we[V][G]={font:C,group:E,replace:D},I&&D&&(we[V][D]=we[V][G])}var q="math",Le="text",oe="main",Ce="ams",Lt="accent-token",yt="bin",sr="close",Kt="inner",Ct="mathord",Jt="op-token",ir="open",Ur="punct",Se="rel",Ht="spacing",Ge="textord";k(q,oe,Se,"","\\equiv",!0),k(q,oe,Se,"","\\prec",!0),k(q,oe,Se,"","\\succ",!0),k(q,oe,Se,"","\\sim",!0),k(q,oe,Se,"","\\perp"),k(q,oe,Se,"","\\preceq",!0),k(q,oe,Se,"","\\succeq",!0),k(q,oe,Se,"","\\simeq",!0),k(q,oe,Se,"","\\mid",!0),k(q,oe,Se,"","\\ll",!0),k(q,oe,Se,"","\\gg",!0),k(q,oe,Se,"","\\asymp",!0),k(q,oe,Se,"","\\parallel"),k(q,oe,Se,"","\\bowtie",!0),k(q,oe,Se,"","\\smile",!0),k(q,oe,Se,"","\\sqsubseteq",!0),k(q,oe,Se,"","\\sqsupseteq",!0),k(q,oe,Se,"","\\doteq",!0),k(q,oe,Se,"","\\frown",!0),k(q,oe,Se,"","\\ni",!0),k(q,oe,Se,"","\\propto",!0),k(q,oe,Se,"","\\vdash",!0),k(q,oe,Se,"","\\dashv",!0),k(q,oe,Se,"","\\owns"),k(q,oe,Ur,".","\\ldotp"),k(q,oe,Ur,"","\\cdotp"),k(q,oe,Ge,"#","\\#"),k(Le,oe,Ge,"#","\\#"),k(q,oe,Ge,"&","\\&"),k(Le,oe,Ge,"&","\\&"),k(q,oe,Ge,"","\\aleph",!0),k(q,oe,Ge,"","\\forall",!0),k(q,oe,Ge,"","\\hbar",!0),k(q,oe,Ge,"","\\exists",!0),k(q,oe,Ge,"","\\nabla",!0),k(q,oe,Ge,"","\\flat",!0),k(q,oe,Ge,"","\\ell",!0),k(q,oe,Ge,"","\\natural",!0),k(q,oe,Ge,"","\\clubsuit",!0),k(q,oe,Ge,"","\\wp",!0),k(q,oe,Ge,"","\\sharp",!0),k(q,oe,Ge,"","\\diamondsuit",!0),k(q,oe,Ge,"","\\Re",!0),k(q,oe,Ge,"","\\heartsuit",!0),k(q,oe,Ge,"","\\Im",!0),k(q,oe,Ge,"","\\spadesuit",!0),k(Le,oe,Ge,"","\\S",!0),k(Le,oe,Ge,"","\\P",!0),k(q,oe,Ge,"","\\dag"),k(Le,oe,Ge,"","\\dag"),k(Le,oe,Ge,"","\\textdagger"),k(q,oe,Ge,"","\\ddag"),k(Le,oe,Ge,"","\\ddag"),k(Le,oe,Ge,"","\\textdaggerdbl"),k(q,oe,sr,"","\\rmoustache",!0),k(q,oe,ir,"","\\lmoustache",!0),k(q,oe,sr,"","\\rgroup",!0),k(q,oe,ir,"","\\lgroup",!0),k(q,oe,yt,"","\\mp",!0),k(q,oe,yt,"","\\ominus",!0),k(q,oe,yt,"","\\uplus",!0),k(q,oe,yt,"","\\sqcap",!0),k(q,oe,yt,"","\\ast"),k(q,oe,yt,"","\\sqcup",!0),k(q,oe,yt,"","\\bigcirc",!0),k(q,oe,yt,"","\\bullet"),k(q,oe,yt,"","\\ddagger"),k(q,oe,yt,"","\\wr",!0),k(q,oe,yt,"","\\amalg"),k(q,oe,yt,"&","\\And"),k(q,oe,Se,"","\\longleftarrow",!0),k(q,oe,Se,"","\\Leftarrow",!0),k(q,oe,Se,"","\\Longleftarrow",!0),k(q,oe,Se,"","\\longrightarrow",!0),k(q,oe,Se,"","\\Rightarrow",!0),k(q,oe,Se,"","\\Longrightarrow",!0),k(q,oe,Se,"","\\leftrightarrow",!0),k(q,oe,Se,"","\\longleftrightarrow",!0),k(q,oe,Se,"","\\Leftrightarrow",!0),k(q,oe,Se,"","\\Longleftrightarrow",!0),k(q,oe,Se,"","\\mapsto",!0),k(q,oe,Se,"","\\longmapsto",!0),k(q,oe,Se,"","\\nearrow",!0),k(q,oe,Se,"","\\hookleftarrow",!0),k(q,oe,Se,"","\\hookrightarrow",!0),k(q,oe,Se,"","\\searrow",!0),k(q,oe,Se,"","\\leftharpoonup",!0),k(q,oe,Se,"","\\rightharpoonup",!0),k(q,oe,Se,"","\\swarrow",!0),k(q,oe,Se,"","\\leftharpoondown",!0),k(q,oe,Se,"","\\rightharpoondown",!0),k(q,oe,Se,"","\\nwarrow",!0),k(q,oe,Se,"","\\rightleftharpoons",!0),k(q,Ce,Se,"","\\nless",!0),k(q,Ce,Se,"","\\@nleqslant"),k(q,Ce,Se,"","\\@nleqq"),k(q,Ce,Se,"","\\lneq",!0),k(q,Ce,Se,"","\\lneqq",!0),k(q,Ce,Se,"","\\@lvertneqq"),k(q,Ce,Se,"","\\lnsim",!0),k(q,Ce,Se,"","\\lnapprox",!0),k(q,Ce,Se,"","\\nprec",!0),k(q,Ce,Se,"","\\npreceq",!0),k(q,Ce,Se,"","\\precnsim",!0),k(q,Ce,Se,"","\\precnapprox",!0),k(q,Ce,Se,"","\\nsim",!0),k(q,Ce,Se,"","\\@nshortmid"),k(q,Ce,Se,"","\\nmid",!0),k(q,Ce,Se,"","\\nvdash",!0),k(q,Ce,Se,"","\\nvDash",!0),k(q,Ce,Se,"","\\ntriangleleft"),k(q,Ce,Se,"","\\ntrianglelefteq",!0),k(q,Ce,Se,"","\\subsetneq",!0),k(q,Ce,Se,"","\\@varsubsetneq"),k(q,Ce,Se,"","\\subsetneqq",!0),k(q,Ce,Se,"","\\@varsubsetneqq"),k(q,Ce,Se,"","\\ngtr",!0),k(q,Ce,Se,"","\\@ngeqslant"),k(q,Ce,Se,"","\\@ngeqq"),k(q,Ce,Se,"","\\gneq",!0),k(q,Ce,Se,"","\\gneqq",!0),k(q,Ce,Se,"","\\@gvertneqq"),k(q,Ce,Se,"","\\gnsim",!0),k(q,Ce,Se,"","\\gnapprox",!0),k(q,Ce,Se,"","\\nsucc",!0),k(q,Ce,Se,"","\\nsucceq",!0),k(q,Ce,Se,"","\\succnsim",!0),k(q,Ce,Se,"","\\succnapprox",!0),k(q,Ce,Se,"","\\ncong",!0),k(q,Ce,Se,"","\\@nshortparallel"),k(q,Ce,Se,"","\\nparallel",!0),k(q,Ce,Se,"","\\nVDash",!0),k(q,Ce,Se,"","\\ntriangleright"),k(q,Ce,Se,"","\\ntrianglerighteq",!0),k(q,Ce,Se,"","\\@nsupseteqq"),k(q,Ce,Se,"","\\supsetneq",!0),k(q,Ce,Se,"","\\@varsupsetneq"),k(q,Ce,Se,"","\\supsetneqq",!0),k(q,Ce,Se,"","\\@varsupsetneqq"),k(q,Ce,Se,"","\\nVdash",!0),k(q,Ce,Se,"","\\precneqq",!0),k(q,Ce,Se,"","\\succneqq",!0),k(q,Ce,Se,"","\\@nsubseteqq"),k(q,Ce,yt,"","\\unlhd"),k(q,Ce,yt,"","\\unrhd"),k(q,Ce,Se,"","\\nleftarrow",!0),k(q,Ce,Se,"","\\nrightarrow",!0),k(q,Ce,Se,"","\\nLeftarrow",!0),k(q,Ce,Se,"","\\nRightarrow",!0),k(q,Ce,Se,"","\\nleftrightarrow",!0),k(q,Ce,Se,"","\\nLeftrightarrow",!0),k(q,Ce,Se,"","\\vartriangle"),k(q,Ce,Ge,"","\\hslash"),k(q,Ce,Ge,"","\\triangledown"),k(q,Ce,Ge,"","\\lozenge"),k(q,Ce,Ge,"","\\circledS"),k(q,Ce,Ge,"","\\circledR"),k(Le,Ce,Ge,"","\\circledR"),k(q,Ce,Ge,"","\\measuredangle",!0),k(q,Ce,Ge,"","\\nexists"),k(q,Ce,Ge,"","\\mho"),k(q,Ce,Ge,"","\\Finv",!0),k(q,Ce,Ge,"","\\Game",!0),k(q,Ce,Ge,"","\\backprime"),k(q,Ce,Ge,"","\\blacktriangle"),k(q,Ce,Ge,"","\\blacktriangledown"),k(q,Ce,Ge,"","\\blacksquare"),k(q,Ce,Ge,"","\\blacklozenge"),k(q,Ce,Ge,"","\\bigstar"),k(q,Ce,Ge,"","\\sphericalangle",!0),k(q,Ce,Ge,"","\\complement",!0),k(q,Ce,Ge,"","\\eth",!0),k(Le,oe,Ge,"",""),k(q,Ce,Ge,"","\\diagup"),k(q,Ce,Ge,"","\\diagdown"),k(q,Ce,Ge,"","\\square"),k(q,Ce,Ge,"","\\Box"),k(q,Ce,Ge,"","\\Diamond"),k(q,Ce,Ge,"","\\yen",!0),k(Le,Ce,Ge,"","\\yen",!0),k(q,Ce,Ge,"","\\checkmark",!0),k(Le,Ce,Ge,"","\\checkmark"),k(q,Ce,Ge,"","\\beth",!0),k(q,Ce,Ge,"","\\daleth",!0),k(q,Ce,Ge,"","\\gimel",!0),k(q,Ce,Ge,"","\\digamma",!0),k(q,Ce,Ge,"","\\varkappa"),k(q,Ce,ir,"","\\@ulcorner",!0),k(q,Ce,sr,"","\\@urcorner",!0),k(q,Ce,ir,"","\\@llcorner",!0),k(q,Ce,sr,"","\\@lrcorner",!0),k(q,Ce,Se,"","\\leqq",!0),k(q,Ce,Se,"","\\leqslant",!0),k(q,Ce,Se,"","\\eqslantless",!0),k(q,Ce,Se,"","\\lesssim",!0),k(q,Ce,Se,"","\\lessapprox",!0),k(q,Ce,Se,"","\\approxeq",!0),k(q,Ce,yt,"","\\lessdot"),k(q,Ce,Se,"","\\lll",!0),k(q,Ce,Se,"","\\lessgtr",!0),k(q,Ce,Se,"","\\lesseqgtr",!0),k(q,Ce,Se,"","\\lesseqqgtr",!0),k(q,Ce,Se,"","\\doteqdot"),k(q,Ce,Se,"","\\risingdotseq",!0),k(q,Ce,Se,"","\\fallingdotseq",!0),k(q,Ce,Se,"","\\backsim",!0),k(q,Ce,Se,"","\\backsimeq",!0),k(q,Ce,Se,"","\\subseteqq",!0),k(q,Ce,Se,"","\\Subset",!0),k(q,Ce,Se,"","\\sqsubset",!0),k(q,Ce,Se,"","\\preccurlyeq",!0),k(q,Ce,Se,"","\\curlyeqprec",!0),k(q,Ce,Se,"","\\precsim",!0),k(q,Ce,Se,"","\\precapprox",!0),k(q,Ce,Se,"","\\vartriangleleft"),k(q,Ce,Se,"","\\trianglelefteq"),k(q,Ce,Se,"","\\vDash",!0),k(q,Ce,Se,"","\\Vvdash",!0),k(q,Ce,Se,"","\\smallsmile"),k(q,Ce,Se,"","\\smallfrown"),k(q,Ce,Se,"","\\bumpeq",!0),k(q,Ce,Se,"","\\Bumpeq",!0),k(q,Ce,Se,"","\\geqq",!0),k(q,Ce,Se,"","\\geqslant",!0),k(q,Ce,Se,"","\\eqslantgtr",!0),k(q,Ce,Se,"","\\gtrsim",!0),k(q,Ce,Se,"","\\gtrapprox",!0),k(q,Ce,yt,"","\\gtrdot"),k(q,Ce,Se,"","\\ggg",!0),k(q,Ce,Se,"","\\gtrless",!0),k(q,Ce,Se,"","\\gtreqless",!0),k(q,Ce,Se,"","\\gtreqqless",!0),k(q,Ce,Se,"","\\eqcirc",!0),k(q,Ce,Se,"","\\circeq",!0),k(q,Ce,Se,"","\\triangleq",!0),k(q,Ce,Se,"","\\thicksim"),k(q,Ce,Se,"","\\thickapprox"),k(q,Ce,Se,"","\\supseteqq",!0),k(q,Ce,Se,"","\\Supset",!0),k(q,Ce,Se,"","\\sqsupset",!0),k(q,Ce,Se,"","\\succcurlyeq",!0),k(q,Ce,Se,"","\\curlyeqsucc",!0),k(q,Ce,Se,"","\\succsim",!0),k(q,Ce,Se,"","\\succapprox",!0),k(q,Ce,Se,"","\\vartriangleright"),k(q,Ce,Se,"","\\trianglerighteq"),k(q,Ce,Se,"","\\Vdash",!0),k(q,Ce,Se,"","\\shortmid"),k(q,Ce,Se,"","\\shortparallel"),k(q,Ce,Se,"","\\between",!0),k(q,Ce,Se,"","\\pitchfork",!0),k(q,Ce,Se,"","\\varpropto"),k(q,Ce,Se,"","\\blacktriangleleft"),k(q,Ce,Se,"","\\therefore",!0),k(q,Ce,Se,"","\\backepsilon"),k(q,Ce,Se,"","\\blacktriangleright"),k(q,Ce,Se,"","\\because",!0),k(q,Ce,Se,"","\\llless"),k(q,Ce,Se,"","\\gggtr"),k(q,Ce,yt,"","\\lhd"),k(q,Ce,yt,"","\\rhd"),k(q,Ce,Se,"","\\eqsim",!0),k(q,oe,Se,"","\\Join"),k(q,Ce,Se,"","\\Doteq",!0),k(q,Ce,yt,"","\\dotplus",!0),k(q,Ce,yt,"","\\smallsetminus"),k(q,Ce,yt,"","\\Cap",!0),k(q,Ce,yt,"","\\Cup",!0),k(q,Ce,yt,"","\\doublebarwedge",!0),k(q,Ce,yt,"","\\boxminus",!0),k(q,Ce,yt,"","\\boxplus",!0),k(q,Ce,yt,"","\\divideontimes",!0),k(q,Ce,yt,"","\\ltimes",!0),k(q,Ce,yt,"","\\rtimes",!0),k(q,Ce,yt,"","\\leftthreetimes",!0),k(q,Ce,yt,"","\\rightthreetimes",!0),k(q,Ce,yt,"","\\curlywedge",!0),k(q,Ce,yt,"","\\curlyvee",!0),k(q,Ce,yt,"","\\circleddash",!0),k(q,Ce,yt,"","\\circledast",!0),k(q,Ce,yt,"","\\centerdot"),k(q,Ce,yt,"","\\intercal",!0),k(q,Ce,yt,"","\\doublecap"),k(q,Ce,yt,"","\\doublecup"),k(q,Ce,yt,"","\\boxtimes",!0),k(q,Ce,Se,"","\\dashrightarrow",!0),k(q,Ce,Se,"","\\dashleftarrow",!0),k(q,Ce,Se,"","\\leftleftarrows",!0),k(q,Ce,Se,"","\\leftrightarrows",!0),k(q,Ce,Se,"","\\Lleftarrow",!0),k(q,Ce,Se,"","\\twoheadleftarrow",!0),k(q,Ce,Se,"","\\leftarrowtail",!0),k(q,Ce,Se,"","\\looparrowleft",!0),k(q,Ce,Se,"","\\leftrightharpoons",!0),k(q,Ce,Se,"","\\curvearrowleft",!0),k(q,Ce,Se,"","\\circlearrowleft",!0),k(q,Ce,Se,"","\\Lsh",!0),k(q,Ce,Se,"","\\upuparrows",!0),k(q,Ce,Se,"","\\upharpoonleft",!0),k(q,Ce,Se,"","\\downharpoonleft",!0),k(q,oe,Se,"","\\origof",!0),k(q,oe,Se,"","\\imageof",!0),k(q,Ce,Se,"","\\multimap",!0),k(q,Ce,Se,"","\\leftrightsquigarrow",!0),k(q,Ce,Se,"","\\rightrightarrows",!0),k(q,Ce,Se,"","\\rightleftarrows",!0),k(q,Ce,Se,"","\\twoheadrightarrow",!0),k(q,Ce,Se,"","\\rightarrowtail",!0),k(q,Ce,Se,"","\\looparrowright",!0),k(q,Ce,Se,"","\\curvearrowright",!0),k(q,Ce,Se,"","\\circlearrowright",!0),k(q,Ce,Se,"","\\Rsh",!0),k(q,Ce,Se,"","\\downdownarrows",!0),k(q,Ce,Se,"","\\upharpoonright",!0),k(q,Ce,Se,"","\\downharpoonright",!0),k(q,Ce,Se,"","\\rightsquigarrow",!0),k(q,Ce,Se,"","\\leadsto"),k(q,Ce,Se,"","\\Rrightarrow",!0),k(q,Ce,Se,"","\\restriction"),k(q,oe,Ge,"","`"),k(q,oe,Ge,"$","\\$"),k(Le,oe,Ge,"$","\\$"),k(Le,oe,Ge,"$","\\textdollar"),k(q,oe,Ge,"%","\\%"),k(Le,oe,Ge,"%","\\%"),k(q,oe,Ge,"_","\\_"),k(Le,oe,Ge,"_","\\_"),k(Le,oe,Ge,"_","\\textunderscore"),k(q,oe,Ge,"","\\angle",!0),k(q,oe,Ge,"","\\infty",!0),k(q,oe,Ge,"","\\prime"),k(q,oe,Ge,"","\\triangle"),k(q,oe,Ge,"","\\Gamma",!0),k(q,oe,Ge,"","\\Delta",!0),k(q,oe,Ge,"","\\Theta",!0),k(q,oe,Ge,"","\\Lambda",!0),k(q,oe,Ge,"","\\Xi",!0),k(q,oe,Ge,"","\\Pi",!0),k(q,oe,Ge,"","\\Sigma",!0),k(q,oe,Ge,"","\\Upsilon",!0),k(q,oe,Ge,"","\\Phi",!0),k(q,oe,Ge,"","\\Psi",!0),k(q,oe,Ge,"","\\Omega",!0),k(q,oe,Ge,"A",""),k(q,oe,Ge,"B",""),k(q,oe,Ge,"E",""),k(q,oe,Ge,"Z",""),k(q,oe,Ge,"H",""),k(q,oe,Ge,"I",""),k(q,oe,Ge,"K",""),k(q,oe,Ge,"M",""),k(q,oe,Ge,"N",""),k(q,oe,Ge,"O",""),k(q,oe,Ge,"P",""),k(q,oe,Ge,"T",""),k(q,oe,Ge,"X",""),k(q,oe,Ge,"","\\neg",!0),k(q,oe,Ge,"","\\lnot"),k(q,oe,Ge,"","\\top"),k(q,oe,Ge,"","\\bot"),k(q,oe,Ge,"","\\emptyset"),k(q,Ce,Ge,"","\\varnothing"),k(q,oe,Ct,"","\\alpha",!0),k(q,oe,Ct,"","\\beta",!0),k(q,oe,Ct,"","\\gamma",!0),k(q,oe,Ct,"","\\delta",!0),k(q,oe,Ct,"","\\epsilon",!0),k(q,oe,Ct,"","\\zeta",!0),k(q,oe,Ct,"","\\eta",!0),k(q,oe,Ct,"","\\theta",!0),k(q,oe,Ct,"","\\iota",!0),k(q,oe,Ct,"","\\kappa",!0),k(q,oe,Ct,"","\\lambda",!0),k(q,oe,Ct,"","\\mu",!0),k(q,oe,Ct,"","\\nu",!0),k(q,oe,Ct,"","\\xi",!0),k(q,oe,Ct,"","\\omicron",!0),k(q,oe,Ct,"","\\pi",!0),k(q,oe,Ct,"","\\rho",!0),k(q,oe,Ct,"","\\sigma",!0),k(q,oe,Ct,"","\\tau",!0),k(q,oe,Ct,"","\\upsilon",!0),k(q,oe,Ct,"","\\phi",!0),k(q,oe,Ct,"","\\chi",!0),k(q,oe,Ct,"","\\psi",!0),k(q,oe,Ct,"","\\omega",!0),k(q,oe,Ct,"","\\varepsilon",!0),k(q,oe,Ct,"","\\vartheta",!0),k(q,oe,Ct,"","\\varpi",!0),k(q,oe,Ct,"","\\varrho",!0),k(q,oe,Ct,"","\\varsigma",!0),k(q,oe,Ct,"","\\varphi",!0),k(q,oe,yt,"","*"),k(q,oe,yt,"+","+"),k(q,oe,yt,"","-"),k(q,oe,yt,"","\\cdot",!0),k(q,oe,yt,"","\\circ"),k(q,oe,yt,"","\\div",!0),k(q,oe,yt,"","\\pm",!0),k(q,oe,yt,"","\\times",!0),k(q,oe,yt,"","\\cap",!0),k(q,oe,yt,"","\\cup",!0),k(q,oe,yt,"","\\setminus"),k(q,oe,yt,"","\\land"),k(q,oe,yt,"","\\lor"),k(q,oe,yt,"","\\wedge",!0),k(q,oe,yt,"","\\vee",!0),k(q,oe,Ge,"","\\surd"),k(q,oe,ir,"","\\langle",!0),k(q,oe,ir,"","\\lvert"),k(q,oe,ir,"","\\lVert"),k(q,oe,sr,"?","?"),k(q,oe,sr,"!","!"),k(q,oe,sr,"","\\rangle",!0),k(q,oe,sr,"","\\rvert"),k(q,oe,sr,"","\\rVert"),k(q,oe,Se,"=","="),k(q,oe,Se,":",":"),k(q,oe,Se,"","\\approx",!0),k(q,oe,Se,"","\\cong",!0),k(q,oe,Se,"","\\ge"),k(q,oe,Se,"","\\geq",!0),k(q,oe,Se,"","\\gets"),k(q,oe,Se,">","\\gt",!0),k(q,oe,Se,"","\\in",!0),k(q,oe,Se,"","\\@not"),k(q,oe,Se,"","\\subset",!0),k(q,oe,Se,"","\\supset",!0),k(q,oe,Se,"","\\subseteq",!0),k(q,oe,Se,"","\\supseteq",!0),k(q,Ce,Se,"","\\nsubseteq",!0),k(q,Ce,Se,"","\\nsupseteq",!0),k(q,oe,Se,"","\\models"),k(q,oe,Se,"","\\leftarrow",!0),k(q,oe,Se,"","\\le"),k(q,oe,Se,"","\\leq",!0),k(q,oe,Se,"<","\\lt",!0),k(q,oe,Se,"","\\rightarrow",!0),k(q,oe,Se,"","\\to"),k(q,Ce,Se,"","\\ngeq",!0),k(q,Ce,Se,"","\\nleq",!0),k(q,oe,Ht,"","\\ "),k(q,oe,Ht,"","~"),k(q,oe,Ht,"","\\space"),k(q,oe,Ht,"","\\nobreakspace"),k(Le,oe,Ht,"","\\ "),k(Le,oe,Ht,""," "),k(Le,oe,Ht,"","~"),k(Le,oe,Ht,"","\\space"),k(Le,oe,Ht,"","\\nobreakspace"),k(q,oe,Ht,null,"\\nobreak"),k(q,oe,Ht,null,"\\allowbreak"),k(q,oe,Ur,",",","),k(q,oe,Ur,";",";"),k(q,Ce,yt,"","\\barwedge",!0),k(q,Ce,yt,"","\\veebar",!0),k(q,oe,yt,"","\\odot",!0),k(q,oe,yt,"","\\oplus",!0),k(q,oe,yt,"","\\otimes",!0),k(q,oe,Ge,"","\\partial",!0),k(q,oe,yt,"","\\oslash",!0),k(q,Ce,yt,"","\\circledcirc",!0),k(q,Ce,yt,"","\\boxdot",!0),k(q,oe,yt,"","\\bigtriangleup"),k(q,oe,yt,"","\\bigtriangledown"),k(q,oe,yt,"","\\dagger"),k(q,oe,yt,"","\\diamond"),k(q,oe,yt,"","\\star"),k(q,oe,yt,"","\\triangleleft"),k(q,oe,yt,"","\\triangleright"),k(q,oe,ir,"{","\\{"),k(Le,oe,Ge,"{","\\{"),k(Le,oe,Ge,"{","\\textbraceleft"),k(q,oe,sr,"}","\\}"),k(Le,oe,Ge,"}","\\}"),k(Le,oe,Ge,"}","\\textbraceright"),k(q,oe,ir,"{","\\lbrace"),k(q,oe,sr,"}","\\rbrace"),k(q,oe,ir,"[","\\lbrack",!0),k(Le,oe,Ge,"[","\\lbrack",!0),k(q,oe,sr,"]","\\rbrack",!0),k(Le,oe,Ge,"]","\\rbrack",!0),k(q,oe,ir,"(","\\lparen",!0),k(q,oe,sr,")","\\rparen",!0),k(Le,oe,Ge,"<","\\textless",!0),k(Le,oe,Ge,">","\\textgreater",!0),k(q,oe,ir,"","\\lfloor",!0),k(q,oe,sr,"","\\rfloor",!0),k(q,oe,ir,"","\\lceil",!0),k(q,oe,sr,"","\\rceil",!0),k(q,oe,Ge,"\\","\\backslash"),k(q,oe,Ge,"","|"),k(q,oe,Ge,"","\\vert"),k(Le,oe,Ge,"|","\\textbar",!0),k(q,oe,Ge,"","\\|"),k(q,oe,Ge,"","\\Vert"),k(Le,oe,Ge,"","\\textbardbl"),k(Le,oe,Ge,"~","\\textasciitilde"),k(Le,oe,Ge,"\\","\\textbackslash"),k(Le,oe,Ge,"^","\\textasciicircum"),k(q,oe,Se,"","\\uparrow",!0),k(q,oe,Se,"","\\Uparrow",!0),k(q,oe,Se,"","\\downarrow",!0),k(q,oe,Se,"","\\Downarrow",!0),k(q,oe,Se,"","\\updownarrow",!0),k(q,oe,Se,"","\\Updownarrow",!0),k(q,oe,Jt,"","\\coprod"),k(q,oe,Jt,"","\\bigvee"),k(q,oe,Jt,"","\\bigwedge"),k(q,oe,Jt,"","\\biguplus"),k(q,oe,Jt,"","\\bigcap"),k(q,oe,Jt,"","\\bigcup"),k(q,oe,Jt,"","\\int"),k(q,oe,Jt,"","\\intop"),k(q,oe,Jt,"","\\iint"),k(q,oe,Jt,"","\\iiint"),k(q,oe,Jt,"","\\prod"),k(q,oe,Jt,"","\\sum"),k(q,oe,Jt,"","\\bigotimes"),k(q,oe,Jt,"","\\bigoplus"),k(q,oe,Jt,"","\\bigodot"),k(q,oe,Jt,"","\\oint"),k(q,oe,Jt,"","\\oiint"),k(q,oe,Jt,"","\\oiiint"),k(q,oe,Jt,"","\\bigsqcup"),k(q,oe,Jt,"","\\smallint"),k(Le,oe,Kt,"","\\textellipsis"),k(q,oe,Kt,"","\\mathellipsis"),k(Le,oe,Kt,"","\\ldots",!0),k(q,oe,Kt,"","\\ldots",!0),k(q,oe,Kt,"","\\@cdots",!0),k(q,oe,Kt,"","\\ddots",!0),k(q,oe,Ge,"","\\varvdots"),k(q,oe,Lt,"","\\acute"),k(q,oe,Lt,"","\\grave"),k(q,oe,Lt,"","\\ddot"),k(q,oe,Lt,"~","\\tilde"),k(q,oe,Lt,"","\\bar"),k(q,oe,Lt,"","\\breve"),k(q,oe,Lt,"","\\check"),k(q,oe,Lt,"^","\\hat"),k(q,oe,Lt,"","\\vec"),k(q,oe,Lt,"","\\dot"),k(q,oe,Lt,"","\\mathring"),k(q,oe,Ct,"","\\@imath"),k(q,oe,Ct,"","\\@jmath"),k(q,oe,Ge,"",""),k(q,oe,Ge,"",""),k(Le,oe,Ge,"","\\i",!0),k(Le,oe,Ge,"","\\j",!0),k(Le,oe,Ge,"","\\ss",!0),k(Le,oe,Ge,"","\\ae",!0),k(Le,oe,Ge,"","\\oe",!0),k(Le,oe,Ge,"","\\o",!0),k(Le,oe,Ge,"","\\AE",!0),k(Le,oe,Ge,"","\\OE",!0),k(Le,oe,Ge,"","\\O",!0),k(Le,oe,Lt,"","\\'"),k(Le,oe,Lt,"","\\`"),k(Le,oe,Lt,"","\\^"),k(Le,oe,Lt,"","\\~"),k(Le,oe,Lt,"","\\="),k(Le,oe,Lt,"","\\u"),k(Le,oe,Lt,"","\\."),k(Le,oe,Lt,"","\\r"),k(Le,oe,Lt,"","\\v"),k(Le,oe,Lt,"",'\\"'),k(Le,oe,Lt,"","\\H"),k(Le,oe,Lt,"","\\textcircled");var ui={"--":!0,"---":!0,"``":!0,"''":!0};k(Le,oe,Ge,"","--",!0),k(Le,oe,Ge,"","\\textendash"),k(Le,oe,Ge,"","---",!0),k(Le,oe,Ge,"","\\textemdash"),k(Le,oe,Ge,"","`",!0),k(Le,oe,Ge,"","\\textquoteleft"),k(Le,oe,Ge,"","'",!0),k(Le,oe,Ge,"","\\textquoteright"),k(Le,oe,Ge,"","``",!0),k(Le,oe,Ge,"","\\textquotedblleft"),k(Le,oe,Ge,"","''",!0),k(Le,oe,Ge,"","\\textquotedblright"),k(q,oe,Ge,"","\\degree",!0),k(Le,oe,Ge,"","\\degree"),k(Le,oe,Ge,"","\\textdegree",!0),k(q,oe,Ge,"","\\pounds"),k(q,oe,Ge,"","\\mathsterling",!0),k(Le,oe,Ge,"","\\pounds"),k(Le,oe,Ge,"","\\textsterling",!0),k(q,Ce,Ge,"","\\maltese"),k(Le,Ce,Ge,"","\\maltese");for(var Oi='0123456789/@."',ei=0;ei<Oi.length;ei++){var ps=Oi.charAt(ei);k(q,oe,Ge,ps,ps)}for(var gi='0123456789!@*()-=+";:?/.,',cn=0;cn<gi.length;cn++){var Rn=gi.charAt(cn);k(Le,oe,Ge,Rn,Rn)}for(var fn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",hn=0;hn<fn.length;hn++){var Qi=fn.charAt(hn);k(q,oe,Ct,Qi,Qi),k(Le,oe,Ge,Qi,Qi)}k(q,Ce,Ge,"C",""),k(Le,Ce,Ge,"C",""),k(q,Ce,Ge,"H",""),k(Le,Ce,Ge,"H",""),k(q,Ce,Ge,"N",""),k(Le,Ce,Ge,"N",""),k(q,Ce,Ge,"P",""),k(Le,Ce,Ge,"P",""),k(q,Ce,Ge,"Q",""),k(Le,Ce,Ge,"Q",""),k(q,Ce,Ge,"R",""),k(Le,Ce,Ge,"R",""),k(q,Ce,Ge,"Z",""),k(Le,Ce,Ge,"Z",""),k(q,oe,Ct,"h",""),k(Le,oe,Ct,"h","");for(var Xt="",mr=0;mr<fn.length;mr++){var nr=fn.charAt(mr);Xt=String.fromCharCode(55349,56320+mr),k(q,oe,Ct,nr,Xt),k(Le,oe,Ge,nr,Xt),Xt=String.fromCharCode(55349,56372+mr),k(q,oe,Ct,nr,Xt),k(Le,oe,Ge,nr,Xt),Xt=String.fromCharCode(55349,56424+mr),k(q,oe,Ct,nr,Xt),k(Le,oe,Ge,nr,Xt),Xt=String.fromCharCode(55349,56580+mr),k(q,oe,Ct,nr,Xt),k(Le,oe,Ge,nr,Xt),Xt=String.fromCharCode(55349,56736+mr),k(q,oe,Ct,nr,Xt),k(Le,oe,Ge,nr,Xt),Xt=String.fromCharCode(55349,56788+mr),k(q,oe,Ct,nr,Xt),k(Le,oe,Ge,nr,Xt),Xt=String.fromCharCode(55349,56840+mr),k(q,oe,Ct,nr,Xt),k(Le,oe,Ge,nr,Xt),Xt=String.fromCharCode(55349,56944+mr),k(q,oe,Ct,nr,Xt),k(Le,oe,Ge,nr,Xt),mr<26&&(Xt=String.fromCharCode(55349,56632+mr),k(q,oe,Ct,nr,Xt),k(Le,oe,Ge,nr,Xt),Xt=String.fromCharCode(55349,56476+mr),k(q,oe,Ct,nr,Xt),k(Le,oe,Ge,nr,Xt))}Xt="",k(q,oe,Ct,"k",Xt),k(Le,oe,Ge,"k",Xt);for(var Yr=0;Yr<10;Yr++){var Et=Yr.toString();Xt=String.fromCharCode(55349,57294+Yr),k(q,oe,Ct,Et,Xt),k(Le,oe,Ge,Et,Xt),Xt=String.fromCharCode(55349,57314+Yr),k(q,oe,Ct,Et,Xt),k(Le,oe,Ge,Et,Xt),Xt=String.fromCharCode(55349,57324+Yr),k(q,oe,Ct,Et,Xt),k(Le,oe,Ge,Et,Xt),Xt=String.fromCharCode(55349,57334+Yr),k(q,oe,Ct,Et,Xt),k(Le,oe,Ge,Et,Xt)}for(var hr="",Ki=0;Ki<hr.length;Ki++){var yi=hr.charAt(Ki);k(q,oe,Ct,yi,yi),k(Le,oe,Ge,yi,yi)}var jr=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["","",""],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],ms=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],Ha=function(C,E){var D=C.charCodeAt(0),G=C.charCodeAt(1),I=(D-55296)*1024+(G-56320)+65536,W=E==="math"?0:1;if(119808<=I&&I<120484){var ne=Math.floor((I-119808)/26);return[jr[ne][2],jr[ne][W]]}else if(120782<=I&&I<=120831){var fe=Math.floor((I-120782)/10);return[ms[fe][2],ms[fe][W]]}else{if(I===120485||I===120486)return[jr[0][2],jr[0][W]];if(120486<I&&I<120782)return["",""];throw new o("Unsupported character: "+C)}},vs=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],ci=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],Va=function(C,E){return E.size<2?C:vs[C-1][E.size-1]},ti=(function(){function V(E){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=E.style,this.color=E.color,this.size=E.size||V.BASESIZE,this.textSize=E.textSize||this.size,this.phantom=!!E.phantom,this.font=E.font||"",this.fontFamily=E.fontFamily||"",this.fontWeight=E.fontWeight||"",this.fontShape=E.fontShape||"",this.sizeMultiplier=ci[this.size-1],this.maxSize=E.maxSize,this.minRuleThickness=E.minRuleThickness,this._fontMetrics=void 0}var C=V.prototype;return C.extend=function(D){var G={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var I in D)D.hasOwnProperty(I)&&(G[I]=D[I]);return new V(G)},C.havingStyle=function(D){return this.style===D?this:this.extend({style:D,size:Va(this.textSize,D)})},C.havingCrampedStyle=function(){return this.havingStyle(this.style.cramp())},C.havingSize=function(D){return this.size===D&&this.textSize===D?this:this.extend({style:this.style.text(),size:D,textSize:D,sizeMultiplier:ci[D-1]})},C.havingBaseStyle=function(D){D=D||this.style.text();var G=Va(V.BASESIZE,D);return this.size===G&&this.textSize===V.BASESIZE&&this.style===D?this:this.extend({style:D,size:G})},C.havingBaseSizing=function(){var D;switch(this.style.id){case 4:case 5:D=3;break;case 6:case 7:D=1;break;default:D=6}return this.extend({style:this.style.text(),size:D})},C.withColor=function(D){return this.extend({color:D})},C.withPhantom=function(){return this.extend({phantom:!0})},C.withFont=function(D){return this.extend({font:D})},C.withTextFontFamily=function(D){return this.extend({fontFamily:D,font:""})},C.withTextFontWeight=function(D){return this.extend({fontWeight:D,font:""})},C.withTextFontShape=function(D){return this.extend({fontShape:D,font:""})},C.sizingClasses=function(D){return D.size!==this.size?["sizing","reset-size"+D.size,"size"+this.size]:[]},C.baseSizingClasses=function(){return this.size!==V.BASESIZE?["sizing","reset-size"+this.size,"size"+V.BASESIZE]:[]},C.fontMetrics=function(){return this._fontMetrics||(this._fontMetrics=He(this.size)),this._fontMetrics},C.getColor=function(){return this.phantom?"transparent":this.color},V})();ti.BASESIZE=6;var fl=ti,Ws={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},hl={ex:!0,em:!0,mu:!0},In=function(C){return typeof C!="string"&&(C=C.unit),C in Ws||C in hl||C==="ex"},Vt=function(C,E){var D;if(C.unit in Ws)D=Ws[C.unit]/E.fontMetrics().ptPerEm/E.sizeMultiplier;else if(C.unit==="mu")D=E.fontMetrics().cssEmPerMu;else{var G;if(E.style.isTight()?G=E.havingStyle(E.style.text()):G=E,C.unit==="ex")D=G.fontMetrics().xHeight;else if(C.unit==="em")D=G.fontMetrics().quad;else throw new o("Invalid unit: '"+C.unit+"'");G!==E&&(D*=G.sizeMultiplier/E.sizeMultiplier)}return Math.min(C.number*D,E.maxSize)},Ji=function(C,E,D){return Ie[D][C]&&Ie[D][C].replace&&(C=Ie[D][C].replace),{value:C,metrics:vt(C,E,D)}},Br=function(C,E,D,G,I){var W=Ji(C,E,D),ne=W.metrics;C=W.value;var fe;if(ne){var ge=ne.italic;(D==="text"||G&&G.font==="mathit")&&(ge=0),fe=new ve(C,ne.height,ne.depth,ge,ne.skew,ne.width,I)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+C+"' in style '"+E+"' and mode '"+D+"'")),fe=new ve(C,0,0,0,0,0,I);if(G){fe.maxFontSize=G.sizeMultiplier,G.style.isTight()&&fe.classes.push("mtight");var Ee=G.getColor();Ee&&(fe.style.color=Ee)}return fe},dl=function(C,E,D,G){return G===void 0&&(G=[]),D.font==="boldsymbol"&&Ji(C,"Main-Bold",E).metrics?Br(C,"Main-Bold",E,D,G.concat(["mathbf"])):C==="\\"||Ie[E][C].font==="main"?Br(C,"Main-Regular",E,D,G):Br(C,"AMS-Regular",E,D,G.concat(["amsrm"]))},pl=function(C,E,D,G,I){return I!=="textord"&&Ji(C,"Math-BoldItalic",E).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},Zs=function(C,E,D){var G=C.mode,I=C.text,W=["mord"],ne=G==="math"||G==="text"&&E.font,fe=ne?E.font:E.fontFamily;if(I.charCodeAt(0)===55349){var ge=Ha(I,G),Ee=ge[0],ke=ge[1];return Br(I,Ee,G,E,W.concat(ke))}else if(fe){var Qe,st;if(fe==="boldsymbol"){var lt=pl(I,G,E,W,D);Qe=lt.fontName,st=[lt.fontClass]}else ne?(Qe=Fn[fe].fontName,st=[fe]):(Qe=dn(fe,E.fontWeight,E.fontShape),st=[fe,E.fontWeight,E.fontShape]);if(Ji(I,Qe,G).metrics)return Br(I,Qe,G,E,W.concat(st));if(ui.hasOwnProperty(I)&&Qe.substr(0,10)==="Typewriter"){for(var gt=[],mt=0;mt<I.length;mt++)gt.push(Br(I[mt],Qe,G,E,W.concat(st)));return Ks(gt)}}if(D==="mathord")return Br(I,"Math-Italic",G,E,W.concat(["mathnormal"]));if(D==="textord"){var wt=Ie[G][I]&&Ie[G][I].font;if(wt==="ams"){var At=dn("amsrm",E.fontWeight,E.fontShape);return Br(I,At,G,E,W.concat("amsrm",E.fontWeight,E.fontShape))}else if(wt==="main"||!wt){var Mt=dn("textrm",E.fontWeight,E.fontShape);return Br(I,Mt,G,E,W.concat(E.fontWeight,E.fontShape))}else{var kt=dn(wt,E.fontWeight,E.fontShape);return Br(I,kt,G,E,W.concat(kt,E.fontWeight,E.fontShape))}}else throw new Error("unexpected type: "+D+" in makeOrd")},Wa=function(C,E){if(be(C.classes)!==be(E.classes)||C.skew!==E.skew||C.maxFontSize!==E.maxFontSize)return!1;if(C.classes.length===1){var D=C.classes[0];if(D==="mbin"||D==="mord")return!1}for(var G in C.style)if(C.style.hasOwnProperty(G)&&C.style[G]!==E.style[G])return!1;for(var I in E.style)if(E.style.hasOwnProperty(I)&&C.style[I]!==E.style[I])return!1;return!0},Qs=function(C){for(var E=0;E<C.length-1;E++){var D=C[E],G=C[E+1];D instanceof ve&&G instanceof ve&&Wa(D,G)&&(D.text+=G.text,D.height=Math.max(D.height,G.height),D.depth=Math.max(D.depth,G.depth),D.italic=G.italic,C.splice(E+1,1),E--)}return C},en=function(C){for(var E=0,D=0,G=0,I=0;I<C.children.length;I++){var W=C.children[I];W.height>E&&(E=W.height),W.depth>D&&(D=W.depth),W.maxFontSize>G&&(G=W.maxFontSize)}C.height=E,C.depth=D,C.maxFontSize=G},kr=function(C,E,D,G){var I=new Te(C,E,D,G);return en(I),I},gs=function(C,E,D,G){return new Te(C,E,D,G)},qt=function(C,E,D){var G=kr([C],[],E);return G.height=Math.max(D||E.fontMetrics().defaultRuleThickness,E.minRuleThickness),G.style.borderBottomWidth=G.height+"em",G.maxFontSize=1,G},Za=function(C,E,D,G){var I=new et(C,E,D,G);return en(I),I},Ks=function(C){var E=new me(C);return en(E),E},ea=function(C,E){return C instanceof me?kr([],[C],E):C},Qa=function(C){if(C.positionType==="individualShift"){for(var E=C.children,D=[E[0]],G=-E[0].shift-E[0].elem.depth,I=G,W=1;W<E.length;W++){var ne=-E[W].shift-I-E[W].elem.depth,fe=ne-(E[W-1].elem.height+E[W-1].elem.depth);I=I+ne,D.push({type:"kern",size:fe}),D.push(E[W])}return{children:D,depth:G}}var ge;if(C.positionType==="top"){for(var Ee=C.positionData,ke=0;ke<C.children.length;ke++){var Qe=C.children[ke];Ee-=Qe.type==="kern"?Qe.size:Qe.elem.height+Qe.elem.depth}ge=Ee}else if(C.positionType==="bottom")ge=-C.positionData;else{var st=C.children[0];if(st.type!=="elem")throw new Error('First child must have type "elem".');if(C.positionType==="shift")ge=-st.elem.depth-C.positionData;else if(C.positionType==="firstBaseline")ge=-st.elem.depth;else throw new Error("Invalid positionType "+C.positionType+".")}return{children:C.children,depth:ge}},Ka=function(C,E){for(var D=Qa(C),G=D.children,I=D.depth,W=0,ne=0;ne<G.length;ne++){var fe=G[ne];if(fe.type==="elem"){var ge=fe.elem;W=Math.max(W,ge.maxFontSize,ge.height)}}W+=2;var Ee=kr(["pstrut"],[]);Ee.style.height=W+"em";for(var ke=[],Qe=I,st=I,lt=I,gt=0;gt<G.length;gt++){var mt=G[gt];if(mt.type==="kern")lt+=mt.size;else{var wt=mt.elem,At=mt.wrapperClasses||[],Mt=mt.wrapperStyle||{},kt=kr(At,[Ee,wt],void 0,Mt);kt.style.top=-W-lt-wt.depth+"em",mt.marginLeft&&(kt.style.marginLeft=mt.marginLeft),mt.marginRight&&(kt.style.marginRight=mt.marginRight),ke.push(kt),lt+=wt.height+wt.depth}Qe=Math.min(Qe,lt),st=Math.max(st,lt)}var Ut=kr(["vlist"],ke);Ut.style.height=st+"em";var tr;if(Qe<0){var Ot=kr([],[]),Rt=kr(["vlist"],[Ot]);Rt.style.height=-Qe+"em";var rr=kr(["vlist-s"],[new ve("")]);tr=[kr(["vlist-r"],[Ut,rr]),kr(["vlist-r"],[Rt])]}else tr=[kr(["vlist-r"],[Ut])];var It=kr(["vlist-t"],tr);return tr.length===2&&It.classes.push("vlist-t2"),It.height=st,It.depth=-Qe,It},eo=function(C,E){var D=kr(["mspace"],[],E),G=Vt(C,E);return D.style.marginRight=G+"em",D},dn=function(C,E,D){var G="";switch(C){case"amsrm":G="AMS";break;case"textrm":G="Main";break;case"textsf":G="SansSerif";break;case"texttt":G="Typewriter";break;default:G=C}var I;return E==="textbf"&&D==="textit"?I="BoldItalic":E==="textbf"?I="Bold":E==="textit"?I="Italic":I="Regular",G+"-"+I},Fn={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},Ei={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},Bi=function(C,E){var D=Ei[C],G=D[0],I=D[1],W=D[2],ne=new _e(G),fe=new De([ne],{width:I+"em",height:W+"em",style:"width:"+I+"em",viewBox:"0 0 "+1e3*I+" "+1e3*W,preserveAspectRatio:"xMinYMin"}),ge=gs(["overlay"],[fe],E);return ge.height=W,ge.style.height=W+"em",ge.style.width=I+"em",ge},Ue={fontMap:Fn,makeSymbol:Br,mathsym:dl,makeSpan:kr,makeSvgSpan:gs,makeLineSpan:qt,makeAnchor:Za,makeFragment:Ks,wrapFragment:ea,makeVList:Ka,makeOrd:Zs,makeGlue:eo,staticSvg:Bi,svgData:Ei,tryCombineChars:Qs},jt={number:3,unit:"mu"},fi={number:4,unit:"mu"},wr={number:5,unit:"mu"},ml={mord:{mop:jt,mbin:fi,mrel:wr,minner:jt},mop:{mord:jt,mop:jt,mrel:wr,minner:jt},mbin:{mord:fi,mop:fi,mopen:fi,minner:fi},mrel:{mord:wr,mop:wr,mopen:wr,minner:wr},mopen:{},mclose:{mop:jt,mbin:fi,mrel:wr,minner:jt},mpunct:{mord:jt,mop:jt,mrel:wr,mopen:jt,mclose:jt,mpunct:jt,minner:jt},minner:{mord:jt,mop:jt,mbin:fi,mrel:wr,mopen:jt,mpunct:jt,minner:jt}},ro={mord:{mop:jt},mop:{mord:jt,mop:jt},mbin:{},mrel:{},mopen:{},mclose:{mop:jt},mpunct:{},minner:{mop:jt}},pn={},ys={},Ln={};function bt(V){for(var C=V.type,E=V.names,D=V.props,G=V.handler,I=V.htmlBuilder,W=V.mathmlBuilder,ne={type:C,numArgs:D.numArgs,argTypes:D.argTypes,allowedInArgument:!!D.allowedInArgument,allowedInText:!!D.allowedInText,allowedInMath:D.allowedInMath===void 0?!0:D.allowedInMath,numOptionalArgs:D.numOptionalArgs||0,infix:!!D.infix,primitive:!!D.primitive,handler:G},fe=0;fe<E.length;++fe)pn[E[fe]]=ne;C&&(I&&(ys[C]=I),W&&(Ln[C]=W))}function ki(V){var C=V.type,E=V.htmlBuilder,D=V.mathmlBuilder;bt({type:C,names:[],props:{numArgs:0},handler:function(){throw new Error("Should never be called.")},htmlBuilder:E,mathmlBuilder:D})}var bs=function(C){return C.type==="ordgroup"&&C.body.length===1?C.body[0]:C},er=function(C){return C.type==="ordgroup"?C.body:[C]},Hr=Ue.makeSpan,mn=["leftmost","mbin","mopen","mrel","mop","mpunct"],xs=["rightmost","mrel","mclose","mpunct"],vl={display:Y.DISPLAY,text:Y.TEXT,script:Y.SCRIPT,scriptscript:Y.SCRIPTSCRIPT},gl={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},cr=function(C,E,D,G){G===void 0&&(G=[null,null]);for(var I=[],W=0;W<C.length;W++){var ne=Bt(C[W],E);if(ne instanceof me){var fe=ne.children;I.push.apply(I,fe)}else I.push(ne)}if(Ue.tryCombineChars(I),!D)return I;var ge=E;if(C.length===1){var Ee=C[0];Ee.type==="sizing"?ge=E.havingSize(Ee.size):Ee.type==="styling"&&(ge=E.havingStyle(vl[Ee.style]))}var ke=Hr([G[0]||"leftmost"],[],E),Qe=Hr([G[1]||"rightmost"],[],E),st=D==="root";return zn(I,function(lt,gt){var mt=gt.classes[0],wt=lt.classes[0];mt==="mbin"&&x.contains(xs,wt)?gt.classes[0]="mord":wt==="mbin"&&x.contains(mn,mt)&&(lt.classes[0]="mord")},{node:ke},Qe,st),zn(I,function(lt,gt){var mt=bi(gt),wt=bi(lt),At=mt&&wt?lt.hasClass("mtight")?ro[mt][wt]:ml[mt][wt]:null;if(At)return Ue.makeGlue(At,ge)},{node:ke},Qe,st),I},zn=function V(C,E,D,G,I){G&&C.push(G);for(var W=0;W<C.length;W++){var ne=C[W],fe=Cs(ne);if(fe){V(fe.children,E,D,null,I);continue}var ge=!ne.hasClass("mspace");if(ge){var Ee=E(ne,D.node);Ee&&(D.insertAfter?D.insertAfter(Ee):(C.unshift(Ee),W++))}ge?D.node=ne:I&&ne.hasClass("newline")&&(D.node=Hr(["leftmost"])),D.insertAfter=(function(ke){return function(Qe){C.splice(ke+1,0,Qe),W++}})(W)}G&&C.pop()},Cs=function(C){return C instanceof me||C instanceof et||C instanceof Te&&C.hasClass("enclosing")?C:null},io=function V(C,E){var D=Cs(C);if(D){var G=D.children;if(G.length){if(E==="right")return V(G[G.length-1],"right");if(E==="left")return V(G[0],"left")}}return C},bi=function(C,E){return C?(E&&(C=io(C,E)),gl[C.classes[0]]||null):null},tn=function(C,E){var D=["nulldelimiter"].concat(C.baseSizingClasses());return Hr(E.concat(D))},Bt=function(C,E,D){if(!C)return Hr();if(ys[C.type]){var G=ys[C.type](C,E);if(D&&E.size!==D.size){G=Hr(E.sizingClasses(D),[G],E);var I=E.sizeMultiplier/D.sizeMultiplier;G.height*=I,G.depth*=I}return G}else throw new o("Got group of unknown type: '"+C.type+"'")};function Un(V,C){var E=Hr(["base"],V,C),D=Hr(["strut"]);return D.style.height=E.height+E.depth+"em",D.style.verticalAlign=-E.depth+"em",E.children.unshift(D),E}function vn(V,C){var E=null;V.length===1&&V[0].type==="tag"&&(E=V[0].tag,V=V[0].body);var D=cr(V,C,"root"),G;D.length===2&&D[1].hasClass("tag")&&(G=D.pop());for(var I=[],W=[],ne=0;ne<D.length;ne++)if(W.push(D[ne]),D[ne].hasClass("mbin")||D[ne].hasClass("mrel")||D[ne].hasClass("allowbreak")){for(var fe=!1;ne<D.length-1&&D[ne+1].hasClass("mspace")&&!D[ne+1].hasClass("newline");)ne++,W.push(D[ne]),D[ne].hasClass("nobreak")&&(fe=!0);fe||(I.push(Un(W,C)),W=[])}else D[ne].hasClass("newline")&&(W.pop(),W.length>0&&(I.push(Un(W,C)),W=[]),I.push(D[ne]));W.length>0&&I.push(Un(W,C));var ge;E?(ge=Un(cr(E,C,!0)),ge.classes=["tag"],I.push(ge)):G&&I.push(G);var Ee=Hr(["katex-html"],I);if(Ee.setAttribute("aria-hidden","true"),ge){var ke=ge.children[0];ke.style.height=Ee.height+Ee.depth+"em",ke.style.verticalAlign=-Ee.depth+"em"}return Ee}function Yn(V){return new me(V)}var Vr=(function(){function V(E,D,G){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=E,this.attributes={},this.children=D||[],this.classes=G||[]}var C=V.prototype;return C.setAttribute=function(D,G){this.attributes[D]=G},C.getAttribute=function(D){return this.attributes[D]},C.toNode=function(){var D=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var G in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,G)&&D.setAttribute(G,this.attributes[G]);this.classes.length>0&&(D.className=be(this.classes));for(var I=0;I<this.children.length;I++)D.appendChild(this.children[I].toNode());return D},C.toMarkup=function(){var D="<"+this.type;for(var G in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,G)&&(D+=" "+G+'="',D+=x.escape(this.attributes[G]),D+='"');this.classes.length>0&&(D+=' class ="'+x.escape(be(this.classes))+'"'),D+=">";for(var I=0;I<this.children.length;I++)D+=this.children[I].toMarkup();return D+="</"+this.type+">",D},C.toText=function(){return this.children.map(function(D){return D.toText()}).join("")},V})(),vr=(function(){function V(E){this.text=void 0,this.text=E}var C=V.prototype;return C.toNode=function(){return document.createTextNode(this.text)},C.toMarkup=function(){return x.escape(this.toText())},C.toText=function(){return this.text},V})(),gn=(function(){function V(E){this.width=void 0,this.character=void 0,this.width=E,E>=.05555&&E<=.05556?this.character="":E>=.1666&&E<=.1667?this.character="":E>=.2222&&E<=.2223?this.character="":E>=.2777&&E<=.2778?this.character="":E>=-.05556&&E<=-.05555?this.character="":E>=-.1667&&E<=-.1666?this.character="":E>=-.2223&&E<=-.2222?this.character="":E>=-.2778&&E<=-.2777?this.character="":this.character=null}var C=V.prototype;return C.toNode=function(){if(this.character)return document.createTextNode(this.character);var D=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return D.setAttribute("width",this.width+"em"),D},C.toMarkup=function(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+this.width+'em"/>'},C.toText=function(){return this.character?this.character:" "},V})(),ct={MathNode:Vr,TextNode:vr,SpaceNode:gn,newDocumentFragment:Yn},Sr=function(C,E,D){return Ie[E][C]&&Ie[E][C].replace&&C.charCodeAt(0)!==55349&&!(ui.hasOwnProperty(C)&&D&&(D.fontFamily&&D.fontFamily.substr(4,2)==="tt"||D.font&&D.font.substr(4,2)==="tt"))&&(C=Ie[E][C].replace),new ct.TextNode(C)},ta=function(C){return C.length===1?C[0]:new ct.MathNode("mrow",C)},qn=function(C,E){if(E.fontFamily==="texttt")return"monospace";if(E.fontFamily==="textsf")return E.fontShape==="textit"&&E.fontWeight==="textbf"?"sans-serif-bold-italic":E.fontShape==="textit"?"sans-serif-italic":E.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(E.fontShape==="textit"&&E.fontWeight==="textbf")return"bold-italic";if(E.fontShape==="textit")return"italic";if(E.fontWeight==="textbf")return"bold";var D=E.font;if(!D||D==="mathnormal")return null;var G=C.mode;if(D==="mathit")return"italic";if(D==="boldsymbol")return C.type==="textord"?"bold":"bold-italic";if(D==="mathbf")return"bold";if(D==="mathbb")return"double-struck";if(D==="mathfrak")return"fraktur";if(D==="mathscr"||D==="mathcal")return"script";if(D==="mathsf")return"sans-serif";if(D==="mathtt")return"monospace";var I=C.text;if(x.contains(["\\imath","\\jmath"],I))return null;Ie[G][I]&&Ie[G][I].replace&&(I=Ie[G][I].replace);var W=Ue.fontMap[D].fontName;return vt(I,W,G)?Ue.fontMap[D].variant:null},Ar=function(C,E,D){if(C.length===1){var G=zt(C[0],E);return D&&G instanceof Vr&&G.type==="mo"&&(G.setAttribute("lspace","0em"),G.setAttribute("rspace","0em")),[G]}for(var I=[],W,ne=0;ne<C.length;ne++){var fe=zt(C[ne],E);if(fe instanceof Vr&&W instanceof Vr){if(fe.type==="mtext"&&W.type==="mtext"&&fe.getAttribute("mathvariant")===W.getAttribute("mathvariant")){var ge;(ge=W.children).push.apply(ge,fe.children);continue}else if(fe.type==="mn"&&W.type==="mn"){var Ee;(Ee=W.children).push.apply(Ee,fe.children);continue}else if(fe.type==="mi"&&fe.children.length===1&&W.type==="mn"){var ke=fe.children[0];if(ke instanceof vr&&ke.text==="."){var Qe;(Qe=W.children).push.apply(Qe,fe.children);continue}}else if(W.type==="mi"&&W.children.length===1){var st=W.children[0];if(st instanceof vr&&st.text===""&&(fe.type==="mo"||fe.type==="mi"||fe.type==="mn")){var lt=fe.children[0];lt instanceof vr&&lt.text.length>0&&(lt.text=lt.text.slice(0,1)+""+lt.text.slice(1),I.pop())}}}I.push(fe),W=fe}return I},ri=function(C,E,D){return ta(Ar(C,E,D))},zt=function(C,E){if(!C)return new ct.MathNode("mrow");if(Ln[C.type]){var D=Ln[C.type](C,E);return D}else throw new o("Got group of unknown type: '"+C.type+"'")};function ra(V,C,E,D,G){var I=Ar(V,E),W;I.length===1&&I[0]instanceof Vr&&x.contains(["mrow","mtable"],I[0].type)?W=I[0]:W=new ct.MathNode("mrow",I);var ne=new ct.MathNode("annotation",[new ct.TextNode(C)]);ne.setAttribute("encoding","application/x-tex");var fe=new ct.MathNode("semantics",[W,ne]),ge=new ct.MathNode("math",[fe]);ge.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),D&&ge.setAttribute("display","block");var Ee=G?"katex":"katex-mathml";return Ue.makeSpan([Ee],[ge])}var no=function(C){return new fl({style:C.displayMode?Y.DISPLAY:Y.TEXT,maxSize:C.maxSize,minRuleThickness:C.minRuleThickness})},so=function(C,E){if(E.displayMode){var D=["katex-display"];E.leqno&&D.push("leqno"),E.fleqn&&D.push("fleqn"),C=Ue.makeSpan(D,[C])}return C},yl=function(C,E,D){var G=no(D),I;if(D.output==="mathml")return ra(C,E,G,D.displayMode,!0);if(D.output==="html"){var W=vn(C,G);I=Ue.makeSpan(["katex"],[W])}else{var ne=ra(C,E,G,D.displayMode,!1),fe=vn(C,G);I=Ue.makeSpan(["katex"],[ne,fe])}return so(I,D)},ia=function(C,E,D){var G=no(D),I=vn(C,G),W=Ue.makeSpan(["katex"],[I]);return so(W,D)},bl={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\\\cdrightarrow":"","\\\\cdleftarrow":"","\\\\cdlongequal":"="},xl=function(C){var E=new ct.MathNode("mo",[new ct.TextNode(bl[C])]);return E.setAttribute("stretchy","true"),E},Cl={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},wl=function(C){return C.type==="ordgroup"?C.body.length:1},Sl=function(C,E){function D(){var fe=4e5,ge=C.label.substr(1);if(x.contains(["widehat","widecheck","widetilde","utilde"],ge)){var Ee=C,ke=wl(Ee.base),Qe,st,lt;if(ke>5)ge==="widehat"||ge==="widecheck"?(Qe=420,fe=2364,lt=.42,st=ge+"4"):(Qe=312,fe=2340,lt=.34,st="tilde4");else{var gt=[1,1,2,2,3,3][ke];ge==="widehat"||ge==="widecheck"?(fe=[0,1062,2364,2364,2364][gt],Qe=[0,239,300,360,420][gt],lt=[0,.24,.3,.3,.36,.42][gt],st=ge+gt):(fe=[0,600,1033,2339,2340][gt],Qe=[0,260,286,306,312][gt],lt=[0,.26,.286,.3,.306,.34][gt],st="tilde"+gt)}var mt=new _e(st),wt=new De([mt],{width:"100%",height:lt+"em",viewBox:"0 0 "+fe+" "+Qe,preserveAspectRatio:"none"});return{span:Ue.makeSvgSpan([],[wt],E),minWidth:0,height:lt}}else{var At=[],Mt=Cl[ge],kt=Mt[0],Ut=Mt[1],tr=Mt[2],Ot=tr/1e3,Rt=kt.length,rr,It;if(Rt===1){var Gr=Mt[3];rr=["hide-tail"],It=[Gr]}else if(Rt===2)rr=["halfarrow-left","halfarrow-right"],It=["xMinYMin","xMaxYMin"];else if(Rt===3)rr=["brace-left","brace-center","brace-right"],It=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+Rt+" children.");for(var Tr=0;Tr<Rt;Tr++){var wi=new _e(kt[Tr]),si=new De([wi],{width:"400em",height:Ot+"em",viewBox:"0 0 "+fe+" "+tr,preserveAspectRatio:It[Tr]+" slice"}),dr=Ue.makeSvgSpan([rr[Tr]],[si],E);if(Rt===1)return{span:dr,minWidth:Ut,height:Ot};dr.style.height=Ot+"em",At.push(dr)}return{span:Ue.makeSpan(["stretchy"],At,E),minWidth:Ut,height:Ot}}}var G=D(),I=G.span,W=G.minWidth,ne=G.height;return I.height=ne,I.style.height=ne+"em",W>0&&(I.style.minWidth=W+"em"),I},ao=function(C,E,D,G,I){var W,ne=C.height+C.depth+D+G;if(/fbox|color|angl/.test(E)){if(W=Ue.makeSpan(["stretchy",E],[],I),E==="fbox"){var fe=I.color&&I.getColor();fe&&(W.style.borderColor=fe)}}else{var ge=[];/^[bx]cancel$/.test(E)&&ge.push(new Oe({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(E)&&ge.push(new Oe({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var Ee=new De(ge,{width:"100%",height:ne+"em"});W=Ue.makeSvgSpan([],[Ee],I)}return W.height=ne,W.style.height=ne+"em",W},_i={encloseSpan:ao,mathMLnode:xl,svgSpan:Sl};function Tt(V,C){if(!V||V.type!==C)throw new Error("Expected node of type "+C+", but got "+(V?"node of type "+V.type:String(V)));return V}function na(V){var C=ws(V);if(!C)throw new Error("Expected node of symbol group type, but got "+(V?"node of type "+V.type:String(V)));return C}function ws(V){return V&&(V.type==="atom"||L.hasOwnProperty(V.type))?V:null}var jn=function(C,E){var D,G,I;C&&C.type==="supsub"?(G=Tt(C.base,"accent"),D=G.base,C.base=D,I=tt(Bt(C,E)),C.base=G):(G=Tt(C,"accent"),D=G.base);var W=Bt(D,E.havingCrampedStyle()),ne=G.isShifty&&x.isCharacterBox(D),fe=0;if(ne){var ge=x.getBaseElem(D),Ee=Bt(ge,E.havingCrampedStyle());fe=Ye(Ee).skew}var ke=Math.min(W.height,E.fontMetrics().xHeight),Qe;if(G.isStretchy)Qe=_i.svgSpan(G,E),Qe=Ue.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:W},{type:"elem",elem:Qe,wrapperClasses:["svg-align"],wrapperStyle:fe>0?{width:"calc(100% - "+2*fe+"em)",marginLeft:2*fe+"em"}:void 0}]},E);else{var st,lt;G.label==="\\vec"?(st=Ue.staticSvg("vec",E),lt=Ue.svgData.vec[1]):(st=Ue.makeOrd({mode:G.mode,text:G.label},E,"textord"),st=Ye(st),st.italic=0,lt=st.width),Qe=Ue.makeSpan(["accent-body"],[st]);var gt=G.label==="\\textcircled";gt&&(Qe.classes.push("accent-full"),ke=W.height);var mt=fe;gt||(mt-=lt/2),Qe.style.left=mt+"em",G.label==="\\textcircled"&&(Qe.style.top=".2em"),Qe=Ue.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:W},{type:"kern",size:-ke},{type:"elem",elem:Qe}]},E)}var wt=Ue.makeSpan(["mord","accent"],[Qe],E);return I?(I.children[0]=wt,I.height=Math.max(wt.height,I.height),I.classes[0]="mord",I):wt},oo=function(C,E){var D=C.isStretchy?_i.mathMLnode(C.label):new ct.MathNode("mo",[Sr(C.label,C.mode)]),G=new ct.MathNode("mover",[zt(C.base,E),D]);return G.setAttribute("accent","true"),G},Nl=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(function(V){return"\\"+V}).join("|"));bt({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:function(C,E){var D=bs(E[0]),G=!Nl.test(C.funcName),I=!G||C.funcName==="\\widehat"||C.funcName==="\\widetilde"||C.funcName==="\\widecheck";return{type:"accent",mode:C.parser.mode,label:C.funcName,isStretchy:G,isShifty:I,base:D}},htmlBuilder:jn,mathmlBuilder:oo}),bt({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!1,argTypes:["primitive"]},handler:function(C,E){var D=E[0];return{type:"accent",mode:C.parser.mode,label:C.funcName,isStretchy:!1,isShifty:!0,base:D}},htmlBuilder:jn,mathmlBuilder:oo}),bt({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:function(C,E){var D=C.parser,G=C.funcName,I=E[0];return{type:"accentUnder",mode:D.mode,label:G,base:I}},htmlBuilder:function(C,E){var D=Bt(C.base,E),G=_i.svgSpan(C,E),I=C.label==="\\utilde"?.12:0,W=Ue.makeVList({positionType:"top",positionData:D.height,children:[{type:"elem",elem:G,wrapperClasses:["svg-align"]},{type:"kern",size:I},{type:"elem",elem:D}]},E);return Ue.makeSpan(["mord","accentunder"],[W],E)},mathmlBuilder:function(C,E){var D=_i.mathMLnode(C.label),G=new ct.MathNode("munder",[zt(C.base,E),D]);return G.setAttribute("accentunder","true"),G}});var Ss=function(C){var E=new ct.MathNode("mpadded",C?[C]:[]);return E.setAttribute("width","+0.6em"),E.setAttribute("lspace","0.3em"),E};bt({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler:function(C,E,D){var G=C.parser,I=C.funcName;return{type:"xArrow",mode:G.mode,label:I,body:E[0],below:D[0]}},htmlBuilder:function(C,E){var D=E.style,G=E.havingStyle(D.sup()),I=Ue.wrapFragment(Bt(C.body,G,E),E),W=C.label.slice(0,2)==="\\x"?"x":"cd";I.classes.push(W+"-arrow-pad");var ne;C.below&&(G=E.havingStyle(D.sub()),ne=Ue.wrapFragment(Bt(C.below,G,E),E),ne.classes.push(W+"-arrow-pad"));var fe=_i.svgSpan(C,E),ge=-E.fontMetrics().axisHeight+.5*fe.height,Ee=-E.fontMetrics().axisHeight-.5*fe.height-.111;(I.depth>.25||C.label==="\\xleftequilibrium")&&(Ee-=I.depth);var ke;if(ne){var Qe=-E.fontMetrics().axisHeight+ne.height+.5*fe.height+.111;ke=Ue.makeVList({positionType:"individualShift",children:[{type:"elem",elem:I,shift:Ee},{type:"elem",elem:fe,shift:ge},{type:"elem",elem:ne,shift:Qe}]},E)}else ke=Ue.makeVList({positionType:"individualShift",children:[{type:"elem",elem:I,shift:Ee},{type:"elem",elem:fe,shift:ge}]},E);return ke.children[0].children[0].children[1].classes.push("svg-align"),Ue.makeSpan(["mrel","x-arrow"],[ke],E)},mathmlBuilder:function(C,E){var D=_i.mathMLnode(C.label);D.setAttribute("minsize",C.label.charAt(0)==="x"?"1.75em":"3.0em");var G;if(C.body){var I=Ss(zt(C.body,E));if(C.below){var W=Ss(zt(C.below,E));G=new ct.MathNode("munderover",[D,W,I])}else G=new ct.MathNode("mover",[D,I])}else if(C.below){var ne=Ss(zt(C.below,E));G=new ct.MathNode("munder",[D,ne])}else G=Ss(),G=new ct.MathNode("mover",[D,G]);return G}});var lo={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},uo=function(){return{type:"styling",body:[],mode:"math",style:"display"}},co=function(C){return C.type==="textord"&&C.text==="@"},$l=function(C,E){return(C.type==="mathord"||C.type==="atom")&&C.text===E};function El(V,C,E){var D=lo[V];switch(D){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return E.callFunction(D,[C[0]],[C[1]]);case"\\uparrow":case"\\downarrow":{var G=E.callFunction("\\\\cdleft",[C[0]],[]),I={type:"atom",text:D,mode:"math",family:"rel"},W=E.callFunction("\\Big",[I],[]),ne=E.callFunction("\\\\cdright",[C[1]],[]),fe={type:"ordgroup",mode:"math",body:[G,W,ne]};return E.callFunction("\\\\cdparent",[fe],[])}case"\\\\cdlongequal":return E.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var ge={type:"textord",text:"\\Vert",mode:"math"};return E.callFunction("\\Big",[ge],[])}default:return{type:"textord",text:" ",mode:"math"}}}function _l(V){var C=[];for(V.gullet.beginGroup(),V.gullet.macros.set("\\cr","\\\\\\relax"),V.gullet.beginGroup();;){C.push(V.parseExpression(!1,"\\\\")),V.gullet.endGroup(),V.gullet.beginGroup();var E=V.fetch().text;if(E==="&"||E==="\\\\")V.consume();else if(E==="\\end"){C[C.length-1].length===0&&C.pop();break}else throw new o("Expected \\\\ or \\cr or \\end",V.nextToken)}for(var D=[],G=[D],I=0;I<C.length;I++){for(var W=C[I],ne=uo(),fe=0;fe<W.length;fe++)if(!co(W[fe]))ne.body.push(W[fe]);else{D.push(ne),fe+=1;var ge=na(W[fe]).text,Ee=new Array(2);if(Ee[0]={type:"ordgroup",mode:"math",body:[]},Ee[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(ge)>-1))if("<>AV".indexOf(ge)>-1)for(var ke=0;ke<2;ke++){for(var Qe=!0,st=fe+1;st<W.length;st++){if($l(W[st],ge)){Qe=!1,fe=st;break}if(co(W[st]))throw new o("Missing a "+ge+" character to complete a CD arrow.",W[st]);Ee[ke].body.push(W[st])}if(Qe)throw new o("Missing a "+ge+" character to complete a CD arrow.",W[fe])}else throw new o('Expected one of "<>AV=|." after @',W[fe]);var lt=El(ge,Ee,V),gt={type:"styling",body:[lt],mode:"math",style:"display"};D.push(gt),ne=uo()}I%2===0?D.push(ne):D.shift(),D=[],G.push(D)}V.gullet.endGroup(),V.gullet.endGroup();var mt=new Array(G[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:G,arraystretch:1,addJot:!0,rowGaps:[null],cols:mt,colSeparationType:"CD",hLinesBeforeRow:new Array(G.length+1).fill([])}}bt({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler:function(C,E){var D=C.parser,G=C.funcName;return{type:"cdlabel",mode:D.mode,side:G.slice(4),label:E[0]}},htmlBuilder:function(C,E){var D=E.havingStyle(E.style.sup()),G=Ue.wrapFragment(Bt(C.label,D,E),E);return G.classes.push("cd-label-"+C.side),G.style.bottom=.8-G.depth+"em",G.height=0,G.depth=0,G},mathmlBuilder:function(C,E){var D=new ct.MathNode("mrow",[zt(C.label,E)]);return D=new ct.MathNode("mpadded",[D]),D.setAttribute("width","0"),C.side==="left"&&D.setAttribute("lspace","-1width"),D.setAttribute("voffset","0.7em"),D=new ct.MathNode("mstyle",[D]),D.setAttribute("displaystyle","false"),D.setAttribute("scriptlevel","1"),D}}),bt({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler:function(C,E){var D=C.parser;return{type:"cdlabelparent",mode:D.mode,fragment:E[0]}},htmlBuilder:function(C,E){var D=Ue.wrapFragment(Bt(C.fragment,E),E);return D.classes.push("cd-vert-arrow"),D},mathmlBuilder:function(C,E){return new ct.MathNode("mrow",[zt(C.fragment,E)])}}),bt({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler:function(C,E){for(var D=C.parser,G=Tt(E[0],"ordgroup"),I=G.body,W="",ne=0;ne<I.length;ne++){var fe=Tt(I[ne],"textord");W+=fe.text}var ge=parseInt(W);if(isNaN(ge))throw new o("\\@char has non-numeric argument "+W);return{type:"textord",mode:D.mode,text:String.fromCharCode(ge)}}});var fo=function(C,E){var D=cr(C.body,E.withColor(C.color),!1);return Ue.makeFragment(D)},ho=function(C,E){var D=Ar(C.body,E.withColor(C.color)),G=new ct.MathNode("mstyle",D);return G.setAttribute("mathcolor",C.color),G};bt({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler:function(C,E){var D=C.parser,G=Tt(E[0],"color-token").color,I=E[1];return{type:"color",mode:D.mode,color:G,body:er(I)}},htmlBuilder:fo,mathmlBuilder:ho}),bt({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler:function(C,E){var D=C.parser,G=C.breakOnTokenText,I=Tt(E[0],"color-token").color;D.gullet.macros.set("\\current@color",I);var W=D.parseExpression(!0,G);return{type:"color",mode:D.mode,color:I,body:W}},htmlBuilder:fo,mathmlBuilder:ho}),bt({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:1,argTypes:["size"],allowedInText:!0},handler:function(C,E,D){var G=C.parser,I=D[0],W=!G.settings.displayMode||!G.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:G.mode,newLine:W,size:I&&Tt(I,"size").value}},htmlBuilder:function(C,E){var D=Ue.makeSpan(["mspace"],[],E);return C.newLine&&(D.classes.push("newline"),C.size&&(D.style.marginTop=Vt(C.size,E)+"em")),D},mathmlBuilder:function(C,E){var D=new ct.MathNode("mspace");return C.newLine&&(D.setAttribute("linebreak","newline"),C.size&&D.setAttribute("height",Vt(C.size,E)+"em")),D}});var Hn={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},yn=function(C){var E=C.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(E))throw new o("Expected a control sequence",C);return E},Ml=function(C){var E=C.gullet.popToken();return E.text==="="&&(E=C.gullet.popToken(),E.text===" "&&(E=C.gullet.popToken())),E},sa=function(C,E,D,G){var I=C.gullet.macros.get(D.text);I==null&&(D.noexpand=!0,I={tokens:[D],numArgs:0,unexpandable:!C.gullet.isExpandable(D.text)}),C.gullet.macros.set(E,I,G)};bt({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler:function(C){var E=C.parser,D=C.funcName;E.consumeSpaces();var G=E.fetch();if(Hn[G.text])return(D==="\\global"||D==="\\\\globallong")&&(G.text=Hn[G.text]),Tt(E.parseFunction(),"internal");throw new o("Invalid token after macro prefix",G)}}),bt({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler:function(C){var E=C.parser,D=C.funcName,G=E.gullet.popToken(),I=G.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(I))throw new o("Expected a control sequence",G);for(var W=0,ne,fe=[[]];E.gullet.future().text!=="{";)if(G=E.gullet.popToken(),G.text==="#"){if(E.gullet.future().text==="{"){ne=E.gullet.future(),fe[W].push("{");break}if(G=E.gullet.popToken(),!/^[1-9]$/.test(G.text))throw new o('Invalid argument number "'+G.text+'"');if(parseInt(G.text)!==W+1)throw new o('Argument number "'+G.text+'" out of order');W++,fe.push([])}else{if(G.text==="EOF")throw new o("Expected a macro definition");fe[W].push(G.text)}var ge=E.gullet.consumeArg(),Ee=ge.tokens;return ne&&Ee.unshift(ne),(D==="\\edef"||D==="\\xdef")&&(Ee=E.gullet.expandTokens(Ee),Ee.reverse()),E.gullet.macros.set(I,{tokens:Ee,numArgs:W,delimiters:fe},D===Hn[D]),{type:"internal",mode:E.mode}}}),bt({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler:function(C){var E=C.parser,D=C.funcName,G=yn(E.gullet.popToken());E.gullet.consumeSpaces();var I=Ml(E);return sa(E,G,I,D==="\\\\globallet"),{type:"internal",mode:E.mode}}}),bt({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler:function(C){var E=C.parser,D=C.funcName,G=yn(E.gullet.popToken()),I=E.gullet.popToken(),W=E.gullet.popToken();return sa(E,G,W,D==="\\\\globalfuture"),E.gullet.pushToken(W),E.gullet.pushToken(I),{type:"internal",mode:E.mode}}});var bn=function(C,E,D){var G=Ie.math[C]&&Ie.math[C].replace,I=vt(G||C,E,D);if(!I)throw new Error("Unsupported symbol "+C+" and font size "+E+".");return I},Ns=function(C,E,D,G){var I=D.havingBaseStyle(E),W=Ue.makeSpan(G.concat(I.sizingClasses(D)),[C],D),ne=I.sizeMultiplier/D.sizeMultiplier;return W.height*=ne,W.depth*=ne,W.maxFontSize=I.sizeMultiplier,W},aa=function(C,E,D){var G=E.havingBaseStyle(D),I=(1-E.sizeMultiplier/G.sizeMultiplier)*E.fontMetrics().axisHeight;C.classes.push("delimcenter"),C.style.top=I+"em",C.height-=I,C.depth+=I},po=function(C,E,D,G,I,W){var ne=Ue.makeSymbol(C,"Main-Regular",I,G),fe=Ns(ne,E,G,W);return D&&aa(fe,G,E),fe},xn=function(C,E,D,G){return Ue.makeSymbol(C,"Size"+E+"-Regular",D,G)},mo=function(C,E,D,G,I,W){var ne=xn(C,E,I,G),fe=Ns(Ue.makeSpan(["delimsizing","size"+E],[ne],G),Y.TEXT,G,W);return D&&aa(fe,G,Y.TEXT),fe},oa=function(C,E,D){var G;E==="Size1-Regular"?G="delim-size1":G="delim-size4";var I=Ue.makeSpan(["delimsizinginner",G],[Ue.makeSpan([],[Ue.makeSymbol(C,E,D)])]);return{type:"elem",elem:I}},la=function(C,E,D){var G=Ve["Size4-Regular"][C.charCodeAt(0)]?Ve["Size4-Regular"][C.charCodeAt(0)][4].toFixed(3):Ve["Size1-Regular"][C.charCodeAt(0)][4].toFixed(3),I=new _e("inner",rt(C,Math.round(1e3*E))),W=new De([I],{width:G+"em",height:E+"em",style:"width:"+G+"em",viewBox:"0 0 "+1e3*G+" "+Math.round(1e3*E),preserveAspectRatio:"xMinYMin"}),ne=Ue.makeSvgSpan([],[W],D);return ne.height=E,ne.style.height=E+"em",ne.style.width=G+"em",{type:"elem",elem:ne}},$s=.008,Vn={type:"kern",size:-1*$s},Wn=["|","\\lvert","\\rvert","\\vert"],Zn=["\\|","\\lVert","\\rVert","\\Vert"],vo=function(C,E,D,G,I,W){var ne,fe,ge,Ee;ne=ge=Ee=C,fe=null;var ke="Size1-Regular";C==="\\uparrow"?ge=Ee="":C==="\\Uparrow"?ge=Ee="":C==="\\downarrow"?ne=ge="":C==="\\Downarrow"?ne=ge="":C==="\\updownarrow"?(ne="\\uparrow",ge="",Ee="\\downarrow"):C==="\\Updownarrow"?(ne="\\Uparrow",ge="",Ee="\\Downarrow"):x.contains(Wn,C)?ge="":x.contains(Zn,C)?ge="":C==="["||C==="\\lbrack"?(ne="",ge="",Ee="",ke="Size4-Regular"):C==="]"||C==="\\rbrack"?(ne="",ge="",Ee="",ke="Size4-Regular"):C==="\\lfloor"||C===""?(ge=ne="",Ee="",ke="Size4-Regular"):C==="\\lceil"||C===""?(ne="",ge=Ee="",ke="Size4-Regular"):C==="\\rfloor"||C===""?(ge=ne="",Ee="",ke="Size4-Regular"):C==="\\rceil"||C===""?(ne="",ge=Ee="",ke="Size4-Regular"):C==="("||C==="\\lparen"?(ne="",ge="",Ee="",ke="Size4-Regular"):C===")"||C==="\\rparen"?(ne="",ge="",Ee="",ke="Size4-Regular"):C==="\\{"||C==="\\lbrace"?(ne="",fe="",Ee="",ge="",ke="Size4-Regular"):C==="\\}"||C==="\\rbrace"?(ne="",fe="",Ee="",ge="",ke="Size4-Regular"):C==="\\lgroup"||C===""?(ne="",Ee="",ge="",ke="Size4-Regular"):C==="\\rgroup"||C===""?(ne="",Ee="",ge="",ke="Size4-Regular"):C==="\\lmoustache"||C===""?(ne="",Ee="",ge="",ke="Size4-Regular"):(C==="\\rmoustache"||C==="")&&(ne="",Ee="",ge="",ke="Size4-Regular");var Qe=bn(ne,ke,I),st=Qe.height+Qe.depth,lt=bn(ge,ke,I),gt=lt.height+lt.depth,mt=bn(Ee,ke,I),wt=mt.height+mt.depth,At=0,Mt=1;if(fe!==null){var kt=bn(fe,ke,I);At=kt.height+kt.depth,Mt=2}var Ut=st+wt+At,tr=Math.max(0,Math.ceil((E-Ut)/(Mt*gt))),Ot=Ut+tr*Mt*gt,Rt=G.fontMetrics().axisHeight;D&&(Rt*=G.sizeMultiplier);var rr=Ot/2-Rt,It=[];if(It.push(oa(Ee,ke,I)),It.push(Vn),fe===null){var Gr=Ot-st-wt+2*$s;It.push(la(ge,Gr,G))}else{var Tr=(Ot-st-wt-At)/2+2*$s;It.push(la(ge,Tr,G)),It.push(Vn),It.push(oa(fe,ke,I)),It.push(Vn),It.push(la(ge,Tr,G))}It.push(Vn),It.push(oa(ne,ke,I));var wi=G.havingBaseStyle(Y.TEXT),si=Ue.makeVList({positionType:"bottom",positionData:rr,children:It},wi);return Ns(Ue.makeSpan(["delimsizing","mult"],[si],wi),Y.TEXT,G,W)},Cn=80,ua=.08,Es=function(C,E,D,G,I){var W=nt(C,G,D),ne=new _e(C,W),fe=new De([ne],{width:"400em",height:E+"em",viewBox:"0 0 400000 "+D,preserveAspectRatio:"xMinYMin slice"});return Ue.makeSvgSpan(["hide-tail"],[fe],I)},ca=function(C,E){var D=E.havingBaseSizing(),G=ii("\\surd",C*D.sizeMultiplier,yo,D),I=D.sizeMultiplier,W=Math.max(0,E.minRuleThickness-E.fontMetrics().sqrtRuleThickness),ne,fe=0,ge=0,Ee=0,ke;return G.type==="small"?(Ee=1e3+1e3*W+Cn,C<1?I=1:C<1.4&&(I=.7),fe=(1+W+ua)/I,ge=(1+W)/I,ne=Es("sqrtMain",fe,Ee,W,E),ne.style.minWidth="0.853em",ke=.833/I):G.type==="large"?(Ee=(1e3+Cn)*wn[G.size],ge=(wn[G.size]+W)/I,fe=(wn[G.size]+W+ua)/I,ne=Es("sqrtSize"+G.size,fe,Ee,W,E),ne.style.minWidth="1.02em",ke=1/I):(fe=C+W+ua,ge=C+W,Ee=Math.floor(1e3*C+W)+Cn,ne=Es("sqrtTall",fe,Ee,W,E),ne.style.minWidth="0.742em",ke=1.056),ne.height=ge,ne.style.height=fe+"em",{span:ne,advanceWidth:ke,ruleWidth:(E.fontMetrics().sqrtRuleThickness+W)*I}},_s=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],go=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],fa=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],wn=[0,1.2,1.8,2.4,3],Al=function(C,E,D,G,I){if(C==="<"||C==="\\lt"||C===""?C="\\langle":(C===">"||C==="\\gt"||C==="")&&(C="\\rangle"),x.contains(_s,C)||x.contains(fa,C))return mo(C,E,!1,D,G,I);if(x.contains(go,C))return vo(C,wn[E],!1,D,G,I);throw new o("Illegal delimiter: '"+C+"'")},Dl=[{type:"small",style:Y.SCRIPTSCRIPT},{type:"small",style:Y.SCRIPT},{type:"small",style:Y.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],Pl=[{type:"small",style:Y.SCRIPTSCRIPT},{type:"small",style:Y.SCRIPT},{type:"small",style:Y.TEXT},{type:"stack"}],yo=[{type:"small",style:Y.SCRIPTSCRIPT},{type:"small",style:Y.SCRIPT},{type:"small",style:Y.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],Xl=function(C){if(C.type==="small")return"Main-Regular";if(C.type==="large")return"Size"+C.size+"-Regular";if(C.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+C.type+"' here.")},ii=function(C,E,D,G){for(var I=Math.min(2,3-G.style.size),W=I;W<D.length&&D[W].type!=="stack";W++){var ne=bn(C,Xl(D[W]),"math"),fe=ne.height+ne.depth;if(D[W].type==="small"){var ge=G.havingBaseStyle(D[W].style);fe*=ge.sizeMultiplier}if(fe>E)return D[W]}return D[D.length-1]},Sn=function(C,E,D,G,I,W){C==="<"||C==="\\lt"||C===""?C="\\langle":(C===">"||C==="\\gt"||C==="")&&(C="\\rangle");var ne;x.contains(fa,C)?ne=Dl:x.contains(_s,C)?ne=yo:ne=Pl;var fe=ii(C,E,ne,G);return fe.type==="small"?po(C,fe.style,D,G,I,W):fe.type==="large"?mo(C,fe.size,D,G,I,W):vo(C,E,D,G,I,W)},bo=function(C,E,D,G,I,W){var ne=G.fontMetrics().axisHeight*G.sizeMultiplier,fe=901,ge=5/G.fontMetrics().ptPerEm,Ee=Math.max(E-ne,D+ne),ke=Math.max(Ee/500*fe,2*Ee-ge);return Sn(C,ke,!0,G,I,W)},hi={sqrtImage:ca,sizedDelim:Al,sizeToMaxHeight:wn,customSizedDelim:Sn,leftRightDelim:bo},ha={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},xo=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function Nn(V,C){var E=ws(V);if(E&&x.contains(xo,E.text))return E;throw E?new o("Invalid delimiter '"+E.text+"' after '"+C.funcName+"'",V):new o("Invalid delimiter type '"+V.type+"'",V)}bt({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:function(C,E){var D=Nn(E[0],C);return{type:"delimsizing",mode:C.parser.mode,size:ha[C.funcName].size,mclass:ha[C.funcName].mclass,delim:D.text}},htmlBuilder:function(C,E){return C.delim==="."?Ue.makeSpan([C.mclass]):hi.sizedDelim(C.delim,C.size,E,C.mode,[C.mclass])},mathmlBuilder:function(C){var E=[];C.delim!=="."&&E.push(Sr(C.delim,C.mode));var D=new ct.MathNode("mo",E);return C.mclass==="mopen"||C.mclass==="mclose"?D.setAttribute("fence","true"):D.setAttribute("fence","false"),D.setAttribute("stretchy","true"),D.setAttribute("minsize",hi.sizeToMaxHeight[C.size]+"em"),D.setAttribute("maxsize",hi.sizeToMaxHeight[C.size]+"em"),D}});function Co(V){if(!V.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}bt({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:function(C,E){var D=C.parser.gullet.macros.get("\\current@color");if(D&&typeof D!="string")throw new o("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:C.parser.mode,delim:Nn(E[0],C).text,color:D}}}),bt({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:function(C,E){var D=Nn(E[0],C),G=C.parser;++G.leftrightDepth;var I=G.parseExpression(!1);--G.leftrightDepth,G.expect("\\right",!1);var W=Tt(G.parseFunction(),"leftright-right");return{type:"leftright",mode:G.mode,body:I,left:D.text,right:W.delim,rightColor:W.color}},htmlBuilder:function(C,E){Co(C);for(var D=cr(C.body,E,!0,["mopen","mclose"]),G=0,I=0,W=!1,ne=0;ne<D.length;ne++)D[ne].isMiddle?W=!0:(G=Math.max(D[ne].height,G),I=Math.max(D[ne].depth,I));G*=E.sizeMultiplier,I*=E.sizeMultiplier;var fe;if(C.left==="."?fe=tn(E,["mopen"]):fe=hi.leftRightDelim(C.left,G,I,E,C.mode,["mopen"]),D.unshift(fe),W)for(var ge=1;ge<D.length;ge++){var Ee=D[ge],ke=Ee.isMiddle;ke&&(D[ge]=hi.leftRightDelim(ke.delim,G,I,ke.options,C.mode,[]))}var Qe;if(C.right===".")Qe=tn(E,["mclose"]);else{var st=C.rightColor?E.withColor(C.rightColor):E;Qe=hi.leftRightDelim(C.right,G,I,st,C.mode,["mclose"])}return D.push(Qe),Ue.makeSpan(["minner"],D,E)},mathmlBuilder:function(C,E){Co(C);var D=Ar(C.body,E);if(C.left!=="."){var G=new ct.MathNode("mo",[Sr(C.left,C.mode)]);G.setAttribute("fence","true"),D.unshift(G)}if(C.right!=="."){var I=new ct.MathNode("mo",[Sr(C.right,C.mode)]);I.setAttribute("fence","true"),C.rightColor&&I.setAttribute("mathcolor",C.rightColor),D.push(I)}return ta(D)}}),bt({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:function(C,E){var D=Nn(E[0],C);if(!C.parser.leftrightDepth)throw new o("\\middle without preceding \\left",D);return{type:"middle",mode:C.parser.mode,delim:D.text}},htmlBuilder:function(C,E){var D;if(C.delim===".")D=tn(E,[]);else{D=hi.sizedDelim(C.delim,1,E,C.mode,[]);var G={delim:C.delim,options:E};D.isMiddle=G}return D},mathmlBuilder:function(C,E){var D=C.delim==="\\vert"||C.delim==="|"?Sr("|","text"):Sr(C.delim,C.mode),G=new ct.MathNode("mo",[D]);return G.setAttribute("fence","true"),G.setAttribute("lspace","0.05em"),G.setAttribute("rspace","0.05em"),G}});var da=function(C,E){var D=Ue.wrapFragment(Bt(C.body,E),E),G=C.label.substr(1),I=E.sizeMultiplier,W,ne=0,fe=x.isCharacterBox(C.body);if(G==="sout")W=Ue.makeSpan(["stretchy","sout"]),W.height=E.fontMetrics().defaultRuleThickness/I,ne=-.5*E.fontMetrics().xHeight;else if(G==="phase"){var ge=Vt({number:.6,unit:"pt"},E),Ee=Vt({number:.35,unit:"ex"},E),ke=E.havingBaseSizing();I=I/ke.sizeMultiplier;var Qe=D.height+D.depth+ge+Ee;D.style.paddingLeft=Qe/2+ge+"em";var st=Math.floor(1e3*Qe*I),lt=Be(st),gt=new De([new _e("phase",lt)],{width:"400em",height:st/1e3+"em",viewBox:"0 0 400000 "+st,preserveAspectRatio:"xMinYMin slice"});W=Ue.makeSvgSpan(["hide-tail"],[gt],E),W.style.height=Qe+"em",ne=D.depth+ge+Ee}else{/cancel/.test(G)?fe||D.classes.push("cancel-pad"):G==="angl"?D.classes.push("anglpad"):D.classes.push("boxpad");var mt=0,wt=0,At=0;/box/.test(G)?(At=Math.max(E.fontMetrics().fboxrule,E.minRuleThickness),mt=E.fontMetrics().fboxsep+(G==="colorbox"?0:At),wt=mt):G==="angl"?(At=Math.max(E.fontMetrics().defaultRuleThickness,E.minRuleThickness),mt=4*At,wt=Math.max(0,.25-D.depth)):(mt=fe?.2:0,wt=mt),W=_i.encloseSpan(D,G,mt,wt,E),/fbox|boxed|fcolorbox/.test(G)?(W.style.borderStyle="solid",W.style.borderWidth=At+"em"):G==="angl"&&At!==.049&&(W.style.borderTopWidth=At+"em",W.style.borderRightWidth=At+"em"),ne=D.depth+wt,C.backgroundColor&&(W.style.backgroundColor=C.backgroundColor,C.borderColor&&(W.style.borderColor=C.borderColor))}var Mt;if(C.backgroundColor)Mt=Ue.makeVList({positionType:"individualShift",children:[{type:"elem",elem:W,shift:ne},{type:"elem",elem:D,shift:0}]},E);else{var kt=/cancel|phase/.test(G)?["svg-align"]:[];Mt=Ue.makeVList({positionType:"individualShift",children:[{type:"elem",elem:D,shift:0},{type:"elem",elem:W,shift:ne,wrapperClasses:kt}]},E)}return/cancel/.test(G)&&(Mt.height=D.height,Mt.depth=D.depth),/cancel/.test(G)&&!fe?Ue.makeSpan(["mord","cancel-lap"],[Mt],E):Ue.makeSpan(["mord"],[Mt],E)},Ri=function(C,E){var D=0,G=new ct.MathNode(C.label.indexOf("colorbox")>-1?"mpadded":"menclose",[zt(C.body,E)]);switch(C.label){case"\\cancel":G.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":G.setAttribute("notation","downdiagonalstrike");break;case"\\phase":G.setAttribute("notation","phasorangle");break;case"\\sout":G.setAttribute("notation","horizontalstrike");break;case"\\fbox":G.setAttribute("notation","box");break;case"\\angl":G.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(D=E.fontMetrics().fboxsep*E.fontMetrics().ptPerEm,G.setAttribute("width","+"+2*D+"pt"),G.setAttribute("height","+"+2*D+"pt"),G.setAttribute("lspace",D+"pt"),G.setAttribute("voffset",D+"pt"),C.label==="\\fcolorbox"){var I=Math.max(E.fontMetrics().fboxrule,E.minRuleThickness);G.setAttribute("style","border: "+I+"em solid "+String(C.borderColor))}break;case"\\xcancel":G.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return C.backgroundColor&&G.setAttribute("mathbackground",C.backgroundColor),G};bt({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler:function(C,E,D){var G=C.parser,I=C.funcName,W=Tt(E[0],"color-token").color,ne=E[1];return{type:"enclose",mode:G.mode,label:I,backgroundColor:W,body:ne}},htmlBuilder:da,mathmlBuilder:Ri}),bt({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler:function(C,E,D){var G=C.parser,I=C.funcName,W=Tt(E[0],"color-token").color,ne=Tt(E[1],"color-token").color,fe=E[2];return{type:"enclose",mode:G.mode,label:I,backgroundColor:ne,borderColor:W,body:fe}},htmlBuilder:da,mathmlBuilder:Ri}),bt({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler:function(C,E){var D=C.parser;return{type:"enclose",mode:D.mode,label:"\\fbox",body:E[0]}}}),bt({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler:function(C,E){var D=C.parser,G=C.funcName,I=E[0];return{type:"enclose",mode:D.mode,label:G,body:I}},htmlBuilder:da,mathmlBuilder:Ri}),bt({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler:function(C,E){var D=C.parser;return{type:"enclose",mode:D.mode,label:"\\angl",body:E[0]}}});var Ms={};function Rr(V){for(var C=V.type,E=V.names,D=V.props,G=V.handler,I=V.htmlBuilder,W=V.mathmlBuilder,ne={type:C,numArgs:D.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:G},fe=0;fe<E.length;++fe)Ms[E[fe]]=ne;I&&(ys[C]=I),W&&(Ln[C]=W)}function As(V){var C=[];V.consumeSpaces();for(var E=V.fetch().text;E==="\\hline"||E==="\\hdashline";)V.consume(),C.push(E==="\\hdashline"),V.consumeSpaces(),E=V.fetch().text;return C}var Qn=function(C){var E=C.parser.settings;if(!E.displayMode)throw new o("{"+C.envName+"} can be used only in display mode.")};function di(V,C,E){var D=C.hskipBeforeAndAfter,G=C.addJot,I=C.cols,W=C.arraystretch,ne=C.colSeparationType,fe=C.addEqnNum,ge=C.singleRow,Ee=C.maxNumCols,ke=C.leqno;if(V.gullet.beginGroup(),ge||V.gullet.macros.set("\\cr","\\\\\\relax"),!W){var Qe=V.gullet.expandMacroAsText("\\arraystretch");if(Qe==null)W=1;else if(W=parseFloat(Qe),!W||W<0)throw new o("Invalid \\arraystretch: "+Qe)}V.gullet.beginGroup();var st=[],lt=[st],gt=[],mt=[];for(mt.push(As(V));;){var wt=V.parseExpression(!1,ge?"\\end":"\\\\");V.gullet.endGroup(),V.gullet.beginGroup(),wt={type:"ordgroup",mode:V.mode,body:wt},E&&(wt={type:"styling",mode:V.mode,style:E,body:[wt]}),st.push(wt);var At=V.fetch().text;if(At==="&"){if(Ee&&st.length===Ee){if(ge||ne)throw new o("Too many tab characters: &",V.nextToken);V.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}V.consume()}else if(At==="\\end"){st.length===1&&wt.type==="styling"&&wt.body[0].body.length===0&&lt.pop(),mt.length<lt.length+1&&mt.push([]);break}else if(At==="\\\\"){V.consume();var Mt=void 0;V.gullet.future().text!==" "&&(Mt=V.parseSizeGroup(!0)),gt.push(Mt?Mt.value:null),mt.push(As(V)),st=[],lt.push(st)}else throw new o("Expected & or \\\\ or \\cr or \\end",V.nextToken)}return V.gullet.endGroup(),V.gullet.endGroup(),{type:"array",mode:V.mode,addJot:G,arraystretch:W,body:lt,cols:I,rowGaps:gt,hskipBeforeAndAfter:D,hLinesBeforeRow:mt,colSeparationType:ne,addEqnNum:fe,leqno:ke}}function Ii(V){return V.substr(0,1)==="d"?"display":"text"}var ni=function(C,E){var D,G,I=C.body.length,W=C.hLinesBeforeRow,ne=0,fe=new Array(I),ge=[],Ee=Math.max(E.fontMetrics().arrayRuleWidth,E.minRuleThickness),ke=1/E.fontMetrics().ptPerEm,Qe=5*ke;if(C.colSeparationType&&C.colSeparationType==="small"){var st=E.havingStyle(Y.SCRIPT).sizeMultiplier;Qe=.2778*(st/E.sizeMultiplier)}var lt=C.colSeparationType==="CD"?Vt({number:3,unit:"ex"},E):12*ke,gt=3*ke,mt=C.arraystretch*lt,wt=.7*mt,At=.3*mt,Mt=0;function kt(Ls){for(var Hi=0;Hi<Ls.length;++Hi)Hi>0&&(Mt+=.25),ge.push({pos:Mt,isDashed:Ls[Hi]})}for(kt(W[0]),D=0;D<C.body.length;++D){var Ut=C.body[D],tr=wt,Ot=At;ne<Ut.length&&(ne=Ut.length);var Rt=new Array(Ut.length);for(G=0;G<Ut.length;++G){var rr=Bt(Ut[G],E);Ot<rr.depth&&(Ot=rr.depth),tr<rr.height&&(tr=rr.height),Rt[G]=rr}var It=C.rowGaps[D],Gr=0;It&&(Gr=Vt(It,E),Gr>0&&(Gr+=At,Ot<Gr&&(Ot=Gr),Gr=0)),C.addJot&&(Ot+=gt),Rt.height=tr,Rt.depth=Ot,Mt+=tr,Rt.pos=Mt,Mt+=Ot+Gr,fe[D]=Rt,kt(W[D+1])}var Tr=Mt/2+E.fontMetrics().axisHeight,wi=C.cols||[],si=[],dr,br,ji=[];if(C.addEqnNum)for(D=0;D<I;++D){var ss=fe[D],To=ss.pos-Tr,mi=Ue.makeSpan(["eqn-num"],[],E);mi.depth=ss.depth,mi.height=ss.height,ji.push({type:"elem",elem:mi,shift:To})}for(G=0,br=0;G<ne||br<wi.length;++G,++br){for(var $r=wi[br]||{},Is=!0;$r.type==="separator";){if(Is||(dr=Ue.makeSpan(["arraycolsep"],[]),dr.style.width=E.fontMetrics().doubleRuleSep+"em",si.push(dr)),$r.separator==="|"||$r.separator===":"){var Oo=$r.separator==="|"?"solid":"dashed",Ir=Ue.makeSpan(["vertical-separator"],[],E);Ir.style.height=Mt+"em",Ir.style.borderRightWidth=Ee+"em",Ir.style.borderRightStyle=Oo,Ir.style.margin="0 -"+Ee/2+"em",Ir.style.verticalAlign=-(Mt-Tr)+"em",si.push(Ir)}else throw new o("Invalid separator type: "+$r.separator);br++,$r=wi[br]||{},Is=!1}if(!(G>=ne)){var Zr=void 0;(G>0||C.hskipBeforeAndAfter)&&(Zr=x.deflt($r.pregap,Qe),Zr!==0&&(dr=Ue.makeSpan(["arraycolsep"],[]),dr.style.width=Zr+"em",si.push(dr)));var Pi=[];for(D=0;D<I;++D){var as=fe[D],an=as[G];if(an){var Jo=as.pos-Tr;an.depth=as.depth,an.height=as.height,Pi.push({type:"elem",elem:an,shift:Jo})}}Pi=Ue.makeVList({positionType:"individualShift",children:Pi},E),Pi=Ue.makeSpan(["col-align-"+($r.align||"c")],[Pi]),si.push(Pi),(G<ne-1||C.hskipBeforeAndAfter)&&(Zr=x.deflt($r.postgap,Qe),Zr!==0&&(dr=Ue.makeSpan(["arraycolsep"],[]),dr.style.width=Zr+"em",si.push(dr)))}}if(fe=Ue.makeSpan(["mtable"],si),ge.length>0){for(var Bo=Ue.makeLineSpan("hline",E,Ee),Xa=Ue.makeLineSpan("hdashline",E,Ee),Pn=[{type:"elem",elem:fe,shift:0}];ge.length>0;){var Ga=ge.pop(),Ta=Ga.pos-Tr;Ga.isDashed?Pn.push({type:"elem",elem:Xa,shift:Ta}):Pn.push({type:"elem",elem:Bo,shift:Ta})}fe=Ue.makeVList({positionType:"individualShift",children:Pn},E)}if(C.addEqnNum){var Fs=Ue.makeVList({positionType:"individualShift",children:ji},E);return Fs=Ue.makeSpan(["tag"],[Fs],E),Ue.makeFragment([fe,Fs])}else return Ue.makeSpan(["mord"],[fe],E)},wo={c:"center ",l:"left ",r:"right "},Wr=function(C,E){for(var D=[],G=new ct.MathNode("mtd",[],["mtr-glue"]),I=new ct.MathNode("mtd",[],["mml-eqn-num"]),W=0;W<C.body.length;W++){for(var ne=C.body[W],fe=[],ge=0;ge<ne.length;ge++)fe.push(new ct.MathNode("mtd",[zt(ne[ge],E)]));C.addEqnNum&&(fe.unshift(G),fe.push(G),C.leqno?fe.unshift(I):fe.push(I)),D.push(new ct.MathNode("mtr",fe))}var Ee=new ct.MathNode("mtable",D),ke=C.arraystretch===.5?.1:.16+C.arraystretch-1+(C.addJot?.09:0);Ee.setAttribute("rowspacing",ke.toFixed(4)+"em");var Qe="",st="";if(C.cols&&C.cols.length>0){var lt=C.cols,gt="",mt=!1,wt=0,At=lt.length;lt[0].type==="separator"&&(Qe+="top ",wt=1),lt[lt.length-1].type==="separator"&&(Qe+="bottom ",At-=1);for(var Mt=wt;Mt<At;Mt++)lt[Mt].type==="align"?(st+=wo[lt[Mt].align],mt&&(gt+="none "),mt=!0):lt[Mt].type==="separator"&&mt&&(gt+=lt[Mt].separator==="|"?"solid ":"dashed ",mt=!1);Ee.setAttribute("columnalign",st.trim()),/[sd]/.test(gt)&&Ee.setAttribute("columnlines",gt.trim())}if(C.colSeparationType==="align"){for(var kt=C.cols||[],Ut="",tr=1;tr<kt.length;tr++)Ut+=tr%2?"0em ":"1em ";Ee.setAttribute("columnspacing",Ut.trim())}else C.colSeparationType==="alignat"||C.colSeparationType==="gather"?Ee.setAttribute("columnspacing","0em"):C.colSeparationType==="small"?Ee.setAttribute("columnspacing","0.2778em"):C.colSeparationType==="CD"?Ee.setAttribute("columnspacing","0.5em"):Ee.setAttribute("columnspacing","1em");var Ot="",Rt=C.hLinesBeforeRow;Qe+=Rt[0].length>0?"left ":"",Qe+=Rt[Rt.length-1].length>0?"right ":"";for(var rr=1;rr<Rt.length-1;rr++)Ot+=Rt[rr].length===0?"none ":Rt[rr][0]?"dashed ":"solid ";return/[sd]/.test(Ot)&&Ee.setAttribute("rowlines",Ot.trim()),Qe!==""&&(Ee=new ct.MathNode("menclose",[Ee]),Ee.setAttribute("notation",Qe.trim())),C.arraystretch&&C.arraystretch<1&&(Ee=new ct.MathNode("mstyle",[Ee]),Ee.setAttribute("scriptlevel","1")),Ee},pa=function(C,E){C.envName.indexOf("ed")===-1&&Qn(C);var D=[],G=C.envName.indexOf("at")>-1?"alignat":"align",I=di(C.parser,{cols:D,addJot:!0,addEqnNum:C.envName==="align"||C.envName==="alignat",colSeparationType:G,maxNumCols:C.envName==="split"?2:void 0,leqno:C.parser.settings.leqno},"display"),W,ne=0,fe={type:"ordgroup",mode:C.mode,body:[]};if(E[0]&&E[0].type==="ordgroup"){for(var ge="",Ee=0;Ee<E[0].body.length;Ee++){var ke=Tt(E[0].body[Ee],"textord");ge+=ke.text}W=Number(ge),ne=W*2}var Qe=!ne;I.body.forEach(function(mt){for(var wt=1;wt<mt.length;wt+=2){var At=Tt(mt[wt],"styling"),Mt=Tt(At.body[0],"ordgroup");Mt.body.unshift(fe)}if(Qe)ne<mt.length&&(ne=mt.length);else{var kt=mt.length/2;if(W<kt)throw new o("Too many math in a row: "+("expected "+W+", but got "+kt),mt[0])}});for(var st=0;st<ne;++st){var lt="r",gt=0;st%2===1?lt="l":st>0&&Qe&&(gt=1),D[st]={type:"align",align:lt,pregap:gt,postgap:0}}return I.colSeparationType=Qe?"align":"alignat",I};Rr({type:"array",names:["array","darray"],props:{numArgs:1},handler:function(C,E){var D=ws(E[0]),G=D?[E[0]]:Tt(E[0],"ordgroup").body,I=G.map(function(ne){var fe=na(ne),ge=fe.text;if("lcr".indexOf(ge)!==-1)return{type:"align",align:ge};if(ge==="|")return{type:"separator",separator:"|"};if(ge===":")return{type:"separator",separator:":"};throw new o("Unknown column alignment: "+ge,ne)}),W={cols:I,hskipBeforeAndAfter:!0,maxNumCols:I.length};return di(C.parser,W,Ii(C.envName))},htmlBuilder:ni,mathmlBuilder:Wr}),Rr({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler:function(C){var E={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[C.envName.replace("*","")],D="c",G={hskipBeforeAndAfter:!1,cols:[{type:"align",align:D}]};if(C.envName.charAt(C.envName.length-1)==="*"){var I=C.parser;if(I.consumeSpaces(),I.fetch().text==="["){if(I.consume(),I.consumeSpaces(),D=I.fetch().text,"lcr".indexOf(D)===-1)throw new o("Expected l or c or r",I.nextToken);I.consume(),I.consumeSpaces(),I.expect("]"),I.consume(),G.cols=[{type:"align",align:D}]}}var W=di(C.parser,G,Ii(C.envName));return W.cols=new Array(W.body[0].length).fill({type:"align",align:D}),E?{type:"leftright",mode:C.mode,body:[W],left:E[0],right:E[1],rightColor:void 0}:W},htmlBuilder:ni,mathmlBuilder:Wr}),Rr({type:"array",names:["smallmatrix"],props:{numArgs:0},handler:function(C){var E={arraystretch:.5},D=di(C.parser,E,"script");return D.colSeparationType="small",D},htmlBuilder:ni,mathmlBuilder:Wr}),Rr({type:"array",names:["subarray"],props:{numArgs:1},handler:function(C,E){var D=ws(E[0]),G=D?[E[0]]:Tt(E[0],"ordgroup").body,I=G.map(function(ne){var fe=na(ne),ge=fe.text;if("lc".indexOf(ge)!==-1)return{type:"align",align:ge};throw new o("Unknown column alignment: "+ge,ne)});if(I.length>1)throw new o("{subarray} can contain only one column");var W={cols:I,hskipBeforeAndAfter:!1,arraystretch:.5};if(W=di(C.parser,W,"script"),W.body.length>0&&W.body[0].length>1)throw new o("{subarray} can contain only one column");return W},htmlBuilder:ni,mathmlBuilder:Wr}),Rr({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler:function(C){var E={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},D=di(C.parser,E,Ii(C.envName));return{type:"leftright",mode:C.mode,body:[D],left:C.envName.indexOf("r")>-1?".":"\\{",right:C.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:ni,mathmlBuilder:Wr}),Rr({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:pa,htmlBuilder:ni,mathmlBuilder:Wr}),Rr({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler:function(C){x.contains(["gather","gather*"],C.envName)&&Qn(C);var E={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",addEqnNum:C.envName==="gather",leqno:C.parser.settings.leqno};return di(C.parser,E,"display")},htmlBuilder:ni,mathmlBuilder:Wr}),Rr({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:pa,htmlBuilder:ni,mathmlBuilder:Wr}),Rr({type:"array",names:["equation","equation*"],props:{numArgs:0},handler:function(C){Qn(C);var E={addEqnNum:C.envName==="equation",singleRow:!0,maxNumCols:1,leqno:C.parser.settings.leqno};return di(C.parser,E,"display")},htmlBuilder:ni,mathmlBuilder:Wr}),Rr({type:"array",names:["CD"],props:{numArgs:0},handler:function(C){return Qn(C),_l(C.parser)},htmlBuilder:ni,mathmlBuilder:Wr}),bt({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler:function(C,E){throw new o(C.funcName+" valid only within array environment")}});var So=Ms,ma=So;bt({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler:function(C,E){var D=C.parser,G=C.funcName,I=E[0];if(I.type!=="ordgroup")throw new o("Invalid environment name",I);for(var W="",ne=0;ne<I.body.length;++ne)W+=Tt(I.body[ne],"textord").text;if(G==="\\begin"){if(!ma.hasOwnProperty(W))throw new o("No such environment: "+W,I);var fe=ma[W],ge=D.parseArguments("\\begin{"+W+"}",fe),Ee=ge.args,ke=ge.optArgs,Qe={mode:D.mode,envName:W,parser:D},st=fe.handler(Qe,Ee,ke);D.expect("\\end",!1);var lt=D.nextToken,gt=Tt(D.parseFunction(),"environment");if(gt.name!==W)throw new o("Mismatch: \\begin{"+W+"} matched by \\end{"+gt.name+"}",lt);return st}return{type:"environment",mode:D.mode,name:W,nameGroup:I}}});var No=Ue.makeSpan;function va(V,C){var E=cr(V.body,C,!0);return No([V.mclass],E,C)}function ga(V,C){var E,D=Ar(V.body,C);return V.mclass==="minner"?ct.newDocumentFragment(D):(V.mclass==="mord"?V.isCharacterBox?(E=D[0],E.type="mi"):E=new ct.MathNode("mi",D):(V.isCharacterBox?(E=D[0],E.type="mo"):E=new ct.MathNode("mo",D),V.mclass==="mbin"?(E.attributes.lspace="0.22em",E.attributes.rspace="0.22em"):V.mclass==="mpunct"?(E.attributes.lspace="0em",E.attributes.rspace="0.17em"):(V.mclass==="mopen"||V.mclass==="mclose")&&(E.attributes.lspace="0em",E.attributes.rspace="0em")),E)}bt({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler:function(C,E){var D=C.parser,G=C.funcName,I=E[0];return{type:"mclass",mode:D.mode,mclass:"m"+G.substr(5),body:er(I),isCharacterBox:x.isCharacterBox(I)}},htmlBuilder:va,mathmlBuilder:ga});var xi=function(C){var E=C.type==="ordgroup"&&C.body.length?C.body[0]:C;return E.type==="atom"&&(E.family==="bin"||E.family==="rel")?"m"+E.family:"mord"};bt({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler:function(C,E){var D=C.parser;return{type:"mclass",mode:D.mode,mclass:xi(E[0]),body:er(E[1]),isCharacterBox:x.isCharacterBox(E[1])}}}),bt({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler:function(C,E){var D=C.parser,G=C.funcName,I=E[1],W=E[0],ne;G!=="\\stackrel"?ne=xi(I):ne="mrel";var fe={type:"op",mode:I.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:G!=="\\stackrel",body:er(I)},ge={type:"supsub",mode:W.mode,base:fe,sup:G==="\\underset"?null:W,sub:G==="\\underset"?W:null};return{type:"mclass",mode:D.mode,mclass:ne,body:[ge],isCharacterBox:x.isCharacterBox(ge)}},htmlBuilder:va,mathmlBuilder:ga});var Ds=function(C,E){var D=C.font,G=E.withFont(D);return Bt(C.body,G)},Ps=function(C,E){var D=C.font,G=E.withFont(D);return zt(C.body,G)},$o={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};bt({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:function(C,E){var D=C.parser,G=C.funcName,I=bs(E[0]),W=G;return W in $o&&(W=$o[W]),{type:"font",mode:D.mode,font:W.slice(1),body:I}},htmlBuilder:Ds,mathmlBuilder:Ps}),bt({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:function(C,E){var D=C.parser,G=E[0],I=x.isCharacterBox(G);return{type:"mclass",mode:D.mode,mclass:xi(G),body:[{type:"font",mode:D.mode,font:"boldsymbol",body:G}],isCharacterBox:I}}}),bt({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:function(C,E){var D=C.parser,G=C.funcName,I=C.breakOnTokenText,W=D.mode,ne=D.parseExpression(!0,I),fe="math"+G.slice(1);return{type:"font",mode:W,font:fe,body:{type:"ordgroup",mode:D.mode,body:ne}}},htmlBuilder:Ds,mathmlBuilder:Ps});var Eo=function(C,E){var D=E;return C==="display"?D=D.id>=Y.SCRIPT.id?D.text():Y.DISPLAY:C==="text"&&D.size===Y.DISPLAY.size?D=Y.TEXT:C==="script"?D=Y.SCRIPT:C==="scriptscript"&&(D=Y.SCRIPTSCRIPT),D},rn=function(C,E){var D=Eo(C.size,E.style),G=D.fracNum(),I=D.fracDen(),W;W=E.havingStyle(G);var ne=Bt(C.numer,W,E);if(C.continued){var fe=8.5/E.fontMetrics().ptPerEm,ge=3.5/E.fontMetrics().ptPerEm;ne.height=ne.height<fe?fe:ne.height,ne.depth=ne.depth<ge?ge:ne.depth}W=E.havingStyle(I);var Ee=Bt(C.denom,W,E),ke,Qe,st;C.hasBarLine?(C.barSize?(Qe=Vt(C.barSize,E),ke=Ue.makeLineSpan("frac-line",E,Qe)):ke=Ue.makeLineSpan("frac-line",E),Qe=ke.height,st=ke.height):(ke=null,Qe=0,st=E.fontMetrics().defaultRuleThickness);var lt,gt,mt;D.size===Y.DISPLAY.size||C.size==="display"?(lt=E.fontMetrics().num1,Qe>0?gt=3*st:gt=7*st,mt=E.fontMetrics().denom1):(Qe>0?(lt=E.fontMetrics().num2,gt=st):(lt=E.fontMetrics().num3,gt=3*st),mt=E.fontMetrics().denom2);var wt;if(ke){var Mt=E.fontMetrics().axisHeight;lt-ne.depth-(Mt+.5*Qe)<gt&&(lt+=gt-(lt-ne.depth-(Mt+.5*Qe))),Mt-.5*Qe-(Ee.height-mt)<gt&&(mt+=gt-(Mt-.5*Qe-(Ee.height-mt)));var kt=-(Mt-.5*Qe);wt=Ue.makeVList({positionType:"individualShift",children:[{type:"elem",elem:Ee,shift:mt},{type:"elem",elem:ke,shift:kt},{type:"elem",elem:ne,shift:-lt}]},E)}else{var At=lt-ne.depth-(Ee.height-mt);At<gt&&(lt+=.5*(gt-At),mt+=.5*(gt-At)),wt=Ue.makeVList({positionType:"individualShift",children:[{type:"elem",elem:Ee,shift:mt},{type:"elem",elem:ne,shift:-lt}]},E)}W=E.havingStyle(D),wt.height*=W.sizeMultiplier/E.sizeMultiplier,wt.depth*=W.sizeMultiplier/E.sizeMultiplier;var Ut;D.size===Y.DISPLAY.size?Ut=E.fontMetrics().delim1:Ut=E.fontMetrics().delim2;var tr,Ot;return C.leftDelim==null?tr=tn(E,["mopen"]):tr=hi.customSizedDelim(C.leftDelim,Ut,!0,E.havingStyle(D),C.mode,["mopen"]),C.continued?Ot=Ue.makeSpan([]):C.rightDelim==null?Ot=tn(E,["mclose"]):Ot=hi.customSizedDelim(C.rightDelim,Ut,!0,E.havingStyle(D),C.mode,["mclose"]),Ue.makeSpan(["mord"].concat(W.sizingClasses(E)),[tr,Ue.makeSpan(["mfrac"],[wt]),Ot],E)},ya=function(C,E){var D=new ct.MathNode("mfrac",[zt(C.numer,E),zt(C.denom,E)]);if(!C.hasBarLine)D.setAttribute("linethickness","0px");else if(C.barSize){var G=Vt(C.barSize,E);D.setAttribute("linethickness",G+"em")}var I=Eo(C.size,E.style);if(I.size!==E.style.size){D=new ct.MathNode("mstyle",[D]);var W=I.size===Y.DISPLAY.size?"true":"false";D.setAttribute("displaystyle",W),D.setAttribute("scriptlevel","0")}if(C.leftDelim!=null||C.rightDelim!=null){var ne=[];if(C.leftDelim!=null){var fe=new ct.MathNode("mo",[new ct.TextNode(C.leftDelim.replace("\\",""))]);fe.setAttribute("fence","true"),ne.push(fe)}if(ne.push(D),C.rightDelim!=null){var ge=new ct.MathNode("mo",[new ct.TextNode(C.rightDelim.replace("\\",""))]);ge.setAttribute("fence","true"),ne.push(ge)}return ta(ne)}return D};bt({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:function(C,E){var D=C.parser,G=C.funcName,I=E[0],W=E[1],ne,fe=null,ge=null,Ee="auto";switch(G){case"\\dfrac":case"\\frac":case"\\tfrac":ne=!0;break;case"\\\\atopfrac":ne=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":ne=!1,fe="(",ge=")";break;case"\\\\bracefrac":ne=!1,fe="\\{",ge="\\}";break;case"\\\\brackfrac":ne=!1,fe="[",ge="]";break;default:throw new Error("Unrecognized genfrac command")}switch(G){case"\\dfrac":case"\\dbinom":Ee="display";break;case"\\tfrac":case"\\tbinom":Ee="text";break}return{type:"genfrac",mode:D.mode,continued:!1,numer:I,denom:W,hasBarLine:ne,leftDelim:fe,rightDelim:ge,size:Ee,barSize:null}},htmlBuilder:rn,mathmlBuilder:ya}),bt({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:function(C,E){var D=C.parser;C.funcName;var G=E[0],I=E[1];return{type:"genfrac",mode:D.mode,continued:!0,numer:G,denom:I,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}}),bt({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler:function(C){var E=C.parser,D=C.funcName,G=C.token,I;switch(D){case"\\over":I="\\frac";break;case"\\choose":I="\\binom";break;case"\\atop":I="\\\\atopfrac";break;case"\\brace":I="\\\\bracefrac";break;case"\\brack":I="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:E.mode,replaceWith:I,token:G}}});var ba=["display","text","script","scriptscript"],xa=function(C){var E=null;return C.length>0&&(E=C,E=E==="."?null:E),E};bt({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler:function(C,E){var D=C.parser,G=E[4],I=E[5],W=bs(E[0]),ne=W.type==="atom"&&W.family==="open"?xa(W.text):null,fe=bs(E[1]),ge=fe.type==="atom"&&fe.family==="close"?xa(fe.text):null,Ee=Tt(E[2],"size"),ke,Qe=null;Ee.isBlank?ke=!0:(Qe=Ee.value,ke=Qe.number>0);var st="auto",lt=E[3];if(lt.type==="ordgroup"){if(lt.body.length>0){var gt=Tt(lt.body[0],"textord");st=ba[Number(gt.text)]}}else lt=Tt(lt,"textord"),st=ba[Number(lt.text)];return{type:"genfrac",mode:D.mode,numer:G,denom:I,continued:!1,hasBarLine:ke,barSize:Qe,leftDelim:ne,rightDelim:ge,size:st}},htmlBuilder:rn,mathmlBuilder:ya}),bt({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler:function(C,E){var D=C.parser;C.funcName;var G=C.token;return{type:"infix",mode:D.mode,replaceWith:"\\\\abovefrac",size:Tt(E[0],"size").value,token:G}}}),bt({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:function(C,E){var D=C.parser;C.funcName;var G=E[0],I=b(Tt(E[1],"infix").size),W=E[2],ne=I.number>0;return{type:"genfrac",mode:D.mode,numer:G,denom:W,continued:!1,hasBarLine:ne,barSize:I,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:rn,mathmlBuilder:ya});var Wt=function(C,E){var D=E.style,G,I;C.type==="supsub"?(G=C.sup?Bt(C.sup,E.havingStyle(D.sup()),E):Bt(C.sub,E.havingStyle(D.sub()),E),I=Tt(C.base,"horizBrace")):I=Tt(C,"horizBrace");var W=Bt(I.base,E.havingBaseStyle(Y.DISPLAY)),ne=_i.svgSpan(I,E),fe;if(I.isOver?(fe=Ue.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:W},{type:"kern",size:.1},{type:"elem",elem:ne}]},E),fe.children[0].children[0].children[1].classes.push("svg-align")):(fe=Ue.makeVList({positionType:"bottom",positionData:W.depth+.1+ne.height,children:[{type:"elem",elem:ne},{type:"kern",size:.1},{type:"elem",elem:W}]},E),fe.children[0].children[0].children[0].classes.push("svg-align")),G){var ge=Ue.makeSpan(["mord",I.isOver?"mover":"munder"],[fe],E);I.isOver?fe=Ue.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:ge},{type:"kern",size:.2},{type:"elem",elem:G}]},E):fe=Ue.makeVList({positionType:"bottom",positionData:ge.depth+.2+G.height+G.depth,children:[{type:"elem",elem:G},{type:"kern",size:.2},{type:"elem",elem:ge}]},E)}return Ue.makeSpan(["mord",I.isOver?"mover":"munder"],[fe],E)},Ca=function(C,E){var D=_i.mathMLnode(C.label);return new ct.MathNode(C.isOver?"mover":"munder",[zt(C.base,E),D])};bt({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler:function(C,E){var D=C.parser,G=C.funcName;return{type:"horizBrace",mode:D.mode,label:G,isOver:/^\\over/.test(G),base:E[0]}},htmlBuilder:Wt,mathmlBuilder:Ca}),bt({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:function(C,E){var D=C.parser,G=E[1],I=Tt(E[0],"url").url;return D.settings.isTrusted({command:"\\href",url:I})?{type:"href",mode:D.mode,href:I,body:er(G)}:D.formatUnsupportedCmd("\\href")},htmlBuilder:function(C,E){var D=cr(C.body,E,!1);return Ue.makeAnchor(C.href,[],D,E)},mathmlBuilder:function(C,E){var D=ri(C.body,E);return D instanceof Vr||(D=new Vr("mrow",[D])),D.setAttribute("href",C.href),D}}),bt({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:function(C,E){var D=C.parser,G=Tt(E[0],"url").url;if(!D.settings.isTrusted({command:"\\url",url:G}))return D.formatUnsupportedCmd("\\url");for(var I=[],W=0;W<G.length;W++){var ne=G[W];ne==="~"&&(ne="\\textasciitilde"),I.push({type:"textord",mode:"text",text:ne})}var fe={type:"text",mode:D.mode,font:"\\texttt",body:I};return{type:"href",mode:D.mode,href:G,body:er(fe)}}}),bt({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler:function(C,E){var D=C.parser;return{type:"hbox",mode:D.mode,body:er(E[0])}},htmlBuilder:function(C,E){var D=cr(C.body,E,!1);return Ue.makeFragment(D)},mathmlBuilder:function(C,E){return new ct.MathNode("mrow",Ar(C.body,E))}}),bt({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:function(C,E){var D=C.parser,G=C.funcName;C.token;var I=Tt(E[0],"raw").string,W=E[1];D.settings.strict&&D.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var ne,fe={};switch(G){case"\\htmlClass":fe.class=I,ne={command:"\\htmlClass",class:I};break;case"\\htmlId":fe.id=I,ne={command:"\\htmlId",id:I};break;case"\\htmlStyle":fe.style=I,ne={command:"\\htmlStyle",style:I};break;case"\\htmlData":{for(var ge=I.split(","),Ee=0;Ee<ge.length;Ee++){var ke=ge[Ee].split("=");if(ke.length!==2)throw new o("Error parsing key-value for \\htmlData");fe["data-"+ke[0].trim()]=ke[1].trim()}ne={command:"\\htmlData",attributes:fe};break}default:throw new Error("Unrecognized html command")}return D.settings.isTrusted(ne)?{type:"html",mode:D.mode,attributes:fe,body:er(W)}:D.formatUnsupportedCmd(G)},htmlBuilder:function(C,E){var D=cr(C.body,E,!1),G=["enclosing"];C.attributes.class&&G.push.apply(G,C.attributes.class.trim().split(/\s+/));var I=Ue.makeSpan(G,D,E);for(var W in C.attributes)W!=="class"&&C.attributes.hasOwnProperty(W)&&I.setAttribute(W,C.attributes[W]);return I},mathmlBuilder:function(C,E){return ri(C.body,E)}}),bt({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:function(C,E){var D=C.parser;return{type:"htmlmathml",mode:D.mode,html:er(E[0]),mathml:er(E[1])}},htmlBuilder:function(C,E){var D=cr(C.html,E,!1);return Ue.makeFragment(D)},mathmlBuilder:function(C,E){return ri(C.mathml,E)}});var $n=function(C){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(C))return{number:+C,unit:"bp"};var E=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(C);if(!E)throw new o("Invalid size: '"+C+"' in \\includegraphics");var D={number:+(E[1]+E[2]),unit:E[3]};if(!In(D))throw new o("Invalid unit: '"+D.unit+"' in \\includegraphics.");return D};bt({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:function(C,E,D){var G=C.parser,I={number:0,unit:"em"},W={number:.9,unit:"em"},ne={number:0,unit:"em"},fe="";if(D[0])for(var ge=Tt(D[0],"raw").string,Ee=ge.split(","),ke=0;ke<Ee.length;ke++){var Qe=Ee[ke].split("=");if(Qe.length===2){var st=Qe[1].trim();switch(Qe[0].trim()){case"alt":fe=st;break;case"width":I=$n(st);break;case"height":W=$n(st);break;case"totalheight":ne=$n(st);break;default:throw new o("Invalid key: '"+Qe[0]+"' in \\includegraphics.")}}}var lt=Tt(E[0],"url").url;return fe===""&&(fe=lt,fe=fe.replace(/^.*[\\/]/,""),fe=fe.substring(0,fe.lastIndexOf("."))),G.settings.isTrusted({command:"\\includegraphics",url:lt})?{type:"includegraphics",mode:G.mode,alt:fe,width:I,height:W,totalheight:ne,src:lt}:G.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:function(C,E){var D=Vt(C.height,E),G=0;C.totalheight.number>0&&(G=Vt(C.totalheight,E)-D,G=Number(G.toFixed(2)));var I=0;C.width.number>0&&(I=Vt(C.width,E));var W={height:D+G+"em"};I>0&&(W.width=I+"em"),G>0&&(W.verticalAlign=-G+"em");var ne=new Ke(C.src,C.alt,W);return ne.height=D,ne.depth=G,ne},mathmlBuilder:function(C,E){var D=new ct.MathNode("mglyph",[]);D.setAttribute("alt",C.alt);var G=Vt(C.height,E),I=0;if(C.totalheight.number>0&&(I=Vt(C.totalheight,E)-G,I=I.toFixed(2),D.setAttribute("valign","-"+I+"em")),D.setAttribute("height",G+I+"em"),C.width.number>0){var W=Vt(C.width,E);D.setAttribute("width",W+"em")}return D.setAttribute("src",C.src),D}}),bt({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler:function(C,E){var D=C.parser,G=C.funcName,I=Tt(E[0],"size");if(D.settings.strict){var W=G[1]==="m",ne=I.value.unit==="mu";W?(ne||D.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+G+" supports only mu units, "+("not "+I.value.unit+" units")),D.mode!=="math"&&D.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+G+" works only in math mode")):ne&&D.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+G+" doesn't support mu units")}return{type:"kern",mode:D.mode,dimension:I.value}},htmlBuilder:function(C,E){return Ue.makeGlue(C.dimension,E)},mathmlBuilder:function(C,E){var D=Vt(C.dimension,E);return new ct.SpaceNode(D)}}),bt({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:function(C,E){var D=C.parser,G=C.funcName,I=E[0];return{type:"lap",mode:D.mode,alignment:G.slice(5),body:I}},htmlBuilder:function(C,E){var D;C.alignment==="clap"?(D=Ue.makeSpan([],[Bt(C.body,E)]),D=Ue.makeSpan(["inner"],[D],E)):D=Ue.makeSpan(["inner"],[Bt(C.body,E)]);var G=Ue.makeSpan(["fix"],[]),I=Ue.makeSpan([C.alignment],[D,G],E),W=Ue.makeSpan(["strut"]);return W.style.height=I.height+I.depth+"em",W.style.verticalAlign=-I.depth+"em",I.children.unshift(W),I=Ue.makeSpan(["thinbox"],[I],E),Ue.makeSpan(["mord","vbox"],[I],E)},mathmlBuilder:function(C,E){var D=new ct.MathNode("mpadded",[zt(C.body,E)]);if(C.alignment!=="rlap"){var G=C.alignment==="llap"?"-1":"-0.5";D.setAttribute("lspace",G+"width")}return D.setAttribute("width","0px"),D}}),bt({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler:function(C,E){var D=C.funcName,G=C.parser,I=G.mode;G.switchMode("math");var W=D==="\\("?"\\)":"$",ne=G.parseExpression(!1,W);return G.expect(W),G.switchMode(I),{type:"styling",mode:G.mode,style:"text",body:ne}}}),bt({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler:function(C,E){throw new o("Mismatched "+C.funcName)}});var En=function(C,E){switch(E.style.size){case Y.DISPLAY.size:return C.display;case Y.TEXT.size:return C.text;case Y.SCRIPT.size:return C.script;case Y.SCRIPTSCRIPT.size:return C.scriptscript;default:return C.text}};bt({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:function(C,E){var D=C.parser;return{type:"mathchoice",mode:D.mode,display:er(E[0]),text:er(E[1]),script:er(E[2]),scriptscript:er(E[3])}},htmlBuilder:function(C,E){var D=En(C,E),G=cr(D,E,!1);return Ue.makeFragment(G)},mathmlBuilder:function(C,E){var D=En(C,E);return ri(D,E)}});var wa=function(C,E,D,G,I,W,ne){C=Ue.makeSpan([],[C]);var fe,ge;if(E){var Ee=Bt(E,G.havingStyle(I.sup()),G);ge={elem:Ee,kern:Math.max(G.fontMetrics().bigOpSpacing1,G.fontMetrics().bigOpSpacing3-Ee.depth)}}if(D){var ke=Bt(D,G.havingStyle(I.sub()),G);fe={elem:ke,kern:Math.max(G.fontMetrics().bigOpSpacing2,G.fontMetrics().bigOpSpacing4-ke.height)}}var Qe;if(ge&&fe){var st=G.fontMetrics().bigOpSpacing5+fe.elem.height+fe.elem.depth+fe.kern+C.depth+ne;Qe=Ue.makeVList({positionType:"bottom",positionData:st,children:[{type:"kern",size:G.fontMetrics().bigOpSpacing5},{type:"elem",elem:fe.elem,marginLeft:-W+"em"},{type:"kern",size:fe.kern},{type:"elem",elem:C},{type:"kern",size:ge.kern},{type:"elem",elem:ge.elem,marginLeft:W+"em"},{type:"kern",size:G.fontMetrics().bigOpSpacing5}]},G)}else if(fe){var lt=C.height-ne;Qe=Ue.makeVList({positionType:"top",positionData:lt,children:[{type:"kern",size:G.fontMetrics().bigOpSpacing5},{type:"elem",elem:fe.elem,marginLeft:-W+"em"},{type:"kern",size:fe.kern},{type:"elem",elem:C}]},G)}else if(ge){var gt=C.depth+ne;Qe=Ue.makeVList({positionType:"bottom",positionData:gt,children:[{type:"elem",elem:C},{type:"kern",size:ge.kern},{type:"elem",elem:ge.elem,marginLeft:W+"em"},{type:"kern",size:G.fontMetrics().bigOpSpacing5}]},G)}else return C;return Ue.makeSpan(["mop","op-limits"],[Qe],G)},Xs=["\\smallint"],Ci=function(C,E){var D,G,I=!1,W;C.type==="supsub"?(D=C.sup,G=C.sub,W=Tt(C.base,"op"),I=!0):W=Tt(C,"op");var ne=E.style,fe=!1;ne.size===Y.DISPLAY.size&&W.symbol&&!x.contains(Xs,W.name)&&(fe=!0);var ge;if(W.symbol){var Ee=fe?"Size2-Regular":"Size1-Regular",ke="";if((W.name==="\\oiint"||W.name==="\\oiiint")&&(ke=W.name.substr(1),W.name=ke==="oiint"?"\\iint":"\\iiint"),ge=Ue.makeSymbol(W.name,Ee,"math",E,["mop","op-symbol",fe?"large-op":"small-op"]),ke.length>0){var Qe=ge.italic,st=Ue.staticSvg(ke+"Size"+(fe?"2":"1"),E);ge=Ue.makeVList({positionType:"individualShift",children:[{type:"elem",elem:ge,shift:0},{type:"elem",elem:st,shift:fe?.08:0}]},E),W.name="\\"+ke,ge.classes.unshift("mop"),ge.italic=Qe}}else if(W.body){var lt=cr(W.body,E,!0);lt.length===1&&lt[0]instanceof ve?(ge=lt[0],ge.classes[0]="mop"):ge=Ue.makeSpan(["mop"],lt,E)}else{for(var gt=[],mt=1;mt<W.name.length;mt++)gt.push(Ue.mathsym(W.name[mt],W.mode,E));ge=Ue.makeSpan(["mop"],gt,E)}var wt=0,At=0;return(ge instanceof ve||W.name==="\\oiint"||W.name==="\\oiiint")&&!W.suppressBaseShift&&(wt=(ge.height-ge.depth)/2-E.fontMetrics().axisHeight,At=ge.italic),I?wa(ge,D,G,E,ne,At,wt):(wt&&(ge.style.position="relative",ge.style.top=wt+"em"),ge)},Fi=function(C,E){var D;if(C.symbol)D=new Vr("mo",[Sr(C.name,C.mode)]),x.contains(Xs,C.name)&&D.setAttribute("largeop","false");else if(C.body)D=new Vr("mo",Ar(C.body,E));else{D=new Vr("mi",[new vr(C.name.slice(1))]);var G=new Vr("mo",[Sr("","text")]);C.parentIsSupSub?D=new Vr("mrow",[D,G]):D=Yn([D,G])}return D},_n={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};bt({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:function(C,E){var D=C.parser,G=C.funcName,I=G;return I.length===1&&(I=_n[I]),{type:"op",mode:D.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:I}},htmlBuilder:Ci,mathmlBuilder:Fi}),bt({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:function(C,E){var D=C.parser,G=E[0];return{type:"op",mode:D.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:er(G)}},htmlBuilder:Ci,mathmlBuilder:Fi});var _o={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};bt({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler:function(C){var E=C.parser,D=C.funcName;return{type:"op",mode:E.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:D}},htmlBuilder:Ci,mathmlBuilder:Fi}),bt({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler:function(C){var E=C.parser,D=C.funcName;return{type:"op",mode:E.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:D}},htmlBuilder:Ci,mathmlBuilder:Fi}),bt({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0},handler:function(C){var E=C.parser,D=C.funcName,G=D;return G.length===1&&(G=_o[G]),{type:"op",mode:E.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:G}},htmlBuilder:Ci,mathmlBuilder:Fi});var Mo=function(C,E){var D,G,I=!1,W;C.type==="supsub"?(D=C.sup,G=C.sub,W=Tt(C.base,"operatorname"),I=!0):W=Tt(C,"operatorname");var ne;if(W.body.length>0){for(var fe=W.body.map(function(Qe){var st=Qe.text;return typeof st=="string"?{type:"textord",mode:Qe.mode,text:st}:Qe}),ge=cr(fe,E.withFont("mathrm"),!0),Ee=0;Ee<ge.length;Ee++){var ke=ge[Ee];ke instanceof ve&&(ke.text=ke.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}ne=Ue.makeSpan(["mop"],ge,E)}else ne=Ue.makeSpan(["mop"],[],E);return I?wa(ne,D,G,E,E.style,0,0):ne},Gl=function(C,E){for(var D=Ar(C.body,E.withFont("mathrm")),G=!0,I=0;I<D.length;I++){var W=D[I];if(!(W instanceof ct.SpaceNode))if(W instanceof ct.MathNode)switch(W.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var ne=W.children[0];W.children.length===1&&ne instanceof ct.TextNode?ne.text=ne.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):G=!1;break}default:G=!1}else G=!1}if(G){var fe=D.map(function(ke){return ke.toText()}).join("");D=[new ct.TextNode(fe)]}var ge=new ct.MathNode("mi",D);ge.setAttribute("mathvariant","normal");var Ee=new ct.MathNode("mo",[Sr("","text")]);return C.parentIsSupSub?new ct.MathNode("mrow",[ge,Ee]):ct.newDocumentFragment([ge,Ee])};bt({type:"operatorname",names:["\\operatorname","\\operatorname*"],props:{numArgs:1},handler:function(C,E){var D=C.parser,G=C.funcName,I=E[0];return{type:"operatorname",mode:D.mode,body:er(I),alwaysHandleSupSub:G==="\\operatorname*",limits:!1,parentIsSupSub:!1}},htmlBuilder:Mo,mathmlBuilder:Gl}),ki({type:"ordgroup",htmlBuilder:function(C,E){return C.semisimple?Ue.makeFragment(cr(C.body,E,!1)):Ue.makeSpan(["mord"],cr(C.body,E,!0),E)},mathmlBuilder:function(C,E){return ri(C.body,E,!0)}}),bt({type:"overline",names:["\\overline"],props:{numArgs:1},handler:function(C,E){var D=C.parser,G=E[0];return{type:"overline",mode:D.mode,body:G}},htmlBuilder:function(C,E){var D=Bt(C.body,E.havingCrampedStyle()),G=Ue.makeLineSpan("overline-line",E),I=E.fontMetrics().defaultRuleThickness,W=Ue.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:D},{type:"kern",size:3*I},{type:"elem",elem:G},{type:"kern",size:I}]},E);return Ue.makeSpan(["mord","overline"],[W],E)},mathmlBuilder:function(C,E){var D=new ct.MathNode("mo",[new ct.TextNode("")]);D.setAttribute("stretchy","true");var G=new ct.MathNode("mover",[zt(C.body,E),D]);return G.setAttribute("accent","true"),G}}),bt({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:function(C,E){var D=C.parser,G=E[0];return{type:"phantom",mode:D.mode,body:er(G)}},htmlBuilder:function(C,E){var D=cr(C.body,E.withPhantom(),!1);return Ue.makeFragment(D)},mathmlBuilder:function(C,E){var D=Ar(C.body,E);return new ct.MathNode("mphantom",D)}}),bt({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:function(C,E){var D=C.parser,G=E[0];return{type:"hphantom",mode:D.mode,body:G}},htmlBuilder:function(C,E){var D=Ue.makeSpan([],[Bt(C.body,E.withPhantom())]);if(D.height=0,D.depth=0,D.children)for(var G=0;G<D.children.length;G++)D.children[G].height=0,D.children[G].depth=0;return D=Ue.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:D}]},E),Ue.makeSpan(["mord"],[D],E)},mathmlBuilder:function(C,E){var D=Ar(er(C.body),E),G=new ct.MathNode("mphantom",D),I=new ct.MathNode("mpadded",[G]);return I.setAttribute("height","0px"),I.setAttribute("depth","0px"),I}}),bt({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:function(C,E){var D=C.parser,G=E[0];return{type:"vphantom",mode:D.mode,body:G}},htmlBuilder:function(C,E){var D=Ue.makeSpan(["inner"],[Bt(C.body,E.withPhantom())]),G=Ue.makeSpan(["fix"],[]);return Ue.makeSpan(["mord","rlap"],[D,G],E)},mathmlBuilder:function(C,E){var D=Ar(er(C.body),E),G=new ct.MathNode("mphantom",D),I=new ct.MathNode("mpadded",[G]);return I.setAttribute("width","0px"),I}}),bt({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler:function(C,E){var D=C.parser,G=Tt(E[0],"size").value,I=E[1];return{type:"raisebox",mode:D.mode,dy:G,body:I}},htmlBuilder:function(C,E){var D=Bt(C.body,E),G=Vt(C.dy,E);return Ue.makeVList({positionType:"shift",positionData:-G,children:[{type:"elem",elem:D}]},E)},mathmlBuilder:function(C,E){var D=new ct.MathNode("mpadded",[zt(C.body,E)]),G=C.dy.number+C.dy.unit;return D.setAttribute("voffset",G),D}}),bt({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},handler:function(C,E,D){var G=C.parser,I=D[0],W=Tt(E[0],"size"),ne=Tt(E[1],"size");return{type:"rule",mode:G.mode,shift:I&&Tt(I,"size").value,width:W.value,height:ne.value}},htmlBuilder:function(C,E){var D=Ue.makeSpan(["mord","rule"],[],E),G=Vt(C.width,E),I=Vt(C.height,E),W=C.shift?Vt(C.shift,E):0;return D.style.borderRightWidth=G+"em",D.style.borderTopWidth=I+"em",D.style.bottom=W+"em",D.width=G,D.height=I+W,D.depth=-W,D.maxFontSize=I*1.125*E.sizeMultiplier,D},mathmlBuilder:function(C,E){var D=Vt(C.width,E),G=Vt(C.height,E),I=C.shift?Vt(C.shift,E):0,W=E.color&&E.getColor()||"black",ne=new ct.MathNode("mspace");ne.setAttribute("mathbackground",W),ne.setAttribute("width",D+"em"),ne.setAttribute("height",G+"em");var fe=new ct.MathNode("mpadded",[ne]);return I>=0?fe.setAttribute("height","+"+I+"em"):(fe.setAttribute("height",I+"em"),fe.setAttribute("depth","+"+-I+"em")),fe.setAttribute("voffset",I+"em"),fe}});function Sa(V,C,E){for(var D=cr(V,C,!1),G=C.sizeMultiplier/E.sizeMultiplier,I=0;I<D.length;I++){var W=D[I].classes.indexOf("sizing");W<0?Array.prototype.push.apply(D[I].classes,C.sizingClasses(E)):D[I].classes[W+1]==="reset-size"+C.size&&(D[I].classes[W+1]="reset-size"+E.size),D[I].height*=G,D[I].depth*=G}return Ue.makeFragment(D)}var Kn=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],Gs=function(C,E){var D=E.havingSize(C.size);return Sa(C.body,D,E)};bt({type:"sizing",names:Kn,props:{numArgs:0,allowedInText:!0},handler:function(C,E){var D=C.breakOnTokenText,G=C.funcName,I=C.parser,W=I.parseExpression(!1,D);return{type:"sizing",mode:I.mode,size:Kn.indexOf(G)+1,body:W}},htmlBuilder:Gs,mathmlBuilder:function(C,E){var D=E.havingSize(C.size),G=Ar(C.body,D),I=new ct.MathNode("mstyle",G);return I.setAttribute("mathsize",D.sizeMultiplier+"em"),I}}),bt({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:function(C,E,D){var G=C.parser,I=!1,W=!1,ne=D[0]&&Tt(D[0],"ordgroup");if(ne)for(var fe="",ge=0;ge<ne.body.length;++ge){var Ee=ne.body[ge];if(fe=Ee.text,fe==="t")I=!0;else if(fe==="b")W=!0;else{I=!1,W=!1;break}}else I=!0,W=!0;var ke=E[0];return{type:"smash",mode:G.mode,body:ke,smashHeight:I,smashDepth:W}},htmlBuilder:function(C,E){var D=Ue.makeSpan([],[Bt(C.body,E)]);if(!C.smashHeight&&!C.smashDepth)return D;if(C.smashHeight&&(D.height=0,D.children))for(var G=0;G<D.children.length;G++)D.children[G].height=0;if(C.smashDepth&&(D.depth=0,D.children))for(var I=0;I<D.children.length;I++)D.children[I].depth=0;var W=Ue.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:D}]},E);return Ue.makeSpan(["mord"],[W],E)},mathmlBuilder:function(C,E){var D=new ct.MathNode("mpadded",[zt(C.body,E)]);return C.smashHeight&&D.setAttribute("height","0px"),C.smashDepth&&D.setAttribute("depth","0px"),D}}),bt({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler:function(C,E,D){var G=C.parser,I=D[0],W=E[0];return{type:"sqrt",mode:G.mode,body:W,index:I}},htmlBuilder:function(C,E){var D=Bt(C.body,E.havingCrampedStyle());D.height===0&&(D.height=E.fontMetrics().xHeight),D=Ue.wrapFragment(D,E);var G=E.fontMetrics(),I=G.defaultRuleThickness,W=I;E.style.id<Y.TEXT.id&&(W=E.fontMetrics().xHeight);var ne=I+W/4,fe=D.height+D.depth+ne+I,ge=hi.sqrtImage(fe,E),Ee=ge.span,ke=ge.ruleWidth,Qe=ge.advanceWidth,st=Ee.height-ke;st>D.height+D.depth+ne&&(ne=(ne+st-D.height-D.depth)/2);var lt=Ee.height-D.height-ne-ke;D.style.paddingLeft=Qe+"em";var gt=Ue.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:D,wrapperClasses:["svg-align"]},{type:"kern",size:-(D.height+lt)},{type:"elem",elem:Ee},{type:"kern",size:ke}]},E);if(C.index){var mt=E.havingStyle(Y.SCRIPTSCRIPT),wt=Bt(C.index,mt,E),At=.6*(gt.height-gt.depth),Mt=Ue.makeVList({positionType:"shift",positionData:-At,children:[{type:"elem",elem:wt}]},E),kt=Ue.makeSpan(["root"],[Mt]);return Ue.makeSpan(["mord","sqrt"],[kt,gt],E)}else return Ue.makeSpan(["mord","sqrt"],[gt],E)},mathmlBuilder:function(C,E){var D=C.body,G=C.index;return G?new ct.MathNode("mroot",[zt(D,E),zt(G,E)]):new ct.MathNode("msqrt",[zt(D,E)])}});var Ts={display:Y.DISPLAY,text:Y.TEXT,script:Y.SCRIPT,scriptscript:Y.SCRIPTSCRIPT};bt({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler:function(C,E){var D=C.breakOnTokenText,G=C.funcName,I=C.parser,W=I.parseExpression(!0,D),ne=G.slice(1,G.length-5);return{type:"styling",mode:I.mode,style:ne,body:W}},htmlBuilder:function(C,E){var D=Ts[C.style],G=E.havingStyle(D).withFont("");return Sa(C.body,G,E)},mathmlBuilder:function(C,E){var D=Ts[C.style],G=E.havingStyle(D),I=Ar(C.body,G),W=new ct.MathNode("mstyle",I),ne={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},fe=ne[C.style];return W.setAttribute("scriptlevel",fe[0]),W.setAttribute("displaystyle",fe[1]),W}});var Na=function(C,E){var D=C.base;if(D)if(D.type==="op"){var G=D.limits&&(E.style.size===Y.DISPLAY.size||D.alwaysHandleSupSub);return G?Ci:null}else if(D.type==="operatorname"){var I=D.alwaysHandleSupSub&&(E.style.size===Y.DISPLAY.size||D.limits);return I?Mo:null}else{if(D.type==="accent")return x.isCharacterBox(D.base)?jn:null;if(D.type==="horizBrace"){var W=!C.sub;return W===D.isOver?Wt:null}else return null}else return null};ki({type:"supsub",htmlBuilder:function(C,E){var D=Na(C,E);if(D)return D(C,E);var G=C.base,I=C.sup,W=C.sub,ne=Bt(G,E),fe,ge,Ee=E.fontMetrics(),ke=0,Qe=0,st=G&&x.isCharacterBox(G);if(I){var lt=E.havingStyle(E.style.sup());fe=Bt(I,lt,E),st||(ke=ne.height-lt.fontMetrics().supDrop*lt.sizeMultiplier/E.sizeMultiplier)}if(W){var gt=E.havingStyle(E.style.sub());ge=Bt(W,gt,E),st||(Qe=ne.depth+gt.fontMetrics().subDrop*gt.sizeMultiplier/E.sizeMultiplier)}var mt;E.style===Y.DISPLAY?mt=Ee.sup1:E.style.cramped?mt=Ee.sup3:mt=Ee.sup2;var wt=E.sizeMultiplier,At=.5/Ee.ptPerEm/wt+"em",Mt=null;if(ge){var kt=C.base&&C.base.type==="op"&&C.base.name&&(C.base.name==="\\oiint"||C.base.name==="\\oiiint");(ne instanceof ve||kt)&&(Mt=-ne.italic+"em")}var Ut;if(fe&&ge){ke=Math.max(ke,mt,fe.depth+.25*Ee.xHeight),Qe=Math.max(Qe,Ee.sub2);var tr=Ee.defaultRuleThickness,Ot=4*tr;if(ke-fe.depth-(ge.height-Qe)<Ot){Qe=Ot-(ke-fe.depth)+ge.height;var Rt=.8*Ee.xHeight-(ke-fe.depth);Rt>0&&(ke+=Rt,Qe-=Rt)}var rr=[{type:"elem",elem:ge,shift:Qe,marginRight:At,marginLeft:Mt},{type:"elem",elem:fe,shift:-ke,marginRight:At}];Ut=Ue.makeVList({positionType:"individualShift",children:rr},E)}else if(ge){Qe=Math.max(Qe,Ee.sub1,ge.height-.8*Ee.xHeight);var It=[{type:"elem",elem:ge,marginLeft:Mt,marginRight:At}];Ut=Ue.makeVList({positionType:"shift",positionData:Qe,children:It},E)}else if(fe)ke=Math.max(ke,mt,fe.depth+.25*Ee.xHeight),Ut=Ue.makeVList({positionType:"shift",positionData:-ke,children:[{type:"elem",elem:fe,marginRight:At}]},E);else throw new Error("supsub must have either sup or sub.");var Gr=bi(ne,"right")||"mord";return Ue.makeSpan([Gr],[ne,Ue.makeSpan(["msupsub"],[Ut])],E)},mathmlBuilder:function(C,E){var D=!1,G,I;C.base&&C.base.type==="horizBrace"&&(I=!!C.sup,I===C.base.isOver&&(D=!0,G=C.base.isOver)),C.base&&(C.base.type==="op"||C.base.type==="operatorname")&&(C.base.parentIsSupSub=!0);var W=[zt(C.base,E)];C.sub&&W.push(zt(C.sub,E)),C.sup&&W.push(zt(C.sup,E));var ne;if(D)ne=G?"mover":"munder";else if(C.sub)if(C.sup){var Ee=C.base;Ee&&Ee.type==="op"&&Ee.limits&&E.style===Y.DISPLAY||Ee&&Ee.type==="operatorname"&&Ee.alwaysHandleSupSub&&(E.style===Y.DISPLAY||Ee.limits)?ne="munderover":ne="msubsup"}else{var ge=C.base;ge&&ge.type==="op"&&ge.limits&&(E.style===Y.DISPLAY||ge.alwaysHandleSupSub)||ge&&ge.type==="operatorname"&&ge.alwaysHandleSupSub&&(ge.limits||E.style===Y.DISPLAY)?ne="munder":ne="msub"}else{var fe=C.base;fe&&fe.type==="op"&&fe.limits&&(E.style===Y.DISPLAY||fe.alwaysHandleSupSub)||fe&&fe.type==="operatorname"&&fe.alwaysHandleSupSub&&(fe.limits||E.style===Y.DISPLAY)?ne="mover":ne="msup"}return new ct.MathNode(ne,W)}}),ki({type:"atom",htmlBuilder:function(C,E){return Ue.mathsym(C.text,C.mode,E,["m"+C.family])},mathmlBuilder:function(C,E){var D=new ct.MathNode("mo",[Sr(C.text,C.mode)]);if(C.family==="bin"){var G=qn(C,E);G==="bold-italic"&&D.setAttribute("mathvariant",G)}else C.family==="punct"?D.setAttribute("separator","true"):(C.family==="open"||C.family==="close")&&D.setAttribute("stretchy","false");return D}});var Os={mi:"italic",mn:"normal",mtext:"normal"};ki({type:"mathord",htmlBuilder:function(C,E){return Ue.makeOrd(C,E,"mathord")},mathmlBuilder:function(C,E){var D=new ct.MathNode("mi",[Sr(C.text,C.mode,E)]),G=qn(C,E)||"italic";return G!==Os[D.type]&&D.setAttribute("mathvariant",G),D}}),ki({type:"textord",htmlBuilder:function(C,E){return Ue.makeOrd(C,E,"textord")},mathmlBuilder:function(C,E){var D=Sr(C.text,C.mode,E),G=qn(C,E)||"normal",I;return C.mode==="text"?I=new ct.MathNode("mtext",[D]):/[0-9]/.test(C.text)?I=new ct.MathNode("mn",[D]):C.text==="\\prime"?I=new ct.MathNode("mo",[D]):I=new ct.MathNode("mi",[D]),G!==Os[I.type]&&I.setAttribute("mathvariant",G),I}});var es={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},$a={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};ki({type:"spacing",htmlBuilder:function(C,E){if($a.hasOwnProperty(C.text)){var D=$a[C.text].className||"";if(C.mode==="text"){var G=Ue.makeOrd(C,E,"textord");return G.classes.push(D),G}else return Ue.makeSpan(["mspace",D],[Ue.mathsym(C.text,C.mode,E)],E)}else{if(es.hasOwnProperty(C.text))return Ue.makeSpan(["mspace",es[C.text]],[],E);throw new o('Unknown type of space "'+C.text+'"')}},mathmlBuilder:function(C,E){var D;if($a.hasOwnProperty(C.text))D=new ct.MathNode("mtext",[new ct.TextNode("")]);else{if(es.hasOwnProperty(C.text))return new ct.MathNode("mspace");throw new o('Unknown type of space "'+C.text+'"')}return D}});var Ea=function(){var C=new ct.MathNode("mtd",[]);return C.setAttribute("width","50%"),C};ki({type:"tag",mathmlBuilder:function(C,E){var D=new ct.MathNode("mtable",[new ct.MathNode("mtr",[Ea(),new ct.MathNode("mtd",[ri(C.body,E)]),Ea(),new ct.MathNode("mtd",[ri(C.tag,E)])])]);return D.setAttribute("width","100%"),D}});var Ao={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},Do={"\\textbf":"textbf","\\textmd":"textmd"},_a={"\\textit":"textit","\\textup":"textup"},Mi=function(C,E){var D=C.font;return D?Ao[D]?E.withTextFontFamily(Ao[D]):Do[D]?E.withTextFontWeight(Do[D]):E.withTextFontShape(_a[D]):E};bt({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler:function(C,E){var D=C.parser,G=C.funcName,I=E[0];return{type:"text",mode:D.mode,body:er(I),font:G}},htmlBuilder:function(C,E){var D=Mi(C,E),G=cr(C.body,D,!0);return Ue.makeSpan(["mord","text"],G,D)},mathmlBuilder:function(C,E){var D=Mi(C,E);return ri(C.body,D)}}),bt({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler:function(C,E){var D=C.parser;return{type:"underline",mode:D.mode,body:E[0]}},htmlBuilder:function(C,E){var D=Bt(C.body,E),G=Ue.makeLineSpan("underline-line",E),I=E.fontMetrics().defaultRuleThickness,W=Ue.makeVList({positionType:"top",positionData:D.height,children:[{type:"kern",size:I},{type:"elem",elem:G},{type:"kern",size:3*I},{type:"elem",elem:D}]},E);return Ue.makeSpan(["mord","underline"],[W],E)},mathmlBuilder:function(C,E){var D=new ct.MathNode("mo",[new ct.TextNode("")]);D.setAttribute("stretchy","true");var G=new ct.MathNode("munder",[zt(C.body,E),D]);return G.setAttribute("accentunder","true"),G}}),bt({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler:function(C,E){var D=C.parser;return{type:"vcenter",mode:D.mode,body:E[0]}},htmlBuilder:function(C,E){var D=Bt(C.body,E),G=E.fontMetrics().axisHeight,I=.5*(D.height-G-(D.depth+G));return Ue.makeVList({positionType:"shift",positionData:I,children:[{type:"elem",elem:D}]},E)},mathmlBuilder:function(C,E){return new ct.MathNode("mpadded",[zt(C.body,E)],["vcenter"])}}),bt({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler:function(C,E,D){throw new o("\\verb ended by end of line instead of matching delimiter")},htmlBuilder:function(C,E){for(var D=Ma(C),G=[],I=E.havingStyle(E.style.text()),W=0;W<D.length;W++){var ne=D[W];ne==="~"&&(ne="\\textasciitilde"),G.push(Ue.makeSymbol(ne,"Typewriter-Regular",C.mode,I,["mord","texttt"]))}return Ue.makeSpan(["mord","text"].concat(I.sizingClasses(E)),Ue.tryCombineChars(G),I)},mathmlBuilder:function(C,E){var D=new ct.TextNode(Ma(C)),G=new ct.MathNode("mtext",[D]);return G.setAttribute("mathvariant","monospace"),G}});var Ma=function(C){return C.body.replace(/ /g,C.star?"":"")},Mn=pn,gr=Mn,Dr=(function(){function V(C,E,D){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=C,this.start=E,this.end=D}return V.range=function(E,D){return D?!E||!E.loc||!D.loc||E.loc.lexer!==D.loc.lexer?null:new V(E.loc.lexer,E.loc.start,D.loc.end):E&&E.loc},V})(),Pr=(function(){function V(E,D){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=E,this.loc=D}var C=V.prototype;return C.range=function(D,G){return new V(G,Dr.range(this,D))},V})(),ts=`[ \r
	]`,Po="\\\\[a-zA-Z@]+",Tl="\\\\[^\uD800-\uDFFF]",nn=""+Po+ts+"*",rs=new RegExp("^("+Po+")"+ts+"*$"),Li="[-]",Js=new RegExp(Li+"+$"),Aa="("+ts+"+)|([!-\\[\\]---]"+(Li+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(Li+"*")+"|\\\\verb\\*([^]).*?\\3|\\\\verb([^*a-zA-Z]).*?\\4|\\\\operatorname\\*"+("|"+nn)+("|"+Tl+")"),sn=(function(){function V(E,D){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=E,this.settings=D,this.tokenRegex=new RegExp(Aa,"g"),this.catcodes={"%":14}}var C=V.prototype;return C.setCatcode=function(D,G){this.catcodes[D]=G},C.lex=function(){var D=this.input,G=this.tokenRegex.lastIndex;if(G===D.length)return new Pr("EOF",new Dr(this,G,G));var I=this.tokenRegex.exec(D);if(I===null||I.index!==G)throw new o("Unexpected character: '"+D[G]+"'",new Pr(D[G],new Dr(this,G,G+1)));var W=I[2]||" ";if(this.catcodes[W]===14){var ne=D.indexOf(`
`,this.tokenRegex.lastIndex);return ne===-1?(this.tokenRegex.lastIndex=D.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=ne+1,this.lex()}var fe=W.match(rs);return fe&&(W=fe[1]),new Pr(W,new Dr(this,G,this.tokenRegex.lastIndex))},V})(),zi=(function(){function V(E,D){E===void 0&&(E={}),D===void 0&&(D={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=D,this.builtins=E,this.undefStack=[]}var C=V.prototype;return C.beginGroup=function(){this.undefStack.push({})},C.endGroup=function(){if(this.undefStack.length===0)throw new o("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var D=this.undefStack.pop();for(var G in D)D.hasOwnProperty(G)&&(D[G]===void 0?delete this.current[G]:this.current[G]=D[G])},C.has=function(D){return this.current.hasOwnProperty(D)||this.builtins.hasOwnProperty(D)},C.get=function(D){return this.current.hasOwnProperty(D)?this.current[D]:this.builtins[D]},C.set=function(D,G,I){if(I===void 0&&(I=!1),I){for(var W=0;W<this.undefStack.length;W++)delete this.undefStack[W][D];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][D]=G)}else{var ne=this.undefStack[this.undefStack.length-1];ne&&!ne.hasOwnProperty(D)&&(ne[D]=this.current[D])}this.current[D]=G},V})(),Zt={},Qt=Zt;function he(V,C){Zt[V]=C}he("\\noexpand",function(V){var C=V.popToken();return V.isExpandable(C.text)&&(C.noexpand=!0,C.treatAsRelax=!0),{tokens:[C],numArgs:0}}),he("\\expandafter",function(V){var C=V.popToken();return V.expandOnce(!0),{tokens:[C],numArgs:0}}),he("\\@firstoftwo",function(V){var C=V.consumeArgs(2);return{tokens:C[0],numArgs:0}}),he("\\@secondoftwo",function(V){var C=V.consumeArgs(2);return{tokens:C[1],numArgs:0}}),he("\\@ifnextchar",function(V){var C=V.consumeArgs(3);V.consumeSpaces();var E=V.future();return C[0].length===1&&C[0][0].text===E.text?{tokens:C[1],numArgs:0}:{tokens:C[2],numArgs:0}}),he("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}"),he("\\TextOrMath",function(V){var C=V.consumeArgs(2);return V.mode==="text"?{tokens:C[0],numArgs:0}:{tokens:C[1],numArgs:0}});var yr={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};he("\\char",function(V){var C=V.popToken(),E,D="";if(C.text==="'")E=8,C=V.popToken();else if(C.text==='"')E=16,C=V.popToken();else if(C.text==="`")if(C=V.popToken(),C.text[0]==="\\")D=C.text.charCodeAt(1);else{if(C.text==="EOF")throw new o("\\char` missing argument");D=C.text.charCodeAt(0)}else E=10;if(E){if(D=yr[C.text],D==null||D>=E)throw new o("Invalid base-"+E+" digit "+C.text);for(var G;(G=yr[V.future().text])!=null&&G<E;)D*=E,D+=G,V.popToken()}return"\\@char{"+D+"}"});var Nr=function(C,E,D){var G=C.consumeArg().tokens;if(G.length!==1)throw new o("\\newcommand's first argument must be a macro name");var I=G[0].text,W=C.isDefined(I);if(W&&!E)throw new o("\\newcommand{"+I+"} attempting to redefine "+(I+"; use \\renewcommand"));if(!W&&!D)throw new o("\\renewcommand{"+I+"} when command "+I+" does not yet exist; use \\newcommand");var ne=0;if(G=C.consumeArg().tokens,G.length===1&&G[0].text==="["){for(var fe="",ge=C.expandNextToken();ge.text!=="]"&&ge.text!=="EOF";)fe+=ge.text,ge=C.expandNextToken();if(!fe.match(/^\s*[0-9]+\s*$/))throw new o("Invalid number of arguments: "+fe);ne=parseInt(fe),G=C.consumeArg().tokens}return C.macros.set(I,{tokens:G,numArgs:ne}),""};he("\\newcommand",function(V){return Nr(V,!1,!0)}),he("\\renewcommand",function(V){return Nr(V,!0,!1)}),he("\\providecommand",function(V){return Nr(V,!0,!0)}),he("\\message",function(V){var C=V.consumeArgs(1)[0];return console.log(C.reverse().map(function(E){return E.text}).join("")),""}),he("\\errmessage",function(V){var C=V.consumeArgs(1)[0];return console.error(C.reverse().map(function(E){return E.text}).join("")),""}),he("\\show",function(V){var C=V.popToken(),E=C.text;return console.log(C,V.macros.get(E),gr[E],Ie.math[E],Ie.text[E]),""}),he("\\bgroup","{"),he("\\egroup","}"),he("\\lq","`"),he("\\rq","'"),he("\\aa","\\r a"),he("\\AA","\\r A"),he("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}"),he("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}"),he("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}"),he("","\\mathscr{B}"),he("","\\mathscr{E}"),he("","\\mathscr{F}"),he("","\\mathscr{H}"),he("","\\mathscr{I}"),he("","\\mathscr{L}"),he("","\\mathscr{M}"),he("","\\mathscr{R}"),he("","\\mathfrak{C}"),he("","\\mathfrak{H}"),he("","\\mathfrak{Z}"),he("\\Bbbk","\\Bbb{k}"),he("","\\cdotp"),he("\\llap","\\mathllap{\\textrm{#1}}"),he("\\rlap","\\mathrlap{\\textrm{#1}}"),he("\\clap","\\mathclap{\\textrm{#1}}"),he("\\mathstrut","\\vphantom{(}"),he("\\underbar","\\underline{\\text{#1}}"),he("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}'),he("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}"),he("\\ne","\\neq"),he("","\\neq"),he("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}"),he("","\\notin"),he("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}"),he("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}"),he("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}"),he("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}"),he("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}"),he("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}"),he("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}"),he("","\\perp"),he("","\\mathclose{!\\mkern-0.8mu!}"),he("","\\notni"),he("","\\ulcorner"),he("","\\urcorner"),he("","\\llcorner"),he("","\\lrcorner"),he("","\\copyright"),he("","\\textregistered"),he("","\\textregistered"),he("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}'),he("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}'),he("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}'),he("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}'),he("\\vdots","\\mathord{\\varvdots\\rule{0pt}{15pt}}"),he("","\\vdots"),he("\\varGamma","\\mathit{\\Gamma}"),he("\\varDelta","\\mathit{\\Delta}"),he("\\varTheta","\\mathit{\\Theta}"),he("\\varLambda","\\mathit{\\Lambda}"),he("\\varXi","\\mathit{\\Xi}"),he("\\varPi","\\mathit{\\Pi}"),he("\\varSigma","\\mathit{\\Sigma}"),he("\\varUpsilon","\\mathit{\\Upsilon}"),he("\\varPhi","\\mathit{\\Phi}"),he("\\varPsi","\\mathit{\\Psi}"),he("\\varOmega","\\mathit{\\Omega}"),he("\\substack","\\begin{subarray}{c}#1\\end{subarray}"),he("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu"),he("\\boxed","\\fbox{$\\displaystyle{#1}$}"),he("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;"),he("\\implies","\\DOTSB\\;\\Longrightarrow\\;"),he("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");var Ui={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};he("\\dots",function(V){var C="\\dotso",E=V.expandAfterFuture().text;return E in Ui?C=Ui[E]:(E.substr(0,4)==="\\not"||E in Ie.math&&x.contains(["bin","rel"],Ie.math[E].group))&&(C="\\dotsb"),C});var Yi={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};he("\\dotso",function(V){var C=V.future().text;return C in Yi?"\\ldots\\,":"\\ldots"}),he("\\dotsc",function(V){var C=V.future().text;return C in Yi&&C!==","?"\\ldots\\,":"\\ldots"}),he("\\cdots",function(V){var C=V.future().text;return C in Yi?"\\@cdots\\,":"\\@cdots"}),he("\\dotsb","\\cdots"),he("\\dotsm","\\cdots"),he("\\dotsi","\\!\\cdots"),he("\\dotsx","\\ldots\\,"),he("\\DOTSI","\\relax"),he("\\DOTSB","\\relax"),he("\\DOTSX","\\relax"),he("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax"),he("\\,","\\tmspace+{3mu}{.1667em}"),he("\\thinspace","\\,"),he("\\>","\\mskip{4mu}"),he("\\:","\\tmspace+{4mu}{.2222em}"),he("\\medspace","\\:"),he("\\;","\\tmspace+{5mu}{.2777em}"),he("\\thickspace","\\;"),he("\\!","\\tmspace-{3mu}{.1667em}"),he("\\negthinspace","\\!"),he("\\negmedspace","\\tmspace-{4mu}{.2222em}"),he("\\negthickspace","\\tmspace-{5mu}{.277em}"),he("\\enspace","\\kern.5em "),he("\\enskip","\\hskip.5em\\relax"),he("\\quad","\\hskip1em\\relax"),he("\\qquad","\\hskip2em\\relax"),he("\\tag","\\@ifstar\\tag@literal\\tag@paren"),he("\\tag@paren","\\tag@literal{({#1})}"),he("\\tag@literal",function(V){if(V.macros.get("\\df@tag"))throw new o("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"}),he("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}"),he("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)"),he("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}"),he("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1"),he("\\pmb","\\html@mathml{\\@binrel{#1}{\\mathrlap{#1}\\kern0.5px#1}}{\\mathbf{#1}}"),he("\\newline","\\\\\\relax"),he("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var Xr=Ve["Main-Regular"][84][1]-.7*Ve["Main-Regular"][65][1]+"em";he("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+Xr+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}"),he("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+Xr+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}"),he("\\hspace","\\@ifstar\\@hspacer\\@hspace"),he("\\@hspace","\\hskip #1\\relax"),he("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax"),he("\\ordinarycolon",":"),he("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}"),he("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}'),he("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}'),he("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}'),he("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}'),he("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}'),he("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}'),he("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}'),he("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}'),he("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}'),he("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}'),he("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}'),he("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}'),he("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}'),he("","\\dblcolon"),he("","\\eqcolon"),he("","\\coloneqq"),he("","\\eqqcolon"),he("","\\Coloneqq"),he("\\ratio","\\vcentcolon"),he("\\coloncolon","\\dblcolon"),he("\\colonequals","\\coloneqq"),he("\\coloncolonequals","\\Coloneqq"),he("\\equalscolon","\\eqqcolon"),he("\\equalscoloncolon","\\Eqqcolon"),he("\\colonminus","\\coloneq"),he("\\coloncolonminus","\\Coloneq"),he("\\minuscolon","\\eqcolon"),he("\\minuscoloncolon","\\Eqcolon"),he("\\coloncolonapprox","\\Colonapprox"),he("\\coloncolonsim","\\Colonsim"),he("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),he("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}"),he("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),he("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}"),he("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}"),he("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}"),he("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}"),he("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}"),he("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}"),he("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}"),he("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}"),he("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}"),he("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}"),he("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}"),he("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}"),he("\\ngeqq","\\html@mathml{\\@ngeqq}{}"),he("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}"),he("\\nleqq","\\html@mathml{\\@nleqq}{}"),he("\\nleqslant","\\html@mathml{\\@nleqslant}{}"),he("\\nshortmid","\\html@mathml{\\@nshortmid}{}"),he("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}"),he("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}"),he("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}"),he("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}"),he("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}"),he("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}"),he("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}"),he("\\imath","\\html@mathml{\\@imath}{}"),he("\\jmath","\\html@mathml{\\@jmath}{}"),he("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}"),he("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}"),he("","\\llbracket"),he("","\\rrbracket"),he("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}"),he("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}"),he("","\\lBrace"),he("","\\rBrace"),he("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}"),he("","\\minuso"),he("\\darr","\\downarrow"),he("\\dArr","\\Downarrow"),he("\\Darr","\\Downarrow"),he("\\lang","\\langle"),he("\\rang","\\rangle"),he("\\uarr","\\uparrow"),he("\\uArr","\\Uparrow"),he("\\Uarr","\\Uparrow"),he("\\N","\\mathbb{N}"),he("\\R","\\mathbb{R}"),he("\\Z","\\mathbb{Z}"),he("\\alef","\\aleph"),he("\\alefsym","\\aleph"),he("\\Alpha","\\mathrm{A}"),he("\\Beta","\\mathrm{B}"),he("\\bull","\\bullet"),he("\\Chi","\\mathrm{X}"),he("\\clubs","\\clubsuit"),he("\\cnums","\\mathbb{C}"),he("\\Complex","\\mathbb{C}"),he("\\Dagger","\\ddagger"),he("\\diamonds","\\diamondsuit"),he("\\empty","\\emptyset"),he("\\Epsilon","\\mathrm{E}"),he("\\Eta","\\mathrm{H}"),he("\\exist","\\exists"),he("\\harr","\\leftrightarrow"),he("\\hArr","\\Leftrightarrow"),he("\\Harr","\\Leftrightarrow"),he("\\hearts","\\heartsuit"),he("\\image","\\Im"),he("\\infin","\\infty"),he("\\Iota","\\mathrm{I}"),he("\\isin","\\in"),he("\\Kappa","\\mathrm{K}"),he("\\larr","\\leftarrow"),he("\\lArr","\\Leftarrow"),he("\\Larr","\\Leftarrow"),he("\\lrarr","\\leftrightarrow"),he("\\lrArr","\\Leftrightarrow"),he("\\Lrarr","\\Leftrightarrow"),he("\\Mu","\\mathrm{M}"),he("\\natnums","\\mathbb{N}"),he("\\Nu","\\mathrm{N}"),he("\\Omicron","\\mathrm{O}"),he("\\plusmn","\\pm"),he("\\rarr","\\rightarrow"),he("\\rArr","\\Rightarrow"),he("\\Rarr","\\Rightarrow"),he("\\real","\\Re"),he("\\reals","\\mathbb{R}"),he("\\Reals","\\mathbb{R}"),he("\\Rho","\\mathrm{P}"),he("\\sdot","\\cdot"),he("\\sect","\\S"),he("\\spades","\\spadesuit"),he("\\sub","\\subset"),he("\\sube","\\subseteq"),he("\\supe","\\supseteq"),he("\\Tau","\\mathrm{T}"),he("\\thetasym","\\vartheta"),he("\\weierp","\\wp"),he("\\Zeta","\\mathrm{Z}"),he("\\argmin","\\DOTSB\\operatorname*{arg\\,min}"),he("\\argmax","\\DOTSB\\operatorname*{arg\\,max}"),he("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits"),he("\\bra","\\mathinner{\\langle{#1}|}"),he("\\ket","\\mathinner{|{#1}\\rangle}"),he("\\braket","\\mathinner{\\langle{#1}\\rangle}"),he("\\Bra","\\left\\langle#1\\right|"),he("\\Ket","\\left|#1\\right\\rangle"),he("\\angln","{\\angl n}"),he("\\blue","\\textcolor{##6495ed}{#1}"),he("\\orange","\\textcolor{##ffa500}{#1}"),he("\\pink","\\textcolor{##ff00af}{#1}"),he("\\red","\\textcolor{##df0030}{#1}"),he("\\green","\\textcolor{##28ae7b}{#1}"),he("\\gray","\\textcolor{gray}{#1}"),he("\\purple","\\textcolor{##9d38bd}{#1}"),he("\\blueA","\\textcolor{##ccfaff}{#1}"),he("\\blueB","\\textcolor{##80f6ff}{#1}"),he("\\blueC","\\textcolor{##63d9ea}{#1}"),he("\\blueD","\\textcolor{##11accd}{#1}"),he("\\blueE","\\textcolor{##0c7f99}{#1}"),he("\\tealA","\\textcolor{##94fff5}{#1}"),he("\\tealB","\\textcolor{##26edd5}{#1}"),he("\\tealC","\\textcolor{##01d1c1}{#1}"),he("\\tealD","\\textcolor{##01a995}{#1}"),he("\\tealE","\\textcolor{##208170}{#1}"),he("\\greenA","\\textcolor{##b6ffb0}{#1}"),he("\\greenB","\\textcolor{##8af281}{#1}"),he("\\greenC","\\textcolor{##74cf70}{#1}"),he("\\greenD","\\textcolor{##1fab54}{#1}"),he("\\greenE","\\textcolor{##0d923f}{#1}"),he("\\goldA","\\textcolor{##ffd0a9}{#1}"),he("\\goldB","\\textcolor{##ffbb71}{#1}"),he("\\goldC","\\textcolor{##ff9c39}{#1}"),he("\\goldD","\\textcolor{##e07d10}{#1}"),he("\\goldE","\\textcolor{##a75a05}{#1}"),he("\\redA","\\textcolor{##fca9a9}{#1}"),he("\\redB","\\textcolor{##ff8482}{#1}"),he("\\redC","\\textcolor{##f9685d}{#1}"),he("\\redD","\\textcolor{##e84d39}{#1}"),he("\\redE","\\textcolor{##bc2612}{#1}"),he("\\maroonA","\\textcolor{##ffbde0}{#1}"),he("\\maroonB","\\textcolor{##ff92c6}{#1}"),he("\\maroonC","\\textcolor{##ed5fa6}{#1}"),he("\\maroonD","\\textcolor{##ca337c}{#1}"),he("\\maroonE","\\textcolor{##9e034e}{#1}"),he("\\purpleA","\\textcolor{##ddd7ff}{#1}"),he("\\purpleB","\\textcolor{##c6b9fc}{#1}"),he("\\purpleC","\\textcolor{##aa87ff}{#1}"),he("\\purpleD","\\textcolor{##7854ab}{#1}"),he("\\purpleE","\\textcolor{##543b78}{#1}"),he("\\mintA","\\textcolor{##f5f9e8}{#1}"),he("\\mintB","\\textcolor{##edf2df}{#1}"),he("\\mintC","\\textcolor{##e0e5cc}{#1}"),he("\\grayA","\\textcolor{##f6f7f7}{#1}"),he("\\grayB","\\textcolor{##f0f1f2}{#1}"),he("\\grayC","\\textcolor{##e3e5e6}{#1}"),he("\\grayD","\\textcolor{##d6d8da}{#1}"),he("\\grayE","\\textcolor{##babec2}{#1}"),he("\\grayF","\\textcolor{##888d93}{#1}"),he("\\grayG","\\textcolor{##626569}{#1}"),he("\\grayH","\\textcolor{##3b3e40}{#1}"),he("\\grayI","\\textcolor{##21242c}{#1}"),he("\\kaBlue","\\textcolor{##314453}{#1}"),he("\\kaGreen","\\textcolor{##71B307}{#1}");var is={"\\relax":!0,"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0},Xo=(function(){function V(E,D,G){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=D,this.expansionCount=0,this.feed(E),this.macros=new zi(Qt,D.macros),this.mode=G,this.stack=[]}var C=V.prototype;return C.feed=function(D){this.lexer=new sn(D,this.settings)},C.switchMode=function(D){this.mode=D},C.beginGroup=function(){this.macros.beginGroup()},C.endGroup=function(){this.macros.endGroup()},C.future=function(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]},C.popToken=function(){return this.future(),this.stack.pop()},C.pushToken=function(D){this.stack.push(D)},C.pushTokens=function(D){var G;(G=this.stack).push.apply(G,D)},C.scanArgument=function(D){var G,I,W;if(D){if(this.consumeSpaces(),this.future().text!=="[")return null;G=this.popToken();var ne=this.consumeArg(["]"]);W=ne.tokens,I=ne.end}else{var fe=this.consumeArg();W=fe.tokens,G=fe.start,I=fe.end}return this.pushToken(new Pr("EOF",I.loc)),this.pushTokens(W),G.range(I,"")},C.consumeSpaces=function(){for(;;){var D=this.future();if(D.text===" ")this.stack.pop();else break}},C.consumeArg=function(D){var G=[],I=D&&D.length>0;I||this.consumeSpaces();var W=this.future(),ne,fe=0,ge=0;do{if(ne=this.popToken(),G.push(ne),ne.text==="{")++fe;else if(ne.text==="}"){if(--fe,fe===-1)throw new o("Extra }",ne)}else if(ne.text==="EOF")throw new o("Unexpected end of input in a macro argument, expected '"+(D&&I?D[ge]:"}")+"'",ne);if(D&&I)if((fe===0||fe===1&&D[ge]==="{")&&ne.text===D[ge]){if(++ge,ge===D.length){G.splice(-ge,ge);break}}else ge=0}while(fe!==0||I);return W.text==="{"&&G[G.length-1].text==="}"&&(G.pop(),G.shift()),G.reverse(),{tokens:G,start:W,end:ne}},C.consumeArgs=function(D,G){if(G){if(G.length!==D+1)throw new o("The length of delimiters doesn't match the number of args!");for(var I=G[0],W=0;W<I.length;W++){var ne=this.popToken();if(I[W]!==ne.text)throw new o("Use of the macro doesn't match its definition",ne)}}for(var fe=[],ge=0;ge<D;ge++)fe.push(this.consumeArg(G&&G[ge+1]).tokens);return fe},C.expandOnce=function(D){var G=this.popToken(),I=G.text,W=G.noexpand?null:this._getExpansion(I);if(W==null||D&&W.unexpandable){if(D&&W==null&&I[0]==="\\"&&!this.isDefined(I))throw new o("Undefined control sequence: "+I);return this.pushToken(G),G}if(this.expansionCount++,this.expansionCount>this.settings.maxExpand)throw new o("Too many expansions: infinite loop or need to increase maxExpand setting");var ne=W.tokens,fe=this.consumeArgs(W.numArgs,W.delimiters);if(W.numArgs){ne=ne.slice();for(var ge=ne.length-1;ge>=0;--ge){var Ee=ne[ge];if(Ee.text==="#"){if(ge===0)throw new o("Incomplete placeholder at end of macro body",Ee);if(Ee=ne[--ge],Ee.text==="#")ne.splice(ge+1,1);else if(/^[1-9]$/.test(Ee.text)){var ke;(ke=ne).splice.apply(ke,[ge,2].concat(fe[+Ee.text-1]))}else throw new o("Not a valid argument number",Ee)}}}return this.pushTokens(ne),ne},C.expandAfterFuture=function(){return this.expandOnce(),this.future()},C.expandNextToken=function(){for(;;){var D=this.expandOnce();if(D instanceof Pr)if(D.text==="\\relax"||D.treatAsRelax)this.stack.pop();else return this.stack.pop()}throw new Error},C.expandMacro=function(D){return this.macros.has(D)?this.expandTokens([new Pr(D)]):void 0},C.expandTokens=function(D){var G=[],I=this.stack.length;for(this.pushTokens(D);this.stack.length>I;){var W=this.expandOnce(!0);W instanceof Pr&&(W.treatAsRelax&&(W.noexpand=!1,W.treatAsRelax=!1),G.push(this.stack.pop()))}return G},C.expandMacroAsText=function(D){var G=this.expandMacro(D);return G&&G.map(function(I){return I.text}).join("")},C._getExpansion=function(D){var G=this.macros.get(D);if(G==null)return G;var I=typeof G=="function"?G(this):G;if(typeof I=="string"){var W=0;if(I.indexOf("#")!==-1)for(var ne=I.replace(/##/g,"");ne.indexOf("#"+(W+1))!==-1;)++W;for(var fe=new sn(I,this.settings),ge=[],Ee=fe.lex();Ee.text!=="EOF";)ge.push(Ee),Ee=fe.lex();ge.reverse();var ke={tokens:ge,numArgs:W};return ke}return I},C.isDefined=function(D){return this.macros.has(D)||gr.hasOwnProperty(D)||Ie.math.hasOwnProperty(D)||Ie.text.hasOwnProperty(D)||is.hasOwnProperty(D)},C.isExpandable=function(D){var G=this.macros.get(D);return G!=null?typeof G=="string"||typeof G=="function"||!G.unexpandable:gr.hasOwnProperty(D)&&!gr[D].primitive},V})(),Da={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"}},ns={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Pa=(function(){function V(E,D){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new Xo(E,D,this.mode),this.settings=D,this.leftrightDepth=0}var C=V.prototype;return C.expect=function(D,G){if(G===void 0&&(G=!0),this.fetch().text!==D)throw new o("Expected '"+D+"', got '"+this.fetch().text+"'",this.fetch());G&&this.consume()},C.consume=function(){this.nextToken=null},C.fetch=function(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken},C.switchMode=function(D){this.mode=D,this.gullet.switchMode(D)},C.parse=function(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");var D=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),D},C.parseExpression=function(D,G){for(var I=[];;){this.mode==="math"&&this.consumeSpaces();var W=this.fetch();if(V.endOfExpression.indexOf(W.text)!==-1||G&&W.text===G||D&&gr[W.text]&&gr[W.text].infix)break;var ne=this.parseAtom(G);if(ne){if(ne.type==="internal")continue}else break;I.push(ne)}return this.mode==="text"&&this.formLigatures(I),this.handleInfixNodes(I)},C.handleInfixNodes=function(D){for(var G=-1,I,W=0;W<D.length;W++)if(D[W].type==="infix"){if(G!==-1)throw new o("only one infix operator per group",D[W].token);G=W,I=D[W].replaceWith}if(G!==-1&&I){var ne,fe,ge=D.slice(0,G),Ee=D.slice(G+1);ge.length===1&&ge[0].type==="ordgroup"?ne=ge[0]:ne={type:"ordgroup",mode:this.mode,body:ge},Ee.length===1&&Ee[0].type==="ordgroup"?fe=Ee[0]:fe={type:"ordgroup",mode:this.mode,body:Ee};var ke;return I==="\\\\abovefrac"?ke=this.callFunction(I,[ne,D[G],fe],[]):ke=this.callFunction(I,[ne,fe],[]),[ke]}else return D},C.handleSupSubscript=function(D){var G=this.fetch(),I=G.text;this.consume(),this.consumeSpaces();var W=this.parseGroup(D);if(!W)throw new o("Expected group after '"+I+"'",G);return W},C.formatUnsupportedCmd=function(D){for(var G=[],I=0;I<D.length;I++)G.push({type:"textord",mode:"text",text:D[I]});var W={type:"text",mode:this.mode,body:G},ne={type:"color",mode:this.mode,color:this.settings.errorColor,body:[W]};return ne},C.parseAtom=function(D){var G=this.parseGroup("atom",D);if(this.mode==="text")return G;for(var I,W;;){this.consumeSpaces();var ne=this.fetch();if(ne.text==="\\limits"||ne.text==="\\nolimits"){if(G&&G.type==="op"){var fe=ne.text==="\\limits";G.limits=fe,G.alwaysHandleSupSub=!0}else if(G&&G.type==="operatorname"&&G.alwaysHandleSupSub){var ge=ne.text==="\\limits";G.limits=ge}else throw new o("Limit controls must follow a math operator",ne);this.consume()}else if(ne.text==="^"){if(I)throw new o("Double superscript",ne);I=this.handleSupSubscript("superscript")}else if(ne.text==="_"){if(W)throw new o("Double subscript",ne);W=this.handleSupSubscript("subscript")}else if(ne.text==="'"){if(I)throw new o("Double superscript",ne);var Ee={type:"textord",mode:this.mode,text:"\\prime"},ke=[Ee];for(this.consume();this.fetch().text==="'";)ke.push(Ee),this.consume();this.fetch().text==="^"&&ke.push(this.handleSupSubscript("superscript")),I={type:"ordgroup",mode:this.mode,body:ke}}else break}return I||W?{type:"supsub",mode:this.mode,base:G,sup:I,sub:W}:G},C.parseFunction=function(D,G){var I=this.fetch(),W=I.text,ne=gr[W];if(!ne)return null;if(this.consume(),G&&G!=="atom"&&!ne.allowedInArgument)throw new o("Got function '"+W+"' with no arguments"+(G?" as "+G:""),I);if(this.mode==="text"&&!ne.allowedInText)throw new o("Can't use function '"+W+"' in text mode",I);if(this.mode==="math"&&ne.allowedInMath===!1)throw new o("Can't use function '"+W+"' in math mode",I);var fe=this.parseArguments(W,ne),ge=fe.args,Ee=fe.optArgs;return this.callFunction(W,ge,Ee,I,D)},C.callFunction=function(D,G,I,W,ne){var fe={funcName:D,parser:this,token:W,breakOnTokenText:ne},ge=gr[D];if(ge&&ge.handler)return ge.handler(fe,G,I);throw new o("No function handler for "+D)},C.parseArguments=function(D,G){var I=G.numArgs+G.numOptionalArgs;if(I===0)return{args:[],optArgs:[]};for(var W=[],ne=[],fe=0;fe<I;fe++){var ge=G.argTypes&&G.argTypes[fe],Ee=fe<G.numOptionalArgs;(G.primitive&&ge==null||G.type==="sqrt"&&fe===1&&ne[0]==null)&&(ge="primitive");var ke=this.parseGroupOfType("argument to '"+D+"'",ge,Ee);if(Ee)ne.push(ke);else if(ke!=null)W.push(ke);else throw new o("Null argument, please report this as a bug")}return{args:W,optArgs:ne}},C.parseGroupOfType=function(D,G,I){switch(G){case"color":return this.parseColorGroup(I);case"size":return this.parseSizeGroup(I);case"url":return this.parseUrlGroup(I);case"math":case"text":return this.parseArgumentGroup(I,G);case"hbox":{var W=this.parseArgumentGroup(I,"text");return W!=null?{type:"styling",mode:W.mode,body:[W],style:"text"}:null}case"raw":{var ne=this.parseStringGroup("raw",I);return ne!=null?{type:"raw",mode:"text",string:ne.text}:null}case"primitive":{if(I)throw new o("A primitive argument cannot be optional");var fe=this.parseGroup(D);if(fe==null)throw new o("Expected group as "+D,this.fetch());return fe}case"original":case null:case void 0:return this.parseArgumentGroup(I);default:throw new o("Unknown group type as "+D,this.fetch())}},C.consumeSpaces=function(){for(;this.fetch().text===" ";)this.consume()},C.parseStringGroup=function(D,G){var I=this.gullet.scanArgument(G);if(I==null)return null;for(var W="",ne;(ne=this.fetch()).text!=="EOF";)W+=ne.text,this.consume();return this.consume(),I.text=W,I},C.parseRegexGroup=function(D,G){for(var I=this.fetch(),W=I,ne="",fe;(fe=this.fetch()).text!=="EOF"&&D.test(ne+fe.text);)W=fe,ne+=W.text,this.consume();if(ne==="")throw new o("Invalid "+G+": '"+I.text+"'",I);return I.range(W,ne)},C.parseColorGroup=function(D){var G=this.parseStringGroup("color",D);if(G==null)return null;var I=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(G.text);if(!I)throw new o("Invalid color: '"+G.text+"'",G);var W=I[0];return/^[0-9a-f]{6}$/i.test(W)&&(W="#"+W),{type:"color-token",mode:this.mode,color:W}},C.parseSizeGroup=function(D){var G,I=!1;if(this.gullet.consumeSpaces(),!D&&this.gullet.future().text!=="{"?G=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):G=this.parseStringGroup("size",D),!G)return null;!D&&G.text.length===0&&(G.text="0pt",I=!0);var W=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(G.text);if(!W)throw new o("Invalid size: '"+G.text+"'",G);var ne={number:+(W[1]+W[2]),unit:W[3]};if(!In(ne))throw new o("Invalid unit: '"+ne.unit+"'",G);return{type:"size",mode:this.mode,value:ne,isBlank:I}},C.parseUrlGroup=function(D){this.gullet.lexer.setCatcode("%",13);var G=this.parseStringGroup("url",D);if(this.gullet.lexer.setCatcode("%",14),G==null)return null;var I=G.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:I}},C.parseArgumentGroup=function(D,G){var I=this.gullet.scanArgument(D);if(I==null)return null;var W=this.mode;G&&this.switchMode(G),this.gullet.beginGroup();var ne=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var fe={type:"ordgroup",mode:this.mode,loc:I.loc,body:ne};return G&&this.switchMode(W),fe},C.parseGroup=function(D,G){var I=this.fetch(),W=I.text,ne;if(W==="{"||W==="\\begingroup"){this.consume();var fe=W==="{"?"}":"\\endgroup";this.gullet.beginGroup();var ge=this.parseExpression(!1,fe),Ee=this.fetch();this.expect(fe),this.gullet.endGroup(),ne={type:"ordgroup",mode:this.mode,loc:Dr.range(I,Ee),body:ge,semisimple:W==="\\begingroup"||void 0}}else if(ne=this.parseFunction(G,D)||this.parseSymbol(),ne==null&&W[0]==="\\"&&!is.hasOwnProperty(W)){if(this.settings.throwOnError)throw new o("Undefined control sequence: "+W,I);ne=this.formatUnsupportedCmd(W),this.consume()}return ne},C.formLigatures=function(D){for(var G=D.length-1,I=0;I<G;++I){var W=D[I],ne=W.text;ne==="-"&&D[I+1].text==="-"&&(I+1<G&&D[I+2].text==="-"?(D.splice(I,3,{type:"textord",mode:"text",loc:Dr.range(W,D[I+2]),text:"---"}),G-=2):(D.splice(I,2,{type:"textord",mode:"text",loc:Dr.range(W,D[I+1]),text:"--"}),G-=1)),(ne==="'"||ne==="`")&&D[I+1].text===ne&&(D.splice(I,2,{type:"textord",mode:"text",loc:Dr.range(W,D[I+1]),text:ne+ne}),G-=1)}},C.parseSymbol=function(){var D=this.fetch(),G=D.text;if(/^\\verb[^a-zA-Z]/.test(G)){this.consume();var I=G.slice(5),W=I.charAt(0)==="*";if(W&&(I=I.slice(1)),I.length<2||I.charAt(0)!==I.slice(-1))throw new o(`\\verb assertion failed --
                    please report what input caused this bug`);return I=I.slice(1,-1),{type:"verb",mode:"text",body:I,star:W}}ns.hasOwnProperty(G[0])&&!Ie[this.mode][G[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+G[0]+'" used in math mode',D),G=ns[G[0]]+G.substr(1));var ne=Js.exec(G);ne&&(G=G.substring(0,ne.index),G==="i"?G="":G==="j"&&(G=""));var fe;if(Ie[this.mode][G]){this.settings.strict&&this.mode==="math"&&hr.indexOf(G)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+G[0]+'" used in math mode',D);var ge=Ie[this.mode][G].group,Ee=Dr.range(D),ke;if(ht.hasOwnProperty(ge)){var Qe=ge;ke={type:"atom",mode:this.mode,family:Qe,loc:Ee,text:G}}else ke={type:ge,mode:this.mode,loc:Ee,text:G};fe=ke}else if(G.charCodeAt(0)>=128)this.settings.strict&&(ee(G.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+G[0]+'" used in math mode',D):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+G[0]+'"'+(" ("+G.charCodeAt(0)+")"),D)),fe={type:"textord",mode:"text",loc:Dr.range(D),text:G};else return null;if(this.consume(),ne)for(var st=0;st<ne[0].length;st++){var lt=ne[0][st];if(!Da[lt])throw new o("Unknown accent ' "+lt+"'",D);var gt=Da[lt][this.mode];if(!gt)throw new o("Accent "+lt+" unsupported in "+this.mode+" mode",D);fe={type:"accent",mode:this.mode,loc:Dr.range(D),label:gt,isStretchy:!1,isShifty:!0,base:fe}}return fe},V})();Pa.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var Ai=function(C,E){if(!(typeof C=="string"||C instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var D=new Pa(C,E);delete D.gullet.macros.current["\\df@tag"];var G=D.parse();if(delete D.gullet.macros.current["\\current@color"],delete D.gullet.macros.current["\\color"],D.gullet.macros.get("\\df@tag")){if(!E.displayMode)throw new o("\\tag works only in display equations");D.gullet.feed("\\df@tag"),G=[{type:"tag",mode:"text",body:G,tag:D.parse()}]}return G},An=Ai,Bs=function(C,E,D){E.textContent="";var G=qi(C,D).toNode();E.appendChild(G)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),Bs=function(){throw new o("KaTeX doesn't work in quirks mode.")});var Go=function(C,E){var D=qi(C,E).toMarkup();return D},Ol=function(C,E){var D=new A(E);return An(C,D)},Di=function(C,E,D){if(D.throwOnError||!(C instanceof o))throw C;var G=Ue.makeSpan(["katex-error"],[new ve(E)]);return G.setAttribute("title",C.toString()),G.setAttribute("style","color:"+D.errorColor),G},qi=function(C,E){var D=new A(E);try{var G=An(C,D);return yl(G,C,D)}catch(I){return Di(I,C,D)}},Dn=function(C,E){var D=new A(E);try{var G=An(C,D);return ia(G,C,D)}catch(I){return Di(I,C,D)}},ks={version:"0.13.0",render:Bs,renderToString:Go,ParseError:o,__parse:Ol,__renderToDomTree:qi,__renderToHTMLTree:Dn,__setFontMetrics:at,__defineSymbol:k,__defineMacro:he,__domTree:{Span:Te,Anchor:et,SymbolNode:ve,SvgNode:De,PathNode:_e,LineNode:Oe}},Rs=ks;return n=n.default,n})()})});katex$1.ParseError;var katex_2=katex$1.renderToString;function findEndOfMath(t,r,s){for(var n=s,a=0,o=t.length;n<r.length;){var l=r[n];if(a<=0&&r.slice(n,n+o)===t)return n;l==="\\"?n++:l==="{"?a++:l==="}"&&a--,n++}return-1}function escapeRegex(t){return t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}var amsRegex=/^\\begin{/;function splitAtDelimiters(t,r){for(var s,n=[],a=new RegExp("("+r.map(function(f){return escapeRegex(f.left)}).join("|")+")");s=t.search(a),s!==-1;){s>0&&(n.push({type:"text",data:t.slice(0,s)}),t=t.slice(s));var o=r.findIndex(function(f){return t.startsWith(f.left)});if(s=findEndOfMath(r[o].right,t,r[o].left.length),s===-1)break;var l=t.slice(0,s+r[o].right.length),u=amsRegex.test(l)?l:t.slice(r[o].left.length,s);n.push({type:"math",data:u,rawData:l,display:r[o].display}),t=t.slice(s+r[o].right.length)}return t!==""&&n.push({type:"text",data:t}),n}function renderLatexInTextAsHTMLString(t,r,s,n){for(var a=splitAtDelimiters(t,r),o=[],l=0;l<a.length;l++)if(a[l].type==="text")o.push(a[l].data);else{var u=a[l].data,f=a[l].display;try{var c=katex_2(u,{displayMode:f,macros:n});o.push(c)}catch(h){if(s)throw h;o.push(a[l].data)}}return o.join("")}__$styleInject(`.___Latex___1nfc2_1 ._latex_1nfc2_1 {
  font: inherit
}
`,{});var Latex$1=(function(t){__extends(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}return r.prototype.render=function(){var s=this.props,n=s.children,a=s.delimiters,o=s.strict,l=s.macros,u=renderLatexInTextAsHTMLString(n,a,o,l);return reactExports.createElement("span",{className:"__Latex__",dangerouslySetInnerHTML:{__html:u}})},r.defaultProps={delimiters:[{left:"$$",right:"$$",display:!0},{left:"\\(",right:"\\)",display:!1},{left:"$",right:"$",display:!1},{left:"\\[",right:"\\]",display:!0}],strict:!1},r})(reactExports.Component),defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const toKebabCase=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),createLucideIcon=(t,r)=>{const s=reactExports.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:o=2,absoluteStrokeWidth:l,children:u,...f},c)=>reactExports.createElement("svg",{ref:c,...defaultAttributes,width:a,height:a,stroke:n,strokeWidth:l?Number(o)*24/Number(a):o,className:`lucide lucide-${toKebabCase(t)}`,...f},[...r.map(([h,d])=>reactExports.createElement(h,d)),...(Array.isArray(u)?u:[u])||[]]));return s.displayName=`${t}`,s};var createLucideIcon$1=createLucideIcon;const AlertCircle=createLucideIcon$1("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),ArrowLeft=createLucideIcon$1("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),ArrowRight=createLucideIcon$1("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),Check=createLucideIcon$1("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),Divide=createLucideIcon$1("Divide",[["circle",{cx:"12",cy:"6",r:"1",key:"1bh7o1"}],["line",{x1:"5",x2:"19",y1:"12",y2:"12",key:"13b5wn"}],["circle",{cx:"12",cy:"18",r:"1",key:"lqb9t5"}]]),FunctionSquare=createLucideIcon$1("FunctionSquare",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M9 17c2 0 2.8-1 2.8-2.8V10c0-2 1-3.3 3.2-3",key:"m1af9g"}],["path",{d:"M9 11.2h5.7",key:"3zgcl2"}]]),GraduationCap=createLucideIcon$1("GraduationCap",[["path",{d:"M22 10v6M2 10l10-5 10 5-10 5z",key:"1ef52a"}],["path",{d:"M6 12v5c3 3 9 3 12 0v-5",key:"1f75yj"}]]),HelpCircle=createLucideIcon$1("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Layers=createLucideIcon$1("Layers",[["polygon",{points:"12 2 2 7 12 12 22 7 12 2",key:"1b0ttc"}],["polyline",{points:"2 17 12 22 22 17",key:"imjtdl"}],["polyline",{points:"2 12 12 17 22 12",key:"5dexcv"}]]),Minimize2=createLucideIcon$1("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]),Shuffle=createLucideIcon$1("Shuffle",[["path",{d:"M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l6.1-8.6c.7-1.1 2-1.7 3.3-1.7H22",key:"1wmou1"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 6h1.9c1.5 0 2.9.9 3.6 2.2",key:"10bdb2"}],["path",{d:"M22 18h-5.9c-1.3 0-2.6-.7-3.3-1.8l-.5-.8",key:"vgxac0"}],["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}]]),Superscript=createLucideIcon$1("Superscript",[["path",{d:"m4 19 8-8",key:"hr47gm"}],["path",{d:"m12 19-8-8",key:"1dhhmo"}],["path",{d:"M20 12h-4c0-1.5.442-2 1.5-2.5S20 8.334 20 7.002c0-.472-.17-.93-.484-1.29a2.105 2.105 0 0 0-2.617-.436c-.42.239-.738.614-.899 1.06",key:"1dfcux"}]]),Trash2=createLucideIcon$1("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),ExerciseView=({exercise:t,onBack:r,onNext:s})=>{var x,A;const[n,a]=reactExports.useState([]),[o,l]=reactExports.useState(""),[u,f]=reactExports.useState(!1),[c,h]=reactExports.useState(!1),[d,p]=reactExports.useState(!1),v=reactExports.useRef(null);reactExports.useEffect(()=>{a([]),l(t.initialValue||""),f(!1),h(!1),p(!1)},[t]);const y=()=>{if(!o.trim())return;const S=formatToLatex(o);let _=!1,$=!1,M="",T=!1;if(t.type===ExerciseType.EQUATION){const B=getEquationSolution(t.target);B!==null?(_=checkEquationValidity(o,B),$=areExpressionsEquivalent(t.target,o)):(_=areExpressionsEquivalent(t.expression,o),$=areExpressionsEquivalent(t.target,o))}else _=areExpressionsEquivalent(t.expression,o),$=areExpressionsEquivalent(t.target,o);_?(T=!0,$?(M="Bravo ! C'est la solution finale.",h(!0)):M="C'est correct, continue."):(t.type===ExerciseType.EQUATION?M="Cette tape n'est pas correcte. L'galit n'est plus conserve (ou c'est une tautologie 0=0).":M="Cette tape n'est pas quivalente  l'expression de dpart. Vrifie tes calculs.",T=!1);const O={latex:S,isCorrect:T,message:M};a([...n,O]),$&&l("")},b=S=>{S.key==="Enter"&&y()},w=S=>{const _=[...n];_.splice(S,1),a(_),h(!1)};return jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 h-full",children:[jsxRuntimeExports.jsxs("div",{className:"lg:col-span-2 flex flex-col gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[jsxRuntimeExports.jsx("span",{className:"text-xs font-bold px-2 py-1 bg-indigo-100 text-indigo-700 rounded-md uppercase tracking-wide",children:t.category}),jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-slate-800",children:t.title})]}),jsxRuntimeExports.jsx("p",{className:"text-slate-600 mb-4",children:t.instruction})]}),jsxRuntimeExports.jsx("button",{onClick:()=>p(!d),className:"text-indigo-600 text-sm font-medium hover:underline flex items-center gap-1",children:d?"Masquer le graphe":"Voir le graphe"})]}),jsxRuntimeExports.jsx("div",{className:"bg-indigo-50 border border-indigo-100 p-4 rounded-lg text-center text-lg font-mono text-indigo-900",children:jsxRuntimeExports.jsx(Latex$1,{children:`$${t.displayExpression||t.expression}$`})})]}),d&&jsxRuntimeExports.jsx("div",{className:"lg:hidden h-64 bg-white rounded-xl shadow-sm border border-slate-200 p-4 overflow-hidden",children:jsxRuntimeExports.jsx(GraphVisualizer,{expression1:t.expression,expression2:o||((x=n[n.length-1])==null?void 0:x.latex)||t.expression})}),jsxRuntimeExports.jsx("div",{className:"flex flex-col gap-4",children:n.map((S,_)=>jsxRuntimeExports.jsxs("div",{className:`relative group flex flex-col p-4 rounded-lg border ${S.isCorrect?"bg-white border-slate-200":"bg-red-50 border-red-200"}`,children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("div",{className:"font-mono text-lg overflow-x-auto",children:jsxRuntimeExports.jsx(Latex$1,{children:`$${S.latex}$`})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[S.isCorrect?jsxRuntimeExports.jsx(Check,{className:"w-5 h-5 text-green-500"}):jsxRuntimeExports.jsx(AlertCircle,{className:"w-5 h-5 text-red-500"}),jsxRuntimeExports.jsx("button",{onClick:()=>w(_),className:"opacity-0 group-hover:opacity-100 transition-opacity p-1 hover:bg-slate-100 rounded",children:jsxRuntimeExports.jsx(Trash2,{className:"w-4 h-4 text-slate-400"})})]})]}),S.message&&jsxRuntimeExports.jsx("p",{className:`text-sm mt-2 ${S.isCorrect?"text-green-600":"text-red-600"}`,children:S.message})]},_))}),!c&&jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-indigo-100 p-6 sticky bottom-6 z-10",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Ta prochaine tape :"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("input",{ref:v,type:"text",value:o,onChange:S=>l(S.target.value),onKeyDown:b,placeholder:"ex: (x-1)(2x+5)",className:"flex-1 rounded-lg border-slate-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 font-mono text-lg p-2.5 border"}),jsxRuntimeExports.jsxs("button",{onClick:y,className:"bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-2.5 rounded-lg font-medium transition-colors flex items-center gap-2",children:[jsxRuntimeExports.jsx(Check,{className:"w-4 h-4"}),"Valider"]})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-slate-400 mt-2",children:"Astuce: Utilise ^ pour les puissances (x^2) et / pour les fractions."})]}),c&&jsxRuntimeExports.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-6 text-center animate-fade-in",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:jsxRuntimeExports.jsx(Check,{className:"w-6 h-6 text-green-600"})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold text-green-800 mb-2",children:"Exercice Russi !"}),jsxRuntimeExports.jsx("p",{className:"text-green-700 mb-6",children:"Tu as trouv la forme factorise optimale."}),jsxRuntimeExports.jsxs("div",{className:"flex justify-center gap-4",children:[jsxRuntimeExports.jsx("button",{onClick:r,className:"bg-white text-slate-700 border border-slate-300 hover:bg-slate-50 px-6 py-2 rounded-lg font-medium transition-colors",children:"Menu Principal"}),jsxRuntimeExports.jsxs("button",{onClick:s,className:"bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg font-medium transition-colors flex items-center gap-2",children:["Question Suivante",jsxRuntimeExports.jsx(ArrowRight,{className:"w-4 h-4"})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-6",children:[jsxRuntimeExports.jsx("div",{className:"hidden lg:block h-64 bg-white rounded-xl shadow-sm border border-slate-200 p-4 overflow-hidden sticky top-24",children:jsxRuntimeExports.jsx(GraphVisualizer,{title:"Visualisation",expression1:t.expression,expression2:o||((A=[...n].reverse().find(S=>S.isCorrect))==null?void 0:A.latex)||t.expression})}),jsxRuntimeExports.jsx("div",{className:"bg-yellow-50 border border-yellow-100 rounded-xl p-5",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx(HelpCircle,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-yellow-800 mb-1",children:"Besoin d'aide ?"}),u?jsxRuntimeExports.jsx("p",{className:"text-yellow-700 text-sm",children:t.hint}):jsxRuntimeExports.jsx("button",{onClick:()=>f(!0),className:"text-sm text-yellow-700 underline hover:text-yellow-900",children:"Rvler l'indice"})]})]})}),jsxRuntimeExports.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-5",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-slate-800 mb-3",children:"Rappels"}),jsxRuntimeExports.jsxs("ul",{className:"text-sm text-slate-600 space-y-2",children:[jsxRuntimeExports.jsxs("li",{children:[" ",jsxRuntimeExports.jsx(Latex$1,{children:"$a^2 - b^2 = (a-b)(a+b)$"})]}),jsxRuntimeExports.jsxs("li",{children:[" ",jsxRuntimeExports.jsx(Latex$1,{children:"$a^2 + 2ab + b^2 = (a+b)^2$"})]}),jsxRuntimeExports.jsxs("li",{children:[" ",jsxRuntimeExports.jsx(Latex$1,{children:"$k(a+b) = ka + kb$"})]})]})]})]})]})},App=()=>{const[t,r]=reactExports.useState(null),[s,n]=reactExports.useState(null),a=d=>{let p=EXERCISES;d!==ExerciseCategory.MIX&&(p=EXERCISES.filter(y=>y.category===d)),p.length===0&&(p=EXERCISES);const v=Math.floor(Math.random()*p.length);return t&&p.length>1&&p[v].id===t.id?p[(v+1)%p.length]:p[v]},o=d=>{n(d),r(a(d)),window.scrollTo(0,0)},l=()=>{s&&(r(a(s)),window.scrollTo(0,0))},u=()=>{r(null),n(null)},f=d=>{switch(d){case ExerciseCategory.COMMON_FACTOR:return jsxRuntimeExports.jsx(Minimize2,{className:"w-8 h-8 text-blue-500"});case ExerciseCategory.IDENTITY:return jsxRuntimeExports.jsx(Superscript,{className:"w-8 h-8 text-purple-500"});case ExerciseCategory.DIFF_SQUARES:return jsxRuntimeExports.jsx(Layers,{className:"w-8 h-8 text-emerald-500"});case ExerciseCategory.RATIONAL_EQ:return jsxRuntimeExports.jsx(Divide,{className:"w-8 h-8 text-orange-500"});case ExerciseCategory.TRINOMIAL:return jsxRuntimeExports.jsx(FunctionSquare,{className:"w-8 h-8 text-pink-500"});case ExerciseCategory.MIX:return jsxRuntimeExports.jsx(Shuffle,{className:"w-8 h-8 text-indigo-500"});default:return jsxRuntimeExports.jsx(GraduationCap,{className:"w-8 h-8 text-slate-500"})}},c=d=>{switch(d){case ExerciseCategory.COMMON_FACTOR:return"Mise en vidence simple et double.";case ExerciseCategory.IDENTITY:return"Carrs parfaits et sommes de cubes.";case ExerciseCategory.DIFF_SQUARES:return"La fameuse identit a - b.";case ExerciseCategory.RATIONAL_EQ:return"quations avec des fractions.";case ExerciseCategory.TRINOMIAL:return"Somme et produit, trinmes unitaires.";case ExerciseCategory.MIX:return"Un mlange de tous les types pour te tester.";default:return""}},h=d=>{switch(d){case ExerciseCategory.COMMON_FACTOR:return"$3x(x+2) - 5(x+2)$";case ExerciseCategory.IDENTITY:return"$4x^2 - 12x + 9$";case ExerciseCategory.DIFF_SQUARES:return"$25x^2 - 64$";case ExerciseCategory.RATIONAL_EQ:return"$\\frac{3}{x-1} - \\frac{2}{x} = 0$";case ExerciseCategory.TRINOMIAL:return"$x^2 - 7x + 12$";case ExerciseCategory.MIX:return"$x^2 - 4 + 3(x-2)$";default:return""}};return jsxRuntimeExports.jsxs("div",{className:"min-h-screen flex flex-col bg-slate-50",children:[jsxRuntimeExports.jsx("header",{className:"bg-white border-b border-slate-200 sticky top-0 z-50 shadow-sm",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:u,children:[jsxRuntimeExports.jsx("div",{className:"bg-indigo-600 p-1.5 rounded-lg",children:jsxRuntimeExports.jsx(GraduationCap,{className:"w-6 h-6 text-white"})}),jsxRuntimeExports.jsxs("h1",{className:"text-xl font-bold text-slate-900 tracking-tight",children:["Math",jsxRuntimeExports.jsx("span",{className:"text-indigo-600",children:"Facto"})]})]}),t&&jsxRuntimeExports.jsxs("button",{onClick:u,className:"flex items-center gap-2 text-sm font-medium text-slate-500 hover:text-indigo-600 transition-colors bg-slate-100 hover:bg-slate-200 px-3 py-1.5 rounded-md",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4"}),"Menu Principal"]})]})}),jsxRuntimeExports.jsx("main",{className:"flex-1 max-w-7xl w-full mx-auto px-4 sm:px-6 lg:px-8 py-8",children:t?jsxRuntimeExports.jsx(ExerciseView,{exercise:t,onBack:u,onNext:l}):jsxRuntimeExports.jsxs("div",{className:"animate-fade-in max-w-5xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-12",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-extrabold text-slate-900 mb-4",children:"Choisis ton entranement"}),jsxRuntimeExports.jsx("p",{className:"text-lg text-slate-600 max-w-2xl mx-auto",children:"Slectionne un type de factorisation pour commencer une srie d'exercices alatoires."})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Object.values(ExerciseCategory).map(d=>jsxRuntimeExports.jsxs("div",{onClick:()=>o(d),className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 cursor-pointer hover:shadow-lg hover:border-indigo-300 hover:-translate-y-1 transition-all duration-300 group flex flex-col h-full",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("div",{className:"flex items-start justify-between mb-4",children:jsxRuntimeExports.jsx("div",{className:"p-3 bg-slate-50 rounded-xl group-hover:bg-indigo-50 transition-colors",children:f(d)})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-2 group-hover:text-indigo-700 transition-colors",children:d}),jsxRuntimeExports.jsx("p",{className:"text-slate-500 text-sm mb-4",children:c(d)})]}),jsxRuntimeExports.jsxs("div",{className:"mt-2 pt-3 border-t border-slate-100",children:[jsxRuntimeExports.jsx("span",{className:"text-xs text-slate-400 uppercase tracking-wider font-semibold mb-1 block",children:"Exemple"}),jsxRuntimeExports.jsx("div",{className:"bg-slate-50 rounded py-2 px-3 text-center text-slate-700 text-sm overflow-hidden",children:jsxRuntimeExports.jsx(Latex$1,{children:h(d)})})]})]},d))})]})}),jsxRuntimeExports.jsx("footer",{className:"bg-white border-t border-slate-200 mt-auto",children:jsxRuntimeExports.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6 text-center text-slate-400 text-sm",children:jsxRuntimeExports.jsx("p",{children:" 2025 Collge Ste-Croix - Support de cours Mathmatiques"})})})]})},rootElement=document.getElementById("root");if(!rootElement)throw new Error("Could not find root element to mount to");const root=ReactDOM.createRoot(rootElement);root.render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));
